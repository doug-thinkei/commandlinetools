<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<!-- saved from url=(0118)https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/ -->
<html xmlns="http://www.w3.org/1999/xhtml" class="chrometwo js flexbox flexboxlegacy canvas canvastext webgl no-touch geolocation postmessage websqldatabase indexeddb hashchange history draganddrop websockets rgba hsla multiplebgs backgroundsize borderimage borderradius boxshadow textshadow opacity cssanimations csscolumns cssgradients cssreflections csstransforms csstransforms3d csstransitions fontface generatedcontent video audio localstorage sessionstorage webworkers applicationcache svg inlinesvg smil svgclippaths contenteditable bgsizecover bgpositionshorthand bgpositionxy no-bgrepeatround no-bgrepeatspace boxsizing display-table cssfilters mediaqueries pointerevents lastchild no-csspositionsticky no-regions cssresize cssscrollbar no-supports subpixelfont dataview classlist no-createelement-attrs datalistelem no-ie8compat json scriptasync svgfilters datauri blobworkers chrometwoComplete legacy-portal" lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<!-- metaInclude -->
	<meta name="avalon-host-info" content="gss-webjava01">
	<meta name="avalon-version" content="2.0.18.0">
	<meta name="google-site-verification" content="nP0a2DWUcOxjRgDDACHEbDptiGIGBrChbghrC0ZzcK0">

	<meta name="viewport" content="width=device-width, initial-scale=1">

	<!-- /metaInclude -->

	<!-- cssInclude -->

	<link rel="shortcut icon" href="https://access.redhat.com/webassets/avalon/g/favicon.ico">
	<link rel="stylesheet" type="text/css" media="screen, print" href="./JBoss_6_3_files/jquery-ui-1.8.7.custom.css">

	<!-- TODO: What is pageCssLinks and do we still need it? -->
	<link media="all" rel="stylesheet" type="text/css" href="./JBoss_6_3_files/legacy.css">
	<link media="all" rel="stylesheet" type="text/css" href="./JBoss_6_3_files/master-blessed1.css">
	<link media="all" rel="stylesheet" type="text/css" href="./JBoss_6_3_files/master.css">

	<link href="./JBoss_6_3_files/chosen.css" rel="stylesheet" type="text/css">
	<!--[if lte IE 9]>
	<link media="all" rel="stylesheet" type="text/css" href="https://access.redhat.com/chrome_themes/nimbus/css/ie.css" />
    <![endif]-->
    

	<!-- .primary-nav starts out hidden (at sm res and higher), and
	is later revealed with JS after the megamenu has been built
	out.  here, use noscript to un-hide the nav, in case the user
	has JS disabled. -->
	<noscript>
		&lt;style type="text/css" media="screen"&gt; .primary-nav { display: block; } &lt;/style&gt;
	</noscript>

	<!-- /cssInclude -->
				<title>Development Guide</title><meta name="generator" content="publican v4.2.6"><meta name="package" content="JBoss_Enterprise_Application_Platform-Development_Guide-6.3-en-US-6.3.0-50"><meta name="description" content="This book provides references and examples for Java EE 6 developers using Red Hat JBoss Enterprise Application Platform 6 and its patch releases."><link rel="stylesheet" type="text/css" href="./JBoss_6_3_files/chrome.css"><link rel="stylesheet" type="text/css" href="./JBoss_6_3_files/db4.css"><link rel="stylesheet" type="text/css" href="./JBoss_6_3_files/brand.css"><link rel="stylesheet" type="text/css" href="./JBoss_6_3_files/print.css" media="print"><link rel="stylesheet" type="text/css" href="./JBoss_6_3_files/site_overrides.css"><script type="text/javascript" src="./JBoss_6_3_files/jquery-1.7.1.min.js"></script><script type="text/javascript" src="./JBoss_6_3_files/labels.js"></script><script type="text/javascript" src="./JBoss_6_3_files/toc.js"></script><link rel="stylesheet" href="https://access.redhat.com/chrome_themes/umbra/s/chrometwo.css"><script src="./JBoss_6_3_files/require.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="common" src="./JBoss_6_3_files/common.min.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="https://access.redhat.com/webassets/avalon/j/lib/require-css/require.css.min.js" src="./JBoss_6_3_files/require.css.min.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="analytics/failsafe" src="./JBoss_6_3_files/failsafe.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="analytics/main" src="./JBoss_6_3_files/main.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="analytics/attributes" src="./JBoss_6_3_files/attributes.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="google_remarketing" src="./JBoss_6_3_files/google_remarketing.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="analytics/url" src="./JBoss_6_3_files/url.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="analytics/sites/portal/urls" src="./JBoss_6_3_files/urls.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="analytics/separators" src="./JBoss_6_3_files/separators.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="analytics/adapters/omniture/old_fns" src="./JBoss_6_3_files/old_fns.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="s_code" src="./JBoss_6_3_files/s_code.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="dismiss" src="./JBoss_6_3_files/dismiss.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="data-annex" src="./JBoss_6_3_files/data-annex.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="analytics/adapters/omniture/attributes" src="./JBoss_6_3_files/attributes(1).js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="analytics/adapters/eloqua/attributes" src="./JBoss_6_3_files/attributes(2).js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="analytics/adapters/omniture/events" src="./JBoss_6_3_files/events.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="analytics/adapters/eloqua/events" src="./JBoss_6_3_files/events(1).js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="analytics/adapters/omniture/old_props" src="./JBoss_6_3_files/old_props.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="analytics/events" src="./JBoss_6_3_files/events(2).js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="portal_outage" src="./JBoss_6_3_files/outageJson_en.js"></script></head><body class="chrometwo  en loggedOut">
	<script type="text/javascript">
		window.portal = {
			analytics             : {},
			host                  : "https://access.redhat.com",
			kbaseContext          : "/preview_faq",
			cspContext            : "/preview_jbossnetwork",
			customerCenterContext : "/wapps",
			lang                  : "en",
			version               : "2.0.18.0",
			decorationWhitelist   : ["https://access.redhat.com","https://rhn.redhat.com", "docs.redhat.com"]
		};

		/*
		* TODO
		* deprecate this avalon object
		*/
		window.avalon = window.portal;
		window.avalonHost = avalon.host; // deprecate this?

		/********************************
		*  Temporary pagename shim     *
		*  TODO: Remove this           *
		********************************/

		portal.analytics.shim = {};
		portal.analytics.shim.pageTitle = "";
		portal.analytics.shim.siteMapState = "";

	</script>

			<!-- Chrome: Chrome -->
			<div id="page-wrap" class="page-wrap">
        		<div class="top-page-wrap">
<!--googleoff: all-->

			<header class="masthead"><div class="mobile-bar-wrap hidden-sm hidden-md hidden-lg">
	<a class="logo" href="https://access.redhat.com/">
		<span class="logo-crop"><img src="./JBoss_6_3_files/l_redhat-lg.png"></span>
		<span class="site-title"><span>Customer </span><span>Portal</span></span>
	</a>
	<button id="mobile-nav-btn" class="btn btn-navbar collapse in" data-toggle="collapse" data-target="#mobile-nav" style="height: auto;">
		<span class="web-icon-mobile-menu"></span>
		<span class="link-text">global.menu</span>
	</button>
	<button class="btn btn-search btn-utility" data-target="#site-search">
		<span class="web-icon-search"></span>
		<span class="link-text">Search</span>
	</button>
</div>

<div class="utility-wrap">
	<div class="utility-container">
		<div class="utility-bar visible-sm visible-md visible-lg">
			<menu class="top-nav">
				<ul>
					<li id="nav-subscription"><a class="top-nav-subscriptions" href="https://access.redhat.com/management/">Subscriptions</a></li>
					<li id="nav-downloads"><a class="top-nav-downloads" href="https://access.redhat.com/downloads/">Downloads</a></li>
					<li id="nav-support"><a class="top-nav-support-cases" href="https://access.redhat.com/support/cases/">Support Cases</a></li>
				</ul>
			</menu>

			<menu class="utility-nav">
				<ul>
					<li>
						<a class="btn-search" data-target="#site-search">
							<span class="web-icon-search"></span>
							<span class="link-text">Search</span>
						</a>
					</li>
					<li>
						<a class="btn-profile" data-target="#account-info">
							<span class="web-icon-user"></span>
							<span class="link-text">Account</span>
							<span class="account-user" id="accountUserName"></span>
						</a>
					</li>
					<li>
						<a class="btn-language" data-target="#language">
							<span class="web-icon-globe"></span>
							<span class="link-text">Language</span>
						</a>
					</li>
				</ul>
			</menu>
		</div>
		<!-- Utility Tray -->
		<div class="utility-tray-container">
			<div class="utility-tray">
				<div id="site-search" class="utility-link site-search">
					<div class="content">
            			<form class="ng-pristine ng-valid topSearchForm" id="topSearchForm" name="topSearchForm" action="https://access.redhat.com/search/browse/search/" method="get" enctype="application/x-www-form-urlencoded">
							<div class="input-group">

                    			<a id="searchClose_topSearchInput" class="close hide"><span class="web-icon-close" title="Close"></span></a><input class="form-control searchField ui-autocomplete-input" id="topSearchInput" name="keyword" value="" placeholder="Enter Your Search Term" type="text" autocomplete="off" role="textbox" aria-autocomplete="list" aria-haspopup="true">
								<span class="input-group-btn">
				    				<button type="submit" class="btn btn-primary">Search</button>
								</span>
							</div>
						</form>
					</div>
				<ul class="ui-autocomplete ui-menu ui-widget ui-widget-content ui-corner-all" role="listbox" aria-activedescendant="ui-active-menuitem" style="z-index: 3; top: 0px; left: 0px; display: none;"></ul></div>
				<div id="account-info" class="utility-link account-info">
					<div class="content">

						<!-- Account Unauthenticated -->
						<div id="accountLinksLoggedOut" class="unauthenticated" style="display: block;">
							<h2 class="utility-header">Log in to Your Red Hat Account</h2>
							<div class="row col-border-row">
								<div class="col-sm-6 col-border">
									<p><a href="https://access.redhat.com/login?redirectTo=https%3A//access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/" id="accountLogin" class="btn btn-primary">Log In</a></p>
									<p>Your Red Hat account gives you access to your profile, preferences, and services, depending on your status.</p>
								</div>
								<div class="col-sm-6 col-border col-border-left">
									<p><a href="https://www.redhat.com/wapps/ugc/register.html" class="btn btn-primary">Register</a></p>
									<p>If you are a new customer, register now for access to product evaluations and purchasing capabilities. </p>

									<strong>Need access to an account?</strong><p>If your company has an existing Red Hat account, your organization administrator can grant you access.</p>

									<p><a href="https://access.redhat.com/support/contact/customerService/">If you have any questions, please contact customer service.</a></p>
								</div>
							</div>
						</div>

						<!-- Account Authenticated -->
						<div id="accountLinksLoggedIn" class="authenticated">
							<h2 class="utility-header"><span id="userFirstName"></span></h2>
							<div class="row col-border-row">
								<div class="col-sm-6 col-border col-border-right">
									<div class="account-info" id="accountUser">
										<div class="avatar"><!-- placeholder--></div>
										<div class="account-name"><strong id="userFullName"></strong></div>
										<div class="account-org"><span id="userOrg"></span></div>
										<div class="account-number accountNumber"><span class="property">Red Hat Account Number:</span> <span class="value"></span></div>
									</div>

									<div class="row account-settings">
										<div class="col-md-6">
											<h3>Red Hat Account</h3>
											<ul class="reset">
												<li><a href="https://www.redhat.com/wapps/ugc/protected/personalInfo.html">Account Details</a></li>
												<li><a href="https://www.redhat.com/wapps/ugc/protected/prefs.html">Newsletter and Contact Preferences</a></li>
												<li><a href="https://www.redhat.com/wapps/ugc/protected/usermgt/userList.html">User Management</a></li>
												<li><a href="https://www.redhat.com/wapps/ugc/protected/account.html">Account Maintenance</a></li>
											</ul>
										</div>
										<div class="col-md-6">
											<h3>Customer Portal</h3>
											<ul class="reset">
												<li><a href="https://access.redhat.com/user">My Profile</a></li>
												<li><a href="https://access.redhat.com/user" id="userNotificationsLink">Notifications</a></li>
												<li><a href="https://access.redhat.com/help/">Help</a></li>
											</ul>
										</div>
									</div>

								</div>
								<div class="col-sm-6 col-border">
									<p>For your security, if you’re on a public computer and have finished using your Red Hat services, please be sure to log out.</p>
									<p><a href="https://www.redhat.com/wapps/sso/logout.html?redirect=https://access.redhat.com/logout" id="accountLogout" class="btn btn-primary">Log Out</a></p>
								</div>
							</div>
						</div>

					</div>
				</div>
				<div id="language" class="utility-link language">
					<div class="content">
						<h2 class="utility-header">Select Your Language</h2>
						<div class="row" id="localesMenu">
							<div class="col-sm-4">
								<ul class="reset">
									<li><a href="https://access.redhat.com/changeLanguage?language=en&redirectTo=https%3A//access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/" id="en" class="selected">English</a></li>
									<li><a href="https://access.redhat.com/changeLanguage?language=es&redirectTo=https%3A//access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/" id="es">español</a></li>
									<li><a href="https://access.redhat.com/changeLanguage?language=de&redirectTo=https%3A//access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/" id="de">Deutsch</a></li>
									<li><a href="https://access.redhat.com/changeLanguage?language=it&redirectTo=https%3A//access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/" id="it">italiano</a></li>
									<li><a href="https://access.redhat.com/changeLanguage?language=ko&redirectTo=https%3A//access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/" id="ko">한국어</a></li>
								</ul>
							</div>
							<div class="col-sm-4">
								<ul class="reset">
									<li><a href="https://access.redhat.com/changeLanguage?language=fr&redirectTo=https%3A//access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/" id="fr">français</a></li>
									<li><a href="https://access.redhat.com/changeLanguage?language=ja&redirectTo=https%3A//access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/" id="ja">日本語</a></li>
									<li><a href="https://access.redhat.com/changeLanguage?language=pt&redirectTo=https%3A//access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/" id="pt">português</a></li>
									<li><a href="https://access.redhat.com/changeLanguage?language=zh_CN&redirectTo=https%3A//access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/" id="zh_CN">中文 (中国)</a></li>
									<li><a href="https://access.redhat.com/changeLanguage?language=ru&redirectTo=https%3A//access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/" id="ru">русский</a></li>
								</ul>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
<div id="scroll-anchor" class="affix-top">
</div>

<div class="header-nav visible-sm visible-md visible-lg">
	<div id="header-nav" class="affix navbar-hidden" style="top: -92px;">
		<div class="container">
			<div class="row">
				<div class="col-xs-12">

					<a href="https://access.redhat.com/" class="logo">
						<span class="logo-crop"><img src="./JBoss_6_3_files/l_redhat-lg.png"></span>
						<span class="site-title"><span>Customer </span><span>Portal</span></span>
					</a>

					<menu class="primary-nav" style="display: block;">
						<ul>
							<li id="nav-products" class="on"><a class="products" data-link="mega" data-target="products-menu" href="https://access.redhat.com/products/">Products &amp; Services</a></li>
							<li id="nav-tools"><a class="tools" data-link="mega" data-target="tools-menu" href="https://access.redhat.com/labs/">Tools</a></li><!-- #Need URL -->
							<li id="nav-security"><a class="security" data-link="mega" data-target="security-menu" href="https://access.redhat.com/security/">Security</a></li>
							<li id="nav-community"><a class="community" data-link="mega" data-target="community-menu" href="https://access.redhat.com/community/">Community</a></li><!-- #Need URL -->
						</ul>
					</menu>
				</div>
			</div>
			<div id="to-top"><a class="btn_slideto"><span class="web-icon-upload"></span></a></div>
		</div>
	</div>
</div>

<div class="mobile-nav-wrap hidden-sm hidden-md hidden-lg">
	<div id="mobile-nav" class="mobile-nav navbar collapse navbar-collapse">
		<div class="navbar-inner">

			<menu>
				<ul class="mobile-utility">
					<li>
						<a class="btn-profile" data-target="#account-info-mobile">
							<span class="web-icon-user"></span>
							<span class="link-text">Account</span>
						</a>
					</li><!-- white space inline
					--><li>
						<a class="btn-language" data-target="#language-mobile">
							<span class="web-icon-globe"></span>
							<span class="link-text">Language</span>
						</a>
					</li>
				</ul>
				<div id="account-info-mobile" class="mobile-utility-wrap">
					<!-- Account Unauthenticated -->
					<div id="mobile-accountLinksLoggedOut" class="unauthenticated" style="display: block;">
						<ul class="nav mobile-utility-nav">
							<li><a href="https://access.redhat.com/login">Log In</a></li>
							<li><a href="https://www.redhat.com/wapps/ugc/register.html">Register</a></li>
						</ul>
					</div>
					<!-- Account Authenticated -->
					<div id="mobile-accountLinksLoggedIn" class="authenticated">
						<div class="account-info" id="mobile-accountUser">
							<div class="account-name"><strong id="mobile-userFullName"></strong></div>
							<div class="account-org"><span id="mobile-userOrg"></span></div>
							<div class="account-number mobile-accountNumber"><span class="property">Red Hat Account Number:</span> <span class="value"></span></div>
						</div>
						<ul class="nav mobile-utility-nav">
							<li><a href="https://www.redhat.com/wapps/ugc/protected/personalInfo.html">Account Details</a></li>
							<li><a href="https://www.redhat.com/wapps/ugc/protected/prefs.html">Newsletter and Contact Preferences</a></li>
							<li><a href="https://www.redhat.com/wapps/ugc/protected/usermgt/userList.html">User Management</a></li>
							<li><a href="https://www.redhat.com/wapps/ugc/protected/account.html">Account Maintenance</a></li>
							<li><a href="https://access.redhat.com/user">My Profile</a></li>
							<li><a href="https://access.redhat.com/user" id="userNotificationsLink">Notifications</a></li>
							<li><a href="https://access.redhat.com/help/">Help</a></li>
							<li class="logout"><a href="https://www.redhat.com/wapps/sso/logout.html?redirect=https://access.redhat.com/logout">Log Out</a>
						</li></ul>
					</div>
				</div>
				<div id="language-mobile" class="mobile-utility-wrap">
					<ul class="nav mobile-utility-nav">
						<li><a href="https://access.redhat.com/changeLanguage?language=en" id="mobile-en" class="selected">English</a></li>
						<li><a href="https://access.redhat.com/changeLanguage?language=es" id="mobile-es">español</a></li>
						<li><a href="https://access.redhat.com/changeLanguage?language=de" id="mobile-de">Deutsch</a></li>
						<li><a href="https://access.redhat.com/changeLanguage?language=it" id="mobile-it">italiano</a></li>
						<li><a href="https://access.redhat.com/changeLanguage?language=ko" id="mobile-ko">한국어</a></li>
						<li><a href="https://access.redhat.com/changeLanguage?language=fr" id="mobile-fr">français</a></li>
						<li><a href="https://access.redhat.com/changeLanguage?language=ja" id="mobile-ja">日本語</a></li>
						<li><a href="https://access.redhat.com/changeLanguage?language=pt" id="mobile-pt">português</a></li>
						<li><a href="https://access.redhat.com/changeLanguage?language=zh_CN" id="mobile-zh_CN">中文 (中国)</a></li>
						<li><a href="https://access.redhat.com/changeLanguage?language=ru" id="mobile-ru">русский</a></li>
					</ul>
				</div>
				<ul class="main-mobile-nav nav">
					<li id="mnav-home"><a href="https://access.redhat.com/">Home</a></li>
					<li id="mnav-products" class="on"><a href="https://access.redhat.com/products/">Products &amp; Services</a></li>
					<li id="mnav-tools"><a href="https://access.redhat.com/tools/">Tools</a></li>
					<li id="mnav-security"><a href="https://access.redhat.com/security/">Security</a></li>
					<li id="mnav-community"><a href="https://access.redhat.com/community/">Community</a></li><!-- #Need URL -->
					<li id="mnav-downloads"><a href="https://access.redhat.com/downloads/">Downloads</a></li>
					<li id="mnav-subscription"><a href="https://access.redhat.com/management/">Subscriptions</a></li>
					<li id="mnav-support"><a href="https://access.redhat.com/support/cases/">Support Cases</a></li>
				</ul>
			</menu>
		</div>
	</div>
</div>

<div class="mega-wrap visible-sm visible-md visible-lg">
	<menu class="mega">
		<div class="container">
			<div class="mega-menu-wrap">
				<!-- Products Menu -->
				<div aria-labelledby="products-menu" class="products-menu mega-menu" data-eh="mega-menu" role="menu" style="height: 428px;">
					<div class="row">
						<div class="col-md-6 col-sm-8">
							<nav class="root">
								<div class="row">
									<ul class="subnav subnav-root col-sm-6">
										<li data-target="infrastructure-menu" class="active">
											<a href="https://access.redhat.com/products/">Infrastructure and Management</a>
										</li>
										<li data-target="cloud-menu">
											<a href="https://access.redhat.com/products/">Cloud Products</a>
										</li>
										<li data-target="jboss-dev-menu">
											<a href="https://access.redhat.com/products/">JBoss Development and Management</a>
										</li>
										<li data-target="jboss-int-menu">
											<a href="https://access.redhat.com/products/">JBoss Integration and Automation</a>
										</li>
										<li data-target="services-menu">
											<a href="https://access.redhat.com/products/">Services</a>
										</li>
									</ul>
									<div class="subnav subnav-child col-sm-6" data-eh="subnav-child" data-menu-local="infrastructure-menu" style="display: block; height: 336px;">
										<ul>
											<li>
												<a href="https://access.redhat.com/products/red-hat-enterprise-linux/">Red Hat Enterprise Linux</a>
											</li>
											<li>
												<a href="https://access.redhat.com/products/red-hat-enterprise-virtualization/">Red Hat Enterprise Virtualization</a>
											</li>
											<li>
												<a href="https://access.redhat.com/products/Identity_Management/">Red Hat Identity Management &amp; Infrastructure</a>
											</li>
											<li>
												<a href="https://access.redhat.com/products/red-hat-directory-server/">Red Hat Directory Server</a>
											</li>
											<li>
												<a href="https://access.redhat.com/products/red-hat-certificate-system/">Red Hat Certificate System</a>
											</li>
											<li>
												<a href="https://access.redhat.com/products/red-hat-satellite/">Red Hat Satellite</a>
											</li>
											<li>
												<a href="https://access.redhat.com/products/subscription-asset-manager/">Subscription Asset Manager</a>
											</li>
											<li>
												<a href="https://access.redhat.com/products/red-hat-update-infrastructure/">Red Hat Update Infrastructure</a>
											</li>
											<li>
												<a href="https://access.redhat.com/products/red-hat-storage/">Red Hat Storage</a>
											</li>
										</ul>
									</div>
									<div class="subnav subnav-child col-sm-6" data-eh="subnav-child" data-menu-local="cloud-menu" style="height: 336px;">
										<ul>
											<li>
												<a href="https://access.redhat.com/products/red-hat-cloudforms/">Red Hat CloudForms</a>
											</li>
											<li>
												<a href="https://access.redhat.com/products/red-hat-enterprise-linux-openstack-platform/">Red Hat Enterprise Linux OpenStack Platform</a>
											</li>
											<li>
												<a href="https://access.redhat.com/products/red-hat-cloud-infrastructure/">Red Hat Cloud Infrastructure</a>
											</li>
											<li>
												<a href="https://access.redhat.com/products/openshift-enterprise-red-hat/">OpenShift Enterprise by Red Hat</a>
											</li>
											<li>
												<a href="https://access.redhat.com/products/openshift-online-red-hat/">OpenShift Online by Red Hat</a>
											</li>
										</ul>
									</div>
									<div class="subnav subnav-child col-sm-6" data-eh="subnav-child" data-menu-local="jboss-dev-menu" style="height: 336px;">
										<ul>
											<li>
												<a href="https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/">Red Hat JBoss Enterprise Application Platform</a>
											</li>
											<li>
												<a href="https://access.redhat.com/products/red-hat-jboss-data-grid/">Red Hat JBoss Data Grid</a>
											</li>
											<li>
												<a href="https://access.redhat.com/products/red-hat-jboss-web-server/">Red Hat JBoss Web Server</a>
											</li>
											<li>
												<a href="https://access.redhat.com/products/red-hat-jboss-portal/">Red Hat JBoss Portal</a>
											</li>
											<li>
												<a href="https://access.redhat.com/products/red-hat-jboss-operations-network/">Red Hat JBoss Operations Network</a>
											</li>
											<li>
												<a href="https://access.redhat.com/products/red-hat-jboss-developer-studio/">Red Hat JBoss Developer Studio</a>
											</li>
										</ul>
									</div>
									<div class="subnav subnav-child col-sm-6" data-eh="subnav-child" data-menu-local="jboss-int-menu" style="height: 336px;">
										<ul>
											<li>
												<a href="https://access.redhat.com/products/red-hat-jboss-fuse-service-works/">Red Hat JBoss Fuse Service Works</a>
											</li>
											<li>
												<a href="https://access.redhat.com/products/red-hat-jboss-data-virtualization/">Red Hat JBoss Data Virtualization</a>
											</li>
											<li>
												<a href="https://access.redhat.com/products/red-hat-jboss-fuse/">Red Hat JBoss Fuse</a>
											</li>
											<li>
												<a href="https://access.redhat.com/products/red-hat-jboss-a-mq/">Red Hat JBoss A-MQ</a>
											</li>
											<li>
												<a href="https://access.redhat.com/products/red-hat-jboss-bpm-suite/">Red Hat JBoss BPM Suite</a>
											</li>
											<li>
												<a href="https://access.redhat.com/products/red-hat-jboss-brms/">Red Hat JBoss BRMS</a>
											</li>
										</ul>
									</div>
									<div class="subnav subnav-child col-sm-6" data-eh="subnav-child" data-menu-local="services-menu" style="height: 336px;">
										<ul>
											<li><a href="https://access.redhat.com/products/Consulting/">Consulting</a></li>
			                    			<li><a href="https://access.redhat.com/products/red-hat-access/">Red Hat Access</a></li>
			                    			<li><a href="https://access.redhat.com/products/Red_Hat_Enterprise_Linux/Developer/">Red Hat Enterprise Linux Developer Program</a></li>
			                    			<li><a href="https://access.redhat.com/products/Training/">Training</a></li>
			                    			<li><a href="https://access.redhat.com/support/offerings/tam/">Technical Account Management</a></li>
										</ul>
									</div>
								</div>
							</nav>
							<a href="https://access.redhat.com/products" class="btn btn-primary">Explore Products and Services</a>
						</div>

						<div class="col-md-6 col-sm-4 pull-right">
							<div class="row">
								<div class="col-md-4">
									<h3 class="nav-title">Ecosystem</h3>
									<ul>
										<li><a href="https://access.redhat.com/certification">Overview</a></li>
										<li><a href="https://access.redhat.com/search/browse/certified-hardware#?">Certified Hardware</a></li>
										<li><a href="https://access.redhat.com/search/browse/certified-software#?">Certified Software</a></li>
										<li><a href="https://access.redhat.com/search/browse/certified-cloud-providers#?">Certified Cloud Providers</a></li>
									</ul>
								</div>
								<div class="col-md-4">
									<h3 class="nav-title">Knowledge</h3>
									<ul>
										<li><a href="https://access.redhat.com/search/browse/search/">Expert Advice</a></li>
										<li><a href="https://access.redhat.com/documentation/">Product Documentation</a></li>
									</ul>
								</div>
								<div class="col-md-4">
									<h3 class="nav-title">Support Policies</h3>
									<ul>
										<li><a href="https://access.redhat.com/support/offerings/production/">Production Support</a></li>
										<li><a href="https://access.redhat.com/support/offerings/developer/">Development Support</a></li>
									</ul>
								</div>

							</div>
						</div>
					</div>
				</div>

				<!-- Tools Menu -->
				<div aria-labelledby="tools-menu" class="tools-menu mega-menu" data-eh="mega-menu" role="menu" style="height: 428px;">
					<div class="row">

						<nav class="col-sm-9">
							<div class="mega-menu-feature">
								<div class="row">
									<div class="col-sm-4">
										<h2 class="mega-menu-feature-title">Red Hat Access Labs</h2>
										<p>To help you use Red Hat products to their full potential, our engineers have developed a set of tools to support customer success.</p>
										<p class="push-top"><a href="https://access.redhat.com/labs/" class="btn btn-primary">Explore Labs</a></p>
									</div>
									<div class="col-sm-4">
										<a href="https://access.redhat.com/labs/#?type=config">
											<h3 class="nav-title">Configuration</h3>
										</a>
										<ul>
											<li><a href="https://access.redhat.com/labs/jvmconfig/">JVM Config</a></li>
											<li><a href="https://access.redhat.com/labs/networkbondinghelper/">Network Bonding Helper</a></li>
											<li><a href="https://access.redhat.com/labs/linterfordockerfile/">Linter for Dockerfile</a></li>
										</ul>

										<a href="https://access.redhat.com/labs/#?type=deploy">
											<h3 class="nav-title">Deployment</h3>
										</a>
										<ul>
											<li><a href="https://access.redhat.com/labs/registrationassistant/">Registration Assistant</a></li>
											<li><a href="https://access.redhat.com/labs/kickstartconfig/">Kickstart Generator</a></li>
											<li><a href="https://access.redhat.com/labs/rhevupgradehelper/">RHEV Upgrade Helper</a></li>
										</ul>
									</div>
									<div class="col-sm-4">
										<a href="https://access.redhat.com/labs/#?type=troubleshoot">
											<h3 class="nav-title">Troubleshooting</h3>
										</a>
										<ul>
											<li><a href="https://access.redhat.com/labs/garbagedog/">Garbage Collection Analysis</a></li>
											<li><a href="https://access.redhat.com/labs/kerneloopsanalyzer/">Kernel Oops Analyzer</a></li>
											<li><a href="https://access.redhat.com/labs/kdumphelper/">Kdump Helper</a></li>
										</ul>
										<a href="https://access.redhat.com/labs/#?type=security">
											<h3 class="nav-title">Security</h3>
										</a>
										<ul>
											<li><a href="https://access.redhat.com/labs/ghost/">GHOST - gethostbyname Detector</a></li>
											<li><a href="https://access.redhat.com/labs/poodle/">SSLv3 (POODLE) Detector</a></li>
											<li><a href="https://access.redhat.com/labs/shellshock/">Shellshock - Bash Vulnerability Detector</a></li>
										</ul>
									</div>
								</div>
							</div>
						</nav>

						<nav class="col-sm-3">
							<h3 class="nav-title">Additional Tools</h3>
							<ul>
								<li><a href="https://access.redhat.com/products/red-hat-access/">Red Hat Access - Overview</a></li>
								<li><a href="https://access.redhat.com/labs/hacat/">Red Hat High Availability Cluster Architecture Tool</a></li>
								<li><a href="https://access.redhat.com/tools/satcert/">Red Hat Satellite Certificate Tool</a></li>
							</ul>
						</nav>

					</div>
				</div>

				<!-- Security Menu -->
				<div aria-labelledby="security-menu" class="security-menu mega-menu" data-eh="mega-menu" role="menu" style="height: 428px;">
					<div class="row">
						<nav class="col-sm-12 basic">
							<div class="row">
								<div class="col-md-3 col-sm-4">
									<h3 class="nav-title">Security Updates</h3>
									<ul>
										<li><a href="https://access.redhat.com/security/cve">Red Hat CVE Database</a></li>
										<li><a href="https://access.redhat.com/security/updates/active/">Active Products</a></li>
										<li><a href="https://access.redhat.com/security/updates/eol/">End-of-Life Products</a></li>
										<li><a href="https://access.redhat.com/security/updates/advisory/">How to Get Notified</a></li>
									</ul>
								</div>
								<div class="col-md-3 col-sm-4">
									<h3 class="nav-title">Red Hat Product Security</h3>
									<ul>
										<li><a href="https://access.redhat.com/security/team/">About</a></li>
										<li><a href="https://securityblog.redhat.com/">Security Blog</a></li>
										<li><a href="https://access.redhat.com/security/team/contact/">Contact</a></li>
									</ul>
								</div>
								<div class="col-md-3 col-sm-4">
									<h3 class="nav-title">Resources</h3>
									<ul>
										<li><a href="https://www.redhat.com/security/data/metrics/">Security Measurement</a></li>
										<li><a href="https://access.redhat.com/security/updates/classification/">Severity Ratings</a></li>
										<li><a href="https://access.redhat.com/security/updates/backporting/">Backporting Policies</a></li>
										<li><a href="https://access.redhat.com/security/team/key/">Product Signing (GPG) Keys</a></li>
									</ul>
								</div>
							</div>
						</nav>
						<a href="https://access.redhat.com/security/" class="btn btn-primary">Explore Security</a>
					</div>
				</div>

				<!-- Community Menu -->
				<div aria-labelledby="community-menu" class="community-menu mega-menu" data-eh="mega-menu" role="menu" style="height: 428px;">
					<div class="row">
            			<nav class="col-sm-12 basic">
							<div class="row">
								<div class="col-sm-3">
									<h3 class="nav-title">Discussions</h3>
									<ul>

										<li><a href="https://access.redhat.com/discussions?product=25&category=All&tags=All">Red Hat Enterprise Linux</a></li>
										<li><a href="https://access.redhat.com/discussions?product=8163&category=All&tags=All">Red Hat Enterprise Virtualization</a></li>
										<li><a href="https://access.redhat.com/discussions?product=36&category=All&tags=All">Red Hat Satellite</a></li>
										<li><a href="https://access.redhat.com/discussions?product=22&category=All&tags=All">Customer Portal</a></li>
										<li><a href="https://access.redhat.com/groups/">Private Groups</a></li>
										<li class="more-link"><a href="https://access.redhat.com/discussions?keyword=&name=&product=All&category=All&tags=All">All Discussions</a></li>
										<li class="more-link"><a href="https://access.redhat.com/node/add/discussion">Start a Discussion</a></li>
									</ul>
								</div>
								<div class="col-sm-3">
									<h3 class="nav-title">Blogs</h3>
									<ul>
										<li><a href="https://access.redhat.com/blogs/767163">Customer Portal</a></li>
										<li><a href="https://access.redhat.com/blogs/759303">Red Hat Access Labs</a></li>
										<li><a href="https://access.redhat.com/blogs/766093">Red Hat Product Security Team</a></li>
										<li class="more-link"><a href="https://access.redhat.com/blogs/">All Blogs</a></li>
									</ul>
								</div>
								<div class="col-sm-3">
									<h3 class="nav-title">Events</h3>
									<ul>
										<li><a href="https://access.redhat.com/customer-convergence">Customer Events</a></li>
										<li><a href="http://www.redhat.com/summit/">Red Hat Summit</a></li>
									</ul>
								</div>
								<div class="col-sm-3">
									<h3 class="nav-title">Stories</h3>
									<ul>
										<li><a href="https://access.redhat.com/subscription-value/">Red Hat Subscription Benefits</a></li>
										<li><a href="https://access.redhat.com/customer-success/">You Asked. We Acted.</a></li>
										<li><a href="http://www.redhat.com/en/open-source">Open Source Communities</a></li>
									</ul>
								</div>
							</div>
						</nav>
						<a href="https://access.redhat.com/community/" class="btn btn-primary">Explore Community</a>
					</div>
				</div>
			</div>
		</div>
	</menu>
</div>

				<div id="site-section"></div>

			<div class="breadcrumbs"><div id="breadcrumbs" class="container"><a href="https://access.redhat.com/support/">Support</a><a href="https://access.redhat.com/documentation/en-US/index.html">Product Documentation</a><div id="product_menu" onmouseover="work=1; expand_menu(&#39;product_menu_list&#39;);" onmouseout="work=1; retract_menu(&#39;product_menu_list&#39;);">
<div>JBoss Enterprise Application Platform</div><ul id="product_menu_list" class="hidden">
  <li><a href="https://access.redhat.com/site/documentation/en-US/CloudForms/index.html">CloudForms</a></li>
  <li><a href="https://access.redhat.com/site/documentation/en-US/Fuse_ESB/index.html">Fuse ESB</a></li>
  <li><a href="https://access.redhat.com/site/documentation/en-US/Fuse_ESB_Enterprise/index.html">Fuse ESB Enterprise</a></li>
  <li><a href="https://access.redhat.com/site/documentation/en-US/Fuse_IDE/index.html">Fuse IDE</a></li>
  <li><a href="https://access.redhat.com/site/documentation/en-US/Fuse_Management_Console/index.html">Fuse Management Console</a></li>
  <li><a href="https://access.redhat.com/site/documentation/en-US/Fuse_Message_Broker/index.html">Fuse Message Broker</a></li>
  <li><a href="https://access.redhat.com/site/documentation/en-US/Fuse_MQ_Enterprise/index.html">Fuse MQ Enterprise</a></li>
  <li><a href="https://access.redhat.com/site/documentation/en-US/JBoss_A-MQ/index.html">JBoss A-MQ</a></li>
  <li><a href="https://access.redhat.com/site/documentation/en-US/JBoss_Communications_Platform/index.html">JBoss Communications Platform</a></li>
  <li><a href="https://access.redhat.com/site/documentation/en-US/JBoss_Data_Grid/index.html">JBoss Data Grid</a></li>
  <li><a href="https://access.redhat.com/site/documentation/en-US/JBoss_Enterprise_Application_Platform/index.html">JBoss Enterprise Application Platform</a></li>
  <li><a href="https://access.redhat.com/site/documentation/en-US/JBoss_Enterprise_Application_Platform_Common_Criteria_Certification/index.html">JBoss Enterprise Application Platform Common Criteria Certification</a></li>
  <li><a href="https://access.redhat.com/site/documentation/en-US/JBoss_Enterprise_BRMS_Platform/index.html">JBoss Enterprise BRMS Platform</a></li>
  <li><a href="https://access.redhat.com/site/documentation/en-US/JBoss_Enterprise_Data_Services/index.html">JBoss Enterprise Data Services</a></li>
  <li><a href="https://access.redhat.com/site/documentation/en-US/JBoss_Enterprise_Portal_Platform/index.html">JBoss Enterprise Portal Platform</a></li>
  <li><a href="https://access.redhat.com/site/documentation/en-US/JBoss_Enterprise_SOA_Platform/index.html">JBoss Enterprise SOA Platform</a></li>
  <li><a href="https://access.redhat.com/site/documentation/en-US/JBoss_Enterprise_Web_Platform/index.html">JBoss Enterprise Web Platform</a></li>
  <li><a href="https://access.redhat.com/site/documentation/en-US/JBoss_Enterprise_Web_Server/index.html">JBoss Enterprise Web Server</a></li>
  <li><a href="https://access.redhat.com/site/documentation/en-US/JBoss_Fuse/index.html">JBoss Fuse</a></li>
  <li><a href="https://access.redhat.com/site/documentation/en-US/JBoss_Operations_Network/index.html">JBoss Operations Network</a></li>
  <li><a href="https://access.redhat.com/site/documentation/en-US/JBoss_Portal_Platform/index.html">JBoss Portal Platform</a></li>
  <li><a href="https://access.redhat.com/site/documentation/en-US/JBoss_Web_Framework_Kit/index.html">JBoss Web Framework Kit</a></li>
  <li><a href="https://access.redhat.com/site/documentation/en-US/OpenShift/index.html">OpenShift Online </a></li>
  <li><a href="https://access.redhat.com/site/documentation/en-US/OpenShift_Enterprise/index.html">OpenShift Enterprise</a></li>
  <li><a href="https://access.redhat.com/site/documentation/en-US/OpenShift_Online/index.html">OpenShift Online</a></li>
  <li><a href="https://access.redhat.com/site/documentation/en-US/Red_Hat_Application_Stack/index.html">Red Hat Application Stack</a></li>
  <li><a href="https://access.redhat.com/site/documentation/en-US/Red_Hat_Certificate_System/index.html">Red Hat Certificate System</a></li>
  <li><a href="https://access.redhat.com/site/documentation/en-US/Red_Hat_Certificate_System_Common_Criteria_Certification/index.html">Red Hat Certificate System Common Criteria Certification</a></li>
  <li><a href="https://access.redhat.com/site/documentation/en-US/Red_Hat_Cloud_Infrastructure/index.html">Red Hat Cloud Infrastructure</a></li>
  <li><a href="https://access.redhat.com/site/documentation/en-US/Red_Hat_CloudForms/index.html">Red Hat CloudForms</a></li>
  <li><a href="https://access.redhat.com/site/documentation/en-US/Red_Hat_Customer_Portal/index.html">Red Hat Customer Portal</a></li>
  <li><a href="https://access.redhat.com/site/documentation/en-US/Red_Hat_Developer_Toolset/index.html">Red Hat Developer Toolset</a></li>
  <li><a href="https://access.redhat.com/site/documentation/en-US/Red_Hat_Directory_Server/index.html">Red Hat Directory Server</a></li>
  <li><a href="https://access.redhat.com/site/documentation/en-US/Red_Hat_Enterprise_Linux/index.html">Red Hat Enterprise Linux</a></li>
  <li><a href="https://access.redhat.com/site/documentation/en-US/Red_Hat_Enterprise_Linux_Hardware_Certification/index.html">Red Hat Enterprise Linux Hardware Certification</a></li>
  <li><a href="https://access.redhat.com/site/documentation/en-US/Red_Hat_Enterprise_Linux_OpenStack_Platform/index.html">Red Hat Enterprise Linux OpenStack Platform</a></li>
  <li><a href="https://access.redhat.com/site/documentation/en-US/Red_Hat_Enterprise_Linux_OpenStack_Platform_Certification/index.html">Red Hat Enterprise Linux OpenStack Platform Certification</a></li>
  <li><a href="https://access.redhat.com/site/documentation/en-US/Red_Hat_Enterprise_Linux_OpenStack_Platform_Certification_Test_Suite/index.html">Red Hat Enterprise Linux OpenStack Platform Certification Test Suite</a></li>
  <li><a href="https://access.redhat.com/site/documentation/en-US/Red_Hat_Enterprise_MRG/index.html">Red Hat Enterprise MRG</a></li>
  <li><a href="https://access.redhat.com/site/documentation/en-US/Red_Hat_Enterprise_Virtualization/index.html">Red Hat Enterprise Virtualization</a></li>
  <li><a href="https://access.redhat.com/site/documentation/en-US/Red_Hat_Enterprise_Virtualization_for_Desktops/index.html">Red Hat Enterprise Virtualization for Desktops</a></li>
  <li><a href="https://access.redhat.com/site/documentation/en-US/Red_Hat_Enterprise_Virtualization_for_Servers/index.html">Red Hat Enterprise Virtualization for Servers</a></li>
  <li><a href="https://access.redhat.com/site/documentation/en-US/Red_Hat_Hardware_Certification/index.html">Red Hat Hardware Certification</a></li>
  <li><a href="https://access.redhat.com/site/documentation/en-US/Red_Hat_HPC_Solution/index.html">Red Hat HPC Solution</a></li>
  <li><a href="https://access.redhat.com/site/documentation/en-US/Red_Hat_JBoss_A-MQ/index.html">Red Hat JBoss A-MQ</a></li>
  <li><a href="https://access.redhat.com/site/documentation/en-US/Red_Hat_JBoss_BPM_Suite/index.html">Red Hat JBoss BPM Suite</a></li>
  <li><a href="https://access.redhat.com/site/documentation/en-US/Red_Hat_JBoss_BRMS/index.html">Red Hat JBoss BRMS</a></li>
  <li><a href="https://access.redhat.com/site/documentation/en-US/Red_Hat_JBoss_Data_Grid/index.html">Red Hat JBoss Data Grid</a></li>
  <li><a href="https://access.redhat.com/site/documentation/en-US/Red_Hat_JBoss_Data_Virtualization/index.html">Red Hat JBoss Data Virtualization</a></li>
  <li><a href="https://access.redhat.com/site/documentation/en-US/Red_Hat_JBoss_Developer_Studio/index.html">Red Hat JBoss Developer Studio</a></li>
  <li><a href="https://access.redhat.com/site/documentation/en-US/Red_Hat_JBoss_Developer_Studio_Integration_Stack/index.html">Red Hat JBoss Developer Studio Integration Stack</a></li>
  <li><a href="https://access.redhat.com/site/documentation/en-US/Red_Hat_JBoss_Fuse/index.html">Red Hat JBoss Fuse</a></li>
  <li><a href="https://access.redhat.com/site/documentation/en-US/Red_Hat_JBoss_Fuse_Service_Works/index.html">Red Hat JBoss Fuse Service Works</a></li>
  <li><a href="https://access.redhat.com/site/documentation/en-US/Red_Hat_JBoss_Operations_Network/index.html">JBoss Operations Network </a></li>
  <li><a href="https://access.redhat.com/site/documentation/en-US/Red_Hat_JBoss_Portal/index.html">Red Hat JBoss Portal</a></li>
  <li><a href="https://access.redhat.com/site/documentation/en-US/Red_Hat_JBoss_Web_Framework_Kit/index.html">Red Hat JBoss Web Framework Kit</a></li>
  <li><a href="https://access.redhat.com/site/documentation/en-US/Red_Hat_Network/index.html">Red Hat Network</a></li>
  <li><a href="https://access.redhat.com/site/documentation/en-US/Red_Hat_Network_Satellite/index.html">Red Hat Network Satellite</a></li>
  <li><a href="https://access.redhat.com/site/documentation/en-US/Red_Hat_OpenStack/index.html">Red Hat OpenStack</a></li>
  <li><a href="https://access.redhat.com/site/documentation/en-US/Red_Hat_OpenStack_Certification_Test_Suite/index.html">Red Hat OpenStack Certification Test Suite</a></li>
  <li><a href="https://access.redhat.com/site/documentation/en-US/Red_Hat_Satellite/index.html">Red Hat Satellite</a></li>
  <li><a href="https://access.redhat.com/site/documentation/en-US/Red_Hat_Software_Collections/index.html">Red Hat Software Collections</a></li>
  <li><a href="https://access.redhat.com/site/documentation/en-US/Red_Hat_Software_Test_Suite/index.html">Red Hat Software Test Suite</a></li>
  <li><a href="https://access.redhat.com/site/documentation/en-US/Red_Hat_Storage/index.html">Red Hat Storage</a></li>
  <li><a href="https://access.redhat.com/site/documentation/en-US/Red_Hat_Subscription_Asset_Manager/index.html">Red Hat Subscription Asset Manager</a></li>
  <li><a href="https://access.redhat.com/site/documentation/en-US/Red_Hat_Subscription_Management/index.html">Red Hat Subscription Management</a></li>
  <li><a href="https://access.redhat.com/site/documentation/en-US/Red_Hat_Update_Infrastructure/index.html">Red Hat Update Infrastructure</a></li>
  <li><a href="https://access.redhat.com/site/documentation/en-US/v7_Hardware_Certification_Test_Suite/index.html">v7 Hardware Certification Test Suite</a></li>
</ul>
</div><div id="version_menu" onmouseover="work=1; expand_menu(&#39;version_menu_list&#39;);" onmouseout="work=1; retract_menu(&#39;version_menu_list&#39;);">
<div>6.3</div><ul id="version_menu_list" class="hidden">
  <li><a href="https://access.redhat.com/site/documentation/en-US/JBoss_Enterprise_Application_Platform/6.4/index.html">6.4 Beta </a></li>
  <li><a href="https://access.redhat.com/site/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/index.html">6.3</a></li>
  <li><a href="https://access.redhat.com/site/documentation/en-US/JBoss_Enterprise_Application_Platform/6.2/index.html">6.2</a></li>
  <li><a href="https://access.redhat.com/site/documentation/en-US/JBoss_Enterprise_Application_Platform/6.1/index.html">6.1</a></li>
  <li><a href="https://access.redhat.com/site/documentation/en-US/JBoss_Enterprise_Application_Platform/6/index.html">6</a></li>
  <li><a href="https://access.redhat.com/site/documentation/en-US/JBoss_Enterprise_Application_Platform/5/index.html">5</a></li>
  <li><a href="https://access.redhat.com/site/documentation/en-US/JBoss_Enterprise_Application_Platform/4.3/index.html">4.3</a></li>
  <li><a href="https://access.redhat.com/site/documentation/en-US/JBoss_Enterprise_Application_Platform/4.2/index.html">4.2</a></li>
</ul>
</div><div id="book_menu" onmouseover="work=1; expand_menu(&#39;book_menu_list&#39;);" onmouseout="work=1; retract_menu(&#39;book_menu_list&#39;);">
<div>Development Guide</div><ul id="book_menu_list" class="hidden">
    
    <li>
        
    







        <a class="external" href="https://access.redhat.com/jbossnetwork/restricted/softwareDetail.html?softwareId=33123#eap63_details">6.3 Update 01</a>


    </li>
    
    <li>
        
    







        <a class="external" href="https://access.redhat.com/jbossnetwork/restricted/softwareDetail.html?softwareId=33893&product=appplatform&version=6.3&downloadType=patches#eap63_details">6.3 Update 02</a>


    </li>
    
    <li>
        
    







        <a href="https://access.redhat.com/site/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html/6.3.0_Release_Notes/index.html">6.3</a>


    </li>
    
    
    <li>
        
    







        <a href="https://access.redhat.com/site/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html/Administration_and_Configuration_Guide/index.html">Administration and Configuration Guide</a>


    </li>
    
    
    <li>
        
    







        <a href="https://access.redhat.com/site/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html/API_Documentation/index.html">API Documentation</a>


    </li>
    
    
    <li>
        
    







        <a href="https://access.redhat.com/site/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html/Development_Guide/index.html">Development Guide</a>


    </li>
    
    
    <li>
        
    







        <a href="https://access.redhat.com/site/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html/Getting_Started_Guide/index.html">Getting Started Guide</a>


    </li>
    
    
    <li>
        
    







        <a href="https://access.redhat.com/site/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html/Installation_Guide/index.html">Installation Guide</a>


    </li>
    
    
    <li>
        
    







        <a href="https://access.redhat.com/site/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html/Migration_Guide/index.html">Migration Guide</a>


    </li>
    
    
    <li>
        
    







        <a href="https://access.redhat.com/site/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html/Security_Guide/index.html">Security Guide</a>


    </li>
    
</ul></div><div id="left-menu"><div id="book_format_menu" onmouseover="work=1; expand_menu(&#39;book_format_menu_list&#39;);" onmouseout="work=1; retract_menu(&#39;book_format_menu_list&#39;);"><div>Formats</div>
<ul id="book_format_menu_list" class="hidden">
    <li>
	
    



        <a href="https://access.redhat.com/site/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html/Development_Guide/index.html">html</a>


    </li>
    <li>
	
    



        <a href="https://access.redhat.com/site/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/index.html">html-single</a>


    </li>
    <li>
	
    



        <a href="https://access.redhat.com/site/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/epub/Development_Guide/JBoss_Enterprise_Application_Platform-6.3-Development_Guide-en-US.epub">epub</a>


    </li>
    <li>
	
    



        <a href="https://access.redhat.com/site/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/pdf/Development_Guide/JBoss_Enterprise_Application_Platform-6.3-Development_Guide-en-US.pdf">pdf</a>


    </li>
</ul>

</div><div id="book_lang_menu" onmouseover="work=1; expand_menu(&#39;book_lang_menu_list&#39;);" onmouseout="work=1; retract_menu(&#39;book_lang_menu_list&#39;);"><div>English</div>

</div><div id="lang_menu_label"></div></div></div></div></header>
<!--googleon: all-->
					<main id="cp-main" class="portal-content-area" role="main">
               			<div id="cp-content" class="main-content"><div id="legacy-portal"><div class="content-area"><div id="legacy-container" class="legacy-container"><div id="content"><div id="main"><div id="chromed-app-content"><div id="navigation" style="top: 0px !important; height: 0px; position: fixed"><div class="toc"><dl><dt><span class="preface"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#idp11273296">Preface</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#idp4002640">1. Document Conventions</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#idp4001664">1.1. Typographic Conventions</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#idp10432608">1.2. Pull-quote Conventions</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#idp23110496">1.3. Notes and Warnings</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect_RedHat-Getting_Help_and_Giving_Feedback">2. Getting Help and Giving Feedback</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect_RedHat-Do_You_Need_Help">2.1. Do You Need Help?</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-RedHat-We_Need_Feedback">2.2. We Need Feedback!</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#chap-Get_Started_Developing_Applications">1. Get Started Developing Applications</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Introduction2">1.1. Introduction</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_JBoss_Enterprise_Application_Platform_6">1.1.1. About Red Hat JBoss Enterprise Application Platform 6</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Prerequisites">1.2. Prerequisites</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Become_Familiar_with_Java_Enterprise_Edition_6">1.2.1. Become Familiar with Java Enterprise Edition 6</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-About_Modules_and_the_New_Modular_Class_Loading_System_used_in_JBoss_EAP_6">1.2.2. About Modules and the New Modular Class Loading System used in JBoss EAP 6</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Set_Up_the_Development_Environment">1.3. Set Up the Development Environment</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Download_and_Install_Red_Hat_JBoss_Developer_Studio">1.3.1. Download and Install Red Hat JBoss Developer Studio</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Run_Your_First_Application">1.4. Run Your First Application</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Download_the_Quickstart_Code_Examples">1.4.1. Download the Quickstart Code Examples</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Run_the_Quickstarts">1.4.2. Run the Quickstarts</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Review_the_Quickstart_Tutorials">1.4.3. Review the Quickstart Tutorials</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Replace_the_Default_Welcome_Web_Application1">1.4.4. Replace the Default Welcome Web Application</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#chap-Maven_Guide">2. Maven Guide</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Learn_about_Maven">2.1. Learn about Maven</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_the_Maven_Repository">2.1.1. About the Maven Repository</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_the_Maven_POM_File">2.1.2. About the Maven POM File</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Minimum_Requirements_of_a_Maven_POM_File">2.1.3. Minimum Requirements of a Maven POM File</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_the_Maven_Settings_File">2.1.4. About the Maven Settings File</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Install_Maven_and_the_JBoss_Maven_Repository">2.2. Install Maven and the JBoss Maven Repository</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Download_and_Install_Maven">2.2.1. Download and Install Maven</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Install_the_JBoss_Enterprise_Application_Platform_6_Maven_Repository">2.2.2. Install the JBoss EAP 6 Maven Repository</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Install_the_JBoss_Enterprise_Application_Platform_6_Maven_Repository_Locally">2.2.3. Install the JBoss EAP 6 Maven Repository Locally</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Install_the_JBoss_Enterprise_Application_Platform_6_Maven_Repository_for_Use_with_Apache_httpd">2.2.4. Install the JBoss EAP 6 Maven Repository for Use with Apache httpd</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Install_the_JBoss_Enterprise_Application_Platform_6_Maven_Repository_Using_Nexus_Maven_Repository_Manager">2.2.5. Install the JBoss EAP 6 Maven Repository Using Nexus Maven Repository Manager</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Maven_Repository_Managers">2.2.6. About Maven Repository Managers</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Use_the_Maven_Repository">2.3. Use the Maven Repository</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Configure_the_JBoss_Enterprise_Application_Platform_Maven_Repository">2.3.1. Configure the JBoss EAP Maven 6 Repository</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Configure_the_JBoss_Enterprise_Application_Platform_Maven_Repository_Using_the_Maven_Settings">2.3.2. Configure the JBoss EAP 6 Maven Repository Using the Maven Settings</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Configure_Maven_for_Use_with_JBoss_Developer_Studio">2.3.3. Configure Maven for Use with Red Hat JBoss Developer Studio</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Configure_the_JBoss_Enterprise_Application_Platform_Maven_Repository_Using_the_Project_POM">2.3.4. Configure the JBoss EAP 6 Maven Repository Using the Project POM</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Maven_BOM_Usage">2.3.5. Manage Project Dependencies</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Upgrade_the_Maven_Repository">2.4. Upgrade the Maven Repository</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Apply_a_Patch_to_the_Local_Maven_Repository">2.4.1. Apply a Patch to the Local Maven Repository</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#chap-Class_Loading_and_Modules">3. Class Loading and Modules</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Introduction1">3.1. Introduction</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Overview_of_Class_Loading_and_Modules">3.1.1. Overview of Class Loading and Modules</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Class_Loading">3.1.2. Class Loading</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Modules">3.1.3. Modules</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Module_Dependencies">3.1.4. Module Dependencies</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Class_Loading_in_Deployments">3.1.5. Class Loading in Deployments</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Class_Loading_Precedence">3.1.6. Class Loading Precedence</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Dynamic_Module_Naming1">3.1.7. Dynamic Module Naming</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#jboss-deployment-structurexml">3.1.8. jboss-deployment-structure.xml</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Add_an_Explicit_Module_Dependency_to_a_Deployment1">3.2. Add an Explicit Module Dependency to a Deployment</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Generate_MANIFESTMF_entries_using_Maven">3.3. Generate MANIFEST.MF entries using Maven</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Prevent_a_Module_Being_Implicitly_Loaded">3.4. Prevent a Module Being Implicitly Loaded</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Exclude_a_Subsystem_from_a_Deployment">3.5. Exclude a Subsystem from a Deployment</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Use_the_Class_Loader_Programmatically_in_a_Deployment">3.6. Use the Class Loader Programmatically in a Deployment</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Programmatically_Load_Classes_and_Resources_in_a_Deployment">3.6.1. Programmatically Load Classes and Resources in a Deployment</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Programmatically_Iterate_Resources_in_a_Deployment">3.6.2. Programmatically Iterate Resources in a Deployment</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Class_Loading_and_Subdeployments">3.7. Class Loading and Subdeployments</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Modules_and_Class_Loading_in_Enterprise_Archives">3.7.1. Modules and Class Loading in Enterprise Archives</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Subdeployment_Class_Loader_Isolation">3.7.2. Subdeployment Class Loader Isolation</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Disable_Subdeployment_Class_Loader_Isolation_Within_a_EAR">3.7.3. Disable Subdeployment Class Loader Isolation Within a EAR</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Reference2">3.8. Reference</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Implicit_Module_Dependencies">3.8.1. Implicit Module Dependencies</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Included_Modules1">3.8.2. Included Modules</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#JBoss_Deployment_Structure_Deployment_Descriptor_Reference">3.8.3. JBoss Deployment Structure Deployment Descriptor Reference</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#chap-Valves">4. Valves</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Valves">4.1. About Valves</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Global_Valves">4.2. About Global Valves</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Authenticator_Valves">4.3. About Authenticator Valves</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Configure_a_Web_Application_to_use_a_Valve">4.4. Configure a Web Application to use a Valve</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Configure_a_Web_Application_to_use_an_Authenticator_Valve">4.5. Configure a Web Application to use an Authenticator Valve</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Create_a_Custom_Valve">4.6. Create a Custom Valve</a></span></dt></dl></dd><dt><span class="chapter"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#chap-Logging_for_Developers">5. Logging for Developers</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Introduction3">5.1. Introduction</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Logging">5.1.1. About Logging</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Application_Logging_Frameworks_Supported_By_JBoss_LogManager1">5.1.2. Application Logging Frameworks Supported By JBoss LogManager</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Log_Levels">5.1.3. About Log Levels</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Supported_Log_Levels">5.1.4. Supported Log Levels</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Default_Log_File_Locations">5.1.5. Default Log File Locations</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Logging_with_the_JBoss_Logging_Framework">5.2. Logging with the JBoss Logging Framework</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_JBoss_Logging">5.2.1. About JBoss Logging</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Features_of_JBoss_Logging">5.2.2. Features of JBoss Logging</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Add_Logging_to_an_Application_with_JBoss_Logging">5.2.3. Add Logging to an Application with JBoss Logging</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Per-deployment_Logging">5.3. Per-deployment Logging</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Per-deployment_Logging">5.3.1. About Per-deployment Logging</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Add_Per-deployment_Logging_to_an_Application">5.3.2. Add Per-deployment Logging to an Application</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Example_logging.properties_File">5.3.3. Example logging.properties File</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Logging_Profiles">5.4. Logging Profiles</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Logging_Profiles">5.4.1. About Logging Profiles</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Specify_a_Logging_Profile_in_an_Application">5.4.2. Specify a Logging Profile in an Application</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#chap-Internationalization_and_Localization">6. Internationalization and Localization</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Introduction">6.1. Introduction</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Internationalisation">6.1.1. About Internationalization</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Localization">6.1.2. About Localization</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-JBoss_Logging_Tools">6.2. JBoss Logging Tools</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Overview">6.2.1. Overview</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Creating_Internationalized_Loggers_Messages_and_Exceptions">6.2.2. Creating Internationalized Loggers, Messages and Exceptions</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Localizing_Internationalized_Loggers_Messages_and_Exceptions">6.2.3. Localizing Internationalized Loggers, Messages and Exceptions</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Customizing_Internationalized_Log_Messages">6.2.4. Customizing Internationalized Log Messages</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Customizing_Internationalized_Exceptions">6.2.5. Customizing Internationalized Exceptions</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Reference">6.2.6. Reference</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#chap-Enterprise_JavaBeans">7. Enterprise JavaBeans</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Introduction4">7.1. Introduction</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Overview_of_Enterprise_JavaBeans">7.1.1. Overview of Enterprise JavaBeans</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#EJB_31_Feature_Set">7.1.2. EJB 3.1 Feature Set</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#EJB_31_Lite">7.1.3. EJB 3.1 Lite</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#EJB_31_Lite_Features">7.1.4. EJB 3.1 Lite Features</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Enterprise_Beans">7.1.5. Enterprise Beans</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Overview_of_Writing_Enterprise_Beans">7.1.6. Overview of Writing Enterprise Beans</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Session_Bean_Business_Interfaces">7.1.7. Session Bean Business Interfaces</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Creating_Enterprise_Bean_Projects">7.2. Creating Enterprise Bean Projects</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Create_an_EJB_Archive_Project_Using_JBoss_Developer_Studio">7.2.1. Create an EJB Archive Project Using Red Hat JBoss Developer Studio</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Create_an_EJB_Archive_Project_in_Maven">7.2.2. Create an EJB Archive Project in Maven</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Create_an_EAR_Project_containing_an_EJB_Project">7.2.3. Create an EAR Project containing an EJB Project</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Add_a_Deployment_Descriptor_to_an_EJB_Project">7.2.4. Add a Deployment Descriptor to an EJB Project</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Session_Beans">7.3. Session Beans</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Session_Beans">7.3.1. Session Beans</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Stateless_Session_Beans">7.3.2. Stateless Session Beans</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Stateful_Session_Beans">7.3.3. Stateful Session Beans</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Singleton_Session_Beans">7.3.4. Singleton Session Beans</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Add_Session_Beans_to_a_Project_in_JBoss_Developer_Studio">7.3.5. Add Session Beans to a Project in Red Hat JBoss Developer Studio</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Message-Driven_Beans">7.4. Message-Driven Beans</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Message-Driven_Beans1">7.4.1. Message-Driven Beans</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Resource_Adapters">7.4.2. Resource Adapters</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Create_a_JMS-based_Message-Driven_Bean_in_JBoss_Developer_Studio">7.4.3. Create a JMS-based Message-Driven Bean in Red Hat JBoss Developer Studio</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Enable_EJB_and_MDB_Property_Substitution_in_an_Application">7.4.4. Enable EJB and MDB Property Substitution in an Application</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Invoking_Session_Beans">7.5. Invoking Session Beans</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Invoke_a_Session_Bean_Remotely_using_JNDI1">7.5.1. Invoke a Session Bean Remotely using JNDI</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_EJB_Client_Contexts">7.5.2. About EJB Client Contexts</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Limitations_of_Single_EJB_Client_Context">7.5.3. Considerations When Using a Single EJB Context</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Using_Scoped_EJB_Client_Contexts">7.5.4. Using Scoped EJB Client Contexts</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Configure_EJBs_Using_a_Map-Based_or_Scoped_Context">7.5.5. Configure EJBs Using a Scoped EJB Client Context</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#EJB_Client_Properties">7.5.6. EJB Client Properties</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Container_Interceptors">7.6. Container Interceptors</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Container_Interceptors">7.6.1. About Container Interceptors</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Create_a_Container_Interceptor_Class">7.6.2. Create a Container Interceptor Class</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Configure_a_Container_Interceptor">7.6.3. Configure a Container Interceptor</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Change_the_Security_Context_Identity">7.6.4. Change the Security Context Identity</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Pass_Additional_Security_For_EJB_Authentication">7.6.5. Pass Additional Security For EJB Authentication</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Use_a_Client_Side_Interceptor_in_an_Application">7.6.6. Use a Client Side Interceptor in an Application</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Clustered_Enterprise_JavaBeans">7.7. Clustered Enterprise JavaBeans</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Clustered_Enterprise_JavaBeans_EJBs">7.7.1. About Clustered Enterprise JavaBeans (EJBs)</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Standalone_Client_Configuration">7.7.2. Standalone and In-server Client Configuration</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Implementing_a_Custom_Load_Balancing_Policy_for_EJB_Calls">7.7.3. Implementing a Custom Load Balancing Policy for EJB Calls</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Transaction_Behavior_of_EJB_Invocations">7.7.4. Transaction Behavior of EJB Invocations</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Reference1">7.8. Reference</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#EJB_JNDI_Naming_Reference">7.8.1. EJB JNDI Naming Reference</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#EJB_Reference_Resolution">7.8.2. EJB Reference Resolution</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Project_dependencies_for_Remote_EJB_Clients">7.8.3. Project dependencies for Remote EJB Clients</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#jboss-ejb3xml_Deployment_Descriptor_Reference">7.8.4. jboss-ejb3.xml Deployment Descriptor Reference</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#chap-JBoss_MBean_Services">8. JBoss MBean Services</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Writing_JBoss_MBean_Services">8.1. Writing JBoss MBean Services</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#A_Standard_MBean_Example">8.2. A Standard MBean Example</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Deploying_JBoss_MBean_Services">8.3. Deploying JBoss MBean Services</a></span></dt></dl></dd><dt><span class="chapter"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#chap-Clustering_in_Web_Applications">9. Clustering in Web Applications</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Session_Replication">9.1. Session Replication</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_HTTP_Session_Replication">9.1.1. About HTTP Session Replication</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_the_Web_Session_Cache">9.1.2. About the Web Session Cache</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Configure_the_Web_Session_Cache">9.1.3. Configure the Web Session Cache</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Enable_Session_Replication_in_Your_Application">9.1.4. Enable Session Replication in Your Application</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-HttpSession_Passivation_and_Activation">9.2. HttpSession Passivation and Activation</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_HTTP_Session_Passivation_and_Activation">9.2.1. About HTTP Session Passivation and Activation</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Configure_HttpSession_Passivation_in_Your_Application">9.2.2. Configure HttpSession Passivation in Your Application</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Cookie_Domain">9.3. Cookie Domain</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_the_Cookie_Domain">9.3.1. About the Cookie Domain</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Configure_the_Cookie_Domain">9.3.2. Configure the Cookie Domain</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Implement_an_HA_Singleton">9.4. Implement an HA Singleton</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Apache_mod_cluster-manager_Application">9.5. Apache mod_cluster-manager Application</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_mod_cluster-manager_Application">9.5.1. About mod_cluster-manager Application</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Exploring_mod_cluster-manager_Application">9.5.2. Exploring mod_cluster-manager Application</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#chap-CDI">10. CDI</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Overview_of_CDI">10.1. Overview of CDI</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Overview_of_CDI">10.1.1. Overview of CDI</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Contexts_and_Dependency_Injection_CDI">10.1.2. About Contexts and Dependency Injection (CDI)</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Benefits_of_CDI">10.1.3. Benefits of CDI</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Type-safe_Dependency_Injection">10.1.4. About Type-safe Dependency Injection</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Relationship_Between_Weld_Seam_2_and_JavaServer_Faces">10.1.5. Relationship Between Weld, Seam 2, and JavaServer Faces</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Use_CDI">10.2. Use CDI</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-First_Steps">10.2.1. First Steps</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Use_CDI_to_Develop_an_Application">10.2.2. Use CDI to Develop an Application</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Ambiguous_or_Unsatisfied_Dependencies">10.2.3. Ambiguous or Unsatisfied Dependencies</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Managed_Beans">10.2.4. Managed Beans</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Contexts_Scopes_and_Dependencies">10.2.5. Contexts, Scopes, and Dependencies</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Bean_Lifecycle">10.2.6. Bean Lifecycle</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Named_Beans_and_Alternative_Beans">10.2.7. Named Beans and Alternative Beans</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Stereotypes">10.2.8. Stereotypes</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Observer_Methods">10.2.9. Observer Methods</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Interceptors">10.2.10. Interceptors</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Decorators">10.2.11. About Decorators</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Portable_Extensions">10.2.12. About Portable Extensions</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Bean_Proxies">10.2.13. Bean Proxies</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#chap-Java_Transaction_API_JTA">11. Java Transaction API (JTA)</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Overview1">11.1. Overview</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Overview_of_Java_Transactions_API_JTA">11.1.1. Overview of Java Transactions API (JTA)</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Transaction_Concepts">11.2. Transaction Concepts</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Transactions">11.2.1. About Transactions</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_ACID_Properties_for_Transactions">11.2.2. About ACID Properties for Transactions</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_the_Transaction_Coordinator_or_Transaction_Manager">11.2.3. About the Transaction Coordinator or Transaction Manager</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Transaction_Participants">11.2.4. About Transaction Participants</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Java_Transactions_API_JTA1">11.2.5. About Java Transactions API (JTA)</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Java_Transaction_Service_JTS">11.2.6. About Java Transaction Service (JTS)</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_XA_Datasources_and_XA_Transactions">11.2.7. About XA Datasources and XA Transactions</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_XA_Recovery">11.2.8. About XA Recovery</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_the_2-Phase_Commit_Protocol">11.2.9. About the 2-Phase Commit Protocol</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Transaction_Timeouts">11.2.10. About Transaction Timeouts</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Distributed_Transactions">11.2.11. About Distributed Transactions</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_the_ORB_Portability_API">11.2.12. About the ORB Portability API</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Nested_Transactions">11.2.13. About Nested Transactions</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Transaction_Optimizations">11.3. Transaction Optimizations</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Overview_of_Transaction_Optimizations">11.3.1. Overview of Transaction Optimizations</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-About_the_LRCO_Optimization_for_Single-phase_Commit_1PC">11.3.2. About the LRCO Optimization for Single-phase Commit (1PC)</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_the_Presumed-Abort_Optimization">11.3.3. About the Presumed-Abort Optimization</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_the_Read-Only_Optimization">11.3.4. About the Read-Only Optimization</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Transaction_Outcomes">11.4. Transaction Outcomes</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Transaction_Outcomes">11.4.1. About Transaction Outcomes</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Transaction_Commit">11.4.2. About Transaction Commit</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Transaction_Roll-Back">11.4.3. About Transaction Roll-Back</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Heuristic_Outcomes">11.4.4. About Heuristic Outcomes</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#JBoss_Transactions_Errors_and_Exceptions">11.4.5. JBoss Transactions Errors and Exceptions</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Overview_of_JTA_Transactions">11.5. Overview of JTA Transactions</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Java_Transactions_API_JTA">11.5.1. About Java Transactions API (JTA)</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Lifecycle_of_a_JTA_Transaction">11.5.2. Lifecycle of a JTA Transaction</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Transaction_Subsystem_Configuration">11.6. Transaction Subsystem Configuration</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Transactions_Configuration_Overview1">11.6.1. Transactions Configuration Overview</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Transactional_Datasource_Configuration">11.6.2. Transactional Datasource Configuration</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Transaction_Logging">11.6.3. Transaction Logging</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Use_JTA_Transactions">11.7. Use JTA Transactions</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Transactions_JTA_Task_Overview">11.7.1. Transactions JTA Task Overview</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Control_JTA_Transactions">11.7.2. Control Transactions</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Begin_a_JTA_Transaction">11.7.3. Begin a Transaction</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Nest_Transactions">11.7.4. Nested Transactions</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Commit_a_JTA_Transaction">11.7.5. Commit a Transaction</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Roll_Back_a_JTA_Transaction">11.7.6. Roll Back a Transaction</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Handle_a_Heuristic_Outcome_in_a_JTA_Transaction">11.7.7. Handle a Heuristic Outcome in a Transaction</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Transaction_Timeouts">11.7.8. Transaction Timeouts</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-JTA_Transaction_Error_Handling">11.7.9. JTA Transaction Error Handling</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-ORB_Configuration">11.8. ORB Configuration</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#CORBA">11.8.1. About Common Object Request Broker Architecture (CORBA)</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Configure_the_ORB_for_JTS_Transactions">11.8.2. Configure the ORB for JTS Transactions</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Transaction_References">11.9. Transaction References</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#JBoss_Transactions_Errors_and_Exceptions1">11.9.1. JBoss Transactions Errors and Exceptions</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#JTA_Clustering_Limitations1">11.9.2. Limitations on JTA Transactions</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#JTA_Transaction_Example">11.9.3. JTA Transaction Example</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#API_Documentation_for_JBoss_Transactions_JTA">11.9.4. API Documentation for JBoss Transactions JTA</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Limitations_of_the_XA_Recovery_Process">11.9.5. Limitations of the XA Recovery Process</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#chap-Hibernate">12. Hibernate</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Hibernate_Core1">12.1. About Hibernate Core</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Java_Persistence_API_JPA">12.2. Java Persistence API (JPA)</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_JPA1">12.2.1. About JPA</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Hibernate_EntityManager1">12.2.2. Hibernate EntityManager</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Getting_Started">12.2.3. Getting Started</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Configuration1">12.2.4. Configuration</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Second-Level_Caches">12.2.5. Second-Level Caches</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Hibernate_Annotations">12.3. Hibernate Annotations</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Hibernate_Annotations">12.3.1. Hibernate Annotations</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Hibernate_Query_Language">12.4. Hibernate Query Language</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#HQL_and_JPQL">12.4.1. About Hibernate Query Language</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#HQL_Statements">12.4.2. HQL Statements</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_the_INSERT_Statement">12.4.3. About the INSERT Statement</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#The_FROM_Clause_in_HQL">12.4.4. About the FROM Clause</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_the_WITH_Clause">12.4.5. About the WITH Clause</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Bulk_Update_Insert_and_Delete">12.4.6. About Bulk Update, Insert and Delete</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Collection_Member_References">12.4.7. About Collection Member References</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Qualified_Path_Expressions">12.4.8. About Qualified Path Expressions</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Scalar_Functions">12.4.9. About Scalar Functions</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#HQL_Expressions">12.4.10. HQL Standardized Functions</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_the_Concatenation_Operation">12.4.11. About the Concatenation Operation</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#The_SELECT_Clause_in_HQL">12.4.12. About Dynamic Instantiation</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#HQL_Predicates">12.4.13. About HQL Predicates</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Relational_Comparisons">12.4.14. About Relational Comparisons</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_the_IN_Predicate">12.4.15. About the IN Predicate</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Ordering_in_HQL">12.4.16. About HQL Ordering</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Hibernate_Services">12.5. Hibernate Services</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Hibernate_Services">12.5.1. About Hibernate Services</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Service_Contracts">12.5.2. About Service Contracts</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Types_of_Service_Dependencies">12.5.3. Types of Service Dependencies</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-The_ServiceRegistry">12.5.4. The ServiceRegistry</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Custom_Services">12.5.5. Custom Services</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-The_Bootstrap_Registry">12.5.6. The Bootstrap Registry</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-The_SessionFactory_Registry">12.5.7. The SessionFactory Registry</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Integrators">12.5.8. Integrators</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Bean_Validation">12.6. Bean Validation</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Bean_Validation1">12.6.1. About Bean Validation</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Hibernate_Validator1">12.6.2. Hibernate Validator</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Validation_Constraints">12.6.3. Validation Constraints</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Configuration2">12.6.4. Configuration</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Envers">12.7. Envers</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Hibernate_Envers1">12.7.1. About Hibernate Envers</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Auditing_Persistent_Classes">12.7.2. About Auditing Persistent Classes</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Auditing_Strategies">12.7.3. Auditing Strategies</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Getting_Started_with_Entity_Auditing">12.7.4. Getting Started with Entity Auditing</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Configuration">12.7.5. Configuration</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Queries">12.7.6. Queries</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Performance_Tuning">12.8. Performance Tuning</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Alternative_Batch_Loading_Algorithms">12.8.1. Alternative Batch Loading Algorithms</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Second_Level_Caching_of_Object_References_for_Non-mutable_Data">12.8.2. Second Level Caching of Object References for Non-mutable Data</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#chap-JAX-RS_Web_Services">13. JAX-RS Web Services</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_JAX-RS">13.1. About JAX-RS</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_RESTEasy">13.2. About RESTEasy</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_RESTful_Web_Services">13.3. About RESTful Web Services</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#RESTEasy_Defined_Annotations">13.4. RESTEasy Defined Annotations</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-RESTEasy_Configuration">13.5. RESTEasy Configuration</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#RESTEasy_Configuration_Parameters">13.5.1. RESTEasy Configuration Parameters</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-JAX-RS_Web_Service_Security">13.6. JAX-RS Web Service Security</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Enable_Role-Based_Security_for_a_RESTEasy_JAX-RS_Web_Service1">13.6.1. Enable Role-Based Security for a RESTEasy JAX-RS Web Service</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Secure_a_JAX-RS_Web_Service_using_Annotations1">13.6.2. Secure a JAX-RS Web Service using Annotations</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-RESTEasy_Logging">13.7. RESTEasy Logging</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_JAX-RS_Web_Service_Logging">13.7.1. About JAX-RS Web Service Logging</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Logging_Categories_Defined_in_RESTEasy">13.7.2. Logging Categories Defined in RESTEasy</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Exception_Handling">13.8. Exception Handling</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Create_an_Exception_Mapper">13.8.1. Create an Exception Mapper</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#RESTEasy_Internally_Thrown_Exceptions">13.8.2. RESTEasy Internally Thrown Exceptions</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-RESTEasy_Interceptors">13.9. RESTEasy Interceptors</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Intercept_JAX-RS_Invocations">13.9.1. Intercept JAX-RS Invocations</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Bind_an_Interceptor_to_a_JAX-RS_Method">13.9.2. Bind an Interceptor to a JAX-RS Method</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Register_an_Interceptor">13.9.3. Register an Interceptor</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Interceptor_Precedence_Families">13.9.4. Interceptor Precedence Families</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-String_Based_Annotations">13.10. String Based Annotations</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Convert_String_Based_Param_Annotations_to_Objects">13.10.1. Convert String Based @*Param Annotations to Objects</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Configure_File_Extensions">13.11. Configure File Extensions</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Map_File_Extensions_to_Media_Types_in_the_webxml_File">13.11.1. Map File Extensions to Media Types in the web.xml File</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Map_File_Extensions_to_Languages_in_the_webxml_File">13.11.2. Map File Extensions to Languages in the web.xml File</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#RESTEasy_Supported_Media_Types">13.11.3. RESTEasy Supported Media Types</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-RESTEasy_JavaScript_API">13.12. RESTEasy JavaScript API</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_the_RESTEasy_JavaScript_API">13.12.1. About the RESTEasy JavaScript API</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Enable_the_RESTEasy_JavaScript_API_Servlet">13.12.2. Enable the RESTEasy JavaScript API Servlet</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#RESTEasy_Javascript_API_Parameters">13.12.3. RESTEasy Javascript API Parameters</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Build_AJAX_Queries_with_the_JavaScript_API">13.12.4. Build AJAX Queries with the JavaScript API</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#RESTRequest_Class_Members">13.12.5. REST.Request Class Members</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-RESTEasy_Asynchronous_Job_Service">13.13. RESTEasy Asynchronous Job Service</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_the_RESTEasy_Asynchronous_Job_Service">13.13.1. About the RESTEasy Asynchronous Job Service</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Enable_the_Asynchronous_Job_Service">13.13.2. Enable the Asynchronous Job Service</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Configure_Asynchronous_Jobs_for_RESTEasy">13.13.3. Configure Asynchronous Jobs for RESTEasy</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Asynchronous_Job_Service_Configuration_Parameters">13.13.4. Asynchronous Job Service Configuration Parameters</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-RESTEasy_JAXB">13.14. RESTEasy JAXB</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Create_a_JAXB_Decorator">13.14.1. Create a JAXB Decorator</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-RESTEasy_Atom_Support">13.15. RESTEasy Atom Support</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_the_Atom_API_and_Provider">13.15.1. About the Atom API and Provider</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-RESTEasySpring_Integration">13.16. RESTEasy/Spring Integration</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#RESTeasySpring_integration">13.16.1. RESTEasy/Spring integration</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#chap-JAX-WS_Web_Services">14. JAX-WS Web Services</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_JAX-WS_Web_Services">14.1. About JAX-WS Web Services</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Configure_the_literalwebservicesliteral_Subsystem">14.2. Configure the webservices Subsystem</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-JAX-WS_Web_Service_Endpoints">14.3. JAX-WS Web Service Endpoints</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_JAX-WS_Web_Service_Endpoints">14.3.1. About JAX-WS Web Service Endpoints</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Write_and_Deploy_a_JAX-WS_Web_Service_Endpoint">14.3.2. Write and Deploy a JAX-WS Web Service Endpoint</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-JAX-WS_Web_service_Clients">14.4. JAX-WS Web service Clients</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Consume_and_Access_a_JAX-WS_Web_Service">14.4.1. Consume and Access a JAX-WS Web Service</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Develop_a_JAX-WS_Client_Application">14.4.2. Develop a JAX-WS Client Application</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-JAX-WS_Development_Reference">14.5. JAX-WS Development Reference</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Enable_Web_Services_Addressing_WS-Addressing">14.5.1. Enable Web Services Addressing (WS-Addressing)</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#JAX-WS_Common_API_Reference">14.5.2. JAX-WS Common API Reference</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#chap-WebSockets">15. WebSockets</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_WebSockets">15.1. About WebSockets</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Create_a_Websocket_Application">15.2. Create a WebSocket Application</a></span></dt></dl></dd><dt><span class="chapter"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#chap-Identity_Within_Applications">16. Identity Within Applications</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Foundational_Concepts">16.1. Foundational Concepts</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Encryption">16.1.1. About Encryption</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Security_Domains">16.1.2. About Security Domains</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_SSL_Encryption">16.1.3. About SSL Encryption</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Declarative_Security">16.1.4. About Declarative Security</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Role-Based_Security_in_Applications">16.2. Role-Based Security in Applications</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Application_Security">16.2.1. About Application Security</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Authentication1">16.2.2. About Authentication</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Authorization1">16.2.3. About Authorization</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Security_Auditing1">16.2.4. About Security Auditing</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Security_Mapping1">16.2.5. About Security Mapping</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Java_Authentication_and_Authorization_Service_JAAS">16.2.6. Java Authentication and Authorization Service (JAAS)</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Java_Authentication_and_Authorization_Service_JAAS">16.2.7. About Java Authentication and Authorization Service (JAAS)</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Use_a_Security_Domain_in_Your_Application">16.2.8. Use a Security Domain in Your Application</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Use_Role-Based_Security_In_Servlets">16.2.9. Use Role-Based Security In Servlets</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Use_A_Third-Party_Authentication_System_In_Your_Application">16.2.10. Use A Third-Party Authentication System In Your Application</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Security_Realms">16.3. Security Realms</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Security_Realms">16.3.1. About Security Realms</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Add_a_New_Security_Realm">16.3.2. Add a New Security Realm</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Add_a_User_to_a_Security_Realm">16.3.3. Add a User to a Security Realm</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-EJB_Application_Security">16.4. EJB Application Security</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Security_Identity">16.4.1. Security Identity</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-EJB_Method_Permissions">16.4.2. EJB Method Permissions</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-EJB_Security_Annotations">16.4.3. EJB Security Annotations</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Remote_Access_to_EJBs">16.4.4. Remote Access to EJBs</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-JAX-RS_Application_Security">16.5. JAX-RS Application Security</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Enable_Role-Based_Security_for_a_RESTEasy_JAX-RS_Web_Service">16.5.1. Enable Role-Based Security for a RESTEasy JAX-RS Web Service</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Secure_a_JAX-RS_Web_Service_using_Annotations">16.5.2. Secure a JAX-RS Web Service using Annotations</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Secure_Remote_Password_Protocol">16.6. Secure Remote Password Protocol</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Secure_Remote_Password_Protocol_SRP">16.6.1. About Secure Remote Password Protocol (SRP)</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Configure_Secure_Remote_Password_ISRP_Protocol">16.6.2. Configure Secure Remote Password (SRP) Protocol</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Password_Vaults_for_Sensitive_Strings">16.7. Password Vaults for Sensitive Strings</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Securing_Sensitive_Strings_in_Clear-Text_Files1">16.7.1. Password Vault System</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Create_a_Java_Keystore_to_Store_Sensitive_Strings">16.7.2. Create a Java Keystore to Store Sensitive Strings</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Mask_the_Keystore_Password_and_Initialize_the_Password_Vault.">16.7.3. Mask the Keystore Password and Initialize the Password Vault</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Configure_the_Enterprise_Application_Platform_to_Use_the_Password_Vault1">16.7.4. Configure JBoss EAP 6 to Use the Password Vault</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Configure_JBoss_EAP_6_to_Use_a_Custom_Implementation_of_the_Password_Vault">16.7.5. Configure JBoss EAP 6 to Use a Custom Implementation of the Password Vault</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Store_and_Retrieve_Encrypted_Sensitive_Strings_in_the_Java_Keystore">16.7.6. Store and Retrieve Encrypted Sensitive Strings in the Java Keystore</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Store_and_Resolve_Sensitive_Strings_In_Your_Applications1">16.7.7. Store and Resolve Sensitive Strings In Your Applications</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Java_Authorization_Contract_for_Containers_JACC">16.8. Java Authorization Contract for Containers (JACC)</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Java_Authorization_Contract_for_Containers_JACC">16.8.1. About Java Authorization Contract for Containers (JACC)</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Configure_Java_Authorization_Contract_for_Containers_JACC_Security">16.8.2. Configure Java Authorization Contract for Containers (JACC) Security</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Java_Authentication_SPI_for_Containers_JASPI">16.9. Java Authentication SPI for Containers (JASPI)</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Java_Authentication_SPI_for_Containers_JASPI_Security1">16.9.1. About Java Authentication SPI for Containers (JASPI) Security</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Configure_Java_Authentication_SPI_for_Containers_JASPI_Security1">16.9.2. Configure Java Authentication SPI for Containers (JASPI) Security</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#chap-Single_Sign_On_SSO">17. Single Sign On (SSO)</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Single_Sign_On_SSO_for_Web_Applications">17.1. About Single Sign On (SSO) for Web Applications</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Clustered_Single_Sign_On_SSO_for_Web_Applications">17.2. About Clustered Single Sign On (SSO) for Web Applications</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Choose_the_Right_SSO_Implementation">17.3. Choose the Right SSO Implementation</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Use_Single_Sign_On_SSO_In_A_Web_Application">17.4. Use Single Sign On (SSO) In A Web Application</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Kerberos">17.5. About Kerberos</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_SPNEGO">17.6. About SPNEGO</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Microsoft_Active_Directory">17.7. About Microsoft Active Directory</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Configure_Kerberos_or_Microsoft_Active_Directory_Desktop_SSO_for_Web_Applications">17.8. Configure Kerberos or Microsoft Active Directory Desktop SSO for Web Applications</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Configure_SPNEGO_Fall_Back_to_Form_Authentication">17.9. Configure SPNEGO Fall Back to Form Authentication</a></span></dt></dl></dd><dt><span class="chapter"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#chap-Development_Security_References">18. Development Security References</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#jboss-webxml_Configuration_Reference">18.1. jboss-web.xml Configuration Reference</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#EJB_Security_Parameter_Reference">18.2. EJB Security Parameter Reference</a></span></dt></dl></dd><dt><span class="chapter"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#chap-Supplemental_References">19. Supplemental References</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Types_of_Java_Archives">19.1. Types of Java Archives</a></span></dt></dl></dd><dt><span class="appendix"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#appe-Revision_History">A. Revision History</a></span></dt></dl></div><button onclick="toggleToc();" class="menu-toggle"><span></span></button></div><div id="nodocnav"></div><div xml:lang="en-US" class="book" lang="en-US"><div class="titlepage"><div><div class="producttitle"><span xmlns:d="http://docbook.org/ns/docbook" class="productname">JBoss Enterprise Application Platform</span> <span xmlns:d="http://docbook.org/ns/docbook" class="productnumber">6.3</span></div><div><h1 class="title"><a id="idp98679120"></a>Development Guide</h1></div><div><h2 class="subtitle">For Use with Red Hat JBoss Enterprise Application Platform 6</h2></div><div><h3 class="corpauthor">
		<span class="inlinemediaobject"><object data="https://access.redhat.com/documentation/JBoss/en-US/images/title_logo.svg" type="image/svg+xml"><img src="./JBoss_6_3_files/title_logo.png" alt=""></object></span>

	</h3></div><div><div xml:lang="en-US" class="authorgroup" lang="en-US"><a id="Author_Group">
      ⁠</a><h3 class="corpauthor">
		Red Hat Customer Content Services
	</h3></div></div><div><div class="legalnotice"><a id="idp20950880"></a><h1 class="legalnotice">Legal Notice</h1><div class="para">
		Copyright <span class="trademark"></span>© 2014 Red Hat, Inc..
	</div><div class="para">
		This document is licensed by Red Hat under the <a href="http://creativecommons.org/licenses/by-sa/3.0/">Creative Commons Attribution-ShareAlike 3.0 Unported License</a>. If you distribute this document, or a modified version of it, you must provide attribution to Red Hat, Inc. and provide a link to the original. If the document is modified, all Red Hat trademarks must be removed.
	</div><div class="para">
		Red Hat, as the licensor of this document, waives the right to enforce, and agrees not to assert, Section 4d of CC-BY-SA to the fullest extent permitted by applicable law.
	</div><div class="para">
		Red Hat, Red Hat Enterprise Linux, the Shadowman logo, JBoss, MetaMatrix, Fedora, the Infinity Logo, and RHCE are trademarks of Red Hat, Inc., registered in the United States and other countries.
	</div><div class="para">
		<span class="trademark">Linux</span>® is the registered trademark of Linus Torvalds in the United States and other countries.
	</div><div class="para">
		<span class="trademark">Java</span>® is a registered trademark of Oracle and/or its affiliates.
	</div><div class="para">
		<span class="trademark">XFS</span>® is a trademark of Silicon Graphics International Corp. or its subsidiaries in the United States and/or other countries.
	</div><div class="para">
		<span class="trademark">MySQL</span>® is a registered trademark of MySQL AB in the United States, the European Union and other countries.
	</div><div class="para">
		<span class="trademark">Node.js</span>® is an official trademark of Joyent. Red Hat Software Collections is not formally related to or endorsed by the official Joyent Node.js open source or commercial project.
	</div><div class="para">
		The <span class="trademark">OpenStack</span>® Word Mark and OpenStack Logo are either registered trademarks/service marks or trademarks/service marks of the OpenStack Foundation, in the United States and other countries and are used with the OpenStack Foundation's permission. We are not affiliated with, endorsed or sponsored by the OpenStack Foundation, or the OpenStack community.
	</div><div class="para">
		All other trademarks are the property of their respective owners.
	</div></div></div><div><div class="abstract"><p class="title"><strong>Abstract</strong></p><div class="para">
			This book provides references and examples for Java EE 6 developers using Red Hat JBoss Enterprise Application Platform 6 and its patch releases.
		</div></div></div></div></div><div class="toc"><dl><dt><span class="preface"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#idp11273296">Preface</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#idp4002640">1. Document Conventions</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#idp4001664">1.1. Typographic Conventions</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#idp10432608">1.2. Pull-quote Conventions</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#idp23110496">1.3. Notes and Warnings</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect_RedHat-Getting_Help_and_Giving_Feedback">2. Getting Help and Giving Feedback</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect_RedHat-Do_You_Need_Help">2.1. Do You Need Help?</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-RedHat-We_Need_Feedback">2.2. We Need Feedback!</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#chap-Get_Started_Developing_Applications">1. Get Started Developing Applications</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Introduction2">1.1. Introduction</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_JBoss_Enterprise_Application_Platform_6">1.1.1. About Red Hat JBoss Enterprise Application Platform 6</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Prerequisites">1.2. Prerequisites</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Become_Familiar_with_Java_Enterprise_Edition_6">1.2.1. Become Familiar with Java Enterprise Edition 6</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-About_Modules_and_the_New_Modular_Class_Loading_System_used_in_JBoss_EAP_6">1.2.2. About Modules and the New Modular Class Loading System used in JBoss EAP 6</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Set_Up_the_Development_Environment">1.3. Set Up the Development Environment</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Download_and_Install_Red_Hat_JBoss_Developer_Studio">1.3.1. Download and Install Red Hat JBoss Developer Studio</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Run_Your_First_Application">1.4. Run Your First Application</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Download_the_Quickstart_Code_Examples">1.4.1. Download the Quickstart Code Examples</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Run_the_Quickstarts">1.4.2. Run the Quickstarts</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Review_the_Quickstart_Tutorials">1.4.3. Review the Quickstart Tutorials</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Replace_the_Default_Welcome_Web_Application1">1.4.4. Replace the Default Welcome Web Application</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#chap-Maven_Guide">2. Maven Guide</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Learn_about_Maven">2.1. Learn about Maven</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_the_Maven_Repository">2.1.1. About the Maven Repository</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_the_Maven_POM_File">2.1.2. About the Maven POM File</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Minimum_Requirements_of_a_Maven_POM_File">2.1.3. Minimum Requirements of a Maven POM File</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_the_Maven_Settings_File">2.1.4. About the Maven Settings File</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Install_Maven_and_the_JBoss_Maven_Repository">2.2. Install Maven and the JBoss Maven Repository</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Download_and_Install_Maven">2.2.1. Download and Install Maven</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Install_the_JBoss_Enterprise_Application_Platform_6_Maven_Repository">2.2.2. Install the JBoss EAP 6 Maven Repository</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Install_the_JBoss_Enterprise_Application_Platform_6_Maven_Repository_Locally">2.2.3. Install the JBoss EAP 6 Maven Repository Locally</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Install_the_JBoss_Enterprise_Application_Platform_6_Maven_Repository_for_Use_with_Apache_httpd">2.2.4. Install the JBoss EAP 6 Maven Repository for Use with Apache httpd</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Install_the_JBoss_Enterprise_Application_Platform_6_Maven_Repository_Using_Nexus_Maven_Repository_Manager">2.2.5. Install the JBoss EAP 6 Maven Repository Using Nexus Maven Repository Manager</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Maven_Repository_Managers">2.2.6. About Maven Repository Managers</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Use_the_Maven_Repository">2.3. Use the Maven Repository</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Configure_the_JBoss_Enterprise_Application_Platform_Maven_Repository">2.3.1. Configure the JBoss EAP Maven 6 Repository</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Configure_the_JBoss_Enterprise_Application_Platform_Maven_Repository_Using_the_Maven_Settings">2.3.2. Configure the JBoss EAP 6 Maven Repository Using the Maven Settings</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Configure_Maven_for_Use_with_JBoss_Developer_Studio">2.3.3. Configure Maven for Use with Red Hat JBoss Developer Studio</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Configure_the_JBoss_Enterprise_Application_Platform_Maven_Repository_Using_the_Project_POM">2.3.4. Configure the JBoss EAP 6 Maven Repository Using the Project POM</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Maven_BOM_Usage">2.3.5. Manage Project Dependencies</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Upgrade_the_Maven_Repository">2.4. Upgrade the Maven Repository</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Apply_a_Patch_to_the_Local_Maven_Repository">2.4.1. Apply a Patch to the Local Maven Repository</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#chap-Class_Loading_and_Modules">3. Class Loading and Modules</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Introduction1">3.1. Introduction</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Overview_of_Class_Loading_and_Modules">3.1.1. Overview of Class Loading and Modules</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Class_Loading">3.1.2. Class Loading</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Modules">3.1.3. Modules</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Module_Dependencies">3.1.4. Module Dependencies</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Class_Loading_in_Deployments">3.1.5. Class Loading in Deployments</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Class_Loading_Precedence">3.1.6. Class Loading Precedence</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Dynamic_Module_Naming1">3.1.7. Dynamic Module Naming</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#jboss-deployment-structurexml">3.1.8. jboss-deployment-structure.xml</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Add_an_Explicit_Module_Dependency_to_a_Deployment1">3.2. Add an Explicit Module Dependency to a Deployment</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Generate_MANIFESTMF_entries_using_Maven">3.3. Generate MANIFEST.MF entries using Maven</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Prevent_a_Module_Being_Implicitly_Loaded">3.4. Prevent a Module Being Implicitly Loaded</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Exclude_a_Subsystem_from_a_Deployment">3.5. Exclude a Subsystem from a Deployment</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Use_the_Class_Loader_Programmatically_in_a_Deployment">3.6. Use the Class Loader Programmatically in a Deployment</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Programmatically_Load_Classes_and_Resources_in_a_Deployment">3.6.1. Programmatically Load Classes and Resources in a Deployment</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Programmatically_Iterate_Resources_in_a_Deployment">3.6.2. Programmatically Iterate Resources in a Deployment</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Class_Loading_and_Subdeployments">3.7. Class Loading and Subdeployments</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Modules_and_Class_Loading_in_Enterprise_Archives">3.7.1. Modules and Class Loading in Enterprise Archives</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Subdeployment_Class_Loader_Isolation">3.7.2. Subdeployment Class Loader Isolation</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Disable_Subdeployment_Class_Loader_Isolation_Within_a_EAR">3.7.3. Disable Subdeployment Class Loader Isolation Within a EAR</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Reference2">3.8. Reference</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Implicit_Module_Dependencies">3.8.1. Implicit Module Dependencies</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Included_Modules1">3.8.2. Included Modules</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#JBoss_Deployment_Structure_Deployment_Descriptor_Reference">3.8.3. JBoss Deployment Structure Deployment Descriptor Reference</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#chap-Valves">4. Valves</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Valves">4.1. About Valves</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Global_Valves">4.2. About Global Valves</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Authenticator_Valves">4.3. About Authenticator Valves</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Configure_a_Web_Application_to_use_a_Valve">4.4. Configure a Web Application to use a Valve</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Configure_a_Web_Application_to_use_an_Authenticator_Valve">4.5. Configure a Web Application to use an Authenticator Valve</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Create_a_Custom_Valve">4.6. Create a Custom Valve</a></span></dt></dl></dd><dt><span class="chapter"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#chap-Logging_for_Developers">5. Logging for Developers</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Introduction3">5.1. Introduction</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Logging">5.1.1. About Logging</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Application_Logging_Frameworks_Supported_By_JBoss_LogManager1">5.1.2. Application Logging Frameworks Supported By JBoss LogManager</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Log_Levels">5.1.3. About Log Levels</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Supported_Log_Levels">5.1.4. Supported Log Levels</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Default_Log_File_Locations">5.1.5. Default Log File Locations</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Logging_with_the_JBoss_Logging_Framework">5.2. Logging with the JBoss Logging Framework</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_JBoss_Logging">5.2.1. About JBoss Logging</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Features_of_JBoss_Logging">5.2.2. Features of JBoss Logging</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Add_Logging_to_an_Application_with_JBoss_Logging">5.2.3. Add Logging to an Application with JBoss Logging</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Per-deployment_Logging">5.3. Per-deployment Logging</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Per-deployment_Logging">5.3.1. About Per-deployment Logging</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Add_Per-deployment_Logging_to_an_Application">5.3.2. Add Per-deployment Logging to an Application</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Example_logging.properties_File">5.3.3. Example logging.properties File</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Logging_Profiles">5.4. Logging Profiles</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Logging_Profiles">5.4.1. About Logging Profiles</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Specify_a_Logging_Profile_in_an_Application">5.4.2. Specify a Logging Profile in an Application</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#chap-Internationalization_and_Localization">6. Internationalization and Localization</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Introduction">6.1. Introduction</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Internationalisation">6.1.1. About Internationalization</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Localization">6.1.2. About Localization</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-JBoss_Logging_Tools">6.2. JBoss Logging Tools</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Overview">6.2.1. Overview</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Creating_Internationalized_Loggers_Messages_and_Exceptions">6.2.2. Creating Internationalized Loggers, Messages and Exceptions</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Localizing_Internationalized_Loggers_Messages_and_Exceptions">6.2.3. Localizing Internationalized Loggers, Messages and Exceptions</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Customizing_Internationalized_Log_Messages">6.2.4. Customizing Internationalized Log Messages</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Customizing_Internationalized_Exceptions">6.2.5. Customizing Internationalized Exceptions</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Reference">6.2.6. Reference</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#chap-Enterprise_JavaBeans">7. Enterprise JavaBeans</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Introduction4">7.1. Introduction</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Overview_of_Enterprise_JavaBeans">7.1.1. Overview of Enterprise JavaBeans</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#EJB_31_Feature_Set">7.1.2. EJB 3.1 Feature Set</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#EJB_31_Lite">7.1.3. EJB 3.1 Lite</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#EJB_31_Lite_Features">7.1.4. EJB 3.1 Lite Features</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Enterprise_Beans">7.1.5. Enterprise Beans</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Overview_of_Writing_Enterprise_Beans">7.1.6. Overview of Writing Enterprise Beans</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Session_Bean_Business_Interfaces">7.1.7. Session Bean Business Interfaces</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Creating_Enterprise_Bean_Projects">7.2. Creating Enterprise Bean Projects</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Create_an_EJB_Archive_Project_Using_JBoss_Developer_Studio">7.2.1. Create an EJB Archive Project Using Red Hat JBoss Developer Studio</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Create_an_EJB_Archive_Project_in_Maven">7.2.2. Create an EJB Archive Project in Maven</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Create_an_EAR_Project_containing_an_EJB_Project">7.2.3. Create an EAR Project containing an EJB Project</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Add_a_Deployment_Descriptor_to_an_EJB_Project">7.2.4. Add a Deployment Descriptor to an EJB Project</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Session_Beans">7.3. Session Beans</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Session_Beans">7.3.1. Session Beans</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Stateless_Session_Beans">7.3.2. Stateless Session Beans</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Stateful_Session_Beans">7.3.3. Stateful Session Beans</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Singleton_Session_Beans">7.3.4. Singleton Session Beans</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Add_Session_Beans_to_a_Project_in_JBoss_Developer_Studio">7.3.5. Add Session Beans to a Project in Red Hat JBoss Developer Studio</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Message-Driven_Beans">7.4. Message-Driven Beans</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Message-Driven_Beans1">7.4.1. Message-Driven Beans</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Resource_Adapters">7.4.2. Resource Adapters</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Create_a_JMS-based_Message-Driven_Bean_in_JBoss_Developer_Studio">7.4.3. Create a JMS-based Message-Driven Bean in Red Hat JBoss Developer Studio</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Enable_EJB_and_MDB_Property_Substitution_in_an_Application">7.4.4. Enable EJB and MDB Property Substitution in an Application</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Invoking_Session_Beans">7.5. Invoking Session Beans</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Invoke_a_Session_Bean_Remotely_using_JNDI1">7.5.1. Invoke a Session Bean Remotely using JNDI</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_EJB_Client_Contexts">7.5.2. About EJB Client Contexts</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Limitations_of_Single_EJB_Client_Context">7.5.3. Considerations When Using a Single EJB Context</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Using_Scoped_EJB_Client_Contexts">7.5.4. Using Scoped EJB Client Contexts</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Configure_EJBs_Using_a_Map-Based_or_Scoped_Context">7.5.5. Configure EJBs Using a Scoped EJB Client Context</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#EJB_Client_Properties">7.5.6. EJB Client Properties</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Container_Interceptors">7.6. Container Interceptors</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Container_Interceptors">7.6.1. About Container Interceptors</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Create_a_Container_Interceptor_Class">7.6.2. Create a Container Interceptor Class</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Configure_a_Container_Interceptor">7.6.3. Configure a Container Interceptor</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Change_the_Security_Context_Identity">7.6.4. Change the Security Context Identity</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Pass_Additional_Security_For_EJB_Authentication">7.6.5. Pass Additional Security For EJB Authentication</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Use_a_Client_Side_Interceptor_in_an_Application">7.6.6. Use a Client Side Interceptor in an Application</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Clustered_Enterprise_JavaBeans">7.7. Clustered Enterprise JavaBeans</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Clustered_Enterprise_JavaBeans_EJBs">7.7.1. About Clustered Enterprise JavaBeans (EJBs)</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Standalone_Client_Configuration">7.7.2. Standalone and In-server Client Configuration</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Implementing_a_Custom_Load_Balancing_Policy_for_EJB_Calls">7.7.3. Implementing a Custom Load Balancing Policy for EJB Calls</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Transaction_Behavior_of_EJB_Invocations">7.7.4. Transaction Behavior of EJB Invocations</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Reference1">7.8. Reference</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#EJB_JNDI_Naming_Reference">7.8.1. EJB JNDI Naming Reference</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#EJB_Reference_Resolution">7.8.2. EJB Reference Resolution</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Project_dependencies_for_Remote_EJB_Clients">7.8.3. Project dependencies for Remote EJB Clients</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#jboss-ejb3xml_Deployment_Descriptor_Reference">7.8.4. jboss-ejb3.xml Deployment Descriptor Reference</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#chap-JBoss_MBean_Services">8. JBoss MBean Services</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Writing_JBoss_MBean_Services">8.1. Writing JBoss MBean Services</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#A_Standard_MBean_Example">8.2. A Standard MBean Example</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Deploying_JBoss_MBean_Services">8.3. Deploying JBoss MBean Services</a></span></dt></dl></dd><dt><span class="chapter"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#chap-Clustering_in_Web_Applications">9. Clustering in Web Applications</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Session_Replication">9.1. Session Replication</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_HTTP_Session_Replication">9.1.1. About HTTP Session Replication</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_the_Web_Session_Cache">9.1.2. About the Web Session Cache</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Configure_the_Web_Session_Cache">9.1.3. Configure the Web Session Cache</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Enable_Session_Replication_in_Your_Application">9.1.4. Enable Session Replication in Your Application</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-HttpSession_Passivation_and_Activation">9.2. HttpSession Passivation and Activation</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_HTTP_Session_Passivation_and_Activation">9.2.1. About HTTP Session Passivation and Activation</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Configure_HttpSession_Passivation_in_Your_Application">9.2.2. Configure HttpSession Passivation in Your Application</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Cookie_Domain">9.3. Cookie Domain</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_the_Cookie_Domain">9.3.1. About the Cookie Domain</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Configure_the_Cookie_Domain">9.3.2. Configure the Cookie Domain</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Implement_an_HA_Singleton">9.4. Implement an HA Singleton</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Apache_mod_cluster-manager_Application">9.5. Apache mod_cluster-manager Application</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_mod_cluster-manager_Application">9.5.1. About mod_cluster-manager Application</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Exploring_mod_cluster-manager_Application">9.5.2. Exploring mod_cluster-manager Application</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#chap-CDI">10. CDI</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Overview_of_CDI">10.1. Overview of CDI</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Overview_of_CDI">10.1.1. Overview of CDI</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Contexts_and_Dependency_Injection_CDI">10.1.2. About Contexts and Dependency Injection (CDI)</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Benefits_of_CDI">10.1.3. Benefits of CDI</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Type-safe_Dependency_Injection">10.1.4. About Type-safe Dependency Injection</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Relationship_Between_Weld_Seam_2_and_JavaServer_Faces">10.1.5. Relationship Between Weld, Seam 2, and JavaServer Faces</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Use_CDI">10.2. Use CDI</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-First_Steps">10.2.1. First Steps</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Use_CDI_to_Develop_an_Application">10.2.2. Use CDI to Develop an Application</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Ambiguous_or_Unsatisfied_Dependencies">10.2.3. Ambiguous or Unsatisfied Dependencies</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Managed_Beans">10.2.4. Managed Beans</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Contexts_Scopes_and_Dependencies">10.2.5. Contexts, Scopes, and Dependencies</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Bean_Lifecycle">10.2.6. Bean Lifecycle</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Named_Beans_and_Alternative_Beans">10.2.7. Named Beans and Alternative Beans</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Stereotypes">10.2.8. Stereotypes</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Observer_Methods">10.2.9. Observer Methods</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Interceptors">10.2.10. Interceptors</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Decorators">10.2.11. About Decorators</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Portable_Extensions">10.2.12. About Portable Extensions</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Bean_Proxies">10.2.13. Bean Proxies</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#chap-Java_Transaction_API_JTA">11. Java Transaction API (JTA)</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Overview1">11.1. Overview</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Overview_of_Java_Transactions_API_JTA">11.1.1. Overview of Java Transactions API (JTA)</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Transaction_Concepts">11.2. Transaction Concepts</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Transactions">11.2.1. About Transactions</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_ACID_Properties_for_Transactions">11.2.2. About ACID Properties for Transactions</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_the_Transaction_Coordinator_or_Transaction_Manager">11.2.3. About the Transaction Coordinator or Transaction Manager</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Transaction_Participants">11.2.4. About Transaction Participants</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Java_Transactions_API_JTA1">11.2.5. About Java Transactions API (JTA)</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Java_Transaction_Service_JTS">11.2.6. About Java Transaction Service (JTS)</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_XA_Datasources_and_XA_Transactions">11.2.7. About XA Datasources and XA Transactions</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_XA_Recovery">11.2.8. About XA Recovery</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_the_2-Phase_Commit_Protocol">11.2.9. About the 2-Phase Commit Protocol</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Transaction_Timeouts">11.2.10. About Transaction Timeouts</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Distributed_Transactions">11.2.11. About Distributed Transactions</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_the_ORB_Portability_API">11.2.12. About the ORB Portability API</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Nested_Transactions">11.2.13. About Nested Transactions</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Transaction_Optimizations">11.3. Transaction Optimizations</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Overview_of_Transaction_Optimizations">11.3.1. Overview of Transaction Optimizations</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-About_the_LRCO_Optimization_for_Single-phase_Commit_1PC">11.3.2. About the LRCO Optimization for Single-phase Commit (1PC)</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_the_Presumed-Abort_Optimization">11.3.3. About the Presumed-Abort Optimization</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_the_Read-Only_Optimization">11.3.4. About the Read-Only Optimization</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Transaction_Outcomes">11.4. Transaction Outcomes</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Transaction_Outcomes">11.4.1. About Transaction Outcomes</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Transaction_Commit">11.4.2. About Transaction Commit</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Transaction_Roll-Back">11.4.3. About Transaction Roll-Back</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Heuristic_Outcomes">11.4.4. About Heuristic Outcomes</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#JBoss_Transactions_Errors_and_Exceptions">11.4.5. JBoss Transactions Errors and Exceptions</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Overview_of_JTA_Transactions">11.5. Overview of JTA Transactions</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Java_Transactions_API_JTA">11.5.1. About Java Transactions API (JTA)</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Lifecycle_of_a_JTA_Transaction">11.5.2. Lifecycle of a JTA Transaction</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Transaction_Subsystem_Configuration">11.6. Transaction Subsystem Configuration</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Transactions_Configuration_Overview1">11.6.1. Transactions Configuration Overview</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Transactional_Datasource_Configuration">11.6.2. Transactional Datasource Configuration</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Transaction_Logging">11.6.3. Transaction Logging</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Use_JTA_Transactions">11.7. Use JTA Transactions</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Transactions_JTA_Task_Overview">11.7.1. Transactions JTA Task Overview</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Control_JTA_Transactions">11.7.2. Control Transactions</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Begin_a_JTA_Transaction">11.7.3. Begin a Transaction</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Nest_Transactions">11.7.4. Nested Transactions</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Commit_a_JTA_Transaction">11.7.5. Commit a Transaction</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Roll_Back_a_JTA_Transaction">11.7.6. Roll Back a Transaction</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Handle_a_Heuristic_Outcome_in_a_JTA_Transaction">11.7.7. Handle a Heuristic Outcome in a Transaction</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Transaction_Timeouts">11.7.8. Transaction Timeouts</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-JTA_Transaction_Error_Handling">11.7.9. JTA Transaction Error Handling</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-ORB_Configuration">11.8. ORB Configuration</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#CORBA">11.8.1. About Common Object Request Broker Architecture (CORBA)</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Configure_the_ORB_for_JTS_Transactions">11.8.2. Configure the ORB for JTS Transactions</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Transaction_References">11.9. Transaction References</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#JBoss_Transactions_Errors_and_Exceptions1">11.9.1. JBoss Transactions Errors and Exceptions</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#JTA_Clustering_Limitations1">11.9.2. Limitations on JTA Transactions</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#JTA_Transaction_Example">11.9.3. JTA Transaction Example</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#API_Documentation_for_JBoss_Transactions_JTA">11.9.4. API Documentation for JBoss Transactions JTA</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Limitations_of_the_XA_Recovery_Process">11.9.5. Limitations of the XA Recovery Process</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#chap-Hibernate">12. Hibernate</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Hibernate_Core1">12.1. About Hibernate Core</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Java_Persistence_API_JPA">12.2. Java Persistence API (JPA)</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_JPA1">12.2.1. About JPA</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Hibernate_EntityManager1">12.2.2. Hibernate EntityManager</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Getting_Started">12.2.3. Getting Started</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Configuration1">12.2.4. Configuration</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Second-Level_Caches">12.2.5. Second-Level Caches</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Hibernate_Annotations">12.3. Hibernate Annotations</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Hibernate_Annotations">12.3.1. Hibernate Annotations</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Hibernate_Query_Language">12.4. Hibernate Query Language</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#HQL_and_JPQL">12.4.1. About Hibernate Query Language</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#HQL_Statements">12.4.2. HQL Statements</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_the_INSERT_Statement">12.4.3. About the INSERT Statement</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#The_FROM_Clause_in_HQL">12.4.4. About the FROM Clause</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_the_WITH_Clause">12.4.5. About the WITH Clause</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Bulk_Update_Insert_and_Delete">12.4.6. About Bulk Update, Insert and Delete</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Collection_Member_References">12.4.7. About Collection Member References</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Qualified_Path_Expressions">12.4.8. About Qualified Path Expressions</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Scalar_Functions">12.4.9. About Scalar Functions</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#HQL_Expressions">12.4.10. HQL Standardized Functions</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_the_Concatenation_Operation">12.4.11. About the Concatenation Operation</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#The_SELECT_Clause_in_HQL">12.4.12. About Dynamic Instantiation</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#HQL_Predicates">12.4.13. About HQL Predicates</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Relational_Comparisons">12.4.14. About Relational Comparisons</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_the_IN_Predicate">12.4.15. About the IN Predicate</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Ordering_in_HQL">12.4.16. About HQL Ordering</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Hibernate_Services">12.5. Hibernate Services</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Hibernate_Services">12.5.1. About Hibernate Services</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Service_Contracts">12.5.2. About Service Contracts</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Types_of_Service_Dependencies">12.5.3. Types of Service Dependencies</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-The_ServiceRegistry">12.5.4. The ServiceRegistry</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Custom_Services">12.5.5. Custom Services</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-The_Bootstrap_Registry">12.5.6. The Bootstrap Registry</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-The_SessionFactory_Registry">12.5.7. The SessionFactory Registry</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Integrators">12.5.8. Integrators</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Bean_Validation">12.6. Bean Validation</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Bean_Validation1">12.6.1. About Bean Validation</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Hibernate_Validator1">12.6.2. Hibernate Validator</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Validation_Constraints">12.6.3. Validation Constraints</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Configuration2">12.6.4. Configuration</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Envers">12.7. Envers</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Hibernate_Envers1">12.7.1. About Hibernate Envers</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Auditing_Persistent_Classes">12.7.2. About Auditing Persistent Classes</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Auditing_Strategies">12.7.3. Auditing Strategies</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Getting_Started_with_Entity_Auditing">12.7.4. Getting Started with Entity Auditing</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Configuration">12.7.5. Configuration</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Queries">12.7.6. Queries</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Performance_Tuning">12.8. Performance Tuning</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Alternative_Batch_Loading_Algorithms">12.8.1. Alternative Batch Loading Algorithms</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Second_Level_Caching_of_Object_References_for_Non-mutable_Data">12.8.2. Second Level Caching of Object References for Non-mutable Data</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#chap-JAX-RS_Web_Services">13. JAX-RS Web Services</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_JAX-RS">13.1. About JAX-RS</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_RESTEasy">13.2. About RESTEasy</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_RESTful_Web_Services">13.3. About RESTful Web Services</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#RESTEasy_Defined_Annotations">13.4. RESTEasy Defined Annotations</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-RESTEasy_Configuration">13.5. RESTEasy Configuration</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#RESTEasy_Configuration_Parameters">13.5.1. RESTEasy Configuration Parameters</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-JAX-RS_Web_Service_Security">13.6. JAX-RS Web Service Security</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Enable_Role-Based_Security_for_a_RESTEasy_JAX-RS_Web_Service1">13.6.1. Enable Role-Based Security for a RESTEasy JAX-RS Web Service</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Secure_a_JAX-RS_Web_Service_using_Annotations1">13.6.2. Secure a JAX-RS Web Service using Annotations</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-RESTEasy_Logging">13.7. RESTEasy Logging</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_JAX-RS_Web_Service_Logging">13.7.1. About JAX-RS Web Service Logging</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Logging_Categories_Defined_in_RESTEasy">13.7.2. Logging Categories Defined in RESTEasy</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Exception_Handling">13.8. Exception Handling</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Create_an_Exception_Mapper">13.8.1. Create an Exception Mapper</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#RESTEasy_Internally_Thrown_Exceptions">13.8.2. RESTEasy Internally Thrown Exceptions</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-RESTEasy_Interceptors">13.9. RESTEasy Interceptors</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Intercept_JAX-RS_Invocations">13.9.1. Intercept JAX-RS Invocations</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Bind_an_Interceptor_to_a_JAX-RS_Method">13.9.2. Bind an Interceptor to a JAX-RS Method</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Register_an_Interceptor">13.9.3. Register an Interceptor</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Interceptor_Precedence_Families">13.9.4. Interceptor Precedence Families</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-String_Based_Annotations">13.10. String Based Annotations</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Convert_String_Based_Param_Annotations_to_Objects">13.10.1. Convert String Based @*Param Annotations to Objects</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Configure_File_Extensions">13.11. Configure File Extensions</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Map_File_Extensions_to_Media_Types_in_the_webxml_File">13.11.1. Map File Extensions to Media Types in the web.xml File</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Map_File_Extensions_to_Languages_in_the_webxml_File">13.11.2. Map File Extensions to Languages in the web.xml File</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#RESTEasy_Supported_Media_Types">13.11.3. RESTEasy Supported Media Types</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-RESTEasy_JavaScript_API">13.12. RESTEasy JavaScript API</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_the_RESTEasy_JavaScript_API">13.12.1. About the RESTEasy JavaScript API</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Enable_the_RESTEasy_JavaScript_API_Servlet">13.12.2. Enable the RESTEasy JavaScript API Servlet</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#RESTEasy_Javascript_API_Parameters">13.12.3. RESTEasy Javascript API Parameters</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Build_AJAX_Queries_with_the_JavaScript_API">13.12.4. Build AJAX Queries with the JavaScript API</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#RESTRequest_Class_Members">13.12.5. REST.Request Class Members</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-RESTEasy_Asynchronous_Job_Service">13.13. RESTEasy Asynchronous Job Service</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_the_RESTEasy_Asynchronous_Job_Service">13.13.1. About the RESTEasy Asynchronous Job Service</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Enable_the_Asynchronous_Job_Service">13.13.2. Enable the Asynchronous Job Service</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Configure_Asynchronous_Jobs_for_RESTEasy">13.13.3. Configure Asynchronous Jobs for RESTEasy</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Asynchronous_Job_Service_Configuration_Parameters">13.13.4. Asynchronous Job Service Configuration Parameters</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-RESTEasy_JAXB">13.14. RESTEasy JAXB</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Create_a_JAXB_Decorator">13.14.1. Create a JAXB Decorator</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-RESTEasy_Atom_Support">13.15. RESTEasy Atom Support</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_the_Atom_API_and_Provider">13.15.1. About the Atom API and Provider</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-RESTEasySpring_Integration">13.16. RESTEasy/Spring Integration</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#RESTeasySpring_integration">13.16.1. RESTEasy/Spring integration</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#chap-JAX-WS_Web_Services">14. JAX-WS Web Services</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_JAX-WS_Web_Services">14.1. About JAX-WS Web Services</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Configure_the_literalwebservicesliteral_Subsystem">14.2. Configure the webservices Subsystem</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-JAX-WS_Web_Service_Endpoints">14.3. JAX-WS Web Service Endpoints</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_JAX-WS_Web_Service_Endpoints">14.3.1. About JAX-WS Web Service Endpoints</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Write_and_Deploy_a_JAX-WS_Web_Service_Endpoint">14.3.2. Write and Deploy a JAX-WS Web Service Endpoint</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-JAX-WS_Web_service_Clients">14.4. JAX-WS Web service Clients</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Consume_and_Access_a_JAX-WS_Web_Service">14.4.1. Consume and Access a JAX-WS Web Service</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Develop_a_JAX-WS_Client_Application">14.4.2. Develop a JAX-WS Client Application</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-JAX-WS_Development_Reference">14.5. JAX-WS Development Reference</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Enable_Web_Services_Addressing_WS-Addressing">14.5.1. Enable Web Services Addressing (WS-Addressing)</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#JAX-WS_Common_API_Reference">14.5.2. JAX-WS Common API Reference</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#chap-WebSockets">15. WebSockets</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_WebSockets">15.1. About WebSockets</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Create_a_Websocket_Application">15.2. Create a WebSocket Application</a></span></dt></dl></dd><dt><span class="chapter"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#chap-Identity_Within_Applications">16. Identity Within Applications</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Foundational_Concepts">16.1. Foundational Concepts</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Encryption">16.1.1. About Encryption</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Security_Domains">16.1.2. About Security Domains</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_SSL_Encryption">16.1.3. About SSL Encryption</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Declarative_Security">16.1.4. About Declarative Security</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Role-Based_Security_in_Applications">16.2. Role-Based Security in Applications</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Application_Security">16.2.1. About Application Security</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Authentication1">16.2.2. About Authentication</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Authorization1">16.2.3. About Authorization</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Security_Auditing1">16.2.4. About Security Auditing</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Security_Mapping1">16.2.5. About Security Mapping</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Java_Authentication_and_Authorization_Service_JAAS">16.2.6. Java Authentication and Authorization Service (JAAS)</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Java_Authentication_and_Authorization_Service_JAAS">16.2.7. About Java Authentication and Authorization Service (JAAS)</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Use_a_Security_Domain_in_Your_Application">16.2.8. Use a Security Domain in Your Application</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Use_Role-Based_Security_In_Servlets">16.2.9. Use Role-Based Security In Servlets</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Use_A_Third-Party_Authentication_System_In_Your_Application">16.2.10. Use A Third-Party Authentication System In Your Application</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Security_Realms">16.3. Security Realms</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Security_Realms">16.3.1. About Security Realms</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Add_a_New_Security_Realm">16.3.2. Add a New Security Realm</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Add_a_User_to_a_Security_Realm">16.3.3. Add a User to a Security Realm</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-EJB_Application_Security">16.4. EJB Application Security</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Security_Identity">16.4.1. Security Identity</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-EJB_Method_Permissions">16.4.2. EJB Method Permissions</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-EJB_Security_Annotations">16.4.3. EJB Security Annotations</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Remote_Access_to_EJBs">16.4.4. Remote Access to EJBs</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-JAX-RS_Application_Security">16.5. JAX-RS Application Security</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Enable_Role-Based_Security_for_a_RESTEasy_JAX-RS_Web_Service">16.5.1. Enable Role-Based Security for a RESTEasy JAX-RS Web Service</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Secure_a_JAX-RS_Web_Service_using_Annotations">16.5.2. Secure a JAX-RS Web Service using Annotations</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Secure_Remote_Password_Protocol">16.6. Secure Remote Password Protocol</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Secure_Remote_Password_Protocol_SRP">16.6.1. About Secure Remote Password Protocol (SRP)</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Configure_Secure_Remote_Password_ISRP_Protocol">16.6.2. Configure Secure Remote Password (SRP) Protocol</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Password_Vaults_for_Sensitive_Strings">16.7. Password Vaults for Sensitive Strings</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Securing_Sensitive_Strings_in_Clear-Text_Files1">16.7.1. Password Vault System</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Create_a_Java_Keystore_to_Store_Sensitive_Strings">16.7.2. Create a Java Keystore to Store Sensitive Strings</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Mask_the_Keystore_Password_and_Initialize_the_Password_Vault.">16.7.3. Mask the Keystore Password and Initialize the Password Vault</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Configure_the_Enterprise_Application_Platform_to_Use_the_Password_Vault1">16.7.4. Configure JBoss EAP 6 to Use the Password Vault</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Configure_JBoss_EAP_6_to_Use_a_Custom_Implementation_of_the_Password_Vault">16.7.5. Configure JBoss EAP 6 to Use a Custom Implementation of the Password Vault</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Store_and_Retrieve_Encrypted_Sensitive_Strings_in_the_Java_Keystore">16.7.6. Store and Retrieve Encrypted Sensitive Strings in the Java Keystore</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Store_and_Resolve_Sensitive_Strings_In_Your_Applications1">16.7.7. Store and Resolve Sensitive Strings In Your Applications</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Java_Authorization_Contract_for_Containers_JACC">16.8. Java Authorization Contract for Containers (JACC)</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Java_Authorization_Contract_for_Containers_JACC">16.8.1. About Java Authorization Contract for Containers (JACC)</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Configure_Java_Authorization_Contract_for_Containers_JACC_Security">16.8.2. Configure Java Authorization Contract for Containers (JACC) Security</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Java_Authentication_SPI_for_Containers_JASPI">16.9. Java Authentication SPI for Containers (JASPI)</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Java_Authentication_SPI_for_Containers_JASPI_Security1">16.9.1. About Java Authentication SPI for Containers (JASPI) Security</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Configure_Java_Authentication_SPI_for_Containers_JASPI_Security1">16.9.2. Configure Java Authentication SPI for Containers (JASPI) Security</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#chap-Single_Sign_On_SSO">17. Single Sign On (SSO)</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Single_Sign_On_SSO_for_Web_Applications">17.1. About Single Sign On (SSO) for Web Applications</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Clustered_Single_Sign_On_SSO_for_Web_Applications">17.2. About Clustered Single Sign On (SSO) for Web Applications</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Choose_the_Right_SSO_Implementation">17.3. Choose the Right SSO Implementation</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Use_Single_Sign_On_SSO_In_A_Web_Application">17.4. Use Single Sign On (SSO) In A Web Application</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Kerberos">17.5. About Kerberos</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_SPNEGO">17.6. About SPNEGO</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Microsoft_Active_Directory">17.7. About Microsoft Active Directory</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Configure_Kerberos_or_Microsoft_Active_Directory_Desktop_SSO_for_Web_Applications">17.8. Configure Kerberos or Microsoft Active Directory Desktop SSO for Web Applications</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Configure_SPNEGO_Fall_Back_to_Form_Authentication">17.9. Configure SPNEGO Fall Back to Form Authentication</a></span></dt></dl></dd><dt><span class="chapter"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#chap-Development_Security_References">18. Development Security References</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#jboss-webxml_Configuration_Reference">18.1. jboss-web.xml Configuration Reference</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#EJB_Security_Parameter_Reference">18.2. EJB Security Parameter Reference</a></span></dt></dl></dd><dt><span class="chapter"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#chap-Supplemental_References">19. Supplemental References</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Types_of_Java_Archives">19.1. Types of Java Archives</a></span></dt></dl></dd><dt><span class="appendix"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#appe-Revision_History">A. Revision History</a></span></dt></dl></div><div xml:lang="en-US" class="preface" lang="en-US"><div class="titlepage"><div><div><h1 class="title"><a id="idp11273296"></a>Preface</h1></div></div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="idp4002640">
      ⁠</a>1.&nbsp;Document Conventions</h2></div></div></div><div class="para">
		This manual uses several conventions to highlight certain words and phrases and draw attention to specific pieces of information.
	</div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="idp4001664">
      ⁠</a>1.1.&nbsp;Typographic Conventions</h3></div></div></div><div class="para">
			Four typographic conventions are used to call attention to specific words and phrases. These conventions, and the circumstances they apply to, are as follows.
		</div><div class="para">
			<code class="literal">Mono-spaced Bold</code>
		</div><div class="para">
			Used to highlight system input, including shell commands, file names and paths. Also used to highlight keys and key combinations. For example:
		</div><div class="blockquote"><blockquote class="blockquote"><div class="para">
				To see the contents of the file <code class="filename">my_next_bestselling_novel</code> in your current working directory, enter the <code class="command">cat my_next_bestselling_novel</code> command at the shell prompt and press <span class="keycap"><strong>Enter</strong></span> to execute the command.
			</div></blockquote></div><div class="para">
			The above includes a file name, a shell command and a key, all presented in mono-spaced bold and all distinguishable thanks to context.
		</div><div class="para">
			Key combinations can be distinguished from an individual key by the plus sign that connects each part of a key combination. For example:
		</div><div class="blockquote"><blockquote class="blockquote"><div class="para">
				Press <span class="keycap"><strong>Enter</strong></span> to execute the command.
			</div><div class="para">
				Press <span class="keycap"><strong>Ctrl</strong></span>+<span class="keycap"><strong>Alt</strong></span>+<span class="keycap"><strong>F2</strong></span> to switch to a virtual terminal.
			</div></blockquote></div><div class="para">
			The first example highlights a particular key to press. The second example highlights a key combination: a set of three keys pressed simultaneously.
		</div><div class="para">
			If source code is discussed, class names, methods, functions, variable names and returned values mentioned within a paragraph will be presented as above, in <code class="literal">mono-spaced bold</code>. For example:
		</div><div class="blockquote"><blockquote class="blockquote"><div class="para">
				File-related classes include <code class="classname">filesystem</code> for file systems, <code class="classname">file</code> for files, and <code class="classname">dir</code> for directories. Each class has its own associated set of permissions.
			</div></blockquote></div><div class="para">
			<span class="application"><strong>Proportional Bold</strong></span>
		</div><div class="para">
			This denotes words or phrases encountered on a system, including application names; dialog-box text; labeled buttons; check-box and radio-button labels; menu titles and submenu titles. For example:
		</div><div class="blockquote"><blockquote class="blockquote"><div class="para">
				Choose <span class="guimenu"><strong>System</strong></span> → <span class="guisubmenu"><strong>Preferences</strong></span> → <span class="guimenuitem"><strong>Mouse</strong></span> from the main menu bar to launch <span class="application"><strong>Mouse Preferences</strong></span>. In the <span class="guilabel"><strong>Buttons</strong></span> tab, select the <span class="guilabel"><strong>Left-handed mouse</strong></span> check box and click <span class="guibutton"><strong>Close</strong></span> to switch the primary mouse button from the left to the right (making the mouse suitable for use in the left hand).
			</div><div class="para">
				To insert a special character into a <span class="application"><strong>gedit</strong></span> file, choose <span class="guimenu"><strong>Applications</strong></span> → <span class="guisubmenu"><strong>Accessories</strong></span> → <span class="guimenuitem"><strong>Character Map</strong></span> from the main menu bar. Next, choose <span class="guimenu"><strong>Search</strong></span> → <span class="guimenuitem"><strong>Find…</strong></span> from the <span class="application"><strong>Character Map</strong></span> menu bar, type the name of the character in the <span class="guilabel"><strong>Search</strong></span> field and click <span class="guibutton"><strong>Next</strong></span>. The character you sought will be highlighted in the <span class="guilabel"><strong>Character Table</strong></span>. Double-click this highlighted character to place it in the <span class="guilabel"><strong>Text to copy</strong></span> field and then click the <span class="guibutton"><strong>Copy</strong></span> button. Now switch back to your document and choose <span class="guimenu"><strong>Edit</strong></span> → <span class="guimenuitem"><strong>Paste</strong></span> from the <span class="application"><strong>gedit</strong></span> menu bar.
			</div></blockquote></div><div class="para">
			The above text includes application names; system-wide menu names and items; application-specific menu names; and buttons and text found within a GUI interface, all presented in proportional bold and all distinguishable by context.
		</div><div class="para">
			<code class="command"><em class="replaceable">Mono-spaced Bold Italic</em></code> or <span class="application"><strong><em class="replaceable">Proportional Bold Italic</em></strong></span>
		</div><div class="para">
			Whether mono-spaced bold or proportional bold, the addition of italics indicates replaceable or variable text. Italics denotes text you do not input literally or displayed text that changes depending on circumstance. For example:
		</div><div class="blockquote"><blockquote class="blockquote"><div class="para">
				To connect to a remote machine using ssh, type <code class="command">ssh <em class="replaceable">username</em>@<em class="replaceable">domain.name</em></code> at a shell prompt. If the remote machine is <code class="filename">example.com</code> and your username on that machine is john, type <code class="command">ssh john@example.com</code>.
			</div><div class="para">
				The <code class="command">mount -o remount <em class="replaceable">file-system</em></code> command remounts the named file system. For example, to remount the <code class="filename">/home</code> file system, the command is <code class="command">mount -o remount /home</code>.
			</div><div class="para">
				To see the version of a currently installed package, use the <code class="command">rpm -q <em class="replaceable">package</em></code> command. It will return a result as follows: <code class="command"><em class="replaceable">package-version-release</em></code>.
			</div></blockquote></div><div class="para">
			Note the words in bold italics above: username, domain.name, file-system, package, version and release. Each word is a placeholder, either for text you enter when issuing a command or for text displayed by the system.
		</div><div class="para">
			Aside from standard usage for presenting the title of a work, italics denotes the first use of a new and important term. For example:
		</div><div class="blockquote"><blockquote class="blockquote"><div class="para">
				Publican is a <em class="firstterm">DocBook</em> publishing system.
			</div></blockquote></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="idp10432608">
      ⁠</a>1.2.&nbsp;Pull-quote Conventions</h3></div></div></div><div class="para">
			Terminal output and source code listings are set off visually from the surrounding text.
		</div><div class="para">
			Output sent to a terminal is set in <code class="computeroutput">mono-spaced roman</code> and presented thus:
		</div><pre class="screen">books        Desktop   documentation  drafts  mss    photos   stuff  svn
books_tests  Desktop1  downloads      images  notes  scripts  svgs</pre><div class="para">
			Source-code listings are also set in <code class="computeroutput">mono-spaced roman</code> but add syntax highlighting as follows:
		</div><pre xml:lang="en-US" class="programlisting" lang="en-US"><span xmlns="" class="line">​</span><span xmlns="" class="perl_DataType">static</span> <span xmlns="" class="perl_DataType">int</span> kvm_vm_ioctl_deassign_device(<span xmlns="" class="perl_Keyword">struct</span> kvm *kvm,
<span xmlns="" class="line">​</span>                 <span xmlns="" class="perl_Keyword">struct</span> kvm_assigned_pci_dev *assigned_dev)
<span xmlns="" class="line">​</span>{
<span xmlns="" class="line">​</span>         <span xmlns="" class="perl_DataType">int</span> r = 0;
<span xmlns="" class="line">​</span>         <span xmlns="" class="perl_Keyword">struct</span> kvm_assigned_dev_kernel *match;
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>         mutex_lock(&amp;kvm-&gt;lock);
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>         match = kvm_find_assigned_dev(&amp;kvm-&gt;arch.assigned_dev_head,
<span xmlns="" class="line">​</span>                                       assigned_dev-&gt;assigned_dev_id);
<span xmlns="" class="line">​</span>         <span xmlns="" class="perl_Keyword">if</span> (!match) {
<span xmlns="" class="line">​</span>                 printk(KERN_INFO <span xmlns="" class="perl_String">"%s: device hasn't been assigned before, "</span>
<span xmlns="" class="line">​</span>                   <span xmlns="" class="perl_String">"so cannot be deassigned</span><span xmlns="" class="perl_Char">\n</span><span xmlns="" class="perl_String">"</span>, __func__);
<span xmlns="" class="line">​</span>                 r = -EINVAL;
<span xmlns="" class="line">​</span>                 <span xmlns="" class="perl_Keyword">goto</span> out;
<span xmlns="" class="line">​</span>         }
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>         kvm_deassign_device(kvm, match);
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>         kvm_free_assigned_device(kvm, match);
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>out:
<span xmlns="" class="line">​</span>         mutex_unlock(&amp;kvm-&gt;lock);
<span xmlns="" class="line">​</span>         <span xmlns="" class="perl_Keyword">return</span> r;
<span xmlns="" class="line">​</span>}</pre></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="idp23110496">
      ⁠</a>1.3.&nbsp;Notes and Warnings</h3></div></div></div><div class="para">
			Finally, we use three visual styles to draw attention to information that might otherwise be overlooked.
		</div><div xmlns:d="http://docbook.org/ns/docbook" class="note"><div class="admonition_header"><p><strong>Note</strong></p></div><div class="admonition"><div class="para">
				Notes are tips, shortcuts or alternative approaches to the task at hand. Ignoring a note should have no negative consequences, but you might miss out on a trick that makes your life easier.
			</div></div></div><div xmlns:d="http://docbook.org/ns/docbook" class="important"><div class="admonition_header"><p><strong>Important</strong></p></div><div class="admonition"><div class="para">
				Important boxes detail things that are easily missed: configuration changes that only apply to the current session, or services that need restarting before an update will apply. Ignoring a box labeled “Important” will not cause data loss but may cause irritation and frustration.
			</div></div></div><div xmlns:d="http://docbook.org/ns/docbook" class="warning"><div class="admonition_header"><p><strong>Warning</strong></p></div><div class="admonition"><div class="para">
				Warnings should not be ignored. Ignoring warnings will most likely cause data loss.
			</div></div></div></div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="sect_RedHat-Getting_Help_and_Giving_Feedback">
      ⁠</a>2.&nbsp;Getting Help and Giving Feedback</h2></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="sect_RedHat-Do_You_Need_Help">
      ⁠</a>2.1.&nbsp;Do You Need Help?</h3></div></div></div><a id="idp29069872" class="indexterm"></a><div class="para">
			If you experience difficulty with a procedure described in this documentation, visit the Red Hat Customer Portal at <a href="http://access.redhat.com/">http://access.redhat.com</a>. Through the customer portal, you can:
		</div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
					search or browse through a knowledgebase of technical support articles about Red Hat products.
				</div></li><li class="listitem"><div class="para">
					submit a support case to Red Hat Global Support Services (GSS).
				</div></li><li class="listitem"><div class="para">
					access other product documentation.
				</div></li></ul></div><div class="para">
			Red Hat also hosts a large number of electronic mailing lists for discussion of Red Hat software and technology. You can find a list of publicly available mailing lists at <a href="https://www.redhat.com/mailman/listinfo">https://www.redhat.com/mailman/listinfo</a>. Click on the name of any mailing list to subscribe to that list or to access the list archives.
		</div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="sect-RedHat-We_Need_Feedback">
      ⁠</a>2.2.&nbsp;We Need Feedback!</h3></div></div></div><a id="idp17359264" class="indexterm"></a><div class="para">
			If you find a typographical error in this manual, or if you have thought of a way to make this manual better, we would love to hear from you! Please submit a report in Bugzilla: <a href="http://bugzilla.redhat.com/">http://bugzilla.redhat.com/</a> against the product <span class="application"><strong>JBoss Enterprise Application Platform.</strong></span>
		</div><div class="para">
			When submitting a bug report, be sure to mention the manual's identifier: <em class="citetitle">Development_Guide</em>
		</div><div class="para">
			If you have a suggestion for improving the documentation, try to be as specific as possible when describing it. If you have found an error, please include the section number and some of the surrounding text so we can find it easily.
		</div></div></div></div><div xml:lang="en-US" class="chapter" lang="en-US"><div class="titlepage"><div><div><h1 class="title"><a id="chap-Get_Started_Developing_Applications">
      ⁠</a>Chapter&nbsp;1.&nbsp;Get Started Developing Applications</h1></div></div></div><div class="toc"><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Introduction2">1.1. Introduction</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_JBoss_Enterprise_Application_Platform_6">1.1.1. About Red Hat JBoss Enterprise Application Platform 6</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Prerequisites">1.2. Prerequisites</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Become_Familiar_with_Java_Enterprise_Edition_6">1.2.1. Become Familiar with Java Enterprise Edition 6</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-About_Modules_and_the_New_Modular_Class_Loading_System_used_in_JBoss_EAP_6">1.2.2. About Modules and the New Modular Class Loading System used in JBoss EAP 6</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Set_Up_the_Development_Environment">1.3. Set Up the Development Environment</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Download_and_Install_Red_Hat_JBoss_Developer_Studio">1.3.1. Download and Install Red Hat JBoss Developer Studio</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Run_Your_First_Application">1.4. Run Your First Application</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Download_the_Quickstart_Code_Examples">1.4.1. Download the Quickstart Code Examples</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Run_the_Quickstarts">1.4.2. Run the Quickstarts</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Review_the_Quickstart_Tutorials">1.4.3. Review the Quickstart Tutorials</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Replace_the_Default_Welcome_Web_Application1">1.4.4. Replace the Default Welcome Web Application</a></span></dt></dl></dd></dl></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="sect-Introduction2">
      ⁠</a>1.1.&nbsp;Introduction</h2></div></div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="About_JBoss_Enterprise_Application_Platform_6">
      ⁠</a>1.1.1.&nbsp;About Red Hat JBoss Enterprise Application Platform 6</h3></div></div></div><div class="para">
		Red Hat JBoss Enterprise Application Platform 6 (JBoss EAP 6) is a middleware platform built on open standards and compliant with the Java Enterprise Edition 6 specification. It integrates JBoss Application Server 7 with high-availability clustering, messaging, distributed caching, and other technologies.
	</div><div class="para">
		JBoss EAP 6 includes a new, modular structure that allows service enabling only when required, improving start-up speed.
	</div><div class="para">
		The Management Console and Management Command Line Interface make editing XML configuration files unnecessary and add the ability to script and automate tasks.
	</div><div class="para">
		In addition, JBoss EAP 6 includes APIs and development frameworks for quickly developing secure and scalable Java EE applications.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+228-681277+%5BLatest%5D&comment=Title%3A+About+Red+Hat+JBoss+Enterprise+Application+Platform+6%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=228-681277+04+Jul+2014+04%3A41+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="sect-Prerequisites">
      ⁠</a>1.2.&nbsp;Prerequisites</h2></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="sect-Become_Familiar_with_Java_Enterprise_Edition_6">
      ⁠</a>1.2.1.&nbsp;Become Familiar with Java Enterprise Edition 6</h3></div></div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="Overview_of_EE_6_Profiles">
      ⁠</a>1.2.1.1.&nbsp;Overview of EE 6 Profiles</h4></div></div></div><div class="para">
		Java Enterprise Edition 6 (EE 6) includes support for multiple profiles, or subsets of APIs. The only two profiles that the EE 6 specification defines are the <em class="firstterm">Full Profile</em> and the <em class="firstterm">Web Profile</em>.
	</div><div class="para">
		EE 6 Full Profile includes all APIs and specifications included in the EE 6 specification. EE 6 Web Profile includes a subset of APIs which are useful to web developers.
	</div><div class="para">
		JBoss EAP 6 is a certified implementation of the Java Enterprise Edition 6 Full Profile and Web Profile specifications.
	</div><div class="para">
		<div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
					<a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Java_Enterprise_Edition_6_Web_Profile">Section&nbsp;1.2.1.2, “Java Enterprise Edition 6 Web Profile”</a>
				</div></li><li class="listitem"><div class="para">
					<a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Java_Enterprise_Edition_6_Full_Profile">Section&nbsp;1.2.1.3, “Java Enterprise Edition 6 Full Profile”</a>
				</div></li></ul></div>

	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4488-591661+%5BLatest%5D&comment=Title%3A+Overview+of+EE+6+Profiles%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4488-591661+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="Java_Enterprise_Edition_6_Web_Profile">
      ⁠</a>1.2.1.2.&nbsp;Java Enterprise Edition 6 Web Profile</h4></div></div></div><div class="para">
		The Web Profile is one of two profiles defined by the Java Enterprise Edition 6 specification. It is designed for web application development. The other profile defined by the Java Enterprise Edition 6 specification is the Full Profile. See <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Java_Enterprise_Edition_6_Full_Profile">Section&nbsp;1.2.1.3, “Java Enterprise Edition 6 Full Profile”</a> for more details.
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><p class="title"><strong>Java EE 6 Web Profile Requirements</strong></p><ul><li class="listitem"><div class="para">
				Java Platform, Enterprise Edition 6
			</div></li><li class="listitem"><div class="itemizedlist"><p class="title"><strong>Java Web Technologies</strong></p><ul><li class="listitem"><div class="para">
						Servlet 3.0 (JSR 315)
					</div></li><li class="listitem"><div class="para">
						JSP 2.2 and Expression Language (EL) 1.2
					</div></li><li class="listitem"><div class="para">
						JavaServer Faces (JSF) 2.1 (JSR 314)
					</div></li><li class="listitem"><div class="para">
						Java Standard Tag Library (JSTL) for JSP 1.2
					</div></li><li class="listitem"><div class="para">
						Debugging Support for Other Languages 1.0 (JSR 45)
					</div></li></ul></div></li><li class="listitem"><div class="itemizedlist"><p class="title"><strong>Enterprise Application Technologies</strong></p><ul><li class="listitem"><div class="para">
						Contexts and Dependency Injection (CDI) (JSR 299)
					</div></li><li class="listitem"><div class="para">
						Dependency Injection for Java (JSR 330)
					</div></li><li class="listitem"><div class="para">
						Enterprise JavaBeans 3.1 Lite (JSR 318)
					</div></li><li class="listitem"><div class="para">
						Java Persistence API 2.0 (JSR 317)
					</div></li><li class="listitem"><div class="para">
						Common Annotations for the Java Platform 1.1 (JSR 250)
					</div></li><li class="listitem"><div class="para">
						Java Transaction API (JTA) 1.1 (JSR 907)
					</div></li><li class="listitem"><div class="para">
						Bean Validation (JSR 303)
					</div></li></ul></div></li></ul></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4489-591661+%5BLatest%5D&comment=Title%3A+Java+Enterprise+Edition+6+Web+Profile%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4489-591661+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="Java_Enterprise_Edition_6_Full_Profile">
      ⁠</a>1.2.1.3.&nbsp;Java Enterprise Edition 6 Full Profile</h4></div></div></div><div class="para">
		The Java Enterprise Edition 6 (EE 6) specification defines a concept of profiles, and defines two of them as part of the specification. Besides the items supported in the Java Enterprise Edition 6 Web Profile ( <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Java_Enterprise_Edition_6_Web_Profile">Section&nbsp;1.2.1.2, “Java Enterprise Edition 6 Web Profile”</a>), the Full Profile supports the following APIs.
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><p class="title"><strong>Items Included in the EE 6 Full Profile</strong></p><ul><li class="listitem"><div class="para">
				EJB 3.1 (not Lite) (JSR 318)
			</div></li><li class="listitem"><div class="para">
				Java EE Connector Architecture 1.6 (JSR 322)
			</div></li><li class="listitem"><div class="para">
				Java Message Service (JMS) API 1.1 (JSR 914)
			</div></li><li class="listitem"><div class="para">
				JavaMail 1.4 (JSR 919)
			</div></li><li class="listitem"><div class="itemizedlist"><p class="title"><strong>Web Service Technologies</strong></p><ul><li class="listitem"><div class="para">
						Jax-RS RESTful Web Services 1.1 (JSR 311)
					</div></li><li class="listitem"><div class="para">
						Implementing Enterprise Web Services 1.3 (JSR 109)
					</div></li><li class="listitem"><div class="para">
						JAX-WS Java API for XML-Based Web Services 2.2 (JSR 224)
					</div></li><li class="listitem"><div class="para">
						Java Architecture for XML Binding (JAXB) 2.2 (JSR 222)
					</div></li><li class="listitem"><div class="para">
						Web Services Metadata for the Java Platform (JSR 181)
					</div></li><li class="listitem"><div class="para">
						Java APIs for XML-based RPC 1.1 (JSR 101)
					</div></li><li class="listitem"><div class="para">
						Java APIs for XML Messaging 1.3 (JSR 67)
					</div></li><li class="listitem"><div class="para">
						Java API for XML Registries (JAXR) 1.0 (JSR 93)
					</div></li></ul></div></li><li class="listitem"><div class="itemizedlist"><p class="title"><strong>Management and Security Technologies</strong></p><ul><li class="listitem"><div class="para">
						Java Authentication Service Provider Interface for Containers 1.0 (JSR 196)
					</div></li><li class="listitem"><div class="para">
						Java Authentication Contract for Containers 1.3 (JSR 115)
					</div></li><li class="listitem"><div class="para">
						Java EE Application Deployment 1.2 (JSR 88)
					</div></li><li class="listitem"><div class="para">
						J2EE Management 1.1 (JSR 77)
					</div></li></ul></div></li></ul></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4490-706470+%5BLatest%5D&comment=Title%3A+Java+Enterprise+Edition+6+Full+Profile%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4490-706470+04+Sep+2014+14%3A52+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="sect-About_Modules_and_the_New_Modular_Class_Loading_System_used_in_JBoss_EAP_6">
      ⁠</a>1.2.2.&nbsp;About Modules and the New Modular Class Loading System used in JBoss EAP 6</h3></div></div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="Modules1">
      ⁠</a>1.2.2.1.&nbsp;Modules</h4></div></div></div><div class="para">
		A Module is a logical grouping of classes used for class loading and dependency management. JBoss EAP 6 identifies two different types of modules, sometimes called static and dynamic modules. However the only difference between the two is how they are packaged. All modules provide the same features.
	</div><div class="variablelist"><dl class="variablelist"><dt><span class="term">Static Modules</span></dt><dd><div class="para">
					Static Modules are predefined in the <code class="filename"><em class="replaceable">EAP_HOME</em>/modules/</code> directory of the application server. Each sub-directory represents one module and defines a <code class="filename">main/</code> subdirectory that contains a configuration file (<code class="filename">module.xml</code>) and any required JAR files. The name of the module is defined in the <code class="filename">module.xml</code> file. All the application server provided APIs are provided as static modules, including the Java EE APIs as well as other APIs such as JBoss Logging.
				</div><div class="example"><a id="idp5767456">
      ⁠</a><p class="title"><strong>Example&nbsp;1.1.&nbsp;Example module.xml file</strong></p><div class="example-contents"><pre class="programlisting"><span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;?xml</span> version="1.0" encoding="UTF-8"<span xmlns="" class="perl_Keyword">?&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;module</span><span xmlns="" class="perl_Others"> xmlns=</span><span xmlns="" class="perl_String">"urn:jboss:module:1.0"</span><span xmlns="" class="perl_Others"> name=</span><span xmlns="" class="perl_String">"com.mysql"</span><span xmlns="" class="perl_Keyword">&gt;</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">&lt;resources&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;resource-root</span><span xmlns="" class="perl_Others"> path=</span><span xmlns="" class="perl_String">"mysql-connector-java-5.1.15.jar"</span><span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">&lt;/resources&gt;</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">&lt;dependencies&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;module</span><span xmlns="" class="perl_Others"> name=</span><span xmlns="" class="perl_String">"javax.api"</span><span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;module</span><span xmlns="" class="perl_Others"> name=</span><span xmlns="" class="perl_String">"javax.transaction.api"</span><span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">&lt;/dependencies&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;/module&gt;</span></pre><div class="para">
						The module name, <code class="code">com.mysql</code>, should match the directory structure for the module, excluding the <code class="filename">main/</code> subdirectory name.
					</div></div></div><div class="para">
					The modules provided in JBoss EAP distributions are located in a <code class="filename">system</code> directory within the <code class="filename"><em class="replaceable">JBOSS_HOME</em>/modules</code> directory. This keeps them separate from any modules provided by third parties.
				</div><div class="para">
					Any Red Hat provided layered products that layer on top of JBoss EAP 6.1 or later will also install their modules within the <code class="filename">system</code> directory.
				</div><div class="para">
					Creating custom static modules can be useful if many applications are deployed on the same server that use the same third party libraries. Instead of bundling those libraries with each application, a module containing these libraries can be created and installed by the JBoss administrator. The applications can then declare an explicit dependency on the custom static modules.
				</div><div class="para">
					Users must ensure that custom modules are installed into the <code class="filename"><em class="replaceable">JBOSS_HOME</em>/modules</code> directory, using a one directory per module layout. This ensures that custom versions of modules that already exist in the <code class="filename">system</code> directory are loaded instead of the shipped versions. In this way, user provided modules will take precedence over system modules.
				</div><div class="para">
					If you use the <code class="varname">JBOSS_MODULEPATH</code> environment variable to change the locations in which JBoss EAP searches for modules, then the product will look for a <code class="filename">system</code> subdirectory structure within one of the locations specified. A <code class="filename">system</code> structure must exist somewhere in the locations specified with <code class="varname">JBOSS_MODULEPATH</code>.
				</div></dd><dt><span class="term">Dynamic Modules</span></dt><dd><div class="para">
					Dynamic Modules are created and loaded by the application server for each JAR or WAR deployment (or subdeployment in an EAR). The name of a dynamic module is derived from the name of the deployed archive. Because deployments are loaded as modules, they can configure dependencies and be used as dependencies by other deployments.
				</div></dd></dl></div><div class="para">
		Modules are only loaded when required. This usually only occurs when an application is deployed that has explicit or implicit dependencies.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4360-715834+%5BLatest%5D&comment=Title%3A+Modules%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4360-715834+10+Oct+2014+00%3A37+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="sect-Set_Up_the_Development_Environment">
      ⁠</a>1.3.&nbsp;Set Up the Development Environment</h2></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="sect-Download_and_Install_Red_Hat_JBoss_Developer_Studio">
      ⁠</a>1.3.1.&nbsp;Download and Install Red Hat JBoss Developer Studio</h3></div></div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="Setup_the_JBoss_Developer_Studio">
      ⁠</a>1.3.1.1.&nbsp;Setup Red Hat JBoss Developer Studio</h4></div></div></div><div class="para">
		<div xmlns:d="http://docbook.org/ns/docbook" class="orderedlist"><ol><li class="listitem"><div class="para">
					<a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Download_JBoss_Developer_Studio_5">Section&nbsp;1.3.1.2, “Download Red Hat JBoss Developer Studio 7.1”</a>
				</div></li><li class="listitem"><div class="para">
					<a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Install_JBoss_Developer_Studio_5">Section&nbsp;1.3.1.3, “Install Red Hat JBoss Developer Studio 7.1”</a>
				</div></li><li class="listitem"><div class="para">
					<a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Start_JBoss_Developer_Studio">Section&nbsp;1.3.1.4, “Start Red Hat JBoss Developer Studio”</a>
				</div></li><li class="listitem"><div class="para">
					<a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Add_the_JBoss_EAP_Server_Using_Define_New_Server">Section&nbsp;1.3.1.5, “Add the JBoss EAP Server Using Define New Server”</a>
				</div></li></ol></div>

	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4583-721148+%5BLatest%5D&comment=Title%3A+Setup+Red+Hat+JBoss+Developer+Studio%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4583-721148+31+Oct+2014+05%3A41+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="Download_JBoss_Developer_Studio_5">
      ⁠</a>1.3.1.2.&nbsp;Download Red Hat JBoss Developer Studio 7.1</h4></div></div></div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><ol class="1"><li class="step"><div class="para">
				Go to <a href="https://access.redhat.com/">https://access.redhat.com/</a>.
			</div></li><li class="step"><div class="para">
				Select <span class="guimenu"><strong>Downloads</strong></span> from the menu at the top of the page.
			</div></li><li class="step"><div class="para">
				Find <code class="literal">Red Hat JBoss Developer Studio</code> in the list and click on it.
			</div></li><li class="step"><div class="para">
				Select the appropriate version and click <span class="guibutton"><strong>Download</strong></span>.
			</div></li></ol></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4580-681215+%5BLatest%5D&comment=Title%3A+Download+Red+Hat+JBoss+Developer+Studio+7.1%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4580-681215+03+Jul+2014+23%3A56+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="Install_JBoss_Developer_Studio_5">
      ⁠</a>1.3.1.3.&nbsp;Install Red Hat JBoss Developer Studio 7.1</h4></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">Prerequisites:</span></dt><dd><div class="para">
					<a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Download_JBoss_Developer_Studio_5">Section&nbsp;1.3.1.2, “Download Red Hat JBoss Developer Studio 7.1”</a>
				</div></dd></dl></div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idp37584400">
      ⁠</a><p class="title"><strong>Procedure&nbsp;1.1.&nbsp;Install Red Hat JBoss Developer Studio 7.1</strong></p><ol class="1"><li class="step"><div class="para">
				Open a terminal.
			</div></li><li class="step"><div class="para">
				Move into the directory containing the downloaded <code class="filename">.jar</code> file.
			</div></li><li class="step"><div class="para">
				Run the following command to launch the GUI installer:
			</div><pre class="screen">java -jar jbdevstudio-<em class="replaceable">build_version</em>.jar</pre></li><li class="step"><div class="para">
				Click <span class="guibutton"><strong>Next</strong></span> to start the installation process.
			</div></li><li class="step"><div class="para">
				Select <span class="guilabel"><strong>I accept the terms of this license agreement</strong></span> and click <span class="guibutton"><strong>Next</strong></span>.
			</div></li><li class="step"><div class="para">
				Adjust the installation path and click <span class="guibutton"><strong>Next</strong></span>.
			</div><div class="note"><div class="admonition_header"><p><strong>Note</strong></p></div><div class="admonition"><div class="para">
					If the installation path folder does not exist, a prompt will appear. Click <span class="guibutton"><strong>Ok</strong></span> to create the folder.
				</div></div></div></li><li class="step"><div class="para">
				Choose a JVM, or leave the default JVM selected, and click <span class="guibutton"><strong>Next</strong></span>.
			</div></li><li class="step"><div class="para">
				Add any application platforms available, and click <span class="guibutton"><strong>Next</strong></span>.
			</div></li><li class="step"><div class="para">
				Review the installation details, and click <span class="guibutton"><strong>Next</strong></span>.
			</div></li><li class="step"><div class="para">
				Click <span class="guibutton"><strong>Next</strong></span> when the installation process is complete.
			</div></li><li class="step"><div class="para">
				Configure the desktop shortcuts for Red Hat JBoss Developer Studio, and click <span class="guibutton"><strong>Next</strong></span>.
			</div></li><li class="step"><div class="para">
				Click <span class="guibutton"><strong>Done</strong></span>.
			</div></li></ol></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4581-681217+%5BLatest%5D&comment=Title%3A+Install+Red+Hat+JBoss+Developer+Studio+7.1%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4581-681217+03+Jul+2014+23%3A58+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="Start_JBoss_Developer_Studio">
      ⁠</a>1.3.1.4.&nbsp;Start Red Hat JBoss Developer Studio</h4></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">Prerequisites:</span></dt><dd><div class="para">
					<a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Install_JBoss_Developer_Studio_5">Section&nbsp;1.3.1.3, “Install Red Hat JBoss Developer Studio 7.1”</a>
				</div></dd></dl></div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idp29539200">
      ⁠</a><p class="title"><strong>Procedure&nbsp;1.2.&nbsp;Command to start Red Hat JBoss Developer Studio</strong></p><ol class="1"><li class="step"><div class="para">
				Open a terminal.
			</div></li><li class="step"><div class="para">
				Change into the installation directory.
			</div></li><li class="step"><div class="para">
				Run the following command to start Red Hat JBoss Developer Studio:
			</div><pre class="screen">[localhost]$ ./jbdevstudio</pre></li></ol></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4582-681218+%5BLatest%5D&comment=Title%3A+Start+Red+Hat+JBoss+Developer+Studio%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4582-681218+04+Jul+2014+00%3A00+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="Add_the_JBoss_EAP_Server_Using_Define_New_Server">
      ⁠</a>1.3.1.5.&nbsp;Add the JBoss EAP Server Using Define New Server</h4></div></div></div><div class="para">
		These instructions assume this is your first introduction to Red Hat JBoss Developer Studio 7.x and you have not yet added any JBoss EAP servers. The procedure below adds the JBoss server using the Define New Server wizard.
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idp1420848">
      ⁠</a><p class="title"><strong>Procedure&nbsp;1.3.&nbsp;Add the server</strong></p><div class="para">

		</div><ol class="1"><li class="step"><div class="para">
				Open the <span class="guilabel"><strong>Servers</strong></span> tab. If there is no <span class="guilabel"><strong>Servers</strong></span> tab, add it to the panel as follows:
			</div><ol class="substeps a"><li class="step"><div class="para">
						Click <span class="guimenu"><strong>Window</strong></span> → <span class="guisubmenu"><strong>Show View</strong></span> → <span class="guimenuitem"><strong>Other...</strong></span>.
					</div></li><li class="step"><div class="para">
						Select <span class="guilabel"><strong>Servers</strong></span> from the <span class="guilabel"><strong>Server</strong></span> folder and click <span class="guibutton"><strong>OK</strong></span>.
					</div></li></ol></li><li class="step"><div class="para">
				Click on the link to <span class="guilabel"><strong>create a new server</strong></span> or right-click within the blank Server panel and select <span class="guimenu"><strong>New</strong></span> → <span class="guimenuitem"><strong>Server</strong></span>.
			</div><div class="figure"><a id="idp26600848">
      ⁠</a><div class="figure-contents"><div class="mediaobject"><img src="./JBoss_6_3_files/4698.png" alt="Add a new server - No servers available"></div></div><p class="title"><strong>Figure&nbsp;1.1.&nbsp;Add a new server - No servers available</strong></p></div></li><li class="step"><div class="para">
				Expand <span class="guilabel"><strong>JBoss Enterprise Middleware</strong></span> and choose <span class="guimenu"><strong>JBoss Enterprise Application Platform 6.1+</strong></span>. Click <span class="guibutton"><strong>Next</strong></span> to create the JBoss runtime and define the server. The next time you define a new server, this dialog displays a <span class="guilabel"><strong>Server runtime environment</strong></span> selection with the new runtime definition.
			</div><div class="figure"><a id="idp20570352">
      ⁠</a><div class="figure-contents"><div class="mediaobject"><img src="./JBoss_6_3_files/4699.png" alt="Define a New Server"></div></div><p class="title"><strong>Figure&nbsp;1.2.&nbsp;Define a New Server</strong></p></div></li><li class="step"><div class="para">
				Enter a name, for example "JBoss EAP 6.3 Runtime". Under <span class="guilabel"><strong>Home Directory</strong></span>, click <span class="guibutton"><strong>Browse</strong></span> and navigate to your JBoss EAP install location. Then click <span class="guibutton"><strong>Next</strong></span>.
			</div><div class="figure"><a id="idp3624432">
      ⁠</a><div class="figure-contents"><div class="mediaobject"><img src="./JBoss_6_3_files/4700.png" alt="Add New Server Runtime Environment"></div></div><p class="title"><strong>Figure&nbsp;1.3.&nbsp;Add New Server Runtime Environment</strong></p></div><div class="note"><div class="admonition_header"><p><strong>Note</strong></p></div><div class="admonition"><div class="para">
					Some quickstarts require that you run the server with a different profile or additional arguments. To deploy a quickstart that requires the <code class="literal">full</code> profile, you must define a new server and add a <span class="guilabel"><strong>Server Runtime Environment</strong></span> that specifies <code class="filename">standalone-full.xml</code> for the <span class="guilabel"><strong>Configuration file</strong></span>. Be sure to give the new server a descriptive name.
				</div></div></div></li><li class="step"><div class="para">
				On this screen you define the server behavior. You can start the server manually or let Red Hat JBoss Developer Studio manage it for you. You can also define a remote server for deployment and determine if you want to expose the management port for that server, for example, if you need connect to it using JMX. In this example, we assume the server is local and you want Red Hat JBoss Developer Studio to manage your server so you do not need to check anything. Click <span class="guibutton"><strong>Next</strong></span>.
			</div><div class="figure"><a id="idp8358432">
      ⁠</a><div class="figure-contents"><div class="mediaobject"><img src="./JBoss_6_3_files/4702.png" alt="Define the New JBoss Server Behavior"></div></div><p class="title"><strong>Figure&nbsp;1.4.&nbsp;Define the New JBoss Server Behavior</strong></p></div></li><li class="step"><div class="para">
				This screen allows you to configure existing projects for the new server. Because you do not have any projects at this point, click <span class="guibutton"><strong>Finish</strong></span>.
			</div><div class="figure"><a id="idp32920800">
      ⁠</a><div class="figure-contents"><div class="mediaobject"><img src="./JBoss_6_3_files/4703.png" alt="Modify resources for the new JBoss server"></div></div><p class="title"><strong>Figure&nbsp;1.5.&nbsp;Modify resources for the new JBoss server</strong></p></div></li></ol></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Result</div>
			The JBoss EAP Runtime Server is listed in the <span class="guilabel"><strong>Servers</strong></span> tab. 
			<div class="figure"><a id="idp11419840">
      ⁠</a><div class="figure-contents"><div class="mediaobject"><img src="./JBoss_6_3_files/4704.png" alt="Server appears in the server list"></div></div><p class="title"><strong>Figure&nbsp;1.6.&nbsp;Server appears in the server list</strong></p></div>

		</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+26921-715085+%5BLatest%5D&comment=Title%3A+Add+the+JBoss+EAP+Server+Using+Define+New+Server%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=26921-715085+04+Oct+2014+02%3A29+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="sect-Run_Your_First_Application">
      ⁠</a>1.4.&nbsp;Run Your First Application</h2></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="sect-Download_the_Quickstart_Code_Examples">
      ⁠</a>1.4.1.&nbsp;Download the Quickstart Code Examples</h3></div></div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="Access_the_Java_EE_Quickstart_Examples">
      ⁠</a>1.4.1.1.&nbsp;Access the Quickstarts</h4></div></div></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Summary</div>
			JBoss EAP 6 comes with a series of quickstart examples designed to help users begin writing applications using the Java EE 6 technologies.
		</div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul><li class="listitem"><div class="para">
				Maven 3.0.0 or higher. For more information on installing Maven, refer to <a href="http://maven.apache.org/download.html">http://maven.apache.org/download.html</a>.
			</div></li><li class="listitem"><div class="para">
				 <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_the_Maven_Repository">Section&nbsp;2.1.1, “About the Maven Repository”</a>
			</div></li><li class="listitem"><div class="para">
				The JBoss EAP 6.3 Maven respository is available online, so it is not necessary to download and install it locally. If you plan to use the online repository, you can skip to the next step. If you prefer to install a local repository, see:  <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Install_the_JBoss_Enterprise_Application_Platform_6_Maven_Repository_Locally">Section&nbsp;2.2.3, “Install the JBoss EAP 6 Maven Repository Locally”</a>.
			</div></li><li class="listitem"><div class="para">
				 <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Configure_the_JBoss_Enterprise_Application_Platform_Maven_Repository_Using_the_Maven_Settings">Section&nbsp;2.3.2, “Configure the JBoss EAP 6 Maven Repository Using the Maven Settings”</a>
			</div></li></ul></div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idp95456896">
      ⁠</a><p class="title"><strong>Procedure&nbsp;1.4.&nbsp;Download the Quickstarts</strong></p><ol class="1"><li class="step"><div class="para">
				Open a web browser and access this URL: <a href="https://access.redhat.com/jbossnetwork/restricted/listSoftware.html?product=appplatform">https://access.redhat.com/jbossnetwork/restricted/listSoftware.html?product=appplatform</a>.
			</div></li><li class="step"><div class="para">
				Find "Quickstarts" in the list.
			</div></li><li class="step"><div class="para">
				Click the <span class="guibutton"><strong>Download</strong></span> button to download a Zip archive containing the examples.
			</div></li><li class="step"><div class="para">
				Unzip the archive in a directory of your choosing.
			</div></li></ol></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Result</div>
			The JBoss EAP Quickstarts have been downloaded and unzipped. Refer to the <code class="filename">README.md</code> file in the top-level directory of the Quickstart archive for instructions about deploying each quickstart.
		</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+5720-606679+%5BLatest%5D&comment=Title%3A+Access+the+Quickstarts%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=5720-606679+27+Feb+2014+16%3A39+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="sect-Run_the_Quickstarts">
      ⁠</a>1.4.2.&nbsp;Run the Quickstarts</h3></div></div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="Run_the_Quickstarts_in_JBoss_Developer_Studio1">
      ⁠</a>1.4.2.1.&nbsp;Run the Quickstarts in Red Hat JBoss Developer Studio</h4></div></div></div><div class="para">
		This section describes how to use Red Hat JBoss Developer Studio to deploy the quickstarts and run the Arquillian tests.
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idp10777312">
      ⁠</a><p class="title"><strong>Procedure&nbsp;1.5.&nbsp;Import the quickstarts into Red Hat JBoss Developer Studio</strong></p><div class="para">
			Each quickstart ships with a POM (Project Object Model) file that contains project and configuration information for the quickstart. Using this POM file, you can easily import the quickstart into Red Hat JBoss Developer Studio.
		</div><div class="para">
			<div class="important"><div class="admonition_header"><p><strong>Important</strong></p></div><div class="admonition"><div class="para">
					If your quickstart project folder is located within the IDE workspace when you import it into Red Hat JBoss Developer Studio, the IDE generates an invalid project name and WAR archive name. Be sure your quickstart project folder is located outside the IDE workspace before you begin!
				</div></div></div>

		</div><ol class="1"><li class="step"><div class="para">
				If you have not yet done so,  <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Configure_the_JBoss_Enterprise_Application_Platform_Maven_Repository_Using_the_Maven_Settings">Section&nbsp;2.3.2, “Configure the JBoss EAP 6 Maven Repository Using the Maven Settings”</a>.
			</div></li><li class="step"><p class="title"><strong></strong></p><div class="para">
				Start Red Hat JBoss Developer Studio.
			</div></li><li class="step"><p class="title"><strong></strong></p><div class="para">
				From the menu, select <span class="guimenu"><strong>File</strong></span> → <span class="guimenuitem"><strong>Import</strong></span>.
			</div></li><li class="step"><p class="title"><strong></strong></p><div class="para">
				In the selection list, choose <span class="guimenu"><strong>Maven</strong></span> → <span class="guimenuitem"><strong>Existing Maven Projects</strong></span>, then click <span class="guibutton"><strong>Next</strong></span>.
			</div><div class="figure"><a id="idp18056016">
      ⁠</a><div class="figure-contents"><div class="mediaobject"><img src="./JBoss_6_3_files/4707.png" alt="Import Existing Maven Projects"></div></div><p class="title"><strong>Figure&nbsp;1.7.&nbsp;Import Existing Maven Projects</strong></p></div></li><li class="step"><p class="title"><strong></strong></p><div class="para">
				Browse to the directory of the quickstart you plan to test, for example the <code class="literal">helloworld</code> quickstart, and click <span class="guibutton"><strong>OK</strong></span>. The <span class="guilabel"><strong>Projects</strong></span> list box is populated with the <code class="filename">pom.xml</code> file of the selected quickstart project.
			</div><div class="figure"><a id="idp92288944">
      ⁠</a><div class="figure-contents"><div class="mediaobject"><img src="./JBoss_6_3_files/5085.png" alt="Select Maven Projects"></div></div><p class="title"><strong>Figure&nbsp;1.8.&nbsp;Select Maven Projects</strong></p></div></li><li class="step"><p class="title"><strong></strong></p><div class="para">
				Click <span class="guibutton"><strong>Finish</strong></span>.
			</div></li></ol></div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idp3475088">
      ⁠</a><p class="title"><strong>Procedure&nbsp;1.6.&nbsp;Build and Deploy the <code class="literal">helloworld</code> quickstart</strong></p><div class="para">
			The <code class="literal">helloworld</code> quickstart is one of the simplest quickstarts and is a good way to verify that the JBoss server is configured and running correctly.
		</div><ol class="1"><li class="step"><div class="para">
				If you do not see a <span class="guilabel"><strong>Servers</strong></span> tab or have not yet defined a server, follow the instructions here: <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Add_the_JBoss_EAP_Server_Using_Define_New_Server">Section&nbsp;1.3.1.5, “Add the JBoss EAP Server Using Define New Server”</a>. If you plan to deploy a quickstart that requires the <code class="literal">full</code> profile or additional startup arguments, be sure to create the server runtime environment as noted in the quickstart instructions.
			</div></li><li class="step"><div class="para">
				Right-click on the <code class="literal">jboss-helloworld</code> project in the <span class="guilabel"><strong>Project Explorer</strong></span> tab and select <span class="guimenu"><strong>Run As</strong></span>. You are provided with a list of choices. Select <span class="guimenuitem"><strong>Run on Server</strong></span>.
			</div><div class="figure"><a id="idp19113376">
      ⁠</a><div class="figure-contents"><div class="mediaobject"><img src="./JBoss_6_3_files/4709.png" width="660" alt="Run As - Run on Server"></div></div><p class="title"><strong>Figure&nbsp;1.9.&nbsp;Run As - Run on Server</strong></p></div></li><li class="step"><div class="para">
				Select <span class="guilabel"><strong>JBoss EAP 6.1+ Runtime Server</strong></span> from the server list and click <span class="guibutton"><strong>Next</strong></span>.
			</div><div class="figure"><a id="idp10726032">
      ⁠</a><div class="figure-contents"><div class="mediaobject"><img src="./JBoss_6_3_files/6205.png" alt="Run on Server"></div></div><p class="title"><strong>Figure&nbsp;1.10.&nbsp;Run on Server</strong></p></div></li><li class="step"><div class="para">
				The next screen displays the resources that are configured on the server. The <code class="literal">jboss-helloworld</code> quickstart is configured for you. Click <span class="guibutton"><strong>Finish</strong></span> to deploy the quickstart.
			</div><div class="figure"><a id="idp16630000">
      ⁠</a><div class="figure-contents"><div class="mediaobject"><img src="./JBoss_6_3_files/4711.png" alt="Modify Resources Configured on the Server"></div></div><p class="title"><strong>Figure&nbsp;1.11.&nbsp;Modify Resources Configured on the Server</strong></p></div></li><li class="step"><div class="para">
				Review the results. 
				<div class="itemizedlist"><ul><li class="listitem"><div class="para">
							In the <code class="literal">Server</code> tab, the JBoss EAP 6.3 Runtime Server status changes to <code class="literal">[Started, Republish]</code> .
						</div></li><li class="listitem"><div class="para">
							The server <span class="guilabel"><strong>Console</strong></span> tab shows messages detailing the JBoss EAP 6.3 server start and the helloworld quickstart deployment.
						</div></li><li class="listitem"><div class="para">
							A <span class="guilabel"><strong>helloworld</strong></span> tab appears displaying the URL <a href="http://localhost:8080/jboss-helloworld/HelloWorld">http://localhost:8080/jboss-helloworld/HelloWorld</a> and the text "Hello World!".
						</div></li><li class="listitem"><div class="para">
							The following messages in the <span class="guilabel"><strong>Console</strong></span> confirm deployment of the <code class="filename">jboss-helloworld.war</code> file: 
<pre class="screen">JBAS018210: Register web context: /jboss-helloworld
JBAS018559: Deployed "jboss-helloworld.war" (runtime-name : "jboss-helloworld.war")
</pre>
							 The registered web context is appended to <code class="literal">http://localhost:8080</code> to provide the URL used to access the deployed application.
						</div></li></ul></div>

			</div></li><li class="step"><div class="para">
				To verify the <code class="literal">helloworld</code> quickstart deployed successfully to the JBoss server, open a web browser and access the application at this URL: <a href="http://localhost:8080/jboss-helloworld">http://localhost:8080/jboss-helloworld</a>
			</div></li></ol></div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idp38556784">
      ⁠</a><p class="title"><strong>Procedure&nbsp;1.7.&nbsp;Run the <code class="literal">bean-validation</code> quickstart Arquillian tests</strong></p><div class="para">
			Some quickstarts do not provide a user interface layer and instead provide Arquillian tests to demonstrate the code examples. The <code class="literal">bean-validation</code> quickstart is an example of a quickstart that provides Arquillian tests.
		</div><ol class="1"><li class="step"><div class="para">
				Follow the procedure above to import the <code class="literal">bean-validation</code> quickstart into Red Hat JBoss Developer Studio.
			</div></li><li class="step"><div class="para">
				If you do not see a <span class="guilabel"><strong>Servers</strong></span> tab or have not yet defined a server, follow the instructions here: <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Add_the_JBoss_EAP_Server_Using_Define_New_Server">Section&nbsp;1.3.1.5, “Add the JBoss EAP Server Using Define New Server”</a>
			</div></li><li class="step"><div class="para">
				Right-click on the <code class="literal">jboss-bean-validation</code> project in the <span class="guilabel"><strong>Project Explorer</strong></span> tab and select <span class="guimenu"><strong>Run As</strong></span>. You are provided with a list of choices. Select <span class="guimenuitem"><strong>Maven Build</strong></span>.
			</div></li><li class="step"><div class="para">
				In the <span class="guilabel"><strong>Goals</strong></span> input field of the <span class="guilabel"><strong>Edit Configuration</strong></span> dialog, type: <code class="command">clean test -Parq-jbossas-remote</code>
			</div><div class="para">
				Then click <span class="guibutton"><strong>Run</strong></span>.
			</div><div class="figure"><a id="idp28198624">
      ⁠</a><div class="figure-contents"><div class="mediaobject"><img src="./JBoss_6_3_files/6186.png" alt="Edit Configuration"></div></div><p class="title"><strong>Figure&nbsp;1.12.&nbsp;Edit Configuration</strong></p></div></li><li class="step"><div class="para">
				Review the results.
			</div><div class="para">
				The server <span class="guilabel"><strong>Console</strong></span> tab shows messages detailing the JBoss EAP server start and the output of the <code class="literal">bean-validation</code> quickstart Arquillian tests. 
<pre class="screen">-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Running org.jboss.as.quickstarts.bean_validation.test.MemberValidationTest
Tests run: 5, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 2.189 sec

Results :

Tests run: 5, Failures: 0, Errors: 0, Skipped: 0

[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
</pre>

			</div></li></ol></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+27008-712998+%5BLatest%5D&comment=Title%3A+Run+the+Quickstarts+in+Red+Hat+JBoss+Developer+Studio%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=27008-712998+25+Sep+2014+23%3A27+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="Run_the_Quickstarts_Using_a_Command_Line">
      ⁠</a>1.4.2.2.&nbsp;Run the Quickstarts Using a Command Line</h4></div></div></div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idp14417552">
      ⁠</a><p class="title"><strong>Procedure&nbsp;1.8.&nbsp;Build and Deploy the Quickstarts Using a Command Line</strong></p><div class="para">
			You can easily build and deploy the quickstarts using a command line. Be aware that, when using a command line, you are responsible for starting the JBoss server if it is required.
		</div><ol class="1"><li class="step"><div class="para">
				If you have not yet done so,  <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Configure_the_JBoss_Enterprise_Application_Platform_Maven_Repository_Using_the_Maven_Settings">Section&nbsp;2.3.2, “Configure the JBoss EAP 6 Maven Repository Using the Maven Settings”</a>.
			</div></li><li class="step"><div class="para">
				Review the <code class="filename">README.html</code> file in the root directory of the quickstarts.
			</div><div class="para">
				This file contains general information about system requirements, how to configure Maven, how to add users, and how to run the Quickstarts. Be sure to read through it before you get started.
			</div><div class="para">
				It also contains a table listing the available quickstarts. The table lists each quickstart name and the technologies it demonstrates. It gives a brief description of each quickstart and the level of experience required to set it up. For more detailed information about a quickstart, click on the quickstart name.
			</div><div class="para">
				Some quickstarts are designed to enhance or extend other quickstarts. These are noted in the <code class="literal">Prerequisites</code> column. If a quickstart lists prerequisites, you must install them first before working with the quickstart.
			</div><div class="para">
				Some quickstarts require the installation and configuration of optional components. Do not install these components unless the quickstart requires them.
			</div></li><li class="step"><div class="para">
				Run the <code class="literal">helloworld</code> quickstart.
			</div><div class="para">
				The <code class="literal">helloworld</code> quickstart is one of the simplest quickstarts and is a good way to verify that the JBoss server is configured and running correctly. Open the <code class="filename">README.html</code> file in the root of the <code class="literal">helloworld</code> quickstart. It contains detailed instructions on how to build and deploy the quickstart and access the running application
			</div></li><li class="step"><div class="para">
				Run the other quickstarts.
			</div><div class="para">
				Follow the instructions in the <code class="filename">README.html</code> file located in the root folder of each quickstart to run the example.
			</div></li></ol></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+7307-644728+%5BLatest%5D&comment=Title%3A+Run+the+Quickstarts+Using+a+Command+Line%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=7307-644728+28+May+2014+03%3A26+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="sect-Review_the_Quickstart_Tutorials">
      ⁠</a>1.4.3.&nbsp;Review the Quickstart Tutorials</h3></div></div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="Explore_the_helloworld_Quickstart1">
      ⁠</a>1.4.3.1.&nbsp;Explore the helloworld Quickstart</h4></div></div></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Summary</div>
			The <span class="guilabel"><strong>helloworld</strong></span> quickstart shows you how to deploy a simple Servlet to JBoss EAP 6. The business logic is encapsulated in a service which is provided as a CDI (Contexts and Dependency Injection) bean and injected into the Servlet. This quickstart is very simple. All it does is print "Hello World" onto a web page. It is a good starting point to be sure you have configured and started your server properly.
		</div><div class="para">
		Detailed instructions to build and deploy this quickstart using a command line can be found in the README.html file at the root of the <span class="guilabel"><strong>helloworld</strong></span> quickstart directory. Here we show you how to use Red Hat JBoss Developer Studio to run the quickstart. This topic assumes you have installed Red Hat JBoss Developer Studio, configured Maven, and imported and successfully run the <code class="literal">helloworld</code> quickstart.
	</div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Prerequisites</div>
			<div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
						Install Red Hat JBoss Developer Studio following the procedure here:  <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Install_JBoss_Developer_Studio_5">Section&nbsp;1.3.1.3, “Install Red Hat JBoss Developer Studio 7.1”</a>.
					</div></li><li class="listitem"><div class="para">
						Configure Maven for use with Red Hat JBoss Developer Studio following the procedure here:  <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Configure_Maven_for_Use_with_JBoss_Developer_Studio">Section&nbsp;2.3.3, “Configure Maven for Use with Red Hat JBoss Developer Studio”</a>.
					</div></li><li class="listitem"><div class="para">
						Follow the procedures here to import, build, and deploy the <code class="literal">helloworld</code> quickstart in Red Hat JBoss Developer Studio:  <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Run_the_Quickstarts_in_JBoss_Developer_Studio1">Section&nbsp;1.4.2.1, “Run the Quickstarts in Red Hat JBoss Developer Studio”</a> 
					</div></li><li class="listitem"><div class="para">
						Verify the <code class="literal">helloworld</code> quickstart was deployed successfully to JBoss EAP by opening a web browser and accessing the application at this URL: <a href="http://localhost:8080/jboss-helloworld">http://localhost:8080/jboss-helloworld</a>
					</div></li></ul></div>

		</div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idp41709904">
      ⁠</a><p class="title"><strong>Procedure&nbsp;1.9.&nbsp;Examine the Directory Structure</strong></p><div class="para">
			The code for the <span class="guilabel"><strong>helloworld</strong></span> quickstart can be found in the <code class="filename"><em class="replaceable">QUICKSTART_HOME</em>/helloworld</code> directory. The <span class="guilabel"><strong>helloworld</strong></span> quickstart is comprised a Servlet and a CDI bean. It also includes an empty beans.xml file which tells JBoss EAP 6 to look for beans in this application and to activate the CDI.
		</div><ol class="1"><li class="step"><div class="para">
				The <code class="filename">beans.xml</code> file is located in the <code class="filename">WEB-INF/</code> folder in the <code class="filename">src/main/webapp/</code> directory of the quickstart.
			</div></li><li class="step"><div class="para">
				The <code class="filename">src/main/webapp/</code> directory also includes an <code class="filename">index.html</code> file which uses a simple meta refresh to redirect the user's browser to the Servlet, which is located at <a href="http://localhost:8080/jboss-helloworld/HelloWorld">http://localhost:8080/jboss-helloworld/HelloWorld</a>.
			</div></li><li class="step"><div class="para">
				All the configuration files for this example are located in <code class="filename">WEB-INF/</code>, which can be found in the <code class="filename">src/main/webapp/</code> directory of the example.
			</div></li><li class="step"><div class="para">
				Notice that the quickstart doesn't even need a <code class="filename">web.xml</code> file!
			</div></li></ol></div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idp24111872">
      ⁠</a><p class="title"><strong>Procedure&nbsp;1.10.&nbsp;Examine the Code</strong></p><div class="para">
			The package declaration and imports have been excluded from these listings. The complete listing is available in the quickstart source code.
		</div><ol class="1"><li class="step"><p class="title"><strong>Review the HelloWorldServlet code</strong></p><div class="para">
				The <code class="filename">HelloWorldServlet.java</code> file is located in the <code class="filename">src/main/java/org/jboss/as/quickstarts/helloworld/</code> directory. This Servlet sends the information to the browser.
			</div><div class="para">
				
<pre class="programlisting JAVA"><span xmlns="" class="line">​</span><span xmlns="" class="perl_Float">42.</span>  @<span xmlns="" class="perl_Function">SuppressWarnings</span>(<span xmlns="" class="perl_String">"serial"</span>)
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Float">43.</span>  @<span xmlns="" class="perl_Function">WebServlet</span>(<span xmlns="" class="perl_String">"/HelloWorld"</span>)
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Float">44.</span>  <span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_Keyword">class</span> HelloWorldServlet <span xmlns="" class="perl_Keyword">extends</span> HttpServlet {
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Float">45.</span>  
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Float">46.</span>      <span xmlns="" class="perl_DataType">static</span> String PAGE_HEADER = <span xmlns="" class="perl_String">"&lt;html&gt;&lt;head&gt;&lt;title&gt;helloworld&lt;/title&gt;&lt;/head&gt;&lt;body&gt;"</span>;
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Float">47.</span>  
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Float">48.</span>      <span xmlns="" class="perl_DataType">static</span> String PAGE_FOOTER = <span xmlns="" class="perl_String">"&lt;/body&gt;&lt;/html&gt;"</span>;
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Float">49.</span>  
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Float">50.</span>      @Inject
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Float">51.</span>      HelloService helloService;
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Float">52.</span>  
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Float">53.</span>      @Override
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Float">54.</span>      <span xmlns="" class="perl_Keyword">protected</span> <span xmlns="" class="perl_DataType">void</span> <span xmlns="" class="perl_Function">doGet</span>(HttpServletRequest req, HttpServletResponse resp) <span xmlns="" class="perl_Keyword">throws</span> ServletException, IOException {
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Float">55.</span>          resp.<span xmlns="" class="perl_Function">setContentType</span>(<span xmlns="" class="perl_String">"text/html"</span>);
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Float">56.</span>          PrintWriter writer = resp.<span xmlns="" class="perl_Function">getWriter</span>();
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Float">57.</span>          writer.<span xmlns="" class="perl_Function">println</span>(PAGE_HEADER);
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Float">58.</span>          writer.<span xmlns="" class="perl_Function">println</span>(<span xmlns="" class="perl_String">"&lt;h1&gt;"</span> + helloService.<span xmlns="" class="perl_Function">createHelloMessage</span>(<span xmlns="" class="perl_String">"World"</span>) + <span xmlns="" class="perl_String">"&lt;/h1&gt;"</span>);
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Float">59.</span>          writer.<span xmlns="" class="perl_Function">println</span>(PAGE_FOOTER);
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Float">60.</span>          writer.<span xmlns="" class="perl_Function">close</span>();
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Float">61.</span>      }
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Float">62.</span>  
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Float">63.</span>  }</pre>

			</div><div class="para">
				<div class="table"><a id="table_hellworldservlet">
      ⁠</a><p class="title"><strong>Table&nbsp;1.1.&nbsp;HelloWorldServlet Details</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows" summary="HelloWorldServlet Details"><colgroup><col width="10%" align="left" class="c1"><col width="90%" align="left" class="c2"></colgroup><thead><tr><th align="left"> Line </th><th align="left"> Note </th></tr></thead><tbody><tr><td align="left"> 43 </td><td align="left"> Before Java EE 6, an XML file was used to register Servlets. It is now much cleaner. All you need to do is add the <code class="literal">@WebServlet</code> annotation and provide a mapping to a URL used to access the servlet. </td></tr><tr><td align="left"> 46-48 </td><td align="left"> Every web page needs correctly formed HTML. This quickstart uses static Strings to write the minimum header and footer output. </td></tr><tr><td align="left"> 50-51 </td><td align="left"> These lines inject the HelloService CDI bean which generates the actual message. As long as we don't alter the API of HelloService, this approach allows us to alter the implementation of HelloService at a later date without changing the view layer. </td></tr><tr><td align="left"> 58 </td><td align="left"> This line calls into the service to generate the message "Hello World", and write it out to the HTTP request. </td></tr></tbody></table></div></div>

			</div></li><li class="step"><p class="title"><strong>Review the HelloService code</strong></p><div class="para">
				The <code class="filename">HelloService.java</code> file is located in the <code class="filename">src/main/java/org/jboss/as/quickstarts/helloworld/</code> directory. This service is very simple. It returns a message. No XML or annotation registration is required.
			</div><div class="para">
				
<pre class="programlisting JAVA"><span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_Keyword">class</span> HelloService {
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>    String <span xmlns="" class="perl_Function">createHelloMessage</span>(String name) {
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">return</span> <span xmlns="" class="perl_String">"Hello "</span> + name + <span xmlns="" class="perl_String">"!"</span>; 
<span xmlns="" class="line">​</span>    }
<span xmlns="" class="line">​</span>}</pre>

			</div></li></ol></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+7881-681224+%5BLatest%5D&comment=Title%3A+Explore+the+helloworld+Quickstart%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=7881-681224+04+Jul+2014+00%3A08+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="Explore_the_numberguess_Quickstart1">
      ⁠</a>1.4.3.2.&nbsp;Explore the numberguess Quickstart</h4></div></div></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Summary</div>
			This quickstart shows you how to create and deploy a simple application to JBoss EAP 6. This application does not persist any information. Information is displayed using a JSF view, and business logic is encapsulated in two CDI (Contexts and Dependency Injection) beans. In the <span class="guilabel"><strong>numberguess</strong></span> quickstart, you get 10 attempts to guess a number between 1 and 100. After each attempt, you're told whether your guess was too high or too low.
		</div><div class="para">
		The code for the <span class="guilabel"><strong>numberguess</strong></span> quickstart can be found in the <code class="filename"><em class="replaceable">QUICKSTART_HOME</em>/numberguess</code> directory. The <span class="guilabel"><strong>numberguess</strong></span> quickstart is comprised of a number of beans, configuration files and Facelets (JSF) views, packaged as a WAR module.
	</div><div class="para">
		Detailed instructions to build and deploy this quickstart using a command line can be found in the README.html file at the root of the <span class="guilabel"><strong>numberguess</strong></span> quickstart directory. Here we show you how to use Red Hat JBoss Developer Studio to run the quickstart. This topic assumes you have installed Red Hat JBoss Developer Studio, configured Maven, and imported and successfully run the <code class="literal">numberguess</code> quickstart.
	</div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Prerequisites</div>
			<div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
						Install Red Hat JBoss Developer Studio following the procedure here:  <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Install_JBoss_Developer_Studio_5">Section&nbsp;1.3.1.3, “Install Red Hat JBoss Developer Studio 7.1”</a>.
					</div></li><li class="listitem"><div class="para">
						Configure Maven for use with Red Hat JBoss Developer Studio following the procedure here:  <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Configure_Maven_for_Use_with_JBoss_Developer_Studio">Section&nbsp;2.3.3, “Configure Maven for Use with Red Hat JBoss Developer Studio”</a>.
					</div></li><li class="listitem"><div class="para">
						Follow the procedures here to import, build, and deploy the <code class="literal">numberguess</code> quickstart in Red Hat JBoss Developer Studio:  <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Run_the_Quickstarts_in_JBoss_Developer_Studio1">Section&nbsp;1.4.2.1, “Run the Quickstarts in Red Hat JBoss Developer Studio”</a> 
					</div></li><li class="listitem"><div class="para">
						Verify the <code class="literal">numberguess</code> quickstart was deployed successfully to JBoss EAP by opening a web browser and accessing the application at this URL: <a href="http://localhost:8080/jboss-numberguess">http://localhost:8080/jboss-numberguess</a>
					</div></li></ul></div>

		</div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idp95157776">
      ⁠</a><p class="title"><strong>Procedure&nbsp;1.11.&nbsp;Examine the Configuration Files</strong></p><div class="para">
			All the configuration files for this example are located in <code class="filename">WEB-INF/</code> directory which can be found in the <code class="filename">src/main/webapp/</code> directory of the quickstart.
		</div><ol class="1"><li class="step"><div class="para">
				Examine the <code class="filename">faces-config.xml</code> file.
			</div><div class="para">
				This quickstart uses the JSF 2.0 version of <code class="filename">faces-config.xml</code> filename. A standardized version of Facelets is the default view handler in JSF 2.0, so there's really nothing that you have to configure. JBoss EAP 6 goes above and beyond Java EE here. It will automatically configure the JSF for you if you include this configuration file. As a result, the configuration consists of only the root element:
			</div><div class="para">
				
<pre class="programlisting"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>19. <span xmlns="" class="perl_Keyword">&lt;faces-config</span><span xmlns="" class="perl_Others"> version=</span><span xmlns="" class="perl_String">"2.0"</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Error">20.</span><span xmlns="" class="perl_Others">    xmlns=</span><span xmlns="" class="perl_String">"http://java.sun.com/xml/ns/javaee"</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Error">21.</span><span xmlns="" class="perl_Others">    xmlns:xsi=</span><span xmlns="" class="perl_String">"http://www.w3.org/2001/XMLSchema-instance"</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Error">22.</span><span xmlns="" class="perl_Others">    xsi:schemaLocation=</span><span xmlns="" class="perl_String">"</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_String">23.       http://java.sun.com/xml/ns/javaee&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_String">24.       http://java.sun.com/xml/ns/javaee/web-facesconfig_2_0.xsd"</span><span xmlns="" class="perl_Keyword">&gt;</span>
<span xmlns="" class="line">​</span>25.      
<span xmlns="" class="line">​</span>26. <span xmlns="" class="perl_Keyword">&lt;/faces-config&gt;</span></pre>

			</div></li><li class="step"><div class="para">
				Examine the <code class="filename">beans.xml</code> file.
			</div><div class="para">
				There's also an empty <code class="filename">beans.xml</code> file, which tells JBoss EAP 6 to look for beans in this application and to activate the CDI.
			</div></li><li class="step"><div class="para">
				There is no <code class="filename">web.xml</code> file
			</div><div class="para">
				Notice that the quickstart doesn't even need a <code class="filename">web.xml</code> file!
			</div></li></ol></div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idp92326960">
      ⁠</a><p class="title"><strong>Procedure&nbsp;1.12.&nbsp;Examine the JSF Code</strong></p><div class="para">
			JSF uses the <code class="filename">.xhtml</code> file extension for source files, but serves up the rendered views with the <code class="filename">.jsf</code> extension.
		</div><ul><li class="step"><div class="para">
				Examine the <code class="filename">home.xhtml</code> code.
			</div><div class="para">
				The <code class="filename">home.xhtml</code> file is located in the <code class="filename">src/main/webapp/</code> directory.
			</div><div class="para">
				
<pre class="programlisting"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>19. <span xmlns="" class="perl_Keyword">&lt;html</span><span xmlns="" class="perl_Others"> xmlns=</span><span xmlns="" class="perl_String">"http://www.w3.org/1999/xhtml"</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Error">20.</span><span xmlns="" class="perl_Others">    xmlns:ui=</span><span xmlns="" class="perl_String">"http://java.sun.com/jsf/facelets"</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Error">21.</span><span xmlns="" class="perl_Others">    xmlns:h=</span><span xmlns="" class="perl_String">"http://java.sun.com/jsf/html"</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Error">22.</span><span xmlns="" class="perl_Others">    xmlns:f=</span><span xmlns="" class="perl_String">"http://java.sun.com/jsf/core"</span><span xmlns="" class="perl_Keyword">&gt;</span>
<span xmlns="" class="line">​</span>23.
<span xmlns="" class="line">​</span>24. <span xmlns="" class="perl_Keyword">&lt;head&gt;</span>
<span xmlns="" class="line">​</span>25. <span xmlns="" class="perl_Keyword">&lt;meta</span><span xmlns="" class="perl_Others"> http-equiv=</span><span xmlns="" class="perl_String">"Content-Type"</span><span xmlns="" class="perl_Others"> content=</span><span xmlns="" class="perl_String">"text/html; charset=iso-8859-1"</span> <span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span>26. <span xmlns="" class="perl_Keyword">&lt;title&gt;</span>Numberguess<span xmlns="" class="perl_Keyword">&lt;/title&gt;</span>
<span xmlns="" class="line">​</span>27. <span xmlns="" class="perl_Keyword">&lt;/head&gt;</span>
<span xmlns="" class="line">​</span>28.
<span xmlns="" class="line">​</span>29. <span xmlns="" class="perl_Keyword">&lt;body&gt;</span>
<span xmlns="" class="line">​</span>30.    <span xmlns="" class="perl_Keyword">&lt;div</span><span xmlns="" class="perl_Others"> id=</span><span xmlns="" class="perl_String">"content"</span><span xmlns="" class="perl_Keyword">&gt;</span>
<span xmlns="" class="line">​</span>31.       <span xmlns="" class="perl_Keyword">&lt;h1&gt;</span>Guess a number...<span xmlns="" class="perl_Keyword">&lt;/h1&gt;</span>
<span xmlns="" class="line">​</span>32.       <span xmlns="" class="perl_Keyword">&lt;h:form</span><span xmlns="" class="perl_Others"> id=</span><span xmlns="" class="perl_String">"numberGuess"</span><span xmlns="" class="perl_Keyword">&gt;</span>
<span xmlns="" class="line">​</span>33.
<span xmlns="" class="line">​</span>34.          <span xmlns="" class="perl_Comment">&lt;!-- Feedback for the user on their guess --&gt;</span>
<span xmlns="" class="line">​</span>35.          <span xmlns="" class="perl_Keyword">&lt;div</span><span xmlns="" class="perl_Others"> style=</span><span xmlns="" class="perl_String">"color: red"</span><span xmlns="" class="perl_Keyword">&gt;</span>
<span xmlns="" class="line">​</span>36.             <span xmlns="" class="perl_Keyword">&lt;h:messages</span><span xmlns="" class="perl_Others"> id=</span><span xmlns="" class="perl_String">"messages"</span><span xmlns="" class="perl_Others"> globalOnly=</span><span xmlns="" class="perl_String">"false"</span> <span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span>37.             <span xmlns="" class="perl_Keyword">&lt;h:outputText</span><span xmlns="" class="perl_Others"> id=</span><span xmlns="" class="perl_String">"Higher"</span><span xmlns="" class="perl_Others"> value=</span><span xmlns="" class="perl_String">"Higher!"</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Error">38.</span><span xmlns="" class="perl_Others">                rendered=</span><span xmlns="" class="perl_String">"#{game.number gt game.guess and game.guess ne 0}"</span> <span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span>39.             <span xmlns="" class="perl_Keyword">&lt;h:outputText</span><span xmlns="" class="perl_Others"> id=</span><span xmlns="" class="perl_String">"Lower"</span><span xmlns="" class="perl_Others"> value=</span><span xmlns="" class="perl_String">"Lower!"</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Error">40.</span><span xmlns="" class="perl_Others">                rendered=</span><span xmlns="" class="perl_String">"#{game.number lt game.guess and game.guess ne 0}"</span> <span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span>41.          <span xmlns="" class="perl_Keyword">&lt;/div&gt;</span>
<span xmlns="" class="line">​</span>42.
<span xmlns="" class="line">​</span>43.          <span xmlns="" class="perl_Comment">&lt;!-- Instructions for the user --&gt;</span>
<span xmlns="" class="line">​</span>44.          <span xmlns="" class="perl_Keyword">&lt;div&gt;</span>
<span xmlns="" class="line">​</span>45.             I'm thinking of a number between <span xmlns="" class="perl_Keyword">&lt;span</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Error">46.</span><span xmlns="" class="perl_Others">                id=</span><span xmlns="" class="perl_String">"numberGuess:smallest"</span><span xmlns="" class="perl_Keyword">&gt;</span>#{game.smallest}<span xmlns="" class="perl_Keyword">&lt;/span&gt;</span> and <span xmlns="" class="perl_Keyword">&lt;span</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Error">47.</span><span xmlns="" class="perl_Others">                id=</span><span xmlns="" class="perl_String">"numberGuess:biggest"</span><span xmlns="" class="perl_Keyword">&gt;</span>#{game.biggest}<span xmlns="" class="perl_Keyword">&lt;/span&gt;</span>. You have
<span xmlns="" class="line">​</span>48.             #{game.remainingGuesses} guesses remaining.
<span xmlns="" class="line">​</span>49.          <span xmlns="" class="perl_Keyword">&lt;/div&gt;</span>
<span xmlns="" class="line">​</span>50.
<span xmlns="" class="line">​</span>51.          <span xmlns="" class="perl_Comment">&lt;!-- Input box for the users guess, plus a button to submit, and reset --&gt;</span>
<span xmlns="" class="line">​</span>52.          <span xmlns="" class="perl_Comment">&lt;!-- These are bound using EL to our CDI beans --&gt;</span>
<span xmlns="" class="line">​</span>53.          <span xmlns="" class="perl_Keyword">&lt;div&gt;</span>
<span xmlns="" class="line">​</span>54.             Your guess:
<span xmlns="" class="line">​</span>55.             <span xmlns="" class="perl_Keyword">&lt;h:inputText</span><span xmlns="" class="perl_Others"> id=</span><span xmlns="" class="perl_String">"inputGuess"</span><span xmlns="" class="perl_Others"> value=</span><span xmlns="" class="perl_String">"#{game.guess}"</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Error">56.</span><span xmlns="" class="perl_Others">                required=</span><span xmlns="" class="perl_String">"true"</span><span xmlns="" class="perl_Others"> size=</span><span xmlns="" class="perl_String">"3"</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Error">57.</span><span xmlns="" class="perl_Others">                disabled=</span><span xmlns="" class="perl_String">"#{game.number eq game.guess}"</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Error">58.</span><span xmlns="" class="perl_Others">                validator=</span><span xmlns="" class="perl_String">"#{game.validateNumberRange}"</span> <span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span>59.             <span xmlns="" class="perl_Keyword">&lt;h:commandButton</span><span xmlns="" class="perl_Others"> id=</span><span xmlns="" class="perl_String">"guessButton"</span><span xmlns="" class="perl_Others"> value=</span><span xmlns="" class="perl_String">"Guess"</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Error">60.</span><span xmlns="" class="perl_Others">                action=</span><span xmlns="" class="perl_String">"#{game.check}"</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Error">61.</span><span xmlns="" class="perl_Others">                disabled=</span><span xmlns="" class="perl_String">"#{game.number eq game.guess}"</span> <span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span>62.          <span xmlns="" class="perl_Keyword">&lt;/div&gt;</span>
<span xmlns="" class="line">​</span>63.          <span xmlns="" class="perl_Keyword">&lt;div&gt;</span>
<span xmlns="" class="line">​</span>64.             <span xmlns="" class="perl_Keyword">&lt;h:commandButton</span><span xmlns="" class="perl_Others"> id=</span><span xmlns="" class="perl_String">"restartButton"</span><span xmlns="" class="perl_Others"> value=</span><span xmlns="" class="perl_String">"Reset"</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Error">65.</span><span xmlns="" class="perl_Others">                action=</span><span xmlns="" class="perl_String">"#{game.reset}"</span><span xmlns="" class="perl_Others"> immediate=</span><span xmlns="" class="perl_String">"true"</span> <span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span>66.          <span xmlns="" class="perl_Keyword">&lt;/div&gt;</span>
<span xmlns="" class="line">​</span>67.       <span xmlns="" class="perl_Keyword">&lt;/h:form&gt;</span>
<span xmlns="" class="line">​</span>68.
<span xmlns="" class="line">​</span>69.    <span xmlns="" class="perl_Keyword">&lt;/div&gt;</span>
<span xmlns="" class="line">​</span>70.
<span xmlns="" class="line">​</span>71.    <span xmlns="" class="perl_Keyword">&lt;br</span><span xmlns="" class="perl_Others"> style=</span><span xmlns="" class="perl_String">"clear: both"</span> <span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span>72.
<span xmlns="" class="line">​</span>73. <span xmlns="" class="perl_Keyword">&lt;/body&gt;</span>
<span xmlns="" class="line">​</span>74. <span xmlns="" class="perl_Keyword">&lt;/html&gt;</span></pre>

			</div><div class="para">
				<div class="table"><a id="table_home_xhtml">
      ⁠</a><p class="title"><strong>Table&nbsp;1.2.&nbsp;JSF Details</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows" summary="JSF Details"><colgroup><col width="10%" align="left" class="c1"><col width="90%" align="left" class="c2"></colgroup><thead><tr><th align="left"> Line </th><th align="left"> Note </th></tr></thead><tbody><tr><td align="left"> 36-40 </td><td align="left"> These are the messages which can be sent to the user: "Higher!" and "Lower!" </td></tr><tr><td align="left"> 45-48 </td><td align="left"> As the user guesses, the range of numbers they can guess gets smaller. This sentence changes to make sure they know the number range of a valid guess. </td></tr><tr><td align="left"> 55-58 </td><td align="left"> This input field is bound to a bean property using a value expression. </td></tr><tr><td align="left"> 58 </td><td align="left"> A validator binding is used to make sure the user does not accidentally input a number outside of the range in which they can guess. If the validator was not here, the user might use up a guess on an out of bounds number. </td></tr><tr><td align="left"> 59-61 </td><td align="left"> There must be a way for the user to send their guess to the server. Here we bind to an action method on the bean. </td></tr></tbody></table></div></div>

			</div></li></ul></div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idp14842784">
      ⁠</a><p class="title"><strong>Procedure&nbsp;1.13.&nbsp;Examine the Class Files</strong></p><div class="para">
			All of the <span class="guilabel"><strong>numberguess</strong></span> quickstart source files can be found in the <code class="filename">src/main/java/org/jboss/as/quickstarts/numberguess/</code> directory. The package declaration and imports have been excluded from these listings. The complete listing is available in the quickstart source code.
		</div><ol class="1"><li class="step"><div class="para">
				Review the <code class="filename">Random.java</code> qualifier code.
			</div><div class="para">
				A qualifier is used to remove ambiguity between two beans, both of which are eligible for injection based on their type. For more information on qualifiers, refer to  <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Use_a_Qualifier_to_Resolve_an_Ambiguous_Injection">Section&nbsp;10.2.3.3, “Use a Qualifier to Resolve an Ambiguous Injection”</a>
			</div><div class="para">
				The <code class="literal">@Random</code> qualifier is used for injecting a random number.
			</div><div class="para">
				
<pre class="programlisting JAVA"><span xmlns="" class="line">​</span>@<span xmlns="" class="perl_Function">Target</span>({ TYPE, METHOD, PARAMETER, FIELD })
<span xmlns="" class="line">​</span>@<span xmlns="" class="perl_Function">Retention</span>(RUNTIME)
<span xmlns="" class="line">​</span>@Documented
<span xmlns="" class="line">​</span>@Qualifier
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_Keyword">@interface</span> Random {
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>}</pre>

			</div></li><li class="step"><div class="para">
				Review the <code class="filename">MaxNumber.java</code> qualifier code.
			</div><div class="para">
				The <code class="literal">@MaxNumber</code><code class="literal">qualifier</code> is used for injecting the maximum number allowed.
			</div><div class="para">
				
<pre class="programlisting JAVA"><span xmlns="" class="line">​</span>@<span xmlns="" class="perl_Function">Target</span>({ TYPE, METHOD, PARAMETER, FIELD })
<span xmlns="" class="line">​</span>@<span xmlns="" class="perl_Function">Retention</span>(RUNTIME)
<span xmlns="" class="line">​</span>@Documented
<span xmlns="" class="line">​</span>@Qualifier
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_Keyword">@interface</span> MaxNumber {
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>}</pre>

			</div></li><li class="step"><div class="para">
				Review the <code class="filename">Generator.java</code> code.
			</div><div class="para">
				The <code class="classname">Generator</code> class is responsible for creating the random number via a producer method. It also exposes the maximum possible number via a producer method. This class is application scoped so you don't get a different random each time.
			</div><div class="para">
				
<pre class="programlisting JAVA"><span xmlns="" class="line">​</span>@<span xmlns="" class="perl_Function">SuppressWarnings</span>(<span xmlns="" class="perl_String">"serial"</span>)
<span xmlns="" class="line">​</span>@ApplicationScoped
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_Keyword">class</span> Generator <span xmlns="" class="perl_Keyword">implements</span> Serializable {
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">private</span> java.<span xmlns="" class="perl_Function">util</span>.<span xmlns="" class="perl_Function">Random</span> random = <span xmlns="" class="perl_Keyword">new</span> java.<span xmlns="" class="perl_Function">util</span>.<span xmlns="" class="perl_Function">Random</span>(System.<span xmlns="" class="perl_Function">currentTimeMillis</span>());
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">private</span> <span xmlns="" class="perl_DataType">int</span> maxNumber = <span xmlns="" class="perl_Float">100</span>;
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>    java.<span xmlns="" class="perl_Function">util</span>.<span xmlns="" class="perl_Function">Random</span> <span xmlns="" class="perl_Function">getRandom</span>() {
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">return</span> random;
<span xmlns="" class="line">​</span>    }
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>    @Produces
<span xmlns="" class="line">​</span>    @Random
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_DataType">int</span> <span xmlns="" class="perl_Function">next</span>() {
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Comment">// a number between 1 and 100</span>
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">return</span> <span xmlns="" class="perl_Function">getRandom</span>().<span xmlns="" class="perl_Function">nextInt</span>(maxNumber - <span xmlns="" class="perl_Float">1</span>) + <span xmlns="" class="perl_Float">1</span>;
<span xmlns="" class="line">​</span>    }
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>    @Produces
<span xmlns="" class="line">​</span>    @MaxNumber
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_DataType">int</span> <span xmlns="" class="perl_Function">getMaxNumber</span>() {
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">return</span> maxNumber;
<span xmlns="" class="line">​</span>    }
<span xmlns="" class="line">​</span>}</pre>

			</div></li><li class="step"><div class="para">
				Review the <code class="filename">Game.java</code> code.
			</div><div class="para">
				The session scoped class <code class="classname">Game</code> is the primary entry point of the application. It is responsible for setting up or resetting the game, capturing and validating the user's guess, and providing feedback to the user with a <code class="classname">FacesMessage</code>. It uses the post-construct lifecycle method to initialize the game by retrieving a random number from the <code class="literal">@Random Instance</code><code class="code">&lt;Integer&gt;</code> bean.
			</div><div class="para">
				Notice the @Named annotation in the class. This annotation is only required when you want to make the bean accessible to a JSF view via Expression Language (EL), in this case <code class="code">#{game}</code>.
			</div><div class="para">
				
<pre class="programlisting JAVA"><span xmlns="" class="line">​</span>@<span xmlns="" class="perl_Function">SuppressWarnings</span>(<span xmlns="" class="perl_String">"serial"</span>)
<span xmlns="" class="line">​</span>@Named
<span xmlns="" class="line">​</span>@SessionScoped
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_Keyword">class</span> Game <span xmlns="" class="perl_Keyword">implements</span> Serializable {
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Comment">/**</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">     * The number that the user needs to guess</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">     */</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">private</span> <span xmlns="" class="perl_DataType">int</span> number;
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Comment">/**</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">     * The users latest guess</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">     */</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">private</span> <span xmlns="" class="perl_DataType">int</span> guess;
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Comment">/**</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">     * The smallest number guessed so far (so we can track the valid guess range).</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">     */</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">private</span> <span xmlns="" class="perl_DataType">int</span> smallest;
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Comment">/**</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">     * The largest number guessed so far</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">     */</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">private</span> <span xmlns="" class="perl_DataType">int</span> biggest;
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Comment">/**</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">     * The number of guesses remaining</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">     */</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">private</span> <span xmlns="" class="perl_DataType">int</span> remainingGuesses;
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Comment">/**</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">     * The maximum number we should ask them to guess</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">     */</span>
<span xmlns="" class="line">​</span>    @Inject
<span xmlns="" class="line">​</span>    @MaxNumber
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">private</span> <span xmlns="" class="perl_DataType">int</span> maxNumber;
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Comment">/**</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">     * The random number to guess</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">     */</span>
<span xmlns="" class="line">​</span>    @Inject
<span xmlns="" class="line">​</span>    @Random
<span xmlns="" class="line">​</span>    Instance&lt;Integer&gt; randomNumber;
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_Function">Game</span>() {
<span xmlns="" class="line">​</span>    }
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_DataType">int</span> <span xmlns="" class="perl_Function">getNumber</span>() {
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">return</span> number;
<span xmlns="" class="line">​</span>    }
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_DataType">int</span> <span xmlns="" class="perl_Function">getGuess</span>() {
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">return</span> guess;
<span xmlns="" class="line">​</span>    }
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_DataType">void</span> <span xmlns="" class="perl_Function">setGuess</span>(<span xmlns="" class="perl_DataType">int</span> guess) {
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">this</span>.<span xmlns="" class="perl_Function">guess</span> = guess;
<span xmlns="" class="line">​</span>    }
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_DataType">int</span> <span xmlns="" class="perl_Function">getSmallest</span>() {
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">return</span> smallest;
<span xmlns="" class="line">​</span>    }
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_DataType">int</span> <span xmlns="" class="perl_Function">getBiggest</span>() {
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">return</span> biggest;
<span xmlns="" class="line">​</span>    }
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_DataType">int</span> <span xmlns="" class="perl_Function">getRemainingGuesses</span>() {
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">return</span> remainingGuesses;
<span xmlns="" class="line">​</span>    }
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Comment">/**</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">     * Check whether the current guess is correct, and update the biggest/smallest guesses as needed. Give feedback to the user</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">     * if they are correct.</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">     */</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_DataType">void</span> <span xmlns="" class="perl_Function">check</span>() {
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">if</span> (guess &gt; number) {
<span xmlns="" class="line">​</span>            biggest = guess - <span xmlns="" class="perl_Float">1</span>;
<span xmlns="" class="line">​</span>        } <span xmlns="" class="perl_Keyword">else</span> <span xmlns="" class="perl_Keyword">if</span> (guess &lt; number) {
<span xmlns="" class="line">​</span>            smallest = guess + <span xmlns="" class="perl_Float">1</span>;
<span xmlns="" class="line">​</span>        } <span xmlns="" class="perl_Keyword">else</span> <span xmlns="" class="perl_Keyword">if</span> (guess == number) {
<span xmlns="" class="line">​</span>            FacesContext.<span xmlns="" class="perl_Function">getCurrentInstance</span>().<span xmlns="" class="perl_Function">addMessage</span>(<span xmlns="" class="perl_Keyword">null</span>, <span xmlns="" class="perl_Keyword">new</span> <span xmlns="" class="perl_Function">FacesMessage</span>(<span xmlns="" class="perl_String">"Correct!"</span>));
<span xmlns="" class="line">​</span>        }
<span xmlns="" class="line">​</span>        remainingGuesses--;
<span xmlns="" class="line">​</span>    }
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Comment">/**</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">     * Reset the game, by putting all values back to their defaults, and getting a new random number. We also call this method</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">     * when the user starts playing for the first time using </span><span xmlns="" class="perl_Keyword">{@linkplain PostConstruct @PostConstruct}</span><span xmlns="" class="perl_Comment"> to set the initial</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">     * values.</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">     */</span>
<span xmlns="" class="line">​</span>    @PostConstruct
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_DataType">void</span> <span xmlns="" class="perl_Function">reset</span>() {
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">this</span>.<span xmlns="" class="perl_Function">smallest</span> = <span xmlns="" class="perl_Float">0</span>;
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">this</span>.<span xmlns="" class="perl_Function">guess</span> = <span xmlns="" class="perl_Float">0</span>;
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">this</span>.<span xmlns="" class="perl_Function">remainingGuesses</span> = <span xmlns="" class="perl_Float">10</span>;
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">this</span>.<span xmlns="" class="perl_Function">biggest</span> = maxNumber;
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">this</span>.<span xmlns="" class="perl_Function">number</span> = randomNumber.<span xmlns="" class="perl_Function">get</span>();
<span xmlns="" class="line">​</span>    }
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Comment">/**</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">     * A JSF validation method which checks whether the guess is valid. It might not be valid because there are no guesses left,</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">     * or because the guess is not in range.</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">     * </span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">     */</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_DataType">void</span> <span xmlns="" class="perl_Function">validateNumberRange</span>(FacesContext context, UIComponent toValidate, Object value) {
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">if</span> (remainingGuesses &lt;= <span xmlns="" class="perl_Float">0</span>) {
<span xmlns="" class="line">​</span>            FacesMessage message = <span xmlns="" class="perl_Keyword">new</span> <span xmlns="" class="perl_Function">FacesMessage</span>(<span xmlns="" class="perl_String">"No guesses left!"</span>);
<span xmlns="" class="line">​</span>            context.<span xmlns="" class="perl_Function">addMessage</span>(toValidate.<span xmlns="" class="perl_Function">getClientId</span>(context), message);
<span xmlns="" class="line">​</span>            ((UIInput) toValidate).<span xmlns="" class="perl_Function">setValid</span>(<span xmlns="" class="perl_Keyword">false</span>);
<span xmlns="" class="line">​</span>            <span xmlns="" class="perl_Keyword">return</span>;
<span xmlns="" class="line">​</span>        }
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_DataType">int</span> input = (Integer) value;
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">if</span> (input &lt; smallest || input &gt; biggest) {
<span xmlns="" class="line">​</span>            ((UIInput) toValidate).<span xmlns="" class="perl_Function">setValid</span>(<span xmlns="" class="perl_Keyword">false</span>);
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>            FacesMessage message = <span xmlns="" class="perl_Keyword">new</span> <span xmlns="" class="perl_Function">FacesMessage</span>(<span xmlns="" class="perl_String">"Invalid guess"</span>);
<span xmlns="" class="line">​</span>            context.<span xmlns="" class="perl_Function">addMessage</span>(toValidate.<span xmlns="" class="perl_Function">getClientId</span>(context), message);
<span xmlns="" class="line">​</span>        }
<span xmlns="" class="line">​</span>    }
<span xmlns="" class="line">​</span>}</pre>

			</div></li></ol></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+8023-681225+%5BLatest%5D&comment=Title%3A+Explore+the+numberguess+Quickstart%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=8023-681225+04+Jul+2014+00%3A11+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="Replace_the_Default_Welcome_Web_Application1">
      ⁠</a>1.4.4.&nbsp;Replace the Default Welcome Web Application</h3></div></div></div><div class="para">
		JBoss EAP 6 includes a Welcome application, which displays when you open the URL of the server at port 8080. You can replace this application with your own web application by following this procedure.
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idp98659632">
      ⁠</a><p class="title"><strong>Procedure&nbsp;1.14.&nbsp;Replace the Default Welcome Web Application With Your Own Web Application</strong></p><ol class="1"><li class="step"><p class="title"><strong>Disable the Welcome application.</strong></p><div class="para">
				Use the Management CLI script <code class="filename"><em class="replaceable">EAP_HOME</em>/bin/jboss-cli.sh</code> to run the following command. You may need to change the profile to modify a different managed domain profile, or remove the <code class="literal">/profile=default</code> portion of the command for a standalone server.
			</div><pre class="screen">/profile=default/subsystem=web/virtual-server=default-host:write-attribute(name=enable-welcome-root,value=false)</pre></li><li class="step"><p class="title"><strong>Configure your Web application to use the root context.</strong></p><div class="para">
				To configure your web application to use the root context (/) as its URL address, modify its <code class="filename">jboss-web.xml</code>, which is located in the <code class="filename">META-INF/</code> or <code class="filename">WEB-INF/</code> directory. Replace its <code class="sgmltag-element">&lt;context-root&gt;</code> directive with one that looks like the following.
			</div><pre class="programlisting XML"><span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;jboss-web&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;context-root&gt;</span>/<span xmlns="" class="perl_Keyword">&lt;/context-root&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;/jboss-web&gt;</span></pre></li><li class="step"><p class="title"><strong>Deploy your application.</strong></p><div class="para">
				Deploy your application to the server group or server you modified in the first step. The application is now available on <code class="code">http://<em class="replaceable">SERVER_URL:PORT</em>/</code>.
			</div></li></ol></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+9017-591860+%5BLatest%5D&comment=Title%3A+Replace+the+Default+Welcome+Web+Application%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=9017-591860+24+Feb+2014+07%3A55+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div></div></div><div xml:lang="en-US" class="chapter" lang="en-US"><div class="titlepage"><div><div><h1 class="title"><a id="chap-Maven_Guide">
      ⁠</a>Chapter&nbsp;2.&nbsp;Maven Guide</h1></div></div></div><div class="toc"><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Learn_about_Maven">2.1. Learn about Maven</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_the_Maven_Repository">2.1.1. About the Maven Repository</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_the_Maven_POM_File">2.1.2. About the Maven POM File</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Minimum_Requirements_of_a_Maven_POM_File">2.1.3. Minimum Requirements of a Maven POM File</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_the_Maven_Settings_File">2.1.4. About the Maven Settings File</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Install_Maven_and_the_JBoss_Maven_Repository">2.2. Install Maven and the JBoss Maven Repository</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Download_and_Install_Maven">2.2.1. Download and Install Maven</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Install_the_JBoss_Enterprise_Application_Platform_6_Maven_Repository">2.2.2. Install the JBoss EAP 6 Maven Repository</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Install_the_JBoss_Enterprise_Application_Platform_6_Maven_Repository_Locally">2.2.3. Install the JBoss EAP 6 Maven Repository Locally</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Install_the_JBoss_Enterprise_Application_Platform_6_Maven_Repository_for_Use_with_Apache_httpd">2.2.4. Install the JBoss EAP 6 Maven Repository for Use with Apache httpd</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Install_the_JBoss_Enterprise_Application_Platform_6_Maven_Repository_Using_Nexus_Maven_Repository_Manager">2.2.5. Install the JBoss EAP 6 Maven Repository Using Nexus Maven Repository Manager</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Maven_Repository_Managers">2.2.6. About Maven Repository Managers</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Use_the_Maven_Repository">2.3. Use the Maven Repository</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Configure_the_JBoss_Enterprise_Application_Platform_Maven_Repository">2.3.1. Configure the JBoss EAP Maven 6 Repository</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Configure_the_JBoss_Enterprise_Application_Platform_Maven_Repository_Using_the_Maven_Settings">2.3.2. Configure the JBoss EAP 6 Maven Repository Using the Maven Settings</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Configure_Maven_for_Use_with_JBoss_Developer_Studio">2.3.3. Configure Maven for Use with Red Hat JBoss Developer Studio</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Configure_the_JBoss_Enterprise_Application_Platform_Maven_Repository_Using_the_Project_POM">2.3.4. Configure the JBoss EAP 6 Maven Repository Using the Project POM</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Maven_BOM_Usage">2.3.5. Manage Project Dependencies</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Upgrade_the_Maven_Repository">2.4. Upgrade the Maven Repository</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Apply_a_Patch_to_the_Local_Maven_Repository">2.4.1. Apply a Patch to the Local Maven Repository</a></span></dt></dl></dd></dl></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="sect-Learn_about_Maven">
      ⁠</a>2.1.&nbsp;Learn about Maven</h2></div></div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="About_the_Maven_Repository">
      ⁠</a>2.1.1.&nbsp;About the Maven Repository</h3></div></div></div><div class="para">
		Apache Maven is a distributed build automation tool used in Java application development to create, manage, and build software projects. Maven uses standard configuration files called Project Object Model, or POM, files to define projects and manage the build process. POMs describe the module and component dependencies, build order, and targets for the resulting project packaging and output using an XML file. This ensures that the project is built in a correct and uniform manner.
	</div><div class="para">
		Maven achieves this by using a repository. A Maven repository stores Java libraries, plug-ins, and other build artifacts. The default public repository is the <a href="http://search.maven.org/#browse">Maven 2 Central Repository</a>, but repositories can be private and internal within a company with a goal to share common artifacts among development teams. Repositories are also available from third-parties. JBoss EAP 6 includes a Maven repository that contains many of the requirements that Java EE developers typically use to build applications on JBoss EAP 6. To configure your project to use this repository, see  <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Configure_the_JBoss_Enterprise_Application_Platform_Maven_Repository">Section&nbsp;2.3.1, “Configure the JBoss EAP Maven 6 Repository”</a>.
	</div><div class="para">
		Remote repositories are accessed using common protocols such as <code class="literal">http://</code> for a repository on an HTTP server or <code class="literal">file://</code> for a repository on a file server.
	</div><div class="para">
		For more information about Maven, see <a href="http://maven.apache.org/">Welcome to Apache Maven</a>.
	</div><div class="para">
		For more information about Maven repositories, see <a href="http://maven.apache.org/guides/introduction/introduction-to-repositories.html">Apache Maven Project - Introduction to Repositories</a>.
	</div><div class="para">
		For more information about Maven POM files, see the <a href="http://maven.apache.org/pom.html">Apache Maven Project POM Reference</a> and  <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_the_Maven_POM_File">Section&nbsp;2.1.2, “About the Maven POM File”</a>.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+1841-591649+%5BLatest%5D&comment=Title%3A+About+the+Maven+Repository%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=1841-591649+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="About_the_Maven_POM_File">
      ⁠</a>2.1.2.&nbsp;About the Maven POM File</h3></div></div></div><div class="para">
		The Project Object Model, or POM, file is a configuration file used by Maven to build projects. It is an XML file that contains information about the project and how to build it, including the location of the source, test, and target directories, the project dependencies, plug-in repositories, and goals it can execute. It can also include additional details about the project including the version, description, developers, mailing list, license, and more. A <code class="filename">pom.xml</code> file requires some configuration options and will default all others. See  <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Minimum_Requirements_of_a_Maven_POM_File">Section&nbsp;2.1.3, “Minimum Requirements of a Maven POM File”</a> for details.
	</div><div class="para">
		The schema for the <code class="filename">pom.xml</code> file can be found at <a href="http://maven.apache.org/maven-v4_0_0.xsd">http://maven.apache.org/maven-v4_0_0.xsd</a>.
	</div><div class="para">
		For more information about POM files, see the <a href="http://maven.apache.org/pom.html">Apache Maven Project POM Reference</a>.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+5721-591710+%5BLatest%5D&comment=Title%3A+About+the+Maven+POM+File%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=5721-591710+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="Minimum_Requirements_of_a_Maven_POM_File">
      ⁠</a>2.1.3.&nbsp;Minimum Requirements of a Maven POM File</h3></div></div></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Minimum requirements</div>
			The minimum requirements of a <code class="filename">pom.xml</code> file are as follows:
		</div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
				project root
			</div></li></ul></div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
				modelVersion
			</div></li></ul></div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
				groupId - the id of the project's group
			</div></li></ul></div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
				artifactId - the id of the artifact (project)
			</div></li></ul></div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
				version - the version of the artifact under the specified group
			</div></li></ul></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Sample pom.xml file</div>
			A basic <code class="command">pom.xml</code> file might look like this:
		</div><pre class="programlisting"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;project&gt;</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">&lt;modelVersion&gt;</span>4.0.0<span xmlns="" class="perl_Keyword">&lt;/modelVersion&gt;</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">&lt;groupId&gt;</span>com.jboss.app<span xmlns="" class="perl_Keyword">&lt;/groupId&gt;</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">&lt;artifactId&gt;</span>my-app<span xmlns="" class="perl_Keyword">&lt;/artifactId&gt;</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">&lt;version&gt;</span>1<span xmlns="" class="perl_Keyword">&lt;/version&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;/project&gt;</span> </pre><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+5723-591711+%5BLatest%5D&comment=Title%3A+Minimum+Requirements+of+a+Maven+POM+File%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=5723-591711+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="About_the_Maven_Settings_File">
      ⁠</a>2.1.4.&nbsp;About the Maven Settings File</h3></div></div></div><div class="para">
		The Maven <code class="filename">settings.xml</code> file contains user-specific configuration information for Maven. It contains information that should not be distributed with the <code class="filename">pom.xml</code> file, such as developer identity, proxy information, local repository location, and other settings specific to a user.
	</div><div class="para">
		There are two locations where the <code class="filename">settings.xml</code> can be found.
	</div><div class="variablelist"><dl class="variablelist"><dt><span class="term">In the Maven install</span></dt><dd><div class="para">
					The settings file can be found in the <code class="filename"><em class="replaceable">M2_HOME</em>/conf/</code> directory. These settings are referred to as <code class="literal">global</code> settings. The default Maven settings file is a template that can be copied and used as a starting point for the user settings file.
				</div></dd><dt><span class="term">In the user's install</span></dt><dd><div class="para">
					The settings file can be found in the <code class="filename"><em class="replaceable">USER_HOME</em>/.m2/</code> directory. If both the Maven and user <code class="filename">settings.xml</code> files exist, the contents are merged. Where there are overlaps, the user's <code class="filename">settings.xml</code> file takes precedence.
				</div></dd></dl></div><div class="para">
		The following is an example of a Maven <code class="filename">settings.xml</code> file: 
<pre class="programlisting"><span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;?xml</span> version="1.0" encoding="UTF-8"<span xmlns="" class="perl_Keyword">?&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;settings</span><span xmlns="" class="perl_Others"> xmlns=</span><span xmlns="" class="perl_String">"http://maven.apache.org/SETTINGS/1.0.0"</span> 
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Others">          xmlns:xsi=</span><span xmlns="" class="perl_String">"http://www.w3.org/2001/XMLSchema-instance"</span> 
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Others">          xsi:schemaLocation=</span><span xmlns="" class="perl_String">"http://maven.apache.org/SETTINGS/1.0.0 http://maven.apache.org/xsd/settings-1.0.0.xsd"</span><span xmlns="" class="perl_Keyword">&gt;</span>  
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">&lt;profiles&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Comment">&lt;!-- Configure the JBoss EAP Maven repository --&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;profile&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;id&gt;</span>jboss-eap-maven-repository<span xmlns="" class="perl_Keyword">&lt;/id&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;repositories&gt;</span>
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">&lt;repository&gt;</span>
<span xmlns="" class="line">​</span>          <span xmlns="" class="perl_Keyword">&lt;id&gt;</span>jboss-eap<span xmlns="" class="perl_Keyword">&lt;/id&gt;</span>
<span xmlns="" class="line">​</span>          <span xmlns="" class="perl_Keyword">&lt;url&gt;</span>file:///path/to/repo/jboss-eap-6.3-maven-repository<span xmlns="" class="perl_Keyword">&lt;/url&gt;</span>
<span xmlns="" class="line">​</span>          <span xmlns="" class="perl_Keyword">&lt;releases&gt;</span>
<span xmlns="" class="line">​</span>            <span xmlns="" class="perl_Keyword">&lt;enabled&gt;</span>true<span xmlns="" class="perl_Keyword">&lt;/enabled&gt;</span>
<span xmlns="" class="line">​</span>          <span xmlns="" class="perl_Keyword">&lt;/releases&gt;</span>
<span xmlns="" class="line">​</span>          <span xmlns="" class="perl_Keyword">&lt;snapshots&gt;</span>
<span xmlns="" class="line">​</span>            <span xmlns="" class="perl_Keyword">&lt;enabled&gt;</span>false<span xmlns="" class="perl_Keyword">&lt;/enabled&gt;</span>
<span xmlns="" class="line">​</span>          <span xmlns="" class="perl_Keyword">&lt;/snapshots&gt;</span>
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">&lt;/repository&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;/repositories&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;pluginRepositories&gt;</span>
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">&lt;pluginRepository&gt;</span>
<span xmlns="" class="line">​</span>          <span xmlns="" class="perl_Keyword">&lt;id&gt;</span>jboss-eap-maven-plugin-repository<span xmlns="" class="perl_Keyword">&lt;/id&gt;</span>
<span xmlns="" class="line">​</span>          <span xmlns="" class="perl_Keyword">&lt;url&gt;</span>file:///path/to/repo/jboss-eap-6.3-maven-repository<span xmlns="" class="perl_Keyword">&lt;/url&gt;</span>
<span xmlns="" class="line">​</span>          <span xmlns="" class="perl_Keyword">&lt;releases&gt;</span>
<span xmlns="" class="line">​</span>            <span xmlns="" class="perl_Keyword">&lt;enabled&gt;</span>true<span xmlns="" class="perl_Keyword">&lt;/enabled&gt;</span>
<span xmlns="" class="line">​</span>          <span xmlns="" class="perl_Keyword">&lt;/releases&gt;</span>
<span xmlns="" class="line">​</span>          <span xmlns="" class="perl_Keyword">&lt;snapshots&gt;</span>
<span xmlns="" class="line">​</span>            <span xmlns="" class="perl_Keyword">&lt;enabled&gt;</span>false<span xmlns="" class="perl_Keyword">&lt;/enabled&gt;</span>
<span xmlns="" class="line">​</span>          <span xmlns="" class="perl_Keyword">&lt;/snapshots&gt;</span>
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">&lt;/pluginRepository&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;/pluginRepositories&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;/profile&gt;</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">&lt;/profiles&gt;</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">&lt;activeProfiles&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Comment">&lt;!-- Optionally, make the repository active by default --&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;activeProfile&gt;</span>jboss-eap-maven-repository<span xmlns="" class="perl_Keyword">&lt;/activeProfile&gt;</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">&lt;/activeProfiles&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;/settings&gt;</span></pre>

	</div><div class="para">
		The schema for the <code class="filename">settings.xml</code> file can be found at <a href="http://maven.apache.org/xsd/settings-1.0.0.xsd">http://maven.apache.org/xsd/settings-1.0.0.xsd</a>.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+5756-606642+%5BLatest%5D&comment=Title%3A+About+the+Maven+Settings+File%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=5756-606642+27+Feb+2014+14%3A01+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="sect-Install_Maven_and_the_JBoss_Maven_Repository">
      ⁠</a>2.2.&nbsp;Install Maven and the JBoss Maven Repository</h2></div></div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="Download_and_Install_Maven">
      ⁠</a>2.2.1.&nbsp;Download and Install Maven</h3></div></div></div><div class="para">
		If you plan to use Maven command line to build and deploy your applications to JBoss EAP, you must download and install Maven. If you plan to use Red Hat JBoss Developer Studio to build and deploy your applications, you can skip this procedure as Maven is distributed with Red Hat JBoss Developer Studio.
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><ol class="1"><li class="step"><div class="para">
				Go to <a href="http://maven.apache.org/download.html">Apache Maven Project - Download Maven</a> and download the latest distribution for your operating system.
			</div></li><li class="step"><div class="para">
				See the Maven documentation for information on how to download and install Apache Maven for your operating system.
			</div></li></ol></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+8896-681226+%5BLatest%5D&comment=Title%3A+Download+and+Install+Maven%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=8896-681226+04+Jul+2014+00%3A12+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="Install_the_JBoss_Enterprise_Application_Platform_6_Maven_Repository">
      ⁠</a>2.2.2.&nbsp;Install the JBoss EAP 6 Maven Repository</h3></div></div></div><div class="para">
		There are three ways to install the repository; on your local file system, on Apache Web Server, or with a Maven repository manager.
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
				 <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Install_the_JBoss_Enterprise_Application_Platform_6_Maven_Repository_Locally">Section&nbsp;2.2.3, “Install the JBoss EAP 6 Maven Repository Locally”</a>
			</div></li><li class="listitem"><div class="para">
				 <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Install_the_JBoss_Enterprise_Application_Platform_6_Maven_Repository_for_Use_with_Apache_httpd">Section&nbsp;2.2.4, “Install the JBoss EAP 6 Maven Repository for Use with Apache httpd”</a>
			</div></li><li class="listitem"><div class="para">
				 <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Install_the_JBoss_Enterprise_Application_Platform_6_Maven_Repository_Using_Nexus_Maven_Repository_Manager">Section&nbsp;2.2.5, “Install the JBoss EAP 6 Maven Repository Using Nexus Maven Repository Manager”</a>
			</div></li></ul></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+8321-591831+%5BLatest%5D&comment=Title%3A+Install+the+JBoss+EAP+6+Maven+Repository%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=8321-591831+24+Feb+2014+07%3A55+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="Install_the_JBoss_Enterprise_Application_Platform_6_Maven_Repository_Locally">
      ⁠</a>2.2.3.&nbsp;Install the JBoss EAP 6 Maven Repository Locally</h3></div></div></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Summary</div>
			The JBoss EAP 6.3 Maven repository is available online, so it is not necessary to download and install it locally. However, if you prefer to install the JBoss EAP Maven repository locally, there are three ways to do it: on your local file system, on Apache Web Server, or with a Maven repository manager. This example covers the steps to download the JBoss EAP 6 Maven Repository to the local file system. This option is easy to configure and allows you to get up and running quickly on your local machine. It can help you become familiar with using Maven for development but is not recommended for team production environments.
		</div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idp6152320">
      ⁠</a><p class="title"><strong>Procedure&nbsp;2.1.&nbsp;Download and Install the JBoss EAP 6 Maven Repository to the Local File System</strong></p><ol class="1"><li class="step"><div class="para">
				Open a web browser and access this URL: <a href="https://access.redhat.com/jbossnetwork/restricted/listSoftware.html?product=appplatform">https://access.redhat.com/jbossnetwork/restricted/listSoftware.html?product=appplatform</a>.
			</div></li><li class="step"><div class="para">
				Find "Red Hat JBoss Enterprise Application Platform 6.3.0 Maven Repository" in the list.
			</div></li><li class="step"><div class="para">
				Click the <span class="guibutton"><strong>Download</strong></span> button to download a <code class="filename">.zip</code> file containing the repository.
			</div></li><li class="step"><div class="para">
				Unzip the file on the local file system into a directory of your choosing.
			</div></li><li class="step"><div class="para">
				 <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Configure_the_JBoss_Enterprise_Application_Platform_Maven_Repository_Using_the_Maven_Settings">Section&nbsp;2.3.2, “Configure the JBoss EAP 6 Maven Repository Using the Maven Settings”</a>.
			</div></li></ol></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Result</div>
			This creates a Maven repository directory called <code class="filename">jboss-eap-6.3.0.GA-maven-repository</code>.
		</div><div xmlns:d="http://docbook.org/ns/docbook" class="important"><div class="admonition_header"><p><strong>Important</strong></p></div><div class="admonition"><div class="para">
			If you want to continue to use an older local repository, you must configure it separately in the Maven <code class="filename">settings.xml</code> configuration file. Each local repository must be configured within its own <code class="literal">&lt;repository&gt;</code> tag.
		</div></div></div><div xmlns:d="http://docbook.org/ns/docbook" class="important"><div class="admonition_header"><p><strong>Important</strong></p></div><div class="admonition"><div class="para">
			When downloading a new Maven repository, remove the cached <code class="filename">repository/</code> subdirectory located under the <code class="filename">.m2/</code>directory before attempting to use the new Maven repository.
		</div></div></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+5707-699776+%5BLatest%5D&comment=Title%3A+Install+the+JBoss+EAP+6+Maven+Repository+Locally%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=5707-699776+18+Aug+2014+22%3A53+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="Install_the_JBoss_Enterprise_Application_Platform_6_Maven_Repository_for_Use_with_Apache_httpd">
      ⁠</a>2.2.4.&nbsp;Install the JBoss EAP 6 Maven Repository for Use with Apache httpd</h3></div></div></div><div class="para">
		There are three ways to install the repository; on your local file system, on Apache Web Server, or with a Maven repository manager. This example will cover the steps to download the JBoss EAP 6 Maven Repository for use with Apache httpd. This option is good for multi-user and cross-team development environments because any developer that can access the web server can also access the Maven repository.
	</div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Prerequisites</div>
			You must configure Apache httpd. See <a href="http://httpd.apache.org/">Apache HTTP Server Project</a> documentation for instructions.
		</div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idp94320">
      ⁠</a><p class="title"><strong>Procedure&nbsp;2.2.&nbsp;Download the JBoss EAP 6 Maven Repository ZIP archive</strong></p><ol class="1"><li class="step"><div class="para">
				Open a web browser and access this URL: <a href="https://access.redhat.com/jbossnetwork/restricted/listSoftware.html?product=appplatform">https://access.redhat.com/jbossnetwork/restricted/listSoftware.html?product=appplatform</a>.
			</div></li><li class="step"><div class="para">
				Find "Red Hat JBoss Enterprise Application Platform 6.3.0 Maven Repository" in the list.
			</div></li><li class="step"><div class="para">
				Click the <span class="guibutton"><strong>Download</strong></span> button to download a <code class="filename">.zip</code> file containing the repository.
			</div></li><li class="step"><div class="para">
				Unzip the files in a directory that is web accessible on the Apache server.
			</div></li><li class="step"><div class="para">
				Configure Apache to allow read access and directory browsing in the created directory.
			</div></li><li class="step"><div class="para">
				 <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Configure_the_JBoss_Enterprise_Application_Platform_Maven_Repository_Using_the_Maven_Settings">Section&nbsp;2.3.2, “Configure the JBoss EAP 6 Maven Repository Using the Maven Settings”</a>.
			</div></li></ol></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Result</div>
			This allows a multi-user environment to access the Maven repository on Apache httpd.
		</div><div xmlns:d="http://docbook.org/ns/docbook" class="note"><div class="admonition_header"><p><strong>Note</strong></p></div><div class="admonition"><div class="para">
			If you're upgrading from a previous version of the repository, note that JBoss EAP Maven Repository artifacts can be simply extracted into an existing JBoss product Maven repository (such as JBoss EAP 6.1.0) without any conflicts. After the repository archive has been extracted, the artifacts can be used with the existing Maven settings for this repository.
		</div></div></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+5722-606675+%5BLatest%5D&comment=Title%3A+Install+the+JBoss+EAP+6+Maven+Repository+for+Use+with+Apache+httpd%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=5722-606675+27+Feb+2014+16%3A34+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="Install_the_JBoss_Enterprise_Application_Platform_6_Maven_Repository_Using_Nexus_Maven_Repository_Manager">
      ⁠</a>2.2.5.&nbsp;Install the JBoss EAP 6 Maven Repository Using Nexus Maven Repository Manager</h3></div></div></div><div class="para">
		There are three ways to install the repository; on your local file system, on Apache Web Server, or with a Maven repository manager. This option is best if you have a licenses and already use a repository manager because you can host the JBoss repository alongside your existing repositories. For more information about Maven repository managers, see <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Maven_Repository_Managers">Section&nbsp;2.2.6, “About Maven Repository Managers”</a>.
	</div><div class="para">
		This example will cover the steps to install the JBoss EAP 6 Maven Repository using Sonatype Nexus Maven Repository Manager. For more complete instructions, see <a href="http://www.sonatype.org/nexus/">Sonatype Nexus: Manage Artifacts</a>.
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idp14967920">
      ⁠</a><p class="title"><strong>Procedure&nbsp;2.3.&nbsp;Download the JBoss EAP 6 Maven Repository ZIP archive</strong></p><ol class="1"><li class="step"><div class="para">
				Open a web browser and access this URL: <a href="https://access.redhat.com/jbossnetwork/restricted/listSoftware.html?product=appplatform">https://access.redhat.com/jbossnetwork/restricted/listSoftware.html?product=appplatform</a>.
			</div></li><li class="step"><div class="para">
				Find "Red Hat JBoss Enterprise Application Platform 6.3.0 Maven Repository" in the list.
			</div></li><li class="step"><div class="para">
				Click the <span class="guibutton"><strong>Download</strong></span> button to download a <code class="filename">.zip</code> file containing the repository.
			</div></li><li class="step"><div class="para">
				Unzip the files into a directory of your choosing on the server hosting Nexus.
			</div></li></ol></div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idp7071824">
      ⁠</a><p class="title"><strong>Procedure&nbsp;2.4.&nbsp;Add the JBoss EAP 6 Maven Repository using Nexus Maven Repository Manager</strong></p><ol class="1"><li class="step"><div class="para">
				Log into Nexus as an Administrator.
			</div></li><li class="step"><div class="para">
				Select the <span class="guilabel"><strong>Repositories</strong></span> section from the <span class="guimenu"><strong>Views</strong></span> → <span class="guimenuitem"><strong>Repositories</strong></span> menu to the left of your repository manager.
			</div></li><li class="step"><div class="para">
				Click the <span class="guilabel"><strong>Add...</strong></span> dropdown, then select <span class="guilabel"><strong>Hosted Repository</strong></span>.
			</div></li><li class="step"><div class="para">
				Give the new repository a name and ID.
			</div></li><li class="step"><div class="para">
				Enter the path on disk to the unzipped repository in the field <span class="guilabel"><strong>Override Local Storage</strong></span> Location.
			</div></li><li class="step"><div class="para">
				Continue if you want the artifact to be available in a repository group. Do not continue with this procedure if this is not what you want.
			</div></li><li class="step"><div class="para">
				Select the repository group.
			</div></li><li class="step"><div class="para">
				Click on the <span class="guilabel"><strong>Configure</strong></span> tab.
			</div></li><li class="step"><div class="para">
				Drag the new JBoss Maven repository from the <span class="guilabel"><strong>Available Repositories</strong></span> list to the <span class="guilabel"><strong>Ordered Group Repositories</strong></span> list on the left.
			</div><div class="note"><div class="admonition_header"><p><strong>Note</strong></p></div><div class="admonition"><div class="para">
					Note that the order of this list determines the priority for searching Maven artifacts.
				</div></div></div></li><li class="step"><div class="para">
				 <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Configure_the_JBoss_Enterprise_Application_Platform_Maven_Repository_Using_the_Maven_Settings">Section&nbsp;2.3.2, “Configure the JBoss EAP 6 Maven Repository Using the Maven Settings”</a>.
			</div></li></ol></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Result</div>
			The repository is configured using Nexus Maven Repository Manager.
		</div><div class="para">

	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+7827-675494+%5BLatest%5D&comment=Title%3A+Install+the+JBoss+EAP+6+Maven+Repository+Using+Nexus+Maven+Repository+Manager%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=7827-675494+24+Jun+2014+04%3A42+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="About_Maven_Repository_Managers">
      ⁠</a>2.2.6.&nbsp;About Maven Repository Managers</h3></div></div></div><div class="para">
		A repository manager is a tool that allows you to easily manage Maven repositories. Repository managers are useful in multiple ways: 
		<div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
					They provide the ability to configure proxies between your organization and remote Maven repositories. This provides a number of benefits, including faster and more efficient deployments and a better level of control over what is downloaded by Maven.
				</div></li><li class="listitem"><div class="para">
					They provide deployment destinations for your own generated artifacts, allowing collaboration between different development teams across an organization.
				</div></li></ul></div>
		 For more information about Maven repository managers, see <a href="http://maven.apache.org/repository-management.html">Apache Maven Project - The List of Repository Managers</a>.
	</div><div class="variablelist"><p class="title"><strong>Commonly used Maven repository managers</strong></p><dl class="variablelist"><dt><span class="term">Sonatype Nexus</span></dt><dd><div class="para">
					See <a href="http://www.sonatype.org/nexus/">Sonatype Nexus: Manage Artifacts</a> for more information about Nexus.
				</div></dd><dt><span class="term">Artifactory</span></dt><dd><div class="para">
					See <a href="http://www.jfrog.com/products.php">Artifactory Open Source</a> for more information about Artifactory.
				</div></dd><dt><span class="term">Apache Archiva</span></dt><dd><div class="para">
					See <a href="http://archiva.apache.org/">Apache Archiva: The Build Artifact Repository Manager</a> for more information about Apache Archiva.
				</div></dd></dl></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+8765-591847+%5BLatest%5D&comment=Title%3A+About+Maven+Repository+Managers%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=8765-591847+24+Feb+2014+07%3A55+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="sect-Use_the_Maven_Repository">
      ⁠</a>2.3.&nbsp;Use the Maven Repository</h2></div></div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="Configure_the_JBoss_Enterprise_Application_Platform_Maven_Repository">
      ⁠</a>2.3.1.&nbsp;Configure the JBoss EAP Maven 6 Repository</h3></div></div></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Overview</div>
			There are two approaches to direct Maven to use the JBoss EAP 6 Maven Repository in your project: 
			<div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
						You can configure the repositories in the Maven global or user settings.
					</div></li><li class="listitem"><div class="para">
						You can configure the repositories in the project's POM file.
					</div></li></ul></div>

		</div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idp14149776">
      ⁠</a><p class="title"><strong>Procedure&nbsp;2.5.&nbsp;Configure Maven Settings to Use the JBoss EAP 6 Maven Repository</strong></p><ol class="1"><li class="step"><p class="title"><strong>Configure the Maven repository using Maven settings</strong></p><div class="para">
				This is the recommended approach. Maven settings used with a repository manager or repository on a shared server provide better control and manageability of projects. Settings also provide the ability to use an alternative mirror to redirect all lookup requests for a specific repository to your repository manager without changing the project files. For more information about mirrors, see <a href="http://maven.apache.org/guides/mini/guide-mirror-settings.html">http://maven.apache.org/guides/mini/guide-mirror-settings.html</a>.
			</div><div class="para">
				This method of configuration applies across all Maven projects, as long as the project POM file does not contain repository configuration.
			</div><div class="para">
				 <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Configure_the_JBoss_Enterprise_Application_Platform_Maven_Repository_Using_the_Maven_Settings">Section&nbsp;2.3.2, “Configure the JBoss EAP 6 Maven Repository Using the Maven Settings”</a>.
			</div></li><li class="step"><p class="title"><strong>Configure the Maven repository using the project POM</strong></p><div class="para">
				This method of configuration is generally not recommended. If you decide to configure repositories in your project POM file, plan carefully and be aware that it can slow down your build and you may even end up with artifacts that are not from the expected repository.
			</div><div class="note"><div class="admonition_header"><p><strong>Note</strong></p></div><div class="admonition"><div class="para">
					In an Enterprise environment, where a repository manager is usually used, Maven should query all artifacts for all projects using this manager. Because Maven uses all declared repositories to find missing artifacts, if it can't find what it's looking for, it will try and look for it in the repository central (defined in the built-in parent POM). To override this central location, you can add a definition with <code class="literal">central</code> so that the default repository central is now your repository manager as well. This works well for established projects, but for clean or 'new' projects it causes a problem as it creates a cyclic dependency.
				</div><div class="para">
					Transitively included POMs are also an issue with this type of configuration. Maven has to query these external repositories for missing artifacts. This not only slows down your build, it also causes you to lose control over where your artifacts are coming from and likely to cause broken builds.
				</div></div></div><div class="para">
				This method of configuration overrides the global and user Maven settings for the configured project.
			</div><div class="para">
				 <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Configure_the_JBoss_Enterprise_Application_Platform_Maven_Repository_Using_the_Project_POM">Section&nbsp;2.3.4, “Configure the JBoss EAP 6 Maven Repository Using the Project POM”</a>.
			</div></li></ol></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+8418-591838+%5BLatest%5D&comment=Title%3A+Configure+the+JBoss+EAP+Maven+6+Repository%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=8418-591838+24+Feb+2014+07%3A55+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="Configure_the_JBoss_Enterprise_Application_Platform_Maven_Repository_Using_the_Maven_Settings">
      ⁠</a>2.3.2.&nbsp;Configure the JBoss EAP 6 Maven Repository Using the Maven Settings</h3></div></div></div><div class="para">
		There are two approaches to direct Maven to use the JBoss EAP 6 Maven Repository in your project: 
		<div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
					You can modify the Maven settings. This directs Maven to use the configuration across all projects.
				</div></li><li class="listitem"><div class="para">
					You can configure the project's POM file. This limits the configuration to the specific project.
				</div></li></ul></div>
		 This topic shows you how to direct Maven to use the JBoss EAP 6 Maven Repository across all projects using the Maven settings. This is the recommended approach.
	</div><div class="para">
		You can configure Maven to use either the online or a locally installed JBoss EAP 6 repository. If you choose to use the online repository, you can use a preconfigured settings file or add the JBoss EAP 6 Maven profiles to the existing settings file. To use a local repository, you must download the repository and configure the settings to point to your locally installed repository. The following procedures describe how to configure Maven for JBoss EAP 6.
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="note"><div class="admonition_header"><p><strong>Note</strong></p></div><div class="admonition"><div class="para">
			The URL of the repository will depend on where the repository is located; on the filesystem, or web server. For information on how to install the repository, see <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Install_the_JBoss_Enterprise_Application_Platform_6_Maven_Repository">Section&nbsp;2.2.2, “Install the JBoss EAP 6 Maven Repository”</a>. The following are examples for each of the installation options:
		</div><div class="variablelist"><dl class="variablelist"><dt><span class="term">File System</span></dt><dd><div class="para">
						file:///path/to/repo/jboss-eap-6.x-maven-repository
					</div></dd><dt><span class="term">Apache Web Server</span></dt><dd><div class="para">
						http://intranet.acme.com/jboss-eap-6.x-maven-repository/
					</div></dd><dt><span class="term">Nexus Repository Manager</span></dt><dd><div class="para">
						https://intranet.acme.com/nexus/content/repositories/jboss-eap-6.x-maven-repository
					</div></dd></dl></div><div class="para">
			You can configure Maven using either the Maven install global settings or the user install settings. These instructions configure the user install settings as this is the most common configuration.
		</div></div></div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idp14724528">
      ⁠</a><p class="title"><strong>Procedure&nbsp;2.6.&nbsp;Configure Maven Using the Settings Shipped with the Quickstart Examples</strong></p><div class="para">
			The JBoss EAP 6 Quickstarts ship with a <code class="filename">settings.xml</code> file that is configured to use the online JBoss EAP 6 Maven repository. This is the simplest approach.
		</div><ol class="1"><li class="step"><div class="para">
				This procedure overwrites the existing Maven settings file, so you must back up the existing Maven <code class="filename">settings.xml</code> file.
			</div><ol class="substeps a"><li class="step"><div class="para">
						Locate the Maven install directory for your operating system. It is usually installed in <code class="filename"><em class="replaceable">USER_HOME</em>/.m2/</code> directory. 
						<div class="itemizedlist"><ul><li class="listitem"><div class="para">
									For Linux or Mac, this is: <code class="filename">~/.m2/</code>
								</div></li><li class="listitem"><div class="para">
									For Windows, this is: <code class="filename">\Documents and Settings\<em class="replaceable">USER_NAME</em>\.m2\</code> or <code class="filename">\Users\<em class="replaceable">USER_NAME</em>\.m2\</code>
								</div></li></ul></div>

					</div></li><li class="step"><div class="para">
						If you have an existing <code class="filename"><em class="replaceable">USER_HOME</em>/.m2/settings.xml</code> file, rename it or make a backup copy so you can restore it later.
					</div></li></ol></li><li class="step"><div class="para">
				Download and unzip the quickstart examples that ship with JBoss EAP 6. For more information, see <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Access_the_Java_EE_Quickstart_Examples">Section&nbsp;1.4.1.1, “Access the Quickstarts”</a>
			</div></li><li class="step"><div class="para">
				Copy the <code class="filename"><em class="replaceable">QUICKSTART_HOME</em>/settings.xml</code> file to the <code class="filename"><em class="replaceable">USER_HOME</em>/.m2/</code> directory.
			</div></li><li class="step"><div class="para">
				If you modify the <code class="filename">settings.xml</code> file while Red Hat JBoss Developer Studio is running, follow the procedure below entitled <em class="citetitle">Refresh the Red Hat JBoss Developer Studio User Settings</em>.
			</div></li></ol></div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idp21978208">
      ⁠</a><p class="title"><strong>Procedure&nbsp;2.7.&nbsp;Manually Edit and Configure the Maven Settings To Use the Online JBoss EAP 6 Maven Repository</strong></p><div class="para">
			You can manually add the JBoss EAP 6 profiles to an existing Maven settings file.
		</div><ol class="1"><li class="step"><div class="para">
				Locate the Maven install directory for your operating system. It is usually installed in <code class="filename"><em class="replaceable">USER_HOME</em>/.m2/</code> directory. 
				<div class="itemizedlist"><ul><li class="listitem"><div class="para">
							For Linux or Mac, this is <code class="filename">~/.m2/</code>
						</div></li><li class="listitem"><div class="para">
							For Windows, this is <code class="filename">\Documents and Settings\<em class="replaceable">USER_NAME</em>\.m2\</code> or <code class="filename">\Users\<em class="replaceable">USER_NAME</em>\.m2\</code>
						</div></li></ul></div>

			</div></li><li class="step"><div class="para">
				If you do not find a <code class="filename">settings.xml</code> file, copy the <code class="filename">settings.xml</code> file from the <code class="filename"><em class="replaceable">USER_HOME</em>/.m2/conf/</code> directory into the <code class="filename"><em class="replaceable">USER_HOME</em>/.m2/</code> directory.
			</div></li><li class="step"><div class="para">
				Copy the following XML into the <code class="code">&lt;profiles&gt;</code> element of the file. 
<pre class="programlisting"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">&lt;!-- Configure the JBoss GA Maven repository --&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;profile&gt;</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">&lt;id&gt;</span>jboss-ga-repository<span xmlns="" class="perl_Keyword">&lt;/id&gt;</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">&lt;repositories&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;repository&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;id&gt;</span>jboss-ga-repository<span xmlns="" class="perl_Keyword">&lt;/id&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;url&gt;</span>http://maven.repository.redhat.com/techpreview/all<span xmlns="" class="perl_Keyword">&lt;/url&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;releases&gt;</span>
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">&lt;enabled&gt;</span>true<span xmlns="" class="perl_Keyword">&lt;/enabled&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;/releases&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;snapshots&gt;</span>
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">&lt;enabled&gt;</span>false<span xmlns="" class="perl_Keyword">&lt;/enabled&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;/snapshots&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;/repository&gt;</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">&lt;/repositories&gt;</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">&lt;pluginRepositories&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;pluginRepository&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;id&gt;</span>jboss-ga-plugin-repository<span xmlns="" class="perl_Keyword">&lt;/id&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;url&gt;</span>http://maven.repository.redhat.com/techpreview/all<span xmlns="" class="perl_Keyword">&lt;/url&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;releases&gt;</span>
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">&lt;enabled&gt;</span>true<span xmlns="" class="perl_Keyword">&lt;/enabled&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;/releases&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;snapshots&gt;</span>
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">&lt;enabled&gt;</span>false<span xmlns="" class="perl_Keyword">&lt;/enabled&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;/snapshots&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;/pluginRepository&gt;</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">&lt;/pluginRepositories&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;/profile&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">&lt;!-- Configure the JBoss Early Access Maven repository --&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;profile&gt;</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">&lt;id&gt;</span>jboss-earlyaccess-repository<span xmlns="" class="perl_Keyword">&lt;/id&gt;</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">&lt;repositories&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;repository&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;id&gt;</span>jboss-earlyaccess-repository<span xmlns="" class="perl_Keyword">&lt;/id&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;url&gt;</span>http://maven.repository.redhat.com/earlyaccess/all/<span xmlns="" class="perl_Keyword">&lt;/url&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;releases&gt;</span>
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">&lt;enabled&gt;</span>true<span xmlns="" class="perl_Keyword">&lt;/enabled&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;/releases&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;snapshots&gt;</span>
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">&lt;enabled&gt;</span>false<span xmlns="" class="perl_Keyword">&lt;/enabled&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;/snapshots&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;/repository&gt;</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">&lt;/repositories&gt;</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">&lt;pluginRepositories&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;pluginRepository&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;id&gt;</span>jboss-earlyaccess-plugin-repository<span xmlns="" class="perl_Keyword">&lt;/id&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;url&gt;</span>http://maven.repository.redhat.com/earlyaccess/all/<span xmlns="" class="perl_Keyword">&lt;/url&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;releases&gt;</span>
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">&lt;enabled&gt;</span>true<span xmlns="" class="perl_Keyword">&lt;/enabled&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;/releases&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;snapshots&gt;</span>
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">&lt;enabled&gt;</span>false<span xmlns="" class="perl_Keyword">&lt;/enabled&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;/snapshots&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;/pluginRepository&gt;</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">&lt;/pluginRepositories&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;/profile&gt;</span></pre>

			</div><div class="para">
				Copy the following XML into the <code class="code">&lt;activeProfiles&gt;</code> element of the <code class="filename">settings.xml</code> file. 
<pre class="programlisting"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;activeProfile&gt;</span>jboss-ga-repository<span xmlns="" class="perl_Keyword">&lt;/activeProfile&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;activeProfile&gt;</span>jboss-earlyaccess-repository<span xmlns="" class="perl_Keyword">&lt;/activeProfile&gt;</span></pre>

			</div></li><li class="step"><div class="para">
				If you modify the <code class="filename">settings.xml</code> file while Red Hat JBoss Developer Studio is running, follow the procedure below entitled <em class="citetitle">Refresh the Red Hat JBoss Developer Studio User Settings</em>.
			</div></li></ol></div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idp8620256">
      ⁠</a><p class="title"><strong>Procedure&nbsp;2.8.&nbsp;Configure the Settings to Use a Locally Installed JBoss EAP Repository</strong></p><div class="para">
			You can modify the settings to use the JBoss EAP 6 repository installed on the local file system.
		</div><ol class="1"><li class="step"><div class="para">
				Locate the Maven install directory for your operating system. It is usually installed in <code class="filename"><em class="replaceable">USER_HOME</em>/.m2/</code> directory. 
				<div class="itemizedlist"><ul><li class="listitem"><div class="para">
							For Linux or Mac, this is <code class="filename">~/.m2/</code>
						</div></li><li class="listitem"><div class="para">
							For Windows, this is <code class="filename">\Documents and Settings\<em class="replaceable">USER_NAME</em>\.m2\</code> or <code class="filename">\Users\<em class="replaceable">USER_NAME</em>\.m2\</code>
						</div></li></ul></div>

			</div></li><li class="step"><div class="para">
				If you do not find a <code class="filename">settings.xml</code> file, copy the <code class="filename">settings.xml</code> file from the <code class="filename"><em class="replaceable">USER_HOME</em>/.m2/conf/</code> directory into the <code class="filename"><em class="replaceable">USER_HOME</em>/.m2/</code> directory.
			</div></li><li class="step"><div class="para">
				Copy the following XML into the <code class="code">&lt;profiles&gt;</code> element of the <code class="filename">settings.xml</code> file. Be sure to change the <code class="code">&lt;url&gt;</code> to the actual repository location. 
<pre class="programlisting"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;profile&gt;</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">&lt;id&gt;</span>jboss-eap-repository<span xmlns="" class="perl_Keyword">&lt;/id&gt;</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">&lt;repositories&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;repository&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;id&gt;</span>jboss-eap-repository<span xmlns="" class="perl_Keyword">&lt;/id&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;name&gt;</span>JBoss EAP Maven Repository<span xmlns="" class="perl_Keyword">&lt;/name&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;url&gt;</span>file:///path/to/repo/jboss-eap-6.x-maven-repository<span xmlns="" class="perl_Keyword">&lt;/url&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;layout&gt;</span>default<span xmlns="" class="perl_Keyword">&lt;/layout&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;releases&gt;</span>
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">&lt;enabled&gt;</span>true<span xmlns="" class="perl_Keyword">&lt;/enabled&gt;</span>
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">&lt;updatePolicy&gt;</span>never<span xmlns="" class="perl_Keyword">&lt;/updatePolicy&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;/releases&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;snapshots&gt;</span>
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">&lt;enabled&gt;</span>false<span xmlns="" class="perl_Keyword">&lt;/enabled&gt;</span>
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">&lt;updatePolicy&gt;</span>never<span xmlns="" class="perl_Keyword">&lt;/updatePolicy&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;/snapshots&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;/repository&gt;</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">&lt;/repositories&gt;</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">&lt;pluginRepositories&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;pluginRepository&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;id&gt;</span>jboss-eap-repository-group<span xmlns="" class="perl_Keyword">&lt;/id&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;name&gt;</span>JBoss EAP Maven Repository<span xmlns="" class="perl_Keyword">&lt;/name&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;url&gt;</span>
<span xmlns="" class="line">​</span>      file:///path/to/repo/jboss-eap-6.x-maven-repository
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;/url&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;layout&gt;</span>default<span xmlns="" class="perl_Keyword">&lt;/layout&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;releases&gt;</span>
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">&lt;enabled&gt;</span>true<span xmlns="" class="perl_Keyword">&lt;/enabled&gt;</span>
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">&lt;updatePolicy&gt;</span>never<span xmlns="" class="perl_Keyword">&lt;/updatePolicy&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;/releases&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;snapshots&gt;</span>
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">&lt;enabled&gt;</span>false<span xmlns="" class="perl_Keyword">&lt;/enabled&gt;</span>
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">&lt;updatePolicy&gt;</span>never<span xmlns="" class="perl_Keyword">&lt;/updatePolicy&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;/snapshots&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;/pluginRepository&gt;</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">&lt;/pluginRepositories&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;/profile&gt;</span></pre>

			</div><div class="para">
				Copy the following XML into the <code class="code">&lt;activeProfiles&gt;</code> element of the <code class="filename">settings.xml</code> file.
			</div><pre class="programlisting"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;activeProfile&gt;</span>jboss-eap-repository<span xmlns="" class="perl_Keyword">&lt;/activeProfile&gt;</span></pre></li><li class="step"><div class="para">
				If you modify the <code class="filename">settings.xml</code> file while Red Hat JBoss Developer Studio is running, follow the procedure below entitled <em class="citetitle">Refresh the Red Hat JBoss Developer Studio User Settings</em>.
			</div></li></ol></div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idp14153088">
      ⁠</a><p class="title"><strong>Procedure&nbsp;2.9.&nbsp;Refresh the Red Hat JBoss Developer Studio User Settings</strong></p><div class="para">
			If you modify the <code class="filename">settings.xml</code> file while Red Hat JBoss Developer Studio is running, you must refresh the user settings.
		</div><ol class="1"><li class="step"><div class="para">
				From the menu, choose <span class="guimenu"><strong>Window</strong></span> → <span class="guimenuitem"><strong>Preferences</strong></span>.
			</div></li><li class="step"><div class="para">
				In the <span class="guilabel"><strong>Preferences</strong></span> Window, expand <span class="guilabel"><strong>Maven</strong></span> and choose <span class="guilabel"><strong>User Settings</strong></span>.
			</div></li><li class="step"><div class="para">
				Click the <span class="guibutton"><strong>Update Settings</strong></span> button to refresh the Maven user settings in Red Hat JBoss Developer Studio.
			</div><div class="figure"><a id="idp1578080">
      ⁠</a><div class="figure-contents"><div class="mediaobject"><img src="./JBoss_6_3_files/128.png" alt="Update Maven User Settings"></div></div><p class="title"><strong>Figure&nbsp;2.1.&nbsp;Update Maven User Settings</strong></p></div></li></ol></div><div xmlns:d="http://docbook.org/ns/docbook" class="important"><div class="admonition_header"><p><strong>Important</strong></p></div><div class="admonition"><div class="para">
			If your Maven repository contains outdated artifacts, you may encounter one of the following Maven error messages when you build or deploy your project: 
			<div class="itemizedlist"><ul><li class="listitem"><div class="para">
						Missing artifact <em class="replaceable">ARTIFACT_NAME</em>
					</div></li><li class="listitem"><div class="para">
						[ERROR] Failed to execute goal on project <em class="replaceable">PROJECT_NAME</em>; Could not resolve dependencies for <em class="replaceable">PROJECT_NAME</em>
					</div></li></ul></div>
			 To resolve the issue, delete the cached version of your local repository to force a download of the latest Maven artifacts. The cached repository is located in your <code class="filename">~/.m2/repository/</code> subdirectory on Linux, or the <code class="filename"><em class="replaceable">%SystemDrive%</em>\Users\<em class="replaceable">USERNAME</em>\.m2\repository\</code> subdirectory on Windows.
		</div></div></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+5709-681227+%5BLatest%5D&comment=Title%3A+Configure+the+JBoss+EAP+6+Maven+Repository+Using+the+Maven+Settings%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=5709-681227+04+Jul+2014+00%3A18+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="Configure_Maven_for_Use_with_JBoss_Developer_Studio">
      ⁠</a>2.3.3.&nbsp;Configure Maven for Use with Red Hat JBoss Developer Studio</h3></div></div></div><div class="para">
		The artifacts and dependencies needed to build and deploy applications to Red Hat JBoss Enterprise Application Platform are hosted on a public repository. You must direct Maven to use this repository when you build your applications. This topic covers the steps to configure Maven if you plan to build and deploy application using Red Hat JBoss Developer Studio.
	</div><div class="para">
		Maven is distributed with Red Hat JBoss Developer Studio, so it is not necessary to install it separately. However, you must configure Maven for use by the Java EE Web Project wizard for deployments to JBoss EAP. The procedure below demonstrates how to configure Maven for use with JBoss EAP by editing the Maven configuration file from within Red Hat JBoss Developer Studio.
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idp24244784">
      ⁠</a><p class="title"><strong>Procedure&nbsp;2.10.&nbsp;Configure Maven in Red Hat JBoss Developer Studio</strong></p><ol class="1"><li class="step"><div class="para">
				Click <span class="guimenu"><strong>Window</strong></span>→<span class="guimenu"><strong>Preferences</strong></span>, expand <span class="guilabel"><strong>JBoss Tools</strong></span> and select <span class="guilabel"><strong>JBoss Maven Integration</strong></span>.
			</div><div class="figure"><a id="idp19845792">
      ⁠</a><div class="figure-contents"><div class="mediaobject"><img src="./JBoss_6_3_files/3313.png" alt="Click Window→Preferences, expand JBoss Tools and select JBoss Maven Integration."></div></div><p class="title"><strong>Figure&nbsp;2.2.&nbsp;JBoss Maven Integration Pane in the Preferences Window</strong></p></div></li><li class="step"><div class="para">
				Click <span class="guibutton"><strong>Configure Maven Repositories</strong></span>.
			</div></li><li class="step"><div class="para">
				Click <span class="guibutton"><strong>Add Repository</strong></span> to configure the JBoss GA Tech Preview Maven repository. Complete the <code class="literal">Add Maven Repository</code> dialog as follows:
			</div><ol class="substeps a"><li class="step"><div class="para">
						Set the <span class="guilabel"><strong>Profile ID</strong></span>, <span class="guilabel"><strong>Repository ID</strong></span>, and <span class="guilabel"><strong>Repository Name</strong></span> values to <code class="literal">jboss-ga-repository</code>.
					</div></li><li class="step"><div class="para">
						Set the <span class="guilabel"><strong>Repository URL</strong></span> value to <code class="literal">http://maven.repository.redhat.com/techpreview/all</code>.
					</div></li><li class="step"><div class="para">
						Click the <span class="guibutton"><strong>Active by default</strong></span> checkbox to enable the Maven repository.
					</div></li><li class="step"><div class="para">
						Click <span class="guibutton"><strong>OK</strong></span>
					</div></li></ol><div class="figure"><a id="idp40106912">
      ⁠</a><div class="figure-contents"><div class="mediaobject"><img src="./JBoss_6_3_files/4713.png" alt="Enter Maven profile and repository values."></div></div><p class="title"><strong>Figure&nbsp;2.3.&nbsp;Add Maven Repository - JBoss Tech Preview </strong></p></div></li><li class="step"><div class="para">
				Click <span class="guibutton"><strong>Add Repository</strong></span> to configure the JBoss Early Access Maven repository. Complete the <code class="literal">Add Maven Repository</code> dialog as follows:
			</div><ol class="substeps a"><li class="step"><div class="para">
						Set the <span class="guilabel"><strong>Profile ID</strong></span>, <span class="guilabel"><strong>Repository ID</strong></span>, and <span class="guilabel"><strong>Repository Name</strong></span> values to <code class="literal">jboss-earlyaccess-repository</code>.
					</div></li><li class="step"><div class="para">
						Set the <span class="guilabel"><strong>Repository URL</strong></span> value to <code class="literal">http://maven.repository.redhat.com/earlyaccess/all/</code>.
					</div></li><li class="step"><div class="para">
						Click the <span class="guibutton"><strong>Active by default</strong></span> checkbox to enable the Maven repository.
					</div></li><li class="step"><div class="para">
						Click <span class="guibutton"><strong>OK</strong></span>
					</div></li></ol><div class="figure"><a id="idp24713648">
      ⁠</a><div class="figure-contents"><div class="mediaobject"><img src="./JBoss_6_3_files/4714.png" alt="Enter Maven profile and repository values."></div></div><p class="title"><strong>Figure&nbsp;2.4.&nbsp;Add Maven Repository - JBoss Early Access</strong></p></div></li><li class="step"><div class="para">
				Review the repositories and click <span class="guibutton"><strong>Finish</strong></span>.
			</div><div class="figure"><a id="idp2511648">
      ⁠</a><div class="figure-contents"><div class="mediaobject"><img src="./JBoss_6_3_files/4715.png" alt="Review Maven profile and repository values."></div></div><p class="title"><strong>Figure&nbsp;2.5.&nbsp;Review Maven Repositories</strong></p></div></li><li class="step"><div class="para">
				You are prompted with the message "Are you sure you want to update the file 'MAVEN_HOME/settings.xml'?". Click <span class="guibutton"><strong>Yes</strong></span> to update the settings. Click <span class="guibutton"><strong>OK</strong></span> to close the dialog.
			</div><div class="para">
				The JBoss EAP Maven repository is now configured for use with Red Hat JBoss Developer Studio.
			</div></li></ol></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+27042-681228+%5BLatest%5D&comment=Title%3A+Configure+Maven+for+Use+with+Red+Hat+JBoss+Developer+Studio%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=27042-681228+04+Jul+2014+00%3A23+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="Configure_the_JBoss_Enterprise_Application_Platform_Maven_Repository_Using_the_Project_POM">
      ⁠</a>2.3.4.&nbsp;Configure the JBoss EAP 6 Maven Repository Using the Project POM</h3></div></div></div><div class="para">
		There are two approaches to direct Maven to use the JBoss EAP 6 Maven Repository in your project: 
		<div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
					You can modify the Maven settings.
				</div></li><li class="listitem"><div class="para">
					You can configure the project's POM file.
				</div></li></ul></div>
		 This task shows you how to configure a specific project to use the JBoss EAP 6 Maven Repository by adding repository information to the project <code class="filename">pom.xml</code>. This configuration method supercedes and overrides the global and user settings configurations.
	</div><div class="para">
		This method of configuration is generally not recommended. If you decide to configure repositories in your project POM file, plan carefully and be aware that it can slow down your build and you may even end up with artifacts that are not from the expected repository.
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="note"><div class="admonition_header"><p><strong>Note</strong></p></div><div class="admonition"><div class="para">
			In an Enterprise environment, where a repository manager is usually used, Maven should query all artifacts for all projects using this manager. Because Maven uses all declared repositories to find missing artifacts, if it can't find what it's looking for, it will try and look for it in the repository central (defined in the built-in parent POM). To override this central location, you can add a definition with <code class="literal">central</code> so that the default repository central is now your repository manager as well. This works well for established projects, but for clean or 'new' projects it causes a problem as it creates a cyclic dependency.
		</div><div class="para">
			Transitively included POMs are also an issue with this type of configuration. Maven has to query these external repositories for missing artifacts. This not only slows down your build, it also causes you to lose control over where your artifacts are coming from and likely to cause broken builds.
		</div></div></div><div xmlns:d="http://docbook.org/ns/docbook" class="note"><div class="admonition_header"><p><strong>Note</strong></p></div><div class="admonition"><div class="para">
			The URL of the repository will depend on where the repository is located; on the filesystem, or web server. For information on how to install the repository, see:  <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Install_the_JBoss_Enterprise_Application_Platform_6_Maven_Repository">Section&nbsp;2.2.2, “Install the JBoss EAP 6 Maven Repository”</a>. The following are examples for each of the installation options:
		</div><div class="variablelist"><dl class="variablelist"><dt><span class="term">File System</span></dt><dd><div class="para">
						file:///path/to/repo/jboss-eap-6.x-maven-repository
					</div></dd><dt><span class="term">Apache Web Server</span></dt><dd><div class="para">
						http://intranet.acme.com/jboss-eap-6.x-maven-repository/
					</div></dd><dt><span class="term">Nexus Repository Manager</span></dt><dd><div class="para">
						https://intranet.acme.com/nexus/content/repositories/jboss-eap-6.x-maven-repository
					</div></dd></dl></div></div></div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><ol class="1"><li class="step"><div class="para">
				Open your project's <code class="filename">pom.xml</code> file in a text editor.
			</div></li><li class="step"><div class="para">
				Add the following repository configuration. If there is already a <code class="code">&lt;repositories&gt;</code> configuration in the file, then add the <code class="code">&lt;repository&gt;</code> element to it. Be sure to change the <code class="code">&lt;url&gt;</code> to the actual repository location.
			</div><pre class="programlisting"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;repositories&gt;</span>
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">&lt;repository&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;id&gt;</span>jboss-eap-repository-group<span xmlns="" class="perl_Keyword">&lt;/id&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;name&gt;</span>JBoss EAP Maven Repository<span xmlns="" class="perl_Keyword">&lt;/name&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;url&gt;</span>file:///path/to/repo/jboss-eap-6.3.0-maven-repository/<span xmlns="" class="perl_Keyword">&lt;/url&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;layout&gt;</span>default<span xmlns="" class="perl_Keyword">&lt;/layout&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;releases&gt;</span>
<span xmlns="" class="line">​</span>         <span xmlns="" class="perl_Keyword">&lt;enabled&gt;</span>true<span xmlns="" class="perl_Keyword">&lt;/enabled&gt;</span>
<span xmlns="" class="line">​</span>         <span xmlns="" class="perl_Keyword">&lt;updatePolicy&gt;</span>never<span xmlns="" class="perl_Keyword">&lt;/updatePolicy&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;/releases&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;snapshots&gt;</span>
<span xmlns="" class="line">​</span>         <span xmlns="" class="perl_Keyword">&lt;enabled&gt;</span>true<span xmlns="" class="perl_Keyword">&lt;/enabled&gt;</span>
<span xmlns="" class="line">​</span>         <span xmlns="" class="perl_Keyword">&lt;updatePolicy&gt;</span>never<span xmlns="" class="perl_Keyword">&lt;/updatePolicy&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;/snapshots&gt;</span>
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">&lt;/repository&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;/repositories&gt;</span></pre></li><li class="step"><div class="para">
				Add the following plug-in repository configuration. If there is already a <code class="code">&lt;pluginRepositories&gt;</code> configuration in the file, then add the <code class="code">&lt;pluginRepository&gt;</code> element to it.
			</div><pre class="programlisting"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;pluginRepositories&gt;</span>
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">&lt;pluginRepository&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;id&gt;</span>jboss-eap-repository-group<span xmlns="" class="perl_Keyword">&lt;/id&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;name&gt;</span>JBoss EAP Maven Repository<span xmlns="" class="perl_Keyword">&lt;/name&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;url&gt;</span>file:///path/to/repo/jboss-eap-6.3.0-maven-repository/<span xmlns="" class="perl_Keyword">&lt;/url&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;releases&gt;</span>
<span xmlns="" class="line">​</span>         <span xmlns="" class="perl_Keyword">&lt;enabled&gt;</span>true<span xmlns="" class="perl_Keyword">&lt;/enabled&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;/releases&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;snapshots&gt;</span>
<span xmlns="" class="line">​</span>         <span xmlns="" class="perl_Keyword">&lt;enabled&gt;</span>true<span xmlns="" class="perl_Keyword">&lt;/enabled&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;/snapshots&gt;</span>
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">&lt;/pluginRepository&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;/pluginRepositories&gt;</span></pre></li></ol></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4606-703718+%5BLatest%5D&comment=Title%3A+Configure+the+JBoss+EAP+6+Maven+Repository+Using+the+Project+POM%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4606-703718+27+Aug+2014+21%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="Maven_BOM_Usage">
      ⁠</a>2.3.5.&nbsp;Manage Project Dependencies</h3></div></div></div><div class="para">
		This topic describes the usage of Bill of Materials (<abbr class="abbrev">BOM</abbr>) POMs for Red Hat JBoss Enterprise Application Platform 6.
	</div><div class="para">
		A BOM is a Maven <code class="filename">pom.xml</code> (POM) file that specifies the versions of all runtime dependencies for a given module. Version dependencies are listed in the dependency management section of the file.
	</div><div class="para">
		A project uses a BOM by adding its <code class="literal">groupId:artifactId:version</code> (<abbr class="abbrev">GAV</abbr>) to the dependency management section of the project <code class="filename">pom.xml</code> file and specifying the <code class="code">&lt;scope&gt;import&lt;/scope&gt;</code> and <code class="code">&lt;type&gt;pom&lt;/type&gt;</code> element values.
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="note"><div class="admonition_header"><p><strong>Note</strong></p></div><div class="admonition"><div class="para">
			In many cases, dependencies in project POM files use the <code class="literal">provided</code> scope. This is because these classes are provided by the application server at runtime and it is not necessary to package them with the user application.
		</div></div></div><h4><a id="idp24229280">
      ⁠</a> Supported Maven Artifacts </h4><div class="para">
		As part of the product build process, all runtime components of JBoss EAP are built from source in a controlled environment. This helps to ensure that the binary artifacts do not contain any malicious code, and that they can be supported for the life of the product. These artifacts can be easily identified by the <code class="literal">-redhat</code> version qualifier, for example <code class="literal">1.0.0-redhat-1</code>.
	</div><div class="para">
		Adding a supported artifact to the build configuration <code class="filename">pom.xml</code> file ensures that the build is using the correct binary artifact for local building and testing. Note that an artifact with a <code class="literal">-redhat</code> version is not necessarily part of the supported public API, and may change in future revisions. For information about the public supported API, see the JavaDoc documentation included in the release.
	</div><div class="para">
		For example, to use the supported version of hibernate, add something similar to the following to your build configuration. 
<pre class="programlisting"><span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;dependency&gt;</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">&lt;groupId&gt;</span>org.hibernate<span xmlns="" class="perl_Keyword">&lt;/groupId&gt;</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">&lt;artifactId&gt;</span>hibernate-core<span xmlns="" class="perl_Keyword">&lt;/artifact&gt;</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">&lt;version&gt;</span>4.2.6.Final-redhat-1<span xmlns="" class="perl_Keyword">&lt;/version&gt;</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">&lt;scope&gt;</span>provided<span xmlns="" class="perl_Keyword">&lt;/scope&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;/dependency&gt;</span></pre>
		 Notice that the above example includes a value for the <code class="code">&lt;version/&gt;</code> field. However, it is recommended to use Maven dependency management for configuring dependency versions.
	</div><h4><a id="idp20653616">
      ⁠</a> Dependency Management </h4><div class="para">
		Maven includes a mechanism for managing the versions of direct and transitive dependencies throughout the build. For general information about using dependency management, see the Apache Maven Project <a href="http://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html">Introduction to the Dependency Mechanism</a>.
	</div><div class="para">
		Using one or more supported JBoss dependencies directly in your build does not guarantee that all transitive dependencies of the build will be fully supported JBoss artifacts. It is common for Maven builds to use a mix of artifact sources from the Maven central repository, the JBoss.org Maven repository, and other Maven repositories.
	</div><div class="para">
		Included with the JBoss EAP Maven repository is a dependency management BOM, which specifies all supported JBoss EAP binary artifacts. This BOM can be used in a build to ensure that Maven will prioritize supported JBoss EAP dependencies for all direct and transitive dependencies in the build. In other words, transitive dependencies will be managed to the correct supported dependency version where applicable. The version of this BOM matches the version of the JBoss EAP release. 
<pre class="programlisting"><span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;dependencyManagement&gt;</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">&lt;dependencies&gt;</span>
<span xmlns="" class="line">​</span>    ...
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;dependency&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;groupId&gt;</span>org.jboss.bom<span xmlns="" class="perl_Keyword">&lt;/groupId&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;artifactId&gt;</span>eap6-supported-artifacts<span xmlns="" class="perl_Keyword">&lt;/artifactId&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;version&gt;</span>6.3.0.GA<span xmlns="" class="perl_Keyword">&lt;/version&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;type&gt;</span>pom<span xmlns="" class="perl_Keyword">&lt;/type&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;scope&gt;</span>import<span xmlns="" class="perl_Keyword">&lt;/scope&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;/dependency&gt;</span>
<span xmlns="" class="line">​</span>    ...
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">&lt;/dependencies&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;/dependencyManagement&gt;</span></pre>

	</div><h4><a id="idp10298992">
      ⁠</a> JBoss JavaEE Specs Bom </h4><div class="para">
		The <code class="code">jboss-javaee-6.0</code> BOM contains the Java EE Specification API JARs used by JBoss EAP.
	</div><div class="para">
		To use this BOM in a project, add a dependency for the GAV that contains the version of the JSP and Servlet API JARs needed to build and deploy the application.
	</div><div class="para">
		The following example uses the <code class="literal">3.0.2.Final-redhat-x</code> version of the <code class="code">jboss-javaee-6.0</code> BOM. 
<pre class="programlisting"><span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;dependencyManagement&gt;</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">&lt;dependencies&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;dependency&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;groupId&gt;</span>org.jboss.spec<span xmlns="" class="perl_Keyword">&lt;/groupId&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;artifactId&gt;</span>jboss-javaee-6.0<span xmlns="" class="perl_Keyword">&lt;/artifactId&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;version&gt;</span>3.0.2.Final-redhat-x<span xmlns="" class="perl_Keyword">&lt;/version&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;type&gt;</span>pom<span xmlns="" class="perl_Keyword">&lt;/type&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;scope&gt;</span>import<span xmlns="" class="perl_Keyword">&lt;/scope&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;/dependency&gt;</span>
<span xmlns="" class="line">​</span>    ...
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">&lt;/dependencies&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;/dependencyManagement&gt;</span>
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;dependencies&gt;</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">&lt;dependency&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;groupId&gt;</span>org.jboss.spec.javax.servlet<span xmlns="" class="perl_Keyword">&lt;/groupId&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;artifactId&gt;</span>jboss-servlet-api_3.0_spec<span xmlns="" class="perl_Keyword">&lt;/artifactId&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;scope&gt;</span>provided<span xmlns="" class="perl_Keyword">&lt;/scope&gt;</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">&lt;/dependency&gt;</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">&lt;dependency&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;groupId&gt;</span>org.jboss.spec.javax.servlet.jsp<span xmlns="" class="perl_Keyword">&lt;/groupId&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;artifactId&gt;</span>jboss-jsp-api_2.2_spec<span xmlns="" class="perl_Keyword">&lt;/artifactId&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;scope&gt;</span>provided<span xmlns="" class="perl_Keyword">&lt;/scope&gt;</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">&lt;/dependency&gt;</span>
<span xmlns="" class="line">​</span>  ...
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;/dependencies&gt;</span></pre>

	</div><h4><a id="idp23325984">
      ⁠</a> JBoss EAP BOMs and Quickstarts </h4><div class="para">
		The JBoss BOMs are located in the jboss-bom project at <a href="https://github.com/jboss-developer/jboss-eap-boms">https://github.com/jboss-developer/jboss-eap-boms</a>.
	</div><div class="para">
		The quickstarts provide the primary use case examples for the Maven repository. The following table lists the Maven BOMs used by the quickstarts. 
		<div class="table"><a id="table-jboss-boms">
      ⁠</a><p class="title"><strong>Table&nbsp;2.1.&nbsp;JBoss BOMs Used by the Quickstarts</strong></p><div class="table-contents"><table xmlns:d="http://docbook.org/ns/docbook" class="lt-4-cols gt-7-rows" summary="JBoss BOMs Used by the Quickstarts"><colgroup><col width="33%" align="left" class="c1"><col width="67%" align="left" class="c2"></colgroup><thead><tr><th align="left"> Maven artifactId </th><th align="left"> Description </th></tr></thead><tbody><tr><td align="left"> jboss-javaee-6.0-with-hibernate </td><td align="left"> This BOM builds on the Java EE full profile BOM, adding Hibernate Community projects including Hibernate ORM, Hibernate Search and Hibernate Validator. It also provides tool projects such as Hibernate JPA Model Gen and Hibernate Validator Annotation Processor. </td></tr><tr><td align="left"> jboss-javaee-6.0-with-hibernate3 </td><td align="left"> This BOM builds on the Java EE full profile BOM, adding Hibernate Community projects including Hibernate 3 ORM, Hibernate Entity Manager (JPA 1.0) and Hibernate Validator. </td></tr><tr><td align="left"> jboss-javaee-6.0-with-logging </td><td align="left"> This BOM builds on the Java EE full profile BOM, adding the JBoss Logging Tools and Log4j framework. </td></tr><tr><td align="left"> jboss-javaee-6.0-with-osgi </td><td align="left"> This BOM builds on the Java EE full profile BOM, adding OSGI. </td></tr><tr><td align="left"> jboss-javaee-6.0-with-resteasy </td><td align="left"> This BOM builds on the Java EE full profile BOM, adding RESTEasy </td></tr><tr><td align="left"> jboss-javaee-6.0-with-security </td><td align="left"> This BOM builds on the Java EE full profile BOM, adding Picketlink. </td></tr><tr><td align="left"> jboss-javaee-6.0-with-tools </td><td align="left"> This BOM builds on the Java EE full profile BOM, adding Arquillian to the mix. It also provides a version of JUnit and TestNG recommended for use with Arquillian. </td></tr><tr><td align="left"> jboss-javaee-6.0-with-transactions </td><td align="left"> This BOM includes a world class transaction manager. Use the JBossTS APIs to access its full capabilities. </td></tr></tbody></table></div></div>

	</div><div class="para">
		The following example uses the <code class="literal">6.3.0.GA</code> version of the <code class="code">jboss-javaee-6.0-with-hibernate</code> BOM. 
<pre class="programlisting"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;dependencyManagement&gt;</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">&lt;dependencies&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;dependency&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;groupId&gt;</span>org.jboss.bom.eap<span xmlns="" class="perl_Keyword">&lt;/groupId&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;artifactId&gt;</span>jboss-javaee-6.0-with-hibernate<span xmlns="" class="perl_Keyword">&lt;/artifactId&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;version&gt;</span>6.3.0.GA<span xmlns="" class="perl_Keyword">&lt;/version&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;type&gt;</span>pom<span xmlns="" class="perl_Keyword">&lt;/type&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;scope&gt;</span>import<span xmlns="" class="perl_Keyword">&lt;/scope&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;/dependency&gt;</span>
<span xmlns="" class="line">​</span>    ...
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">&lt;/dependencies&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;/dependencyManagement&gt;</span>
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;dependencies&gt;</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">&lt;dependency&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;groupId&gt;</span>org.hibernate<span xmlns="" class="perl_Keyword">&lt;/groupId&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;artifactId&gt;</span>hibernate-core<span xmlns="" class="perl_Keyword">&lt;/artifactId&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;scope&gt;</span>provided<span xmlns="" class="perl_Keyword">&lt;/scope&gt;</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">&lt;/dependency&gt;</span>
<span xmlns="" class="line">​</span>  ...
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;/dependencies&gt;</span></pre>

	</div><h4><a id="idp4172464">
      ⁠</a> JBoss Client BOMs </h4><div class="para">
		The JBoss EAP server build includes two client BOMs: <code class="systemitem">jboss-as-ejb-client-bom</code> and <code class="systemitem">jboss-as-jms-client-bom</code>.
	</div><div class="para">
		The client BOMs do not create a dependency management section or define dependencies. Instead, they are an aggregate of other BOMs and are used to package the set of dependencies necessary for a remote client use case.
	</div><div class="para">
		The following example uses the <code class="literal">7.4.0.Final-redhat-x</code> version of the <code class="code">jboss-as-ejb-client-bom</code> client BOM. 
<pre class="programlisting"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;dependencies&gt;</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">&lt;dependency&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;groupId&gt;</span>org.jboss.as<span xmlns="" class="perl_Keyword">&lt;/groupId&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;artifactId&gt;</span>jboss-as-ejb-client-bom<span xmlns="" class="perl_Keyword">&lt;/artifactId&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;version&gt;</span>7.4.0.Final-redhat-x<span xmlns="" class="perl_Keyword">&lt;/version&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;type&gt;</span>pom<span xmlns="" class="perl_Keyword">&lt;/type&gt;</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">&lt;/dependency&gt;</span>
<span xmlns="" class="line">​</span>  ...l
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;/dependencies&gt;</span>
</pre>
		 This example uses the <code class="literal">7.4.0.Final-redhat-x</code> version of the <code class="code">jboss-as-jms-client-bom</code> client BOM. 
<pre class="programlisting"><span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;dependencies&gt;</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">&lt;dependency&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;groupId&gt;</span>org.jboss.as<span xmlns="" class="perl_Keyword">&lt;/groupId&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;artifactId&gt;</span>jboss-as-jms-client-bom<span xmlns="" class="perl_Keyword">&lt;/artifactId&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;version&gt;</span>7.4.0.Final-redhat-x<span xmlns="" class="perl_Keyword">&lt;/version&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;type&gt;</span>pom<span xmlns="" class="perl_Keyword">&lt;/type&gt;</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">&lt;/dependency&gt;</span>
<span xmlns="" class="line">​</span>  ...
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;/dependencies&gt;</span>
</pre>

	</div><div class="para">
		For more information about Maven Dependencies and BOM POM files, see <a href="http://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html">Apache Maven Project - Introduction to the Dependency Mechanism</a>.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+22363-656283+%5BLatest%5D&comment=Title%3A+Manage+Project+Dependencies%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=22363-656283+06+Jun+2014+04%3A04+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="sect-Upgrade_the_Maven_Repository">
      ⁠</a>2.4.&nbsp;Upgrade the Maven Repository</h2></div></div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="Apply_a_Patch_to_the_Local_Maven_Repository">
      ⁠</a>2.4.1.&nbsp;Apply a Patch to the Local Maven Repository</h3></div></div></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Summary</div>
			A Maven repository stores Java libraries, plug-ins, and other artifacts required to build and deploy applications to JBoss EAP. The JBoss EAP repository is available online or as a downloaded ZIP file. If you use the publicly hosted repository, updates are applied automatically for you. However, if you download and install the Maven repository locally, you are responsible for applying any updates. Whenever a patch is available for JBoss EAP, a corresponding patch is provided for the JBoss EAP Maven repository. This patch is available in the form of an incremental ZIP file that is unzipped into the existing local repository. The ZIP file contains new JAR and POM files. It does not overwrite any existing JARs nor does it remove JARs, so there is no rollback requirement.
		</div><div class="para">
		For more information about the JBoss EAP patching process, see the chapter entitled <em class="citetitle">Patching and Upgrading JBoss EAP 6</em> in the <em class="citetitle">Installation Guide</em> for JBoss Enterprise Application Platform 6 located on the Customer Portal at <a href="https://access.redhat.com/site/documentation/JBoss_Enterprise_Apnplication_Platform/">https://access.redhat.com/site/documentation/JBoss_Enterprise_Apnplication_Platform/</a>.
	</div><div class="para">
		This task describes how to apply Maven updates to your locally installed Maven repository using the <code class="command">unzip</code> command.
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul><li class="listitem"><div class="para">
				Valid access and subscription to the Red Hat Customer Portal.
			</div></li><li class="listitem"><div class="para">
				The Red Hat JBoss Enterprise Application Platform 6.3.0 Maven Repository ZIP file, downloaded and installed locally.
			</div></li></ul></div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idp12212592">
      ⁠</a><p class="title"><strong>Procedure&nbsp;2.11.&nbsp;Update the Maven Repository</strong></p><ol class="1"><li class="step"><div class="para">
				Open a browser and log into <a href="https://access.redhat.com/">https://access.redhat.com</a>.
			</div></li><li class="step"><div class="para">
				Select <span class="guimenu"><strong>Downloads</strong></span> from the menu at the top of the page.
			</div></li><li class="step"><div class="para">
				Find <code class="literal">Red Hat JBoss Enterprise Application Platform</code> in the list and click on it.
			</div></li><li class="step"><div class="para">
				Select the correct version of JBoss EAP from the <span class="guilabel"><strong>Version</strong></span> drop-down menu that appears on this screen, then click on <span class="guilabel"><strong>Patches</strong></span>.
			</div></li><li class="step"><div class="para">
				Find <code class="literal">Red Hat JBoss Enterprise Application Platform 6.3 CP<em class="replaceable">x</em> Incremental Maven Repository</code> in the list and click <span class="guibutton"><strong>Download</strong></span>.
			</div></li><li class="step"><div class="para">
				You are prompted to save the ZIP file to a directory of your choice. Choose a directory and save the file.
			</div></li><li class="step"><div class="para">
				Locate the path to JBoss EAP Maven repository, referred to in the commands below as <em class="replaceable">EAP_MAVEN_REPOSITORY_PATH</em>, for your operating system. For more information about how to install the Maven repository on the local file system, see  <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Install_the_JBoss_Enterprise_Application_Platform_6_Maven_Repository_Locally">Section&nbsp;2.2.3, “Install the JBoss EAP 6 Maven Repository Locally”</a>.
			</div></li><li class="step"><div class="para">
				Unzip the Maven patch file directly into the installation directory of the JBoss EAP 6.3.<em class="replaceable">x</em> Maven repository.
			</div><ul class="stepalternatives">
				<li class="step"><div class="para">
						For Linux, open a terminal and type the following command: 
<pre class="screen">[standalone@localhost:9999 /] <code class="command">unzip -o jboss-eap-6.3.<em class="replaceable">x</em>-incremental-maven-repository.zip -d <code class="filename"><em class="replaceable">EAP_MAVEN_REPOSITORY_PATH</em></code></code></pre>

					</div></li>
				 <li class="step"><div class="para">
						For Windows, use the Windows extraction utility to extract the ZIP file into the root of the <code class="filename"><em class="replaceable">EAP_MAVEN_REPOSITORY_PATH</em></code> directory.
					</div></li>

			</ul></li></ol></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Result</div>
			The locally installed Maven repository is updated with the latest patch.
		</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+28282-674350+%5BLatest%5D&comment=Title%3A+Apply+a+Patch+to+the+Local+Maven+Repository%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=28282-674350+19+Jun+2014+22%3A41+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div></div></div><div xml:lang="en-US" class="chapter" lang="en-US"><div class="titlepage"><div><div><h1 class="title"><a id="chap-Class_Loading_and_Modules">
      ⁠</a>Chapter&nbsp;3.&nbsp;Class Loading and Modules</h1></div></div></div><div class="toc"><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Introduction1">3.1. Introduction</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Overview_of_Class_Loading_and_Modules">3.1.1. Overview of Class Loading and Modules</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Class_Loading">3.1.2. Class Loading</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Modules">3.1.3. Modules</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Module_Dependencies">3.1.4. Module Dependencies</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Class_Loading_in_Deployments">3.1.5. Class Loading in Deployments</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Class_Loading_Precedence">3.1.6. Class Loading Precedence</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Dynamic_Module_Naming1">3.1.7. Dynamic Module Naming</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#jboss-deployment-structurexml">3.1.8. jboss-deployment-structure.xml</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Add_an_Explicit_Module_Dependency_to_a_Deployment1">3.2. Add an Explicit Module Dependency to a Deployment</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Generate_MANIFESTMF_entries_using_Maven">3.3. Generate MANIFEST.MF entries using Maven</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Prevent_a_Module_Being_Implicitly_Loaded">3.4. Prevent a Module Being Implicitly Loaded</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Exclude_a_Subsystem_from_a_Deployment">3.5. Exclude a Subsystem from a Deployment</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Use_the_Class_Loader_Programmatically_in_a_Deployment">3.6. Use the Class Loader Programmatically in a Deployment</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Programmatically_Load_Classes_and_Resources_in_a_Deployment">3.6.1. Programmatically Load Classes and Resources in a Deployment</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Programmatically_Iterate_Resources_in_a_Deployment">3.6.2. Programmatically Iterate Resources in a Deployment</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Class_Loading_and_Subdeployments">3.7. Class Loading and Subdeployments</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Modules_and_Class_Loading_in_Enterprise_Archives">3.7.1. Modules and Class Loading in Enterprise Archives</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Subdeployment_Class_Loader_Isolation">3.7.2. Subdeployment Class Loader Isolation</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Disable_Subdeployment_Class_Loader_Isolation_Within_a_EAR">3.7.3. Disable Subdeployment Class Loader Isolation Within a EAR</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Reference2">3.8. Reference</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Implicit_Module_Dependencies">3.8.1. Implicit Module Dependencies</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Included_Modules1">3.8.2. Included Modules</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#JBoss_Deployment_Structure_Deployment_Descriptor_Reference">3.8.3. JBoss Deployment Structure Deployment Descriptor Reference</a></span></dt></dl></dd></dl></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="sect-Introduction1">
      ⁠</a>3.1.&nbsp;Introduction</h2></div></div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="Overview_of_Class_Loading_and_Modules">
      ⁠</a>3.1.1.&nbsp;Overview of Class Loading and Modules</h3></div></div></div><div class="para">
		JBoss EAP 6 uses a new modular class loading system for controlling the class paths of deployed applications. This system provides more flexibility and control than the traditional system of hierarchical class loaders. Developers have fine-grained control of the classes available to their applications, and can configure a deployment to ignore classes provided by the application server in favor of their own.
	</div><div class="para">
		The modular class loader separates all Java classes into logical groups called modules. Each module can define dependencies on other modules in order to have the classes from that module added to its own class path. Because each deployed JAR and WAR file is treated as a module, developers can control the contents of their application's class path by adding module configuration to their application.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4352-593309+%5BLatest%5D&comment=Title%3A+Overview+of+Class+Loading+and+Modules%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4352-593309+24+Feb+2014+22%3A38+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="Class_Loading">
      ⁠</a>3.1.2.&nbsp;Class Loading</h3></div></div></div><div class="para">
		Class Loading is the mechanism by which Java classes and resources are loaded into the Java Runtime Environment.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4549-591667+%5BLatest%5D&comment=Title%3A+Class+Loading%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4549-591667+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="Modules">
      ⁠</a>3.1.3.&nbsp;Modules</h3></div></div></div><div class="para">
		A Module is a logical grouping of classes used for class loading and dependency management. JBoss EAP 6 identifies two different types of modules, sometimes called static and dynamic modules. However the only difference between the two is how they are packaged. All modules provide the same features.
	</div><div class="variablelist"><dl class="variablelist"><dt><span class="term">Static Modules</span></dt><dd><div class="para">
					Static Modules are predefined in the <code class="filename"><em class="replaceable">EAP_HOME</em>/modules/</code> directory of the application server. Each sub-directory represents one module and defines a <code class="filename">main/</code> subdirectory that contains a configuration file (<code class="filename">module.xml</code>) and any required JAR files. The name of the module is defined in the <code class="filename">module.xml</code> file. All the application server provided APIs are provided as static modules, including the Java EE APIs as well as other APIs such as JBoss Logging.
				</div><div class="example"><a id="idp94120496">
      ⁠</a><p class="title"><strong>Example&nbsp;3.1.&nbsp;Example module.xml file</strong></p><div class="example-contents"><pre class="programlisting"><span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;?xml</span> version="1.0" encoding="UTF-8"<span xmlns="" class="perl_Keyword">?&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;module</span><span xmlns="" class="perl_Others"> xmlns=</span><span xmlns="" class="perl_String">"urn:jboss:module:1.0"</span><span xmlns="" class="perl_Others"> name=</span><span xmlns="" class="perl_String">"com.mysql"</span><span xmlns="" class="perl_Keyword">&gt;</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">&lt;resources&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;resource-root</span><span xmlns="" class="perl_Others"> path=</span><span xmlns="" class="perl_String">"mysql-connector-java-5.1.15.jar"</span><span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">&lt;/resources&gt;</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">&lt;dependencies&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;module</span><span xmlns="" class="perl_Others"> name=</span><span xmlns="" class="perl_String">"javax.api"</span><span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;module</span><span xmlns="" class="perl_Others"> name=</span><span xmlns="" class="perl_String">"javax.transaction.api"</span><span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">&lt;/dependencies&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;/module&gt;</span></pre><div class="para">
						The module name, <code class="code">com.mysql</code>, should match the directory structure for the module, excluding the <code class="filename">main/</code> subdirectory name.
					</div></div></div><div class="para">
					The modules provided in JBoss EAP distributions are located in a <code class="filename">system</code> directory within the <code class="filename"><em class="replaceable">JBOSS_HOME</em>/modules</code> directory. This keeps them separate from any modules provided by third parties.
				</div><div class="para">
					Any Red Hat provided layered products that layer on top of JBoss EAP 6.1 or later will also install their modules within the <code class="filename">system</code> directory.
				</div><div class="para">
					Creating custom static modules can be useful if many applications are deployed on the same server that use the same third party libraries. Instead of bundling those libraries with each application, a module containing these libraries can be created and installed by the JBoss administrator. The applications can then declare an explicit dependency on the custom static modules.
				</div><div class="para">
					Users must ensure that custom modules are installed into the <code class="filename"><em class="replaceable">JBOSS_HOME</em>/modules</code> directory, using a one directory per module layout. This ensures that custom versions of modules that already exist in the <code class="filename">system</code> directory are loaded instead of the shipped versions. In this way, user provided modules will take precedence over system modules.
				</div><div class="para">
					If you use the <code class="varname">JBOSS_MODULEPATH</code> environment variable to change the locations in which JBoss EAP searches for modules, then the product will look for a <code class="filename">system</code> subdirectory structure within one of the locations specified. A <code class="filename">system</code> structure must exist somewhere in the locations specified with <code class="varname">JBOSS_MODULEPATH</code>.
				</div></dd><dt><span class="term">Dynamic Modules</span></dt><dd><div class="para">
					Dynamic Modules are created and loaded by the application server for each JAR or WAR deployment (or subdeployment in an EAR). The name of a dynamic module is derived from the name of the deployed archive. Because deployments are loaded as modules, they can configure dependencies and be used as dependencies by other deployments.
				</div></dd></dl></div><div class="para">
		Modules are only loaded when required. This usually only occurs when an application is deployed that has explicit or implicit dependencies.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4360-715834+%5BLatest%5D&comment=Title%3A+Modules%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4360-715834+10+Oct+2014+00%3A37+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="Module_Dependencies">
      ⁠</a>3.1.4.&nbsp;Module Dependencies</h3></div></div></div><div class="para">
		A module dependency is a declaration that one module requires the classes of another module in order to function. Modules can declare dependencies on any number of other modules. When the application server loads a module, the modular class loader parses the dependencies of that module and adds the classes from each dependency to its class path. If a specified dependency cannot be found, the module will fail to load.
	</div><div class="para">
		Deployed applications (JAR and WAR) are loaded as dynamic modules and make use of dependencies to access the APIs provided by JBoss EAP 6.
	</div><div class="para">
		There are two types of dependencies: explicit and implicit.
	</div><div class="para">
		Explicit dependencies are declared in configuration by the developer. Static modules can declare dependencies in the modules.xml file. Dynamic modules can have dependencies declared in the MANIFEST.MF or jboss-deployment-structure.xml deployment descriptors of the deployment.
	</div><div class="para">
		Explicit dependencies can be specified as optional. Failure to load an optional dependency will not cause a module to fail to load. However if the dependency becomes available later it will NOT be added to the module's class path. Dependencies must be available when the module is loaded.
	</div><div class="para">
		Implicit dependencies are added automatically by the application server when certain conditions or meta-data are found in a deployment. The Java EE 6 APIs supplied with JBoss EAP 6 are examples of modules that are added by detection of implicit dependencies in deployments.
	</div><div class="para">
		Deployments can also be configured to exclude specific implicit dependencies. This is done with the jboss-deployment-structure.xml deployment descriptor file. This is commonly done when an application bundles a specific version of a library that the application server will attempt to add as an implicit dependency.
	</div><div class="para">
		A module's class path contains only its own classes and that of it's immediate dependencies. A module is not able to access the classes of the dependencies of one of its dependencies. However a module can specify that an explicit dependency is exported. An exported dependency is provided to any module that depends on the module that exports it.
	</div><div class="example"><a id="idp12522144">
      ⁠</a><p class="title"><strong>Example&nbsp;3.2.&nbsp;Module dependencies</strong></p><div class="example-contents"><div class="para">
			Module A depends on Module B and Module B depends on Module C. Module A can access the classes of Module B, and Module B can access the classes of Module C. Module A cannot access the classes of Module C unless:
		</div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
					Module A declares an explicit dependency on Module C, or
				</div></li><li class="listitem"><div class="para">
					Module B exports its dependency on Module C.
				</div></li></ul></div></div></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+5825-591714+%5BLatest%5D&comment=Title%3A+Module+Dependencies%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=5825-591714+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="Class_Loading_in_Deployments">
      ⁠</a>3.1.5.&nbsp;Class Loading in Deployments</h3></div></div></div><div class="para">
		For the purposes of classloading all deployments are treated as modules by JBoss EAP 6. These are called dynamic modules. Class loading behavior varies according to the deployment type.
	</div><div class="variablelist"><dl class="variablelist"><dt><span class="term">WAR Deployment</span></dt><dd><div class="para">
					A WAR deployment is considered to be a single module. Classes in the <code class="filename">WEB-INF/lib</code> directory are treated the same as classes in <code class="filename">WEB-INF/classes</code> directory. All classes packaged in the war will be loaded with the same class loader.
				</div></dd><dt><span class="term">EAR Deployment</span></dt><dd><div class="para">
					EAR deployments are made up more than one module. The definition of these modules follows these rules:
				</div><div xmlns:d="http://docbook.org/ns/docbook" class="orderedlist"><ol><li class="listitem"><div class="para">
							The <code class="filename">lib/</code> directory of the EAR is a single module called the parent module.
						</div></li><li class="listitem"><div class="para">
							Each WAR deployment within the EAR is a single module.
						</div></li><li class="listitem"><div class="para">
							Each EJB JAR deployment within the EAR is a single module.
						</div></li></ol></div><div class="para">
					Subdeployment modules (the WAR and JAR deployments within the EAR) have an automatic dependency on the parent module. However they do not have automatic dependencies on each other. This is called subdeployment isolation and can be disabled on a per deployment basis or for the entire application server.
				</div><div class="para">
					Explicit dependencies between subdeployment modules can be added by the same means as any other module.
				</div></dd></dl></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4550-591667+%5BLatest%5D&comment=Title%3A+Class+Loading+in+Deployments%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4550-591667+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="Class_Loading_Precedence">
      ⁠</a>3.1.6.&nbsp;Class Loading Precedence</h3></div></div></div><div class="para">
		The JBoss EAP 6 modular class loader uses a precedence system to prevent class loading conflicts.
	</div><div class="para">
		During deployment a complete list of packages and classes is created for each deployment and each of its dependencies. The list is ordered according to the class loading precedence rules. When loading classes at runtime, the class loader searches this list, and loads the first match. This prevents multiple copies of the same classes and packages within the deployments class path from conflicting with each other.
	</div><div class="para">
		The class loader loads classes in the following order, from highest to lowest:
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="orderedlist"><ol><li class="listitem"><div class="para">
				Implicit dependencies.
			</div><div class="para">
				These are the dependencies that are added automatically by JBoss EAP 6, such as the JAVA EE APIs. These dependencies have the highest class loader precedence because they contain common functionality and APIs that are supplied by JBoss EAP 6.
			</div><div class="para">
				Refer to <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Implicit_Module_Dependencies">Section&nbsp;3.8.1, “Implicit Module Dependencies”</a> for complete details about each implicit dependency.
			</div></li><li class="listitem"><div class="para">
				Explicit dependencies.
			</div><div class="para">
				These are dependencies that are manually added in the application configuration. This can be done using the application's <code class="filename">MANIFEST.MF</code> file or the new optional JBoss deployment descriptor <code class="filename">jboss-deployment-structure.xml</code> file.
			</div><div class="para">
				Refer to <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Add_an_Explicit_Module_Dependency_to_a_Deployment1">Section&nbsp;3.2, “Add an Explicit Module Dependency to a Deployment”</a> to learn how to add explicit dependencies.
			</div></li><li class="listitem"><div class="para">
				Local resources.
			</div><div class="para">
				Class files packaged up inside the deployment itself, e.g. from the <code class="filename">WEB-INF/classes</code> or <code class="filename">WEB-INF/lib</code> directories of a WAR file.
			</div></li><li class="listitem"><div class="para">
				Inter-deployment dependencies.
			</div><div class="para">
				These are dependencies on other deployments in a EAR deployment. This can include classes in the <code class="filename">lib</code> directory of the EAR or classes defined in other EJB jars.
			</div></li></ol></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4561-591666+%5BLatest%5D&comment=Title%3A+Class+Loading+Precedence%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4561-591666+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="Dynamic_Module_Naming1">
      ⁠</a>3.1.7.&nbsp;Dynamic Module Naming</h3></div></div></div><div class="para">
		All deployments are loaded as modules by JBoss EAP 6 and named according to the following conventions.
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="orderedlist"><ol><li class="listitem"><div class="para">
				Deployments of WAR and JAR files are named with the following format:
			</div><pre class="synopsis"> deployment.<em class="replaceable">DEPLOYMENT_NAME</em> </pre><div class="para">
				For example, <code class="filename">inventory.war</code> and <code class="filename">store.jar</code> will have the module names of <code class="code">deployment.inventory.war</code> and <code class="code">deployment.store.jar</code> respectively.
			</div></li><li class="listitem"><div class="para">
				Subdeployments within an Enterprise Archive are named with the following format:
			</div><pre class="synopsis"> deployment.<em class="replaceable">EAR_NAME</em>.<em class="replaceable">SUBDEPLOYMENT_NAME</em> </pre><div class="para">
				For example, the subdeployment of <code class="filename">reports.war</code> within the enterprise archive <code class="filename">accounts.ear</code> will have the module name of <code class="code">deployment.accounts.ear.reports.war</code>.
			</div></li></ol></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4562-591666+%5BLatest%5D&comment=Title%3A+Dynamic+Module+Naming%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4562-591666+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="jboss-deployment-structurexml">
      ⁠</a>3.1.8.&nbsp;jboss-deployment-structure.xml</h3></div></div></div><div class="para">
		<code class="filename">jboss-deployment-structure.xml</code> is a new optional deployment descriptor for JBoss EAP 6. This deployment descriptor provides control over class loading in the deployment.
	</div><div class="para">
		The XML schema for this deployment descriptor is in <code class="filename"><em class="replaceable">EAP_HOME</em>/docs/schema/jboss-deployment-structure-1_2.xsd</code>
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4611-591668+%5BLatest%5D&comment=Title%3A+jboss-deployment-structure.xml%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4611-591668+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="Add_an_Explicit_Module_Dependency_to_a_Deployment1">
      ⁠</a>3.2.&nbsp;Add an Explicit Module Dependency to a Deployment</h2></div></div></div><div class="para">
		This task shows how to add an explicit dependency to an application. Explicit module dependencies can be added to applications to add the classes of those modules to the class path of the application at deployment.
	</div><div class="para">
		Some dependencies are automatically added to deployments by JBoss EAP 6. See <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Implicit_Module_Dependencies">Section&nbsp;3.8.1, “Implicit Module Dependencies”</a> for details.
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="orderedlist"><p class="title"><strong>Prerequisites</strong></p><ol><li class="listitem"><div class="para">
				You must already have a working software project that you want to add a module dependency to.
			</div></li><li class="listitem"><div class="para">
				You must know the name of the module being added as a dependency. See <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Included_Modules1">Section&nbsp;3.8.2, “Included Modules”</a> for the list of static modules included with JBoss EAP 6. If the module is another deployment then see <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Dynamic_Module_Naming1">Section&nbsp;3.1.7, “Dynamic Module Naming”</a> to determine the module name.
			</div></li></ol></div><div xmlns:d="http://docbook.org/ns/docbook" class="orderedlist"><div class="para">
			Dependencies can be configured using two different methods:
		</div><ol><li class="listitem"><div class="para">
				Adding entries to the <code class="filename">MANIFEST.MF</code> file of the deployment.
			</div></li><li class="listitem"><div class="para">
				Adding entries to the <code class="filename">jboss-deployment-structure.xml</code> deployment descriptor.
			</div></li></ol></div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idp98672912">
      ⁠</a><p class="title"><strong>Procedure&nbsp;3.1.&nbsp;Add dependency configuration to MANIFEST.MF</strong></p><div class="para">
			Maven projects can be configured to create the required dependency entries in the <code class="filename">MANIFEST.MF</code> file. See <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Generate_MANIFESTMF_entries_using_Maven">Section&nbsp;3.3, “Generate MANIFEST.MF entries using Maven”</a>.
		</div><ol class="1"><li class="step"><p class="title"><strong>Add <code class="filename">MANIFEST.MF</code> file</strong></p><div class="para">
				If the project has no <code class="filename">MANIFEST.MF</code> file, create a file called <code class="filename">MANIFEST.MF</code>. For a web application (WAR) add this file to the <code class="filename">META-INF</code> directory. For an EJB archive (JAR) add it to the <code class="filename">META-INF</code> directory.
			</div></li><li class="step"><p class="title"><strong>Add dependencies entry</strong></p><div class="para">
				Add a dependencies entry to the <code class="filename">MANIFEST.MF</code> file with a comma-separated list of dependency module names.
			</div><pre class="programlisting">Dependencies: org.javassist, org.apache.velocity</pre></li><li class="step"><p class="title"><strong>Optional: Make a dependency optional</strong></p><div class="para">
				A dependency can be made optional by appending <code class="code">optional</code> to the module name in the dependency entry.
			</div><pre class="programlisting">Dependencies: org.javassist optional, org.apache.velocity</pre></li><li class="step"><p class="title"><strong>Optional: Export a dependency</strong></p><div class="para">
				A dependency can be exported by appending <code class="code">export</code> to the module name in the dependency entry.
			</div><pre class="programlisting">Dependencies: org.javassist, org.apache.velocity export</pre></li></ol></div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idp21260960">
      ⁠</a><p class="title"><strong>Procedure&nbsp;3.2.&nbsp;Add dependency configuration to jboss-deployment-structure.xml</strong></p><ol class="1"><li class="step"><p class="title"><strong>Add <code class="filename">jboss-deployment-structure.xml</code></strong></p><div class="para">
				If the application has no <code class="filename">jboss-deployment-structure.xml</code> file then create a new file called <code class="filename">jboss-deployment-structure.xml</code> and add it to the project. This file is an XML file with the root element of <code class="code">&lt;jboss-deployment-structure&gt;</code>.
			</div><pre class="programlisting"><span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;jboss-deployment-structure&gt;</span> 
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;/jboss-deployment-structure&gt;</span></pre><div class="para">
				For a web application (WAR) add this file to the <code class="filename">WEB-INF</code> directory. For an EJB archive (JAR) add it to the <code class="filename">META-INF</code> directory.
			</div></li><li class="step"><p class="title"><strong>Add dependencies section</strong></p><div class="para">
				Create a <code class="code">&lt;deployment&gt;</code> element within the document root and a <code class="code">&lt;dependencies&gt;</code> element within that.
			</div></li><li class="step"><p class="title"><strong>Add module elements</strong></p><div class="para">
				Within the dependencies node, add a module element for each module dependency. Set the <code class="code">name</code> attribute to the name of the module.
			</div><pre class="programlisting">&lt;module name="org.javassist" /&gt;</pre></li><li class="step"><p class="title"><strong>Optional: Make a dependency optional</strong></p><div class="para">
				A dependency can be made optional by adding the <code class="code">optional</code> attribute to the module entry with the value of <code class="literal">true</code>. The default value for this attribute is <code class="literal">false</code>.
			</div><pre class="programlisting">&lt;module name="org.javassist" optional="true" /&gt;</pre></li><li class="step"><p class="title"><strong>Optional: Export a dependency</strong></p><div class="para">
				A dependency can be exported by adding the <code class="code">export</code> attribute to the module entry with the value of <code class="literal">true</code>. The default value for this attribute is <code class="literal">false</code>.
			</div><pre class="programlisting">&lt;module name="org.javassist" export="true" /&gt;</pre></li></ol></div><div class="example"><a id="idp98825040">
      ⁠</a><p class="title"><strong>Example&nbsp;3.3.&nbsp;jboss-deployment-structure.xml with two dependencies</strong></p><div class="example-contents"><pre class="programlisting"><span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;jboss-deployment-structure&gt;</span>
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">&lt;deployment&gt;</span>
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;dependencies&gt;</span>
<span xmlns="" class="line">​</span>         <span xmlns="" class="perl_Keyword">&lt;module</span><span xmlns="" class="perl_Others"> name=</span><span xmlns="" class="perl_String">"org.javassist"</span> <span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span>         <span xmlns="" class="perl_Keyword">&lt;module</span><span xmlns="" class="perl_Others"> name=</span><span xmlns="" class="perl_String">"org.apache.velocity"</span><span xmlns="" class="perl_Others"> export=</span><span xmlns="" class="perl_String">"true"</span> <span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;/dependencies&gt;</span>
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">&lt;/deployment&gt;</span>
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;/jboss-deployment-structure&gt;</span></pre></div></div><div class="para">
		JBoss EAP 6 will add the classes from the specified modules to the class path of the application when it is deployed.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4551-714703+%5BLatest%5D&comment=Title%3A+Add+an+Explicit+Module+Dependency+to+a+Deployment%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4551-714703+02+Oct+2014+15%3A57+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="Generate_MANIFESTMF_entries_using_Maven">
      ⁠</a>3.3.&nbsp;Generate MANIFEST.MF entries using Maven</h2></div></div></div><div class="para">
		Maven projects that use the Maven JAR, EJB or WAR packaging plug-ins can generate a <code class="filename">MANIFEST.MF</code> file with a <code class="code">Dependencies</code> entry. This does not automatically generate the list of dependencies, this process only creates the <code class="filename">MANIFEST.MF</code> file with the details specified in the <code class="filename">pom.xml</code>.
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="orderedlist"><p class="title"><strong>Prerequisites</strong></p><ol><li class="listitem"><div class="para">
				You must already have a working Maven project.
			</div></li><li class="listitem"><div class="para">
				The Maven project must be using one of the JAR, EJB, or WAR plug-ins ( <code class="code">maven-jar-plugin</code>, <code class="code">maven-ejb-plugin</code>, <code class="code">maven-war-plugin</code>).
			</div></li><li class="listitem"><div class="para">
				You must know the name of the project's module dependencies. Refer to <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Included_Modules1">Section&nbsp;3.8.2, “Included Modules”</a> for the list of static modules included with JBoss EAP 6. If the module is another deployment , then refer to <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Dynamic_Module_Naming1">Section&nbsp;3.1.7, “Dynamic Module Naming”</a> to determine the module name.
			</div></li></ol></div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idp29778528">
      ⁠</a><p class="title"><strong>Procedure&nbsp;3.3.&nbsp;Generate a MANIFEST.MF file containing module dependencies</strong></p><ol class="1"><li class="step"><p class="title"><strong>Add Configuration</strong></p><div class="para">
				Add the following configuration to the packaging plug-in configuration in the project's <code class="filename">pom.xml</code> file.
			</div><pre class="programlisting"><span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;configuration&gt;</span>
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">&lt;archive&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;manifestEntries&gt;</span>
<span xmlns="" class="line">​</span>         <span xmlns="" class="perl_Keyword">&lt;Dependencies&gt;&lt;/Dependencies&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;/manifestEntries&gt;</span>
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">&lt;/archive&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;/configuration&gt;</span></pre></li><li class="step"><p class="title"><strong>List Dependencies</strong></p><div class="para">
				Add the list of the module dependencies in the &lt;Dependencies&gt; element. Use the same format that is used when adding the dependencies to the <code class="filename">MANIFEST.MF</code>. Refer to <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Add_an_Explicit_Module_Dependency_to_a_Deployment1">Section&nbsp;3.2, “Add an Explicit Module Dependency to a Deployment”</a> for details about that format.
			</div><pre class="programlisting"><span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;Dependencies&gt;</span>org.javassist, org.apache.velocity<span xmlns="" class="perl_Keyword">&lt;/Dependencies&gt;</span></pre></li><li class="step"><p class="title"><strong>Build the Project</strong></p><div class="para">
				Build the project using the Maven assembly goal.
			</div><pre class="screen">[Localhost ]$ mvn assembly:assembly</pre></li></ol></div><div class="para">
		When the project is built using the assembly goal, the final archive contains a <code class="filename">MANIFEST.MF</code> file with the specified module dependencies.
	</div><div class="example"><a id="idp25070256">
      ⁠</a><p class="title"><strong>Example&nbsp;3.4.&nbsp;Configured Module Dependencies in pom.xml</strong></p><div class="example-contents"><div class="para">
			The example here shows the WAR plug-in but it also works with the JAR and EJB plug-ins (maven-jar-plugin and maven-ejb-plugin).
		</div><pre class="programlisting"><span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;plugins&gt;</span>
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">&lt;plugin&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;groupId&gt;</span>org.apache.maven.plugins<span xmlns="" class="perl_Keyword">&lt;/groupId&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;artifactId&gt;</span>maven-war-plugin<span xmlns="" class="perl_Keyword">&lt;/artifactId&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;configuration&gt;</span>
<span xmlns="" class="line">​</span>         <span xmlns="" class="perl_Keyword">&lt;archive&gt;</span>
<span xmlns="" class="line">​</span>            <span xmlns="" class="perl_Keyword">&lt;manifestEntries&gt;</span>
<span xmlns="" class="line">​</span>               <span xmlns="" class="perl_Keyword">&lt;Dependencies&gt;</span>org.javassist, org.apache.velocity<span xmlns="" class="perl_Keyword">&lt;/Dependencies&gt;</span>
<span xmlns="" class="line">​</span>            <span xmlns="" class="perl_Keyword">&lt;/manifestEntries&gt;</span>
<span xmlns="" class="line">​</span>         <span xmlns="" class="perl_Keyword">&lt;/archive&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;/configuration&gt;</span>
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">&lt;/plugin&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;/plugins&gt;</span></pre></div></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+5828-591715+%5BLatest%5D&comment=Title%3A+Generate+MANIFEST.MF+entries+using+Maven%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=5828-591715+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="Prevent_a_Module_Being_Implicitly_Loaded">
      ⁠</a>3.4.&nbsp;Prevent a Module Being Implicitly Loaded</h2></div></div></div><div class="para">
		This task describes how to configure your application to exclude a list of module dependencies.
	</div><div class="para">
		You can configure a deployable application to prevent implicit dependencies from being loaded. This is commonly done when the application includes a different version of a library or framework than the one that will be provided by the application server as an implicit dependency.
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="orderedlist"><p class="title"><strong>Prerequisites</strong></p><ol><li class="listitem"><div class="para">
				You must already have a working software project that you want to exclude an implicit dependency from.
			</div></li><li class="listitem"><div class="para">
				You must know the name of the module to exclude. Refer to <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Implicit_Module_Dependencies">Section&nbsp;3.8.1, “Implicit Module Dependencies”</a> for a list of implicit dependencies and their conditions.
			</div></li></ol></div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idp97391040">
      ⁠</a><p class="title"><strong>Procedure&nbsp;3.4.&nbsp;Add dependency exclusion configuration to jboss-deployment-structure.xml</strong></p><ol class="1"><li class="step"><div class="para">
				If the application has no <code class="filename">jboss-deployment-structure.xml</code> file, create a new file called <code class="filename">jboss-deployment-structure.xml</code> and add it to the project. This file is an XML file with the root element of <code class="code">&lt;jboss-deployment-structure&gt;</code>.
			</div><pre class="programlisting"><span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;jboss-deployment-structure&gt;</span>
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;/jboss-deployment-structure&gt;</span></pre><div class="para">
				For a web application (WAR) add this file to the <code class="filename">WEB-INF</code> directory. For an EJB archive (JAR) add it to the <code class="filename">META-INF</code> directory.
			</div></li><li class="step"><div class="para">
				Create a <code class="code">&lt;deployment&gt;</code> element within the document root and an <code class="code">&lt;exclusions&gt;</code> element within that.
			</div><pre class="programlisting"><span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;deployment&gt;</span>
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">&lt;exclusions&gt;</span>
<span xmlns="" class="line">​</span>   
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">&lt;/exclusions&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;/deployment&gt;</span></pre></li><li class="step"><div class="para">
				Within the exclusions element, add a <code class="code">&lt;module&gt;</code> element for each module to be excluded. Set the <code class="code">name</code> attribute to the name of the module.
			</div><pre class="programlisting"><span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;module</span><span xmlns="" class="perl_Others"> name=</span><span xmlns="" class="perl_String">"org.javassist"</span> <span xmlns="" class="perl_Keyword">/&gt;</span></pre></li></ol></div><div class="example"><a id="idp21286112">
      ⁠</a><p class="title"><strong>Example&nbsp;3.5.&nbsp;Excluding two modules</strong></p><div class="example-contents"><pre class="programlisting"><span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;jboss-deployment-structure&gt;</span>
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">&lt;deployment&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;exclusions&gt;</span>
<span xmlns="" class="line">​</span>         <span xmlns="" class="perl_Keyword">&lt;module</span><span xmlns="" class="perl_Others"> name=</span><span xmlns="" class="perl_String">"org.javassist"</span> <span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span>         <span xmlns="" class="perl_Keyword">&lt;module</span><span xmlns="" class="perl_Others"> name=</span><span xmlns="" class="perl_String">"org.dom4j"</span> <span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;/exclusions&gt;</span>
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">&lt;/deployment&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;/jboss-deployment-structure&gt;</span></pre></div></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4552-591667+%5BLatest%5D&comment=Title%3A+Prevent+a+Module+Being+Implicitly+Loaded%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4552-591667+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="Exclude_a_Subsystem_from_a_Deployment">
      ⁠</a>3.5.&nbsp;Exclude a Subsystem from a Deployment</h2></div></div></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Summary</div>
			This topic covers the steps required to exclude a subsystem from a deployment. This is done by editing the <code class="filename">jboss-deployment-structure.xml</code> configuration file. Excluding a subsystem provides the same effect as removing the subsystem, but it applies only to a single deployment.
		</div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idp15106544">
      ⁠</a><p class="title"><strong>Procedure&nbsp;3.5.&nbsp;Exclude a Subsystem</strong></p><ol class="1"><li class="step"><div class="para">
				Open the <code class="filename">jboss-deployment-structure.xml</code> file in a text editor.
			</div></li><li class="step"><div class="para">
				Add the following XML inside the &lt;deployment&gt; tags:
			</div><pre class="screen">&lt;exclude-subsystems&gt;
  &lt;subsystem name="SUBSYSTEM_NAME" /&gt;
&lt;/exclude-subsystems&gt;</pre></li><li class="step"><div class="para">
				Save the <code class="filename">jboss-deployment-structure.xml</code> file.
			</div></li></ol></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Result</div>
			The subsystem has been successfully excluded. The subsystem's deployment unit processors will no longer run on the deployment.
		</div><div class="example"><a id="idp13646656">
      ⁠</a><p class="title"><strong>Example&nbsp;3.6.&nbsp;Example <code class="filename">jboss-deployment-structure.xml</code> file.</strong></p><div class="example-contents"><pre class="programlisting">&lt;jboss-deployment-structure xmlns="urn:jboss:deployment-structure:1.2"&gt;
  &lt;ear-subdeployments-isolated&gt;true&lt;/ear-subdeployments-isolated&gt;
  &lt;deployment&gt;
    &lt;exclude-subsystems&gt;
      &lt;subsystem name="resteasy" /&gt;
    &lt;/exclude-subsystems&gt;
    &lt;exclusions&gt;
      &lt;module name="org.javassist" /&gt;
    &lt;/exclusions&gt;
    &lt;dependencies&gt;
      &lt;module name="deployment.javassist.proxy" /&gt;
      &lt;module name="deployment.myjavassist" /&gt;
      &lt;module name="myservicemodule" services="import"/&gt;
    &lt;/dependencies&gt;
    &lt;resources&gt;
      &lt;resource-root path="my-library.jar" /&gt;
    &lt;/resources&gt;
  &lt;/deployment&gt;
  &lt;sub-deployment name="myapp.war"&gt;
    &lt;dependencies&gt;
      &lt;module name="deployment.myear.ear.myejbjar.jar" /&gt;
    &lt;/dependencies&gt;
    &lt;local-last value="true" /&gt;
  &lt;/sub-deployment&gt;
  &lt;module name="deployment.myjavassist" &gt;
    &lt;resources&gt;
     &lt;resource-root path="javassist.jar" &gt;
       &lt;filter&gt;
         &lt;exclude path="javassist/util/proxy" /&gt;
       &lt;/filter&gt;
     &lt;/resource-root&gt;
    &lt;/resources&gt;
  &lt;/module&gt;
  &lt;module name="deployment.javassist.proxy" &gt;
    &lt;dependencies&gt;
      &lt;module name="org.javassist" &gt;
        &lt;imports&gt;
          &lt;include path="javassist/util/proxy" /&gt;
          &lt;exclude path="/**" /&gt;
        &lt;/imports&gt;
      &lt;/module&gt;
    &lt;/dependencies&gt;
  &lt;/module&gt;
&lt;/jboss-deployment-structure&gt;</pre></div></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+11440-591976+%5BLatest%5D&comment=Title%3A+Exclude+a+Subsystem+from+a+Deployment%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=11440-591976+24+Feb+2014+07%3A56+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="sect-Use_the_Class_Loader_Programmatically_in_a_Deployment">
      ⁠</a>3.6.&nbsp;Use the Class Loader Programmatically in a Deployment</h2></div></div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="Programmatically_Load_Classes_and_Resources_in_a_Deployment">
      ⁠</a>3.6.1.&nbsp;Programmatically Load Classes and Resources in a Deployment</h3></div></div></div><div class="para">
		You can programmatically find or load classes and resources in your application code. The method you choose will depend on a number of factors. This topic describes the methods available and provides guidelines for when to use them.
	</div><div class="variablelist"><dl class="variablelist"><dt><span class="term">Load a Class Using the Class.forName() Method</span></dt><dd><div class="para">
					You can use the <code class="code">Class.forName()</code> method to programmatically load and initialize classes. This method has two signatures. 
					<div class="variablelist"><dl class="variablelist"><dt><span class="term">Class.forName(String className)</span></dt><dd><div class="para">
									This signature takes only one parameter, the name of the class you need to load. With this method signature, the class is loaded by the class loader of the current class and initializes the newly loaded class by default.
								</div></dd><dt><span class="term">Class.forName(String className, boolean initialize, ClassLoader loader)</span></dt><dd><div class="para">
									This signature expects three parameters: the class name, a boolean value that specifies whether to initialize the class, and the ClassLoader that should load the class.
								</div></dd></dl></div>
					 The three argument signature is the recommended way to programmatically load a class. This signature allows you to control whether you want the target class to be initialized upon load. It is also more efficient to obtain and provide the class loader because the JVM does not need to examine the call stack to determine which class loader to use. Assuming the class containing the code is named <code class="code">CurrentClass</code>, you can obtain the class's class loader using <code class="code">CurrentClass.class.getClassLoader()</code> method.
				</div><div class="para">
					The following example provides the class loader to load and initialize the <code class="code">TargetClass</code> class: 
					<div class="example"><a id="idp6479600">
      ⁠</a><p class="title"><strong>Example&nbsp;3.7.&nbsp;Provide a class loader to load and initialize the TargetClass.</strong></p><div class="example-contents"><div class="para">
							
<pre class="programlisting JAVA"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">Class</span>&lt;?&gt; targetClass = <span xmlns="" class="perl_Keyword">Class</span>.<span xmlns="" class="perl_Function">forName</span>(<span xmlns="" class="perl_String">"com.myorg.util.TargetClass"</span>, <span xmlns="" class="perl_Keyword">true</span>, CurrentClass.<span xmlns="" class="perl_Function">class</span>.<span xmlns="" class="perl_Function">getClassLoader</span>());</pre>

						</div></div></div>

				</div></dd><dt><span class="term">Find All Resources with a Given Name</span></dt><dd><div class="para">
					If you know the name and path of a resource, the best way to load it directly is to use the standard JDK Class or ClassLoader API. 
					<div class="variablelist"><dl class="variablelist"><dt><span class="term">Load a Single Resource</span></dt><dd><div class="para">
									To load a single resource located in the same directory as your class or another class in your deployment, you can use the <code class="code">Class.getResourceAsStream()</code> method. 
									<div class="example"><a id="idp16532752">
      ⁠</a><p class="title"><strong>Example&nbsp;3.8.&nbsp;Load a single resource in your deployment.</strong></p><div class="example-contents"><div class="para">
											
<pre class="programlisting JAVA"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>InputStream inputStream = CurrentClass.<span xmlns="" class="perl_Function">class</span>.<span xmlns="" class="perl_Function">getResourceAsStream</span>(<span xmlns="" class="perl_String">"targetResourceName"</span>);
</pre>

										</div></div></div>

								</div></dd><dt><span class="term">Load All Instances of a Single Resource</span></dt><dd><div class="para">
									To load all instances of a single resource that are visible to your deployment's class loader, use the <code class="code">Class.getClassLoader().getResources(String resourceName)</code> method, where <code class="code">resourceName</code> is the fully qualified path of the resource. This method returns an Enumeration of all <code class="code">URL</code> objects for resources accessible by the class loader with the given name. You can then iterate through the array of URLs to open each stream using the <code class="code">openStream()</code> method. 
									<div class="example"><a id="idp25488256">
      ⁠</a><p class="title"><strong>Example&nbsp;3.9.&nbsp;Load all instances of a resource and iterate through the result.</strong></p><div class="example-contents"><div class="para">
											
<pre class="programlisting JAVA"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>Enumeration&lt;URL&gt; urls = CurrentClass.<span xmlns="" class="perl_Function">class</span>.<span xmlns="" class="perl_Function">getClassLoader</span>().<span xmlns="" class="perl_Function">getResources</span>(<span xmlns="" class="perl_String">"full/path/to/resource"</span>);
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">while</span> (urls.<span xmlns="" class="perl_Function">hasMoreElements</span>()) {
<span xmlns="" class="line">​</span>    URL url = urls.<span xmlns="" class="perl_Function">nextElement</span>();
<span xmlns="" class="line">​</span>    InputStream inputStream = <span xmlns="" class="perl_Keyword">null</span>;
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">try</span> {
<span xmlns="" class="line">​</span>        inputStream = url.<span xmlns="" class="perl_Function">openStream</span>();
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Comment">// Process the inputStream</span>
<span xmlns="" class="line">​</span>        ...
<span xmlns="" class="line">​</span>    } <span xmlns="" class="perl_Keyword">catch</span>(IOException ioException) {
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Comment">// Handle the error</span>
<span xmlns="" class="line">​</span>    } <span xmlns="" class="perl_Keyword">finally</span> {
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">if</span> (inputStream != <span xmlns="" class="perl_Keyword">null</span>) {
<span xmlns="" class="line">​</span>            <span xmlns="" class="perl_Keyword">try</span> {
<span xmlns="" class="line">​</span>                inputStream.<span xmlns="" class="perl_Function">close</span>();
<span xmlns="" class="line">​</span>            } <span xmlns="" class="perl_Keyword">catch</span> (Exception e) {
<span xmlns="" class="line">​</span>                <span xmlns="" class="perl_Comment">// ignore</span>
<span xmlns="" class="line">​</span>            }
<span xmlns="" class="line">​</span>        }
<span xmlns="" class="line">​</span>    }
<span xmlns="" class="line">​</span>}</pre>

										</div></div></div>
									 <div xmlns:d="http://docbook.org/ns/docbook" class="note"><div class="admonition_header"><p><strong>Note</strong></p></div><div class="admonition"><div class="para">
											Because the URL instances are loaded from local storage, it is not necessary to use the <code class="code">openConnection()</code> or other related methods. Streams are much simpler to use and minimize the complexity of the code.
										</div></div></div>

								</div></dd></dl></div>

				</div></dd><dt><span class="term">Load a Class File From the Class Loader</span></dt><dd><div class="para">
					If a class has already been loaded, you can load the class file that corresponds to that class using the following syntax: 
					<div class="example"><a id="idp10000544">
      ⁠</a><p class="title"><strong>Example&nbsp;3.10.&nbsp;Load a class file for a class that has been loaded.</strong></p><div class="example-contents"><div class="para">
							
<pre class="programlisting JAVA"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>InputStream inputStream = CurrentClass.<span xmlns="" class="perl_Function">class</span>.<span xmlns="" class="perl_Function">getResourceAsStream</span>(TargetClass.<span xmlns="" class="perl_Function">class</span>.<span xmlns="" class="perl_Function">getSimpleName</span>() + <span xmlns="" class="perl_String">".class"</span>);
</pre>

						</div></div></div>
					 If the class is not yet loaded, you must use the class loader and translate the path: 
					<div class="example"><a id="idp17823136">
      ⁠</a><p class="title"><strong>Example&nbsp;3.11.&nbsp;Load a class file for a class that has not been loaded.</strong></p><div class="example-contents"><div class="para">
							
<pre class="programlisting JAVA"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>String className = <span xmlns="" class="perl_String">"com.myorg.util.TargetClass"</span>
<span xmlns="" class="line">​</span>InputStream inputStream = CurrentClass.<span xmlns="" class="perl_Function">class</span>.<span xmlns="" class="perl_Function">getClassLoader</span>().<span xmlns="" class="perl_Function">getResourceAsStream</span>(className.<span xmlns="" class="perl_Function">replace</span>(<span xmlns="" class="perl_Char">'.'</span>, <span xmlns="" class="perl_Char">'/'</span>) + <span xmlns="" class="perl_String">".class"</span>);
</pre>

						</div></div></div>

				</div></dd></dl></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+24376-632479+%5BLatest%5D&comment=Title%3A+Programmatically+Load+Classes+and+Resources+in+a+Deployment%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=24376-632479+21+Apr+2014+22%3A34+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="Programmatically_Iterate_Resources_in_a_Deployment">
      ⁠</a>3.6.2.&nbsp;Programmatically Iterate Resources in a Deployment</h3></div></div></div><div class="para">
		The JBoss Modules library provides several APIs for iterating all deployment resources. The JavaDoc for the JBoss Modules API is located here: <a href="http://docs.jboss.org/jbossmodules/1.3.0.Final/api/">http://docs.jboss.org/jbossmodules/1.3.0.Final/api/</a>. To use these APIs, you must add the following dependency to the <code class="filename">MANIFEST.MF</code>: 
<pre class="programlisting">Dependencies: org.jboss.modules</pre>
		 It is important to note that while these APIs provide increased flexibility, they will also run much more slowly than a direct path lookup.
	</div><div class="para">
		This topic describes some of the ways you can programmatically iterate through resources in your application code.
	</div><div class="variablelist"><dl class="variablelist"><dt><span class="term">List Resources Within a Deployment and Within All Imports</span></dt><dd><div class="para">
					There are times when it is not possible to look up resources by the exact path. For example, the exact path may not be known or you may need to examine more than one file in a given path. In this case, the JBoss Modules library provides several APIs for iterating all deployment resources. You can iterate through resources in a deployment by utilizing one of two methods. 
					<div class="variablelist"><dl class="variablelist"><dt><span class="term">Iterate All Resources Found in a Single Module</span></dt><dd><div class="para">
									The <code class="code">ModuleClassLoader.iterateResources()</code> method iterates all the resources within this module class loader. This method takes two arguments: the starting directory name to search and a boolean that specifies whether it should recurse into subdirectories.
								</div><div class="para">
									The following example demonstrates how to obtain the ModuleClassLoader and obtain the iterator for resources in the <code class="filename">bin/</code> directory, recursing into subdirectories. 
									<div class="example"><a id="idp26723824">
      ⁠</a><p class="title"><strong>Example&nbsp;3.12.&nbsp;Find resources in the "bin" directory, recursing into subdirectories.</strong></p><div class="example-contents"><div class="para">
											
<pre class="programlisting JAVA"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>ModuleClassLoader moduleClassLoader = (ModuleClassLoader) TargetClass.<span xmlns="" class="perl_Function">class</span>.<span xmlns="" class="perl_Function">getClassLoader</span>();
<span xmlns="" class="line">​</span>Iterator&lt;Resource&gt; mclResources = moduleClassLoader.<span xmlns="" class="perl_Function">iterateResources</span>(<span xmlns="" class="perl_String">"bin"</span>,<span xmlns="" class="perl_Keyword">true</span>);</pre>

										</div></div></div>
									 The resultant iterator may be used to examine each matching resource and query its name and size (if available), open a readable stream, or acquire a URL for the resource.
								</div></dd><dt><span class="term">Iterate All Resources Found in a Single Module and Imported Resources</span></dt><dd><div class="para">
									The <code class="code">Module.iterateResources()</code> method iterates all the resources within this module class loader, including the resources that are imported into the module. This method returns a much larger set than the previous method. This method requires an argument, which is a filter that narrows the result to a specific pattern. Alternatively, PathFilters.acceptAll() can be supplied to return the entire set. 
									<div class="example"><a id="idp27211520">
      ⁠</a><p class="title"><strong>Example&nbsp;3.13.&nbsp;Find the entire set of resources in this module, including imports.</strong></p><div class="example-contents"><div class="para">
											
<pre class="programlisting JAVA"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>ModuleClassLoader moduleClassLoader = (ModuleClassLoader) TargetClass.<span xmlns="" class="perl_Function">class</span>.<span xmlns="" class="perl_Function">getClassLoader</span>();
<span xmlns="" class="line">​</span>Module module = moduleClassLoader.<span xmlns="" class="perl_Function">getModule</span>();
<span xmlns="" class="line">​</span>Iterator&lt;Resource&gt; moduleResources = module.<span xmlns="" class="perl_Function">iterateResources</span>(PathFilters.<span xmlns="" class="perl_Function">acceptAll</span>());</pre>

										</div></div></div>

								</div></dd></dl></div>

				</div></dd><dt><span class="term">Find All Resources That Match a Pattern</span></dt><dd><div class="para">
					If you need to find only specific resources within your deployment or within your deployment's full import set, you need to filter the resource iteration. The JBoss Modules filtering APIs give you several tools to accomplish this. 
					<div class="variablelist"><dl class="variablelist"><dt><span class="term">Examine the Full Set of Dependencies</span></dt><dd><div class="para">
									If you need to examine the full set of dependencies, you can use the <code class="code">Module.iterateResources()</code> method's <code class="code">PathFilter</code> parameter to check the name of each resource for a match.
								</div></dd><dt><span class="term">Examine Deployment Dependencies</span></dt><dd><div class="para">
									If you need to look only within the deployment, use the <code class="code">ModuleClassLoader.iterateResources()</code> method. However, you must use additional methods to filter the resultant iterator. The <code class="code">PathFilters.filtered()</code> method can provide a filtered view of a resource iterator this case. The <code class="code">PathFilters</code> class includes many static methods to create and compose filters that perform various functions, including finding child paths or exact matches, or matching an Ant-style "glob" pattern.
								</div></dd></dl></div>

				</div></dd><dt><span class="term">Additional Code Examples For Filtering Resouces</span></dt><dd><div class="para">
					The following examples demonstrate how to filter resources based on different criteria. 
					<div class="example"><a id="idp24031248">
      ⁠</a><p class="title"><strong>Example&nbsp;3.14.&nbsp;Find all files named "messages.properties" in your deployment.</strong></p><div class="example-contents"><div class="para">
							
<pre class="programlisting JAVA"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>ModuleClassLoader moduleClassLoader = (ModuleClassLoader) TargetClass.<span xmlns="" class="perl_Function">class</span>.<span xmlns="" class="perl_Function">getClassLoader</span>();
<span xmlns="" class="line">​</span>Iterator&lt;Resource&gt; mclResources = PathFilters.<span xmlns="" class="perl_Function">filtered</span>(PathFilters.<span xmlns="" class="perl_Function">match</span>(<span xmlns="" class="perl_String">"**/messages.properties"</span>), moduleClassLoader.<span xmlns="" class="perl_Function">iterateResources</span>(<span xmlns="" class="perl_String">""</span>, <span xmlns="" class="perl_Keyword">true</span>));</pre>

						</div></div></div>
					 <div class="example"><a id="idp17838000">
      ⁠</a><p class="title"><strong>Example&nbsp;3.15.&nbsp;Find all files named "messages.properties" in your deployment and imports.</strong></p><div class="example-contents"><div class="para">
							
<pre class="programlisting JAVA"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>ModuleClassLoader moduleClassLoader = (ModuleClassLoader) TargetClass.<span xmlns="" class="perl_Function">class</span>.<span xmlns="" class="perl_Function">getClassLoader</span>();
<span xmlns="" class="line">​</span>Module module = moduleClassLoader.<span xmlns="" class="perl_Function">getModule</span>();
<span xmlns="" class="line">​</span>Iterator&lt;Resource&gt; moduleResources = module.<span xmlns="" class="perl_Function">iterateResources</span>(PathFilters.<span xmlns="" class="perl_Function">match</span>(<span xmlns="" class="perl_String">"**/message.properties));</span></pre>

						</div></div></div>
					 <div class="example"><a id="idm1003184">
      ⁠</a><p class="title"><strong>Example&nbsp;3.16.&nbsp;Find all files inside any directory named "my-resources" in your deployment.</strong></p><div class="example-contents"><div class="para">
							
<pre class="programlisting JAVA"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>ModuleClassLoader moduleClassLoader = (ModuleClassLoader) TargetClass.<span xmlns="" class="perl_Function">class</span>.<span xmlns="" class="perl_Function">getClassLoader</span>();
<span xmlns="" class="line">​</span>Iterator&lt;Resource&gt; mclResources = PathFilters.<span xmlns="" class="perl_Function">filtered</span>(PathFilters.<span xmlns="" class="perl_Function">match</span>(<span xmlns="" class="perl_String">"**/my-resources/**"</span>), moduleClassLoader.<span xmlns="" class="perl_Function">iterateResources</span>(<span xmlns="" class="perl_String">""</span>, <span xmlns="" class="perl_Keyword">true</span>));</pre>

						</div></div></div>
					 <div class="example"><a id="idp1347680">
      ⁠</a><p class="title"><strong>Example&nbsp;3.17.&nbsp;Find all files named "messages" or "errors" in your deployment and imports.</strong></p><div class="example-contents"><div class="para">
							
<pre class="programlisting JAVA"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>ModuleClassLoader moduleClassLoader = (ModuleClassLoader) TargetClass.<span xmlns="" class="perl_Function">class</span>.<span xmlns="" class="perl_Function">getClassLoader</span>();
<span xmlns="" class="line">​</span>Module module = moduleClassLoader.<span xmlns="" class="perl_Function">getModule</span>();
<span xmlns="" class="line">​</span>Iterator&lt;Resource&gt; moduleResources = module.<span xmlns="" class="perl_Function">iterateResources</span>(PathFilters.<span xmlns="" class="perl_Function">any</span>(PathFilters.<span xmlns="" class="perl_Function">match</span>(<span xmlns="" class="perl_String">"**/messages"</span>), PathFilters.<span xmlns="" class="perl_Function">match</span>(<span xmlns="" class="perl_String">"**/errors"</span>));</pre>

						</div></div></div>
					 <div class="example"><a id="idp17429696">
      ⁠</a><p class="title"><strong>Example&nbsp;3.18.&nbsp;Find all files in a specific package in your deployment.</strong></p><div class="example-contents"><div class="para">
							
<pre class="programlisting JAVA"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>ModuleClassLoader moduleClassLoader = (ModuleClassLoader) TargetClass.<span xmlns="" class="perl_Function">class</span>.<span xmlns="" class="perl_Function">getClassLoader</span>();
<span xmlns="" class="line">​</span>Iterator&lt;Resource&gt; mclResources = moduleClassLoader.<span xmlns="" class="perl_Function">iterateResources</span>(<span xmlns="" class="perl_String">"path/form/of/packagename"</span>, <span xmlns="" class="perl_Keyword">false</span>);</pre>

						</div></div></div>

				</div></dd></dl></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+24377-592557+%5BLatest%5D&comment=Title%3A+Programmatically+Iterate+Resources+in+a+Deployment%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=24377-592557+24+Feb+2014+07%3A59+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="sect-Class_Loading_and_Subdeployments">
      ⁠</a>3.7.&nbsp;Class Loading and Subdeployments</h2></div></div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="Modules_and_Class_Loading_in_Enterprise_Archives">
      ⁠</a>3.7.1.&nbsp;Modules and Class Loading in Enterprise Archives</h3></div></div></div><div class="para">
		Enterprise Archives (EAR) are not loaded as a single module like JAR or WAR deployments. They are loaded as multiple unique modules.
	</div><div class="para">
		The following rules determine what modules exist in an EAR.
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
				Each WAR and EJB JAR subdeployment is a module.
			</div></li><li class="listitem"><div class="para">
				The contents of the <code class="filename">lib/</code> directory in the root of the EAR archive is a module. This is called the parent module.
			</div></li></ul></div><div class="para">
		These modules have the same behavior as any other module with the following additional implicit dependencies:
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
				WAR subdeployments have implicit dependencies on the parent module and any EJB JAR subdeployments.
			</div></li><li class="listitem"><div class="para">
				EJB JAR subdeployments have implicit dependencies on the parent module and any other EJB JAR subdeployments.
			</div></li></ul></div><div xmlns:d="http://docbook.org/ns/docbook" class="important"><div class="admonition_header"><p><strong>Important</strong></p></div><div class="admonition"><div class="para">
			No subdeployment ever gains an implicit dependency on a WAR subdeployment. Any subdeployment can be configured with explicit dependencies on another subdeployment as would be done for any other module.
		</div></div></div><div class="para">
		The implicit dependencies described above occur because JBoss EAP 6 has subdeployment class loader isolation disabled by default.
	</div><div class="para">
		Subdeployment class loader isolation can be enabled if strict compatibility is required. This can be enabled for a single EAR deployment or for all EAR deployments. The Java EE 6 specification recommends that portable applications should not rely on subdeployments being able to access each other unless dependencies are explicitly declared as <code class="code">Class-Path</code> entries in the <code class="filename">MANIFEST.MF</code> file of each subdeployment.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4354-591660+%5BLatest%5D&comment=Title%3A+Modules+and+Class+Loading+in+Enterprise+Archives%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4354-591660+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="Subdeployment_Class_Loader_Isolation">
      ⁠</a>3.7.2.&nbsp;Subdeployment Class Loader Isolation</h3></div></div></div><div class="para">
		Each subdeployment in an Enterprise Archive (EAR) is a dynamic module with its own class loader. By default a subdeployment can access the resources of other subdeployments.
	</div><div class="para">
		If a subdeployment should not access the resources of other subdeployments (strict subdeployment isolation is required) then this can be enabled.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4565-591666+%5BLatest%5D&comment=Title%3A+Subdeployment+Class+Loader+Isolation%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4565-591666+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="Disable_Subdeployment_Class_Loader_Isolation_Within_a_EAR">
      ⁠</a>3.7.3.&nbsp;Disable Subdeployment Class Loader Isolation Within a EAR</h3></div></div></div><div class="para">
		This task shows you how to disable Subdeployment class loader isolation in an EAR deployment by using a special deployment descriptor in the EAR. This does not require any changes to be made to the application server and does not affect any other deployments.
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="important"><div class="admonition_header"><p><strong>Important</strong></p></div><div class="admonition"><div class="para">
			Even when subdeployment class loader isolation is disabled it is not possible to add a WAR deployment as a dependency.
		</div></div></div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><ol class="1"><li class="step"><p class="title"><strong>Add the deployment descriptor file</strong></p><div class="para">
				Add the <code class="filename">jboss-deployment-structure.xml</code> deployment descriptor file to the <code class="filename">META-INF</code> directory of the EAR if it doesn't already exist and add the following content:
			</div><pre class="programlisting"><span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;jboss-deployment-structure&gt;</span>
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;/jboss-deployment-structure&gt;</span></pre></li><li class="step"><p class="title"><strong>Add the <code class="code">&lt;ear-subdeployments-isolated&gt;</code> element</strong></p><div class="para">
				Add the <code class="code">&lt;ear-subdeployments-isolated&gt;</code> element to the <code class="filename">jboss-deployment-structure.xml</code> file if it doesn't already exist with the content of <code class="literal">false</code>.
			</div><pre class="programlisting"><span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;ear-subdeployments-isolated&gt;</span>false<span xmlns="" class="perl_Keyword">&lt;/ear-subdeployments-isolated&gt;</span></pre></li></ol></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Result:</div>
			Subdeployment class loader isolation will now be disabled for this EAR deployment. This means that the subdeployments of the EAR will have automatic dependencies on each of the non-WAR subdeployments.
		</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4566-591666+%5BLatest%5D&comment=Title%3A+Disable+Subdeployment+Class+Loader+Isolation+Within+a+EAR%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4566-591666+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="sect-Reference2">
      ⁠</a>3.8.&nbsp;Reference</h2></div></div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="Implicit_Module_Dependencies">
      ⁠</a>3.8.1.&nbsp;Implicit Module Dependencies</h3></div></div></div><div class="para">
		The following table lists the modules that are automatically added to deployments as dependencies and the conditions that trigger the dependency.
	</div><div class="table"><a id="table-implicit_module_dependencies">
      ⁠</a><p class="title"><strong>Table&nbsp;3.1.&nbsp;Implicit Module Dependencies</strong></p><div class="table-contents"><table xmlns:d="http://docbook.org/ns/docbook" class="gt-4-cols gt-7-rows" summary="Implicit Module Dependencies"><colgroup><col width="14%" align="left" class="c1"><col width="29%" align="left" class="c2"><col width="29%" align="left" class="c3"><col width="29%" align="left" class="c4"></colgroup><thead><tr><th align="left"> Subsystem Responsible for Adding the Dependency </th><th align="left"> Dependencies That Are Always Added </th><th align="left"> Dependencies That Are Conditionally Added </th><th align="left"> Conditions That Trigger the Addition of the Dependency </th></tr></thead><tbody><tr><td align="left"> Core Server </td><td align="left"> <div class="itemizedlist"><ul><li class="listitem"><div class="para">
								javax.api
							</div></li><li class="listitem"><div class="para">
								sun.jdk
							</div></li><li class="listitem"><div class="para">
								org.jboss.vfs
							</div></li></ul></div>
					 </td><td align="left"> <div class="para">

					</div>
					 </td><td align="left"> <div class="para">

					</div>
					 </td></tr><tr><td align="left"> EE subsystem </td><td align="left"> <div class="itemizedlist"><ul><li class="listitem"><div class="para">
								javaee.api
							</div></li></ul></div>
					 </td><td align="left"> <div class="para">

					</div>
					 </td><td align="left"> <div class="para">

					</div>
					 </td></tr><tr><td align="left"> EJB 3 subsystem </td><td align="left"> <div class="para">

					</div>
					 </td><td align="left"> <div class="itemizedlist"><ul><li class="listitem"><div class="para">
								javaee.api
							</div></li></ul></div>
					 </td><td align="left"> <div class="para">
						The presence of an <code class="filename">ejb-jar.xml</code> file within a valid location in the deployment, as described in the Java EE 6 specification.
					</div>
					 <div class="para">
						The presence of annotation-based EJBs, for example: <code class="code">@Stateless</code>, <code class="code">@Stateful</code>, <code class="code">@MessageDriven</code>
					</div>
					 </td></tr><tr><td align="left"> JAX-RS (RESTEasy) subsystem </td><td align="left"> <div class="itemizedlist"><ul><li class="listitem"><div class="para">
								javax.xml.bind.api
							</div></li></ul></div>
					 </td><td align="left"> <div class="itemizedlist"><ul><li class="listitem"><div class="para">
								org.jboss.resteasy.resteasy-atom-provider
							</div></li><li class="listitem"><div class="para">
								org.jboss.resteasy.resteasy-cdi
							</div></li><li class="listitem"><div class="para">
								org.jboss.resteasy.resteasy-jaxrs
							</div></li><li class="listitem"><div class="para">
								org.jboss.resteasy.resteasy-jaxb-provider
							</div></li><li class="listitem"><div class="para">
								org.jboss.resteasy.resteasy-jackson-provider
							</div></li><li class="listitem"><div class="para">
								org.jboss.resteasy.resteasy-jsapi
							</div></li><li class="listitem"><div class="para">
								org.jboss.resteasy.resteasy-multipart-provider
							</div></li><li class="listitem"><div class="para">
								org.jboss.resteasy.async-http-servlet-30
							</div></li></ul></div>
					 </td><td align="left"> The presence of JAX-RS annotations in the deployment. </td></tr><tr><td align="left"> JCA subsystem </td><td align="left"> <div class="itemizedlist"><ul><li class="listitem"><div class="para">
								javax.resource.api
							</div></li></ul></div>
					 </td><td align="left"> <div class="itemizedlist"><ul><li class="listitem"><div class="para">
								javax.jms.api
							</div></li><li class="listitem"><div class="para">
								javax.validation.api
							</div></li><li class="listitem"><div class="para">
								org.jboss.logging
							</div></li><li class="listitem"><div class="para">
								org.jboss.ironjacamar.api
							</div></li><li class="listitem"><div class="para">
								org.jboss.ironjacamar.impl
							</div></li><li class="listitem"><div class="para">
								org.hibernate.validator
							</div></li></ul></div>
					 </td><td align="left"> The deployment of a resource adapter (RAR) archive. </td></tr><tr><td align="left"> JPA (Hibernate) subsystem </td><td align="left"> <div class="itemizedlist"><ul><li class="listitem"><div class="para">
								javax.persistence.api
							</div></li></ul></div>
					 </td><td align="left"> <div class="itemizedlist"><ul><li class="listitem"><div class="para">
								javaee.api
							</div></li><li class="listitem"><div class="para">
								org.jboss.as.jpa
							</div></li><li class="listitem"><div class="para">
								org.hibernate
							</div></li></ul></div>
					 </td><td align="left"> <div class="para">
						The presence of an <code class="code">@PersistenceUnit</code> or <code class="code">@PersistenceContext</code> annotation, or a <code class="code">&lt;persistence-unit-ref&gt;</code> or <code class="code">&lt;persistence-context-ref&gt;</code> element in a deployment descriptor.
					</div>
					 <div class="para">

					</div>
					 <div class="para">
						JBoss EAP 6 maps persistence provider names to module names. If you name a specific provider in the <code class="filename">persistence.xml</code> file, a dependency is added for the appropriate module. If this not the desired behavior, you can exclude it using a <code class="filename">jboss-deployment-structure.xml</code> file.
					</div>
					 </td></tr><tr><td align="left"> Logging subsystem </td><td align="left"> <div class="itemizedlist"><ul><li class="listitem"><div class="para">
								org.jboss.logging
							</div></li><li class="listitem"><div class="para">
								org.apache.log4j
							</div></li><li class="listitem"><div class="para">
								org.apache.commons.logging
							</div></li><li class="listitem"><div class="para">
								org.slf4j
							</div></li><li class="listitem"><div class="para">
								org.jboss.logging.jul-to-slf4j-stub
							</div></li></ul></div>
					 </td><td align="left"> <div class="para">

					</div>
					 </td><td align="left"> <div class="para">
						These dependencies are always added unless the <code class="code">add-logging-api-dependencies</code> attribute is set to false.
					</div>
					 </td></tr><tr><td align="left"> SAR subsystem </td><td align="left"> <div class="para">

					</div>
					 </td><td align="left"> <div class="itemizedlist"><ul><li class="listitem"><div class="para">
								org.jboss.logging
							</div></li><li class="listitem"><div class="para">
								org.jboss.modules
							</div></li></ul></div>
					 </td><td align="left"> The deployment of a SAR archive. </td></tr><tr><td align="left"> Security subsystem </td><td align="left"> <div class="itemizedlist"><ul><li class="listitem"><div class="para">
								org.picketbox
							</div></li></ul></div>
					 </td><td align="left"> <div class="para">

					</div>
					 </td><td align="left"> <div class="para">

					</div>
					 </td></tr><tr><td align="left"> Web subsystem </td><td align="left"> <div class="para">

					</div>
					 </td><td align="left"> <div class="itemizedlist"><ul><li class="listitem"><div class="para">
								javaee.api
							</div></li><li class="listitem"><div class="para">
								com.sun.jsf-impl
							</div></li><li class="listitem"><div class="para">
								org.hibernate.validator
							</div></li><li class="listitem"><div class="para">
								org.jboss.as.web
							</div></li><li class="listitem"><div class="para">
								org.jboss.logging
							</div></li></ul></div>
					 </td><td align="left"> The deployment of a WAR archive. JavaServer Faces (JSF) is added only if it is used.  </td></tr><tr><td align="left"> Web Services subsystem </td><td align="left"> <div class="itemizedlist"><ul><li class="listitem"><div class="para">
								org.jboss.ws.api
							</div></li><li class="listitem"><div class="para">
								org.jboss.ws.spi
							</div></li></ul></div>
					 </td><td align="left"> <div class="para">

					</div>
					 </td><td align="left"> <div class="para">

					</div>
					 </td></tr><tr><td align="left"> Weld (CDI) Subsystem </td><td align="left"> <div class="para">

					</div>
					 </td><td align="left"> <div class="itemizedlist"><ul><li class="listitem"><div class="para">
								javax.persistence.api
							</div></li><li class="listitem"><div class="para">
								javaee.api
							</div></li><li class="listitem"><div class="para">
								org.javassist
							</div></li><li class="listitem"><div class="para">
								org.jboss.interceptor
							</div></li><li class="listitem"><div class="para">
								org.jboss.as.weld
							</div></li><li class="listitem"><div class="para">
								org.jboss.logging
							</div></li><li class="listitem"><div class="para">
								org.jboss.weld.core
							</div></li><li class="listitem"><div class="para">
								org.jboss.weld.api
							</div></li><li class="listitem"><div class="para">
								org.jboss.weld.spi
							</div></li></ul></div>
					 </td><td align="left"> The presence of a <code class="filename">beans.xml</code> file in the deployment. </td></tr></tbody></table></div></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4353-682489+%5BLatest%5D&comment=Title%3A+Implicit+Module+Dependencies%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4353-682489+09+Jul+2014+02%3A44+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="Included_Modules1">
      ⁠</a>3.8.2.&nbsp;Included Modules</h3></div></div></div><div class="para">
		A table listing the JBoss EAP 6 included modules and whether they are supported can be found on the Customer Portal at <a href="https://access.redhat.com/articles/1122333">https://access.redhat.com/articles/1122333</a>.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+3891-682454+%5BLatest%5D&comment=Title%3A+Included+Modules%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=3891-682454+08+Jul+2014+23%3A49+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="JBoss_Deployment_Structure_Deployment_Descriptor_Reference">
      ⁠</a>3.8.3.&nbsp;JBoss Deployment Structure Deployment Descriptor Reference</h3></div></div></div><div class="para">
		The key tasks that can be performed using this deployment descriptor are:
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
				Defining explicit module dependencies.
			</div></li><li class="listitem"><div class="para">
				Preventing specific implicit dependencies from loading.
			</div></li><li class="listitem"><div class="para">
				Defining additional modules from the resources of that deployment.
			</div></li><li class="listitem"><div class="para">
				Changing the subdeployment isolation behavior in that EAR deployment.
			</div></li><li class="listitem"><div class="para">
				Adding additional resource roots to a module in an EAR.
			</div></li></ul></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4614-591668+%5BLatest%5D&comment=Title%3A+JBoss+Deployment+Structure+Deployment+Descriptor+Reference%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4614-591668+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div></div></div><div xml:lang="en-US" class="chapter" lang="en-US"><div class="titlepage"><div><div><h1 class="title"><a id="chap-Valves">
      ⁠</a>Chapter&nbsp;4.&nbsp;Valves</h1></div></div></div><div class="toc"><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Valves">4.1. About Valves</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Global_Valves">4.2. About Global Valves</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Authenticator_Valves">4.3. About Authenticator Valves</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Configure_a_Web_Application_to_use_a_Valve">4.4. Configure a Web Application to use a Valve</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Configure_a_Web_Application_to_use_an_Authenticator_Valve">4.5. Configure a Web Application to use an Authenticator Valve</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Create_a_Custom_Valve">4.6. Create a Custom Valve</a></span></dt></dl></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="About_Valves">
      ⁠</a>4.1.&nbsp;About Valves</h2></div></div></div><div class="para">
		A Valve is a Java class that gets inserted into the request processing pipeline for an application. It is inserted in the pipeline before servlet filters. Valves can make changes to the request before passing it on or perform other processing such as authentication or even canceling the request.
	</div><div class="para">
		Valves can be configured at the server level or at the application level. The only difference is in how they are configured and packaged. 
		<div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
					Global Valves are configured at the server level and apply to all applications deployed to the server. Instructions to configure Global Valves are located in the <em class="citetitle">Administration and Configuration Guide</em> for JBoss EAP.
				</div></li><li class="listitem"><div class="para">
					Valves configured at the application level are packaged with the application deployment and only affect the specific application. Instructions to configure Valves at the application level are located in the <em class="citetitle">Development Guide</em> for JBoss EAP.
				</div></li></ul></div>

	</div><div class="para">
		Version 6.1.0 and later supports global valves.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+14168-672932+%5BLatest%5D&comment=Title%3A+About+Valves%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=14168-672932+13+Jun+2014+02%3A23+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="About_Global_Valves">
      ⁠</a>4.2.&nbsp;About Global Valves</h2></div></div></div><div class="para">
		A Global Valve is a valve that is inserted into the request processing pipeline of all deployed applications. A valve is made global by being packaged and installed as a static module in JBoss EAP 6. Global valves are configured in the web subsystem.
	</div><div class="para">
		Only version 6.1.0 and later supports global valves.
	</div><div class="para">
		For instructions on how to configure Global Valves, see the chapter entitled <em class="citetitle">Global Valves</em> in the <em class="citetitle">Administration and Configuration Guide for JBoss EAP</em>.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+14169-717305+%5BLatest%5D&comment=Title%3A+About+Global+Valves%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=14169-717305+18+Oct+2014+02%3A13+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="About_Authenticator_Valves">
      ⁠</a>4.3.&nbsp;About Authenticator Valves</h2></div></div></div><div class="para">
		An authenticator valve is a valve that authenticates the credentials of a request. Such valve is a sub-class of <code class="code">org.apache.catalina.authenticator.AuthenticatorBase</code> and overrides the <code class="code">authenticate(Request request, Response response, LoginConfig config)</code> method.
	</div><div class="para">
		This can be used to implement additional authentication schemes.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+14172-592104+%5BLatest%5D&comment=Title%3A+About+Authenticator+Valves%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=14172-592104+24+Feb+2014+07%3A57+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="Configure_a_Web_Application_to_use_a_Valve">
      ⁠</a>4.4.&nbsp;Configure a Web Application to use a Valve</h2></div></div></div><div class="para">
		Valves that are not installed as global valves must be included with your application and configure in the <code class="filename">jboss-web.xml</code> deployment descriptor.
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="important"><div class="admonition_header"><p><strong>Important</strong></p></div><div class="admonition"><div class="para">
			Valves that are installed a global valves are automatically applied to all deployed applications. For instructions on how to configure Global Valves, see the chapter entitled <em class="citetitle">Global Valves</em> in the <em class="citetitle">Administration and Configuration Guide for JBoss EAP</em>.
		</div></div></div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul><li class="listitem"><div class="para">
				The valve must be created and included in your application's classpath. This can be done by either including it in the application's WAR file or any module that is added as a dependency. Examples of such modules include a static module installed on the server or a JAR file in the <code class="filename">lib/</code> directory of an EAR archive if the WAR is deployed in an EAR.
			</div></li><li class="listitem"><div class="para">
				The application must include a <code class="filename">jboss-web.xml</code> deployment descriptor.
			</div></li></ul></div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idp36574352">
      ⁠</a><p class="title"><strong>Procedure&nbsp;4.1.&nbsp;Configure an application for a local valve</strong></p><ol class="1"><li class="step"><p class="title"><strong>Configure a Valve</strong></p><div class="para">
				Create a <code class="code">valve</code> element containing the <code class="code">class-name</code> child element in the application's <code class="filename">jboss-web.xml</code> file. The <code class="code">class-name</code> is the name of the valve class. 
<pre class="programlisting"><span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;valve&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;class-name&gt;</span>VALVE_CLASS_NAME<span xmlns="" class="perl_Keyword">&lt;/class-name&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;/valve&gt;</span></pre>
				 <div class="example"><a id="idp877808">
      ⁠</a><p class="title"><strong>Example&nbsp;4.1.&nbsp;Example of a valve element configured in the jboss-web.xml file</strong></p><div class="example-contents"><pre class="programlisting"><span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;valve&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;class-name&gt;</span>org.jboss.security.negotiation.NegotiationAuthenticator<span xmlns="" class="perl_Keyword">&lt;/class-name&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;/valve&gt;</span></pre></div></div>

			</div></li><li class="step"><p class="title"><strong>Configure a Custom Valve</strong></p><div class="para">
				If the valve has configurable parameters, add a <code class="code">param</code> child element to the <code class="code">valve</code> element for each parameter, specifying the <code class="code">param-name</code> and <code class="code">param-value</code> for each.
			</div><div class="example"><a id="idm53824">
      ⁠</a><p class="title"><strong>Example&nbsp;4.2.&nbsp;Example of a custom valve element configured in the jboss-web.xml file</strong></p><div class="example-contents"><pre class="programlisting"><span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;valve&gt;</span>   
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;class-name&gt;</span>org.jboss.web.tomcat.security.GenericHeaderAuthenticator<span xmlns="" class="perl_Keyword">&lt;/class-name&gt;</span>  
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;param&gt;</span>  
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">&lt;param-name&gt;</span>httpHeaderForSSOAuth<span xmlns="" class="perl_Keyword">&lt;/param-name&gt;</span>  
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">&lt;param-value&gt;</span>sm_ssoid,ct-remote-user,HTTP_OBLIX_UID<span xmlns="" class="perl_Keyword">&lt;/param-value&gt;</span>  
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;/param&gt;</span>  
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;param&gt;</span>  
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">&lt;param-name&gt;</span>sessionCookieForSSOAuth<span xmlns="" class="perl_Keyword">&lt;/param-name&gt;</span>  
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">&lt;param-value&gt;</span>SMSESSION,CTSESSION,ObSSOCookie<span xmlns="" class="perl_Keyword">&lt;/param-value&gt;</span>  
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;/param&gt;</span>  
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;/valve&gt;</span></pre></div></div></li></ol></div><div class="para">
		When the application is deployed, the valve will be enabled for the application with the specified configuration.
	</div><div class="example"><a id="idp22315440">
      ⁠</a><p class="title"><strong>Example&nbsp;4.3.&nbsp;jboss-web.xml valve configuration</strong></p><div class="example-contents"><pre class="programlisting"><span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;valve&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;class-name&gt;</span>org.jboss.samplevalves.RestrictedUserAgentsValve<span xmlns="" class="perl_Keyword">&lt;/class-name&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;param&gt;</span>  
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">&lt;param-name&gt;</span>restrictedUserAgents<span xmlns="" class="perl_Keyword">&lt;/param-name&gt;</span>
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">&lt;param-value&gt;</span>^.*MS Web Services Client Protocol.*$<span xmlns="" class="perl_Keyword">&lt;/param-value&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;/param&gt;</span>
<span xmlns="" class="line">​</span> <span xmlns="" class="perl_Keyword">&lt;/valve&gt;</span></pre></div></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+14173-671788+%5BLatest%5D&comment=Title%3A+Configure+a+Web+Application+to+use+a+Valve%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=14173-671788+13+Jun+2014+01%3A32+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="Configure_a_Web_Application_to_use_an_Authenticator_Valve">
      ⁠</a>4.5.&nbsp;Configure a Web Application to use an Authenticator Valve</h2></div></div></div><div class="para">
		Configuring an application to use an authenticator valve requires the valve to be installed and configured (either local to the application or as a global valve) and the <code class="filename">web.xml</code> deployment descriptor of the application to be configured. In the simplest case, the <code class="filename">web.xml</code> configuration is the same as using <code class="systemitem">BASIC</code> authentication except the <code class="code">auth-method</code> child element of <code class="code">login-config</code> is set to the name of the valve performing the configuration.
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul><li class="listitem"><div class="para">
				Authentication valve must already be created.
			</div></li><li class="listitem"><div class="para">
				If the authentication valve is a global valve then it must already be installed and configured, and you must know the name that it was configured as.
			</div></li><li class="listitem"><div class="para">
				You need to know the realm name of the security realm that the application will use.
			</div></li></ul></div><div class="para">
		If you do not know the valve or security realm name to use, ask your server administrator for this information.
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idp420112">
      ⁠</a><p class="title"><strong>Procedure&nbsp;4.2.&nbsp;Configure an Application to use an Authenticator Valve</strong></p><ol class="1"><li class="step"><p class="title"><strong>Configure the valve</strong></p><div class="para">
				When using a local valve, it must be configured in the applications <code class="filename">jboss-web.xml</code> deployment descriptor. Refer to <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Configure_a_Web_Application_to_use_a_Valve">Section&nbsp;4.4, “Configure a Web Application to use a Valve”</a>.
			</div><div class="para">
				When using a global valve, this is unnecessary.
			</div></li><li class="step"><p class="title"><strong>Add security configuration to web.xml</strong></p><div class="para">
				Add the security configuration to the web.xml file for your application, using the standard elements such as security-constraint, login-config, and security-role. In the login-config element, set the value of auth-method to the name of the authenticator valve. The realm-name element also needs to be set to the name of the JBoss security realm being used by the application.
			</div><pre class="programlisting"><span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;login-config&gt;</span>
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">&lt;auth-method&gt;</span>VALVE_NAME<span xmlns="" class="perl_Keyword">&lt;/auth-method&gt;</span>
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">&lt;realm-name&gt;</span>REALM_NAME<span xmlns="" class="perl_Keyword">&lt;/realm-name&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;/login-config&gt;</span></pre></li></ol></div><div class="para">
		When the application is deployed, the authentication of requests is handled by the configured authentication valve. 
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+14174-592104+%5BLatest%5D&comment=Title%3A+Configure+a+Web+Application+to+use+an+Authenticator+Valve%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=14174-592104+24+Feb+2014+07%3A57+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="Create_a_Custom_Valve">
      ⁠</a>4.6.&nbsp;Create a Custom Valve</h2></div></div></div><div class="para">
		A Valve is a Java class that gets inserted into the request processing pipeline for an application before the application's servlet filters. This can be used to modify the request or perform any other behavior. This task demonstrates the basic steps required for implementing a valve.
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idp11414992">
      ⁠</a><p class="title"><strong>Procedure&nbsp;4.3.&nbsp;Create a Custom Valve</strong></p><ol class="1"><li class="step"><p class="title"><strong>Create the Valve class</strong></p><div class="para">
				Create a subclass of <code class="code">org.apache.catalina.valves.ValveBase</code>.
			</div><pre class="programlisting"><span xmlns="" class="line">​</span>package org.<span xmlns="" class="perl_Function">jboss</span>.<span xmlns="" class="perl_Function">samplevalves</span>;
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">import org.apache.catalina.valves.ValveBase;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">import org.apache.catalina.connector.Request;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">import org.apache.catalina.connector.Response;</span>
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_Keyword">class</span> RestrictedUserAgentsValve <span xmlns="" class="perl_Keyword">extends</span> ValveBase {
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>}</pre></li><li class="step"><p class="title"><strong>Implement the invoke method</strong></p><div class="para">
				The <code class="code">invoke()</code> method is called when this valve is executed in the pipeline. The request and response objects are passed as parameters. Perform any processing and modification of the request and response here.
			</div><pre class="programlisting"><span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_DataType">void</span> <span xmlns="" class="perl_Function">invoke</span>(Request request, Response response)
<span xmlns="" class="line">​</span>{
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>}</pre></li><li class="step"><p class="title"><strong>Invoke the next pipeline step</strong></p><div class="para">
				The last thing the invoke method must do is invoke the next step of the pipeline and pass the modified request and response objects along. This is done using the <code class="code">getNext().invoke()</code> method
			</div><pre class="programlisting"><span xmlns="" class="line">​</span><span xmlns="" class="perl_Function">getNext</span>().<span xmlns="" class="perl_Function">invoke</span>(request, response);</pre></li><li class="step"><p class="title"><strong>Optional: Specify parameters</strong></p><div class="para">
				If the valve must be configurable, enable this by adding a parameter. Do this by adding an instance variable and a setter method for each parameter.
			</div><pre class="programlisting"><span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">private</span> String restrictedUserAgents = <span xmlns="" class="perl_Keyword">null</span>;
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_DataType">void</span> <span xmlns="" class="perl_Function">setRestricteduserAgents</span>(String mystring) 
<span xmlns="" class="line">​</span>{
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">this</span>.<span xmlns="" class="perl_Function">restrictedUserAgents</span> = mystring;
<span xmlns="" class="line">​</span>}</pre></li></ol></div><div class="example"><a id="idp13720672">
      ⁠</a><p class="title"><strong>Example&nbsp;4.4.&nbsp;Sample Custom Valve</strong></p><div class="example-contents"><pre class="programlisting"><span xmlns="" class="line">​</span>package org.<span xmlns="" class="perl_Function">jboss</span>.<span xmlns="" class="perl_Function">samplevalves</span>;
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">import java.io.IOException;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">import java.util.regex.Pattern;</span>
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">import javax.servlet.ServletException;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">import org.apache.catalina.valves.ValveBase;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">import org.apache.catalina.connector.Request;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">import org.apache.catalina.connector.Response;</span>
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_Keyword">class</span> RestrictedUserAgentsValve <span xmlns="" class="perl_Keyword">extends</span> ValveBase 
<span xmlns="" class="line">​</span>{
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">private</span> String restrictedUserAgents = <span xmlns="" class="perl_Keyword">null</span>;
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_DataType">void</span> <span xmlns="" class="perl_Function">setRestrictedUserAgents</span>(String mystring) 
<span xmlns="" class="line">​</span>    {
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">this</span>.<span xmlns="" class="perl_Function">restrictedUserAgents</span> = mystring;
<span xmlns="" class="line">​</span>    }
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_DataType">void</span> <span xmlns="" class="perl_Function">invoke</span>(Request request, Response response) <span xmlns="" class="perl_Keyword">throws</span> IOException, ServletException 
<span xmlns="" class="line">​</span>    {
<span xmlns="" class="line">​</span>      String agent = request.<span xmlns="" class="perl_Function">getHeader</span>(<span xmlns="" class="perl_String">"User-Agent"</span>);
<span xmlns="" class="line">​</span>      System.<span xmlns="" class="perl_Function">out</span>.<span xmlns="" class="perl_Function">println</span>(<span xmlns="" class="perl_String">"user-agent: "</span> + agent + <span xmlns="" class="perl_String">" : "</span> + restrictedUserAgents);
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">if</span> (Pattern.<span xmlns="" class="perl_Function">matches</span>(restrictedUserAgents, agent)) 
<span xmlns="" class="line">​</span>      {
<span xmlns="" class="line">​</span>         System.<span xmlns="" class="perl_Function">out</span>.<span xmlns="" class="perl_Function">println</span>(<span xmlns="" class="perl_String">"user-agent: "</span> + agent + <span xmlns="" class="perl_String">" matches: "</span> + restrictedUserAgents);
<span xmlns="" class="line">​</span>         response.<span xmlns="" class="perl_Function">addHeader</span>(<span xmlns="" class="perl_String">"Connection"</span>, <span xmlns="" class="perl_String">"close"</span>);
<span xmlns="" class="line">​</span>      }
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Function">getNext</span>().<span xmlns="" class="perl_Function">invoke</span>(request, response);
<span xmlns="" class="line">​</span>    }
<span xmlns="" class="line">​</span>}</pre></div></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+14175-650656+%5BLatest%5D&comment=Title%3A+Create+a+Custom+Valve%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=14175-650656+04+Jun+2014+01%3A00+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div></div><div xml:lang="en-US" class="chapter" lang="en-US"><div class="titlepage"><div><div><h1 class="title"><a id="chap-Logging_for_Developers">
      ⁠</a>Chapter&nbsp;5.&nbsp;Logging for Developers</h1></div></div></div><div class="toc"><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Introduction3">5.1. Introduction</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Logging">5.1.1. About Logging</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Application_Logging_Frameworks_Supported_By_JBoss_LogManager1">5.1.2. Application Logging Frameworks Supported By JBoss LogManager</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Log_Levels">5.1.3. About Log Levels</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Supported_Log_Levels">5.1.4. Supported Log Levels</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Default_Log_File_Locations">5.1.5. Default Log File Locations</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Logging_with_the_JBoss_Logging_Framework">5.2. Logging with the JBoss Logging Framework</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_JBoss_Logging">5.2.1. About JBoss Logging</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Features_of_JBoss_Logging">5.2.2. Features of JBoss Logging</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Add_Logging_to_an_Application_with_JBoss_Logging">5.2.3. Add Logging to an Application with JBoss Logging</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Per-deployment_Logging">5.3. Per-deployment Logging</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Per-deployment_Logging">5.3.1. About Per-deployment Logging</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Add_Per-deployment_Logging_to_an_Application">5.3.2. Add Per-deployment Logging to an Application</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Example_logging.properties_File">5.3.3. Example logging.properties File</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Logging_Profiles">5.4. Logging Profiles</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Logging_Profiles">5.4.1. About Logging Profiles</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Specify_a_Logging_Profile_in_an_Application">5.4.2. Specify a Logging Profile in an Application</a></span></dt></dl></dd></dl></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="sect-Introduction3">
      ⁠</a>5.1.&nbsp;Introduction</h2></div></div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="About_Logging">
      ⁠</a>5.1.1.&nbsp;About Logging</h3></div></div></div><div class="para">
		Logging is the practice of recording a series of messages from an application that provide a record (or log) of the application's activities.
	</div><div class="para">
		Log messages provide important information for developers when debugging an application and for system administrators maintaining applications in production.
	</div><div class="para">
		Most modern logging frameworks in Java also include other details such as the exact time and the origin of the message.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4576-591666+%5BLatest%5D&comment=Title%3A+About+Logging%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4576-591666+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="Application_Logging_Frameworks_Supported_By_JBoss_LogManager1">
      ⁠</a>5.1.2.&nbsp;Application Logging Frameworks Supported By JBoss LogManager</h3></div></div></div><div class="para">
		JBoss LogManager supports the following logging frameworks:
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
				JBoss Logging - included with JBoss EAP 6
			</div></li><li class="listitem"><div class="para">
				Apache Commons Logging - <a href="http://commons.apache.org/logging/">http://commons.apache.org/logging/</a>
			</div></li><li class="listitem"><div class="para">
				Simple Logging Facade for Java (SLF4J) - <a href="http://www.slf4j.org/">http://www.slf4j.org/</a>
			</div></li><li class="listitem"><div class="para">
				Apache log4j - <a href="http://logging.apache.org/log4j/1.2/">http://logging.apache.org/log4j/1.2/</a>
			</div></li><li class="listitem"><div class="para">
				Java SE Logging (java.util.logging) - <a href="http://download.oracle.com/javase/6/docs/api/java/util/logging/package-summary.html">http://download.oracle.com/javase/6/docs/api/java/util/logging/package-summary.html</a>
			</div></li></ul></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4496-591663+%5BLatest%5D&comment=Title%3A+Application+Logging+Frameworks+Supported+By+JBoss+LogManager%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4496-591663+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="About_Log_Levels">
      ⁠</a>5.1.3.&nbsp;About Log Levels</h3></div></div></div><div class="para">
		Log levels are an ordered set of enumerated values that indicate the nature and severity of a log message. The level of a given log message is specified by the developer using the appropriate methods of their chosen logging framework to send the message.
	</div><div class="para">
		JBoss EAP 6 supports all the log levels used by the supported application logging frameworks. The most commonly used six log levels are (in order of lowest to highest): <code class="literal">TRACE</code>, <code class="literal">DEBUG</code>, <code class="literal">INFO</code>, <code class="literal">WARN</code>, <code class="literal">ERROR</code> and <code class="literal">FATAL</code>.
	</div><div class="para">
		Log levels are used by log categories and handlers to limit the messages they are responsible for. Each log level has an assigned numeric value which indicates its order relative to other log levels. Log categories and handlers are assigned a log level and they only process log messages of that level or higher. For example a log handler with the level of <code class="literal">WARN</code> will only record messages of the levels <code class="literal">WARN</code>, <code class="literal">ERROR</code> and <code class="literal">FATAL</code>.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+8869-591853+%5BLatest%5D&comment=Title%3A+About+Log+Levels%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=8869-591853+24+Feb+2014+07%3A55+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="Supported_Log_Levels">
      ⁠</a>5.1.4.&nbsp;Supported Log Levels</h3></div></div></div><div class="table"><a id="table-supported-log-levels">
      ⁠</a><p class="title"><strong>Table&nbsp;5.1.&nbsp;Supported Log Levels</strong></p><div class="table-contents"><table xmlns:d="http://docbook.org/ns/docbook" class="lt-4-cols gt-7-rows" summary="Supported Log Levels"><colgroup><col width="14%" align="left" class="c1"><col width="10%" align="left" class="c2"><col width="76%" align="left" class="c3"></colgroup><thead><tr><th align="left"> Log Level </th><th align="left"> Value </th><th align="left"> Description </th></tr></thead><tbody><tr><td align="left"> FINEST </td><td align="left"> 300 </td><td align="left"> <div class="para">
						-
					</div>
					 </td></tr><tr><td align="left"> FINER </td><td align="left"> 400 </td><td align="left"> <div class="para">
						-
					</div>
					 </td></tr><tr><td align="left"> TRACE </td><td align="left"> 400 </td><td align="left"> <div class="para">
						Use for messages that provide detailed information about the running state of an application. Log messages of <code class="literal">TRACE</code> are usually only captured when debugging an application.
					</div>
					 </td></tr><tr><td align="left"> DEBUG </td><td align="left"> 500 </td><td align="left"> <div class="para">
						Use for messages that indicate the progress individual requests or activities of an application. Log messages of <code class="literal">DEBUG</code> are usually only captured when debugging an application.
					</div>
					 </td></tr><tr><td align="left"> FINE </td><td align="left"> 500 </td><td align="left"> <div class="para">
						-
					</div>
					 </td></tr><tr><td align="left"> CONFIG </td><td align="left"> 700 </td><td align="left"> <div class="para">
						-
					</div>
					 </td></tr><tr><td align="left"> INFO </td><td align="left"> 800 </td><td align="left"> <div class="para">
						Use for messages that indicate the overall progress of the application. Often used for application startup, shutdown and other major lifecycle events.
					</div>
					 </td></tr><tr><td align="left"> WARN </td><td align="left"> 900 </td><td align="left"> <div class="para">
						Use to indicate a situation that is not in error but is not considered ideal. May indicate circumstances that may lead to errors in the future.
					</div>
					 </td></tr><tr><td align="left"> WARNING </td><td align="left"> 900 </td><td align="left"> <div class="para">
						-
					</div>
					 </td></tr><tr><td align="left"> ERROR </td><td align="left"> 1000 </td><td align="left"> <div class="para">
						Use to indicate an error that has occurred that could prevent the current activity or request from completing but will not prevent the application from running.
					</div>
					 </td></tr><tr><td align="left"> SEVERE </td><td align="left"> 1000 </td><td align="left"> <div class="para">
						-
					</div>
					 </td></tr><tr><td align="left"> FATAL </td><td align="left"> 1100 </td><td align="left"> <div class="para">
						Use to indicate events that could cause critical service failure and application shutdown and possibly cause JBoss EAP 6 to shutdown.
					</div>
					 </td></tr></tbody></table></div></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+8872-591853+%5BLatest%5D&comment=Title%3A+Supported+Log+Levels%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=8872-591853+24+Feb+2014+07%3A55+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="Default_Log_File_Locations">
      ⁠</a>5.1.5.&nbsp;Default Log File Locations</h3></div></div></div><div class="para">
		These are the log files that get created for the default logging configurations. The default configuration writes the server log files using periodic log handlers
	</div><div class="table"><a id="topicID4495-table-standalone_log_file_locations">
      ⁠</a><p class="title"><strong>Table&nbsp;5.2.&nbsp;Default Log File for a standalone server</strong></p><div class="table-contents"><table xmlns:d="http://docbook.org/ns/docbook" class="lt-4-cols lt-7-rows" summary="Default Log File for a standalone server"><colgroup><col width="50%" align="left" class="c1"><col width="50%" align="left" class="c2"></colgroup><thead><tr><th align="left"> Log File </th><th align="left"> Description </th></tr></thead><tbody><tr><td align="left"> <code class="filename"><em class="replaceable">EAP_HOME</em>/standalone/log/server.log</code> </td><td align="left"> <div class="para">
						Server Log. Contains all server log messages, including server startup messages.
					</div>
					 </td></tr><tr><td align="left"> <code class="filename"><em class="replaceable">EAP_HOME</em>/standalone/log/gc.log </code> </td><td align="left"> <div class="para">
						Garbage collection log. Contains details of all garbage collection.
					</div>
					 </td></tr></tbody></table></div></div><div class="table"><a id="topicID4495-table-domain_log_file_locations">
      ⁠</a><p class="title"><strong>Table&nbsp;5.3.&nbsp;Default Log Files for a managed domain</strong></p><div class="table-contents"><table xmlns:d="http://docbook.org/ns/docbook" class="lt-4-cols lt-7-rows" summary="Default Log Files for a managed domain"><colgroup><col width="50%" align="left" class="c1"><col width="50%" align="left" class="c2"></colgroup><thead><tr><th align="left"> Log File </th><th align="left"> Description </th></tr></thead><tbody><tr><td align="left"> <code class="filename"><em class="replaceable">EAP_HOME</em>/domain/log/host-controller.log</code> </td><td align="left"> <div class="para">
						Host Controller boot log. Contains log messages related to the startup of the host controller.
					</div>
					 </td></tr><tr><td align="left"> <code class="filename"><em class="replaceable">EAP_HOME</em>/domain/log/process-controller.log</code> </td><td align="left"> <div class="para">
						Process controller boot log. Contains log messages related to the startup of the process controller.
					</div>
					 </td></tr><tr><td align="left"> <code class="filename"><em class="replaceable">EAP_HOME</em>/domain/servers/<em class="replaceable">SERVERNAME</em>/log/server.log</code> </td><td align="left"> <div class="para">
						The server log for the named server. Contains all log messages for that server, including server startup messages.
					</div>
					 </td></tr></tbody></table></div></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4495-635317+%5BLatest%5D&comment=Title%3A+Default+Log+File+Locations%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4495-635317+30+Apr+2014+23%3A43+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="sect-Logging_with_the_JBoss_Logging_Framework">
      ⁠</a>5.2.&nbsp;Logging with the JBoss Logging Framework</h2></div></div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="About_JBoss_Logging">
      ⁠</a>5.2.1.&nbsp;About JBoss Logging</h3></div></div></div><div class="para">
		JBoss Logging is the application logging framework that is included in JBoss EAP 6.
	</div><div class="para">
		JBoss Logging provide an easy way to add logging to an application. You add code to your application that uses the framework to send log messages in a defined format. When the application is deployed to an application server, these messages can be captured by the server and displayed and/or written to file according to the server's configuration.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4575-591666+%5BLatest%5D&comment=Title%3A+About+JBoss+Logging%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4575-591666+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="Features_of_JBoss_Logging">
      ⁠</a>5.2.2.&nbsp;Features of JBoss Logging</h3></div></div></div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
				Provides an innovative, easy to use "typed" logger.
			</div></li><li class="listitem"><div class="para">
				Full support for internationalization and localization. Translators work with message bundles in properties files while developers can work with interfaces and annotations.
			</div></li><li class="listitem"><div class="para">
				Build-time tooling to generate typed loggers for production, and runtime generation of typed loggers for development.
			</div></li></ul></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4578-591669+%5BLatest%5D&comment=Title%3A+Features+of+JBoss+Logging%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4578-591669+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="Add_Logging_to_an_Application_with_JBoss_Logging">
      ⁠</a>5.2.3.&nbsp;Add Logging to an Application with JBoss Logging</h3></div></div></div><div class="para">
		To log messages from your application you create a Logger object (<code class="code">org.jboss.logging.Logger</code>) and call the appropriate methods of that object. This task describes the steps required to add support for this to your application.
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><div class="para">
			You must meet the following conditions before continuing with this task:
		</div><ul><li class="listitem"><div class="para">
				If you are using Maven as your build system, the project must already be configured to include the JBoss Maven Repository. Refer to <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Configure_the_JBoss_Enterprise_Application_Platform_Maven_Repository_Using_the_Maven_Settings">Section&nbsp;2.3.2, “Configure the JBoss EAP 6 Maven Repository Using the Maven Settings”</a>
			</div></li><li class="listitem"><div class="para">
				The JBoss Logging JAR files must be in the build path for your application. How you do this depends on whether you build your application using Red Hat JBoss Developer Studio or with Maven.
			</div><div class="itemizedlist"><ul><li class="listitem"><div class="para">
						When building using Red Hat JBoss Developer Studio this can be done selecting Project -&gt; Properties from the Red Hat JBoss Developer Studio menu, selecting Targeted Runtimes and ensuring the runtime for JBoss EAP 6 is checked.
					</div></li><li class="listitem"><div class="para">
						When building using Maven this can be done by adding the following dependency configuration to your project's <code class="filename">pom.xml</code> file.
					</div><pre class="programlisting"><span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;dependency&gt;</span>
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">&lt;groupId&gt;</span>org.jboss.logging<span xmlns="" class="perl_Keyword">&lt;/groupId&gt;</span>
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">&lt;artifactId&gt;</span>jboss-logging<span xmlns="" class="perl_Keyword">&lt;/artifactId&gt;</span>
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">&lt;version&gt;</span>3.1.2.GA-redhat-1<span xmlns="" class="perl_Keyword">&lt;/version&gt;</span>
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">&lt;scope&gt;</span>provided<span xmlns="" class="perl_Keyword">&lt;/scope&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;/dependency&gt;</span></pre></li></ul></div><div class="para">
				You do not need to include the JARs in your built application because JBoss EAP 6 provides them to deployed applications.
			</div></li></ul></div><div class="para">
		Once your project is setup correctly. You need to follow the following steps for each class that you want to add logging to:
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><ol class="1"><li class="step"><p class="title"><strong>Add imports</strong></p><div class="para">
				Add the import statements for the JBoss Logging class namespaces that you will be using. At a minimum you will need to import <code class="code">import org.jboss.logging.Logger</code>. 
<pre class="programlisting"><span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">import org.jboss.logging.Logger;</span></pre>

			</div></li><li class="step"><p class="title"><strong>Create a Logger object</strong></p><div class="para">
				Create an instance of <code class="code">org.jboss.logging.Logger</code> and initialize it by calling the static method <code class="code">Logger.getLogger(Class)</code>. Red Hat recommends creating this as a single instance variable for each class.
			</div><pre class="programlisting"><span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">private</span> <span xmlns="" class="perl_DataType">static</span> <span xmlns="" class="perl_DataType">final</span> Logger LOGGER = Logger.<span xmlns="" class="perl_Function">getLogger</span>(HelloWorld.<span xmlns="" class="perl_Function">class</span>);</pre></li><li class="step"><p class="title"><strong>Add logging messages</strong></p><div class="para">
				Add calls to the methods of the <code class="code">Logger</code> object to your code where you want it to send log messages. The <code class="code">Logger</code> object has many different methods with different parameters for different types of messages. The easiest to use are:
			</div><table border="0" summary="Simple list" class="simplelist"><tbody><tr><td> <code class="code">debug(Object message)</code> </td></tr><tr><td> <code class="code">info(Object message)</code> </td></tr><tr><td> <code class="code">error(Object message)</code> </td></tr><tr><td> <code class="code">trace(Object message)</code> </td></tr><tr><td> <code class="code">fatal(Object message)</code> </td></tr></tbody></table><div class="para">
				These methods send a log message with the corresponding log level and the <code class="code">message</code> parameter as a string.
			</div><pre class="programlisting"><span xmlns="" class="line">​</span>LOGGER.<span xmlns="" class="perl_Function">error</span>(<span xmlns="" class="perl_String">"Configuration file not found."</span>);</pre><div class="para">
				For the complete list of JBoss Logging methods refer to the <code class="code">org.jboss.logging</code> package in the JBoss EAP 6 API Documentation.
			</div></li></ol></div><div class="example"><a id="idp16616176">
      ⁠</a><p class="title"><strong>Example&nbsp;5.1.&nbsp;Using JBoss Logging when opening a properties file</strong></p><div class="example-contents"><div class="para">
			This example shows an extract of code from a class that loads customized configuration for an application from a properties file. If the specified file is not found, a ERROR level log message is recorded.
		</div><pre class="programlisting"><span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">import org.jboss.logging.Logger;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_Keyword">class</span> LocalSystemConfig
<span xmlns="" class="line">​</span>{
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">private</span> <span xmlns="" class="perl_DataType">static</span> <span xmlns="" class="perl_DataType">final</span> Logger LOGGER = Logger.<span xmlns="" class="perl_Function">getLogger</span>(LocalSystemConfig.<span xmlns="" class="perl_Function">class</span>);
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">public</span> Properties <span xmlns="" class="perl_Function">openCustomProperties</span>(String configname) <span xmlns="" class="perl_Keyword">throws</span> CustomConfigFileNotFoundException
<span xmlns="" class="line">​</span>   {
<span xmlns="" class="line">​</span>      Properties props = <span xmlns="" class="perl_Keyword">new</span> Properties();
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">try</span> 
<span xmlns="" class="line">​</span>      {
<span xmlns="" class="line">​</span>         LOGGER.<span xmlns="" class="perl_Function">info</span>(<span xmlns="" class="perl_String">"Loading custom configuration from "</span>+configname);
<span xmlns="" class="line">​</span>         props.<span xmlns="" class="perl_Function">load</span>(<span xmlns="" class="perl_Keyword">new</span> FileInputStream(configname));
<span xmlns="" class="line">​</span>      }
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">catch</span>(IOException e) <span xmlns="" class="perl_Comment">//catch exception in case properties file does not exist</span>
<span xmlns="" class="line">​</span>      {
<span xmlns="" class="line">​</span>         LOGGER.<span xmlns="" class="perl_Function">error</span>(<span xmlns="" class="perl_String">"Custom configuration file ("</span>+configname+<span xmlns="" class="perl_String">") not found. Using defaults."</span>);
<span xmlns="" class="line">​</span>         <span xmlns="" class="perl_Keyword">throw</span> <span xmlns="" class="perl_Keyword">new</span> <span xmlns="" class="perl_Function">CustomConfigFileNotFoundException</span>(configname);
<span xmlns="" class="line">​</span>      }
<span xmlns="" class="line">​</span>      
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">return</span> props;
<span xmlns="" class="line">​</span>   }</pre></div></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4501-681231+%5BLatest%5D&comment=Title%3A+Add+Logging+to+an+Application+with+JBoss+Logging%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4501-681231+04+Jul+2014+00%3A28+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="sect-Per-deployment_Logging">
      ⁠</a>5.3.&nbsp;Per-deployment Logging</h2></div></div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="About_Per-deployment_Logging">
      ⁠</a>5.3.1.&nbsp;About Per-deployment Logging</h3></div></div></div><div class="para">
		Per-deployment logging allows a developer to configure in advance the logging configuration for their application. When the application is deployed, logging begins according to the defined configuration. The log files created through this configuration contain information only about the behavior of the application.
	</div><div class="para">
		This approach has advantages and disadvantages over using system-wide logging. An advantage is that the administrator of the JBoss EAP instance does not need to configure logging. A disadvantage is that the per-deployment logging configuration is read only on startup and so cannot be changed at runtime.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+34418-707569+%5BLatest%5D&comment=Title%3A+About+Per-deployment+Logging%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=34418-707569+09+Sep+2014+16%3A27+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="Add_Per-deployment_Logging_to_an_Application">
      ⁠</a>5.3.2.&nbsp;Add Per-deployment Logging to an Application</h3></div></div></div><div class="para">
		To configure per-deployment logging, add the logging configuration file <code class="filename">logging.properties</code> into the deployment. This configuration file is recommended because it can be used with any logging facade as the JBoss Log Manager is the underlying log manager used.
	</div><div class="para">
		If you are using <code class="literal">Simple Logging Facade for Java (SLF4J)</code> or <code class="literal">Apache log4j</code>, the <code class="filename">logging.properties</code> configuration file is suitable. If you are using Apache log4j appenders then the configuration file <code class="filename">log4j.properties</code> is required. The configuration file <code class="filename">jboss-logging.properties</code> is supported only for legacy deployments.
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idp18348304">
      ⁠</a><p class="title"><strong>Procedure&nbsp;5.1.&nbsp;Add Configuration File to the Application</strong></p><ul><li class="step"><p class="title"><strong>The directory into which the configuration file is added depends on the deployment method: <code class="literal">EAR</code>, <code class="literal">WAR</code> or <code class="literal">JAR</code>.</strong></p><ul class="stepalternatives">
				<li class="step"><p class="title"><strong><code class="literal">EAR</code> deployment</strong></p><div class="para">
						Copy the logging configuration file to the <code class="filename">META-INF</code> directory.
					</div></li>
				 <li class="step"><p class="title"><strong><code class="literal">WAR</code> or <code class="literal">JAR</code> deployment</strong></p><div class="para">
						Copy the logging configuration file to either the <code class="filename">META-INF</code> or <code class="filename">WEB-INF/classes</code> directory.
					</div></li>

			</ul></li></ul></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+34424-665446+%5BLatest%5D&comment=Title%3A+Add+Per-deployment+Logging+to+an+Application%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=34424-665446+10+Jun+2014+03%3A58+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="Example_logging.properties_File">
      ⁠</a>5.3.3.&nbsp;Example logging.properties File</h3></div></div></div><pre class="screen"># Additional loggers to configure (the root logger is always configured)
loggers=
# Root logger configuration
logger.level=INFO
logger.handlers=FILE
 
# A handler configuration
handler.FILE=org.jboss.logmanager.handlers.FileHandler
handler.FILE.level=ALL
handler.FILE.formatter=PATTERN
handler.FILE.properties=append,autoFlush,enabled,suffix,fileName
handler.FILE.constructorProperties=fileName,append
handler.FILE.append=true
handler.FILE.autoFlush=true
handler.FILE.enabled=true
handler.FILE.fileName=${jboss.server.log.dir}/app.log
 
# The formatter to use
formatter.PATTERN=org.jboss.logmanager.formatters.PatternFormatter
formatter.PATTERN.properties=pattern
formatter.PATTERN.constructorProperties=pattern
formatter.PATTERN.pattern=%d %-5p %c: %m%n
</pre><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+34426-665446+%5BLatest%5D&comment=Title%3A+Example+logging.properties+File%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=34426-665446+10+Jun+2014+03%3A58+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="sect-Logging_Profiles">
      ⁠</a>5.4.&nbsp;Logging Profiles</h2></div></div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="About_Logging_Profiles">
      ⁠</a>5.4.1.&nbsp;About Logging Profiles</h3></div></div></div><div xmlns:d="http://docbook.org/ns/docbook" class="important"><div class="admonition_header"><p><strong>Important</strong></p></div><div class="admonition"><div class="para">
			Logging profiles are only available in version 6.1.0 and later. They cannot be configured using the management console.
		</div></div></div><div class="para">
		Logging profiles are independent sets of logging configuration that can be assigned to deployed applications. As with the regular logging subsystem, a logging profile can define handlers, categories and a root logger but cannot refer to configuration in other profiles or the main logging subsystem. The design of logging profiles mimics the logging subsystem for ease of configuration.
	</div><div class="para">
		The use of logging profiles allows administrators to create logging configuration that are specific to one or more applications without affecting any other logging configuration. Because each profile is defined in the server configuration, the logging configuration can be changed without requiring that the affected applications be redeployed.
	</div><div class="para">
		Each logging profile can have the following configuration:
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
				A unique name. This is required.
			</div></li><li class="listitem"><div class="para">
				Any number of log handlers.
			</div></li><li class="listitem"><div class="para">
				Any number of log categories.
			</div></li><li class="listitem"><div class="para">
				Up to one root logger.
			</div></li></ul></div><div class="para">
		An application can specify a logging profile to use in its <code class="filename">MANIFEST.MF</code> file, using the <em class="parameter"><code>logging-profile</code></em> attribute.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+14116-648922+%5BLatest%5D&comment=Title%3A+About+Logging+Profiles%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=14116-648922+02+Jun+2014+12%3A03+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="Specify_a_Logging_Profile_in_an_Application">
      ⁠</a>5.4.2.&nbsp;Specify a Logging Profile in an Application</h3></div></div></div><div class="para">
		An application specifies the logging profile to use in its <code class="filename">MANIFEST.MF</code> file.
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="orderedlist"><p class="title"><strong>Prerequisites:</strong></p><ol><li class="listitem"><div class="para">
				You must know the name of the logging profile that has been setup on the server for this application to use. Ask your server administrator for the name of the profile to use.
			</div></li></ol></div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idp99771936">
      ⁠</a><p class="title"><strong>Procedure&nbsp;5.2.&nbsp;Add Logging Profile configuration to an Application</strong></p><ul><li class="step"><p class="title"><strong>Edit <code class="filename">MANIFEST.MF</code></strong></p><div class="para">
				If your application does not have a <code class="filename">MANIFEST.MF</code> file: create one with the following content, replacing <em class="replaceable">NAME</em> with the required profile name.
			</div><pre class="screen">Manifest-Version: 1.0
Logging-Profile: NAME</pre><div class="para">
				If your application already has a <code class="filename">MANIFEST.MF</code> file: add the following line to it, replacing <em class="replaceable">NAME</em> with the required profile name.
			</div><pre class="screen">Logging-Profile: NAME</pre></li></ul></div><div xmlns:d="http://docbook.org/ns/docbook" class="note"><div class="admonition_header"><p><strong>Note</strong></p></div><div class="admonition"><div class="para">
			If you are using Maven and the <code class="systemitem">maven-war-plugin</code>, you can put your MANIFEST.MF file in <code class="filename">src/main/resources/META-INF/</code> and add the following configuration to your <code class="filename">pom.xml</code> file.
		</div><pre class="programlisting"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;plugin&gt;</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">&lt;artifactId&gt;</span>maven-war-plugin<span xmlns="" class="perl_Keyword">&lt;/artifactId&gt;</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">&lt;configuration&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;archive&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;manifestFile&gt;</span>src/main/resources/META-INF/MANIFEST.MF<span xmlns="" class="perl_Keyword">&lt;/manifestFile&gt;</span>  
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;/archive&gt;</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">&lt;/configuration&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;/plugin&gt;</span></pre></div></div><div class="para">
		When the application is deployed it will use the configuration in the specified logging profile for its log messages.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+14120-647035+%5BLatest%5D&comment=Title%3A+Specify+a+Logging+Profile+in+an+Application%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=14120-647035+30+May+2014+14%3A53+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div></div></div><div xml:lang="en-US" class="chapter" lang="en-US"><div class="titlepage"><div><div><h1 class="title"><a id="chap-Internationalization_and_Localization">
      ⁠</a>Chapter&nbsp;6.&nbsp;Internationalization and Localization</h1></div></div></div><div class="toc"><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Introduction">6.1. Introduction</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Internationalisation">6.1.1. About Internationalization</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Localization">6.1.2. About Localization</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-JBoss_Logging_Tools">6.2. JBoss Logging Tools</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Overview">6.2.1. Overview</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Creating_Internationalized_Loggers_Messages_and_Exceptions">6.2.2. Creating Internationalized Loggers, Messages and Exceptions</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Localizing_Internationalized_Loggers_Messages_and_Exceptions">6.2.3. Localizing Internationalized Loggers, Messages and Exceptions</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Customizing_Internationalized_Log_Messages">6.2.4. Customizing Internationalized Log Messages</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Customizing_Internationalized_Exceptions">6.2.5. Customizing Internationalized Exceptions</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Reference">6.2.6. Reference</a></span></dt></dl></dd></dl></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="sect-Introduction">
      ⁠</a>6.1.&nbsp;Introduction</h2></div></div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="About_Internationalisation">
      ⁠</a>6.1.1.&nbsp;About Internationalization</h3></div></div></div><div class="para">
		Internationalization is the process of designing software so that it can be adapted to different languages and regions without engineering changes.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4891-591677+%5BLatest%5D&comment=Title%3A+About+Internationalization%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4891-591677+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="About_Localization">
      ⁠</a>6.1.2.&nbsp;About Localization</h3></div></div></div><div class="para">
		Localization is the process of adapting internationalized software for a specific region or language by adding locale-specific components and translations of text.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4892-591677+%5BLatest%5D&comment=Title%3A+About+Localization%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4892-591677+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="sect-JBoss_Logging_Tools">
      ⁠</a>6.2.&nbsp;JBoss Logging Tools</h2></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="sect-Overview">
      ⁠</a>6.2.1.&nbsp;Overview</h3></div></div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="JBoss_Logging_Tools_Internationalization_and_Localization">
      ⁠</a>6.2.1.1.&nbsp;JBoss Logging Tools Internationalization and Localization</h4></div></div></div><div class="para">
		JBoss Logging Tools is a Java API that provides support for the internationalization and localization of log messages, exception messages, and generic strings. In addition to providing a mechanism for translation, JBoss Logging tools also provides support for unique identifiers for each log message.
	</div><div class="para">
		Internationalized messages and exceptions are created as method definitions inside of interfaces annotated using <code class="code">org.jboss.logging</code> annotations. It is not necessary to implement the interfaces, JBoss Logging Tools does this at compile time. Once defined you can use these methods to log messages or obtain exception objects in your code.
	</div><div class="para">
		Internationalized logging and exception interfaces created with JBoss Logging Tools can be localized by creating a properties file for each bundle containing the translations for a specific language and region. JBoss Logging Tools can generate template property files for each bundle that can then be edited by a translator.
	</div><div class="para">
		JBoss Logging Tools creates an implementation of each bundle for each corresponding translations property file in your project. All you have to do is use the methods defined in the bundles and JBoss Logging Tools ensures that the correct implementation is invoked for your current regional settings.
	</div><div class="para">
		Message ids and project codes are unique identifiers that are prepended to each log message. These unique identifiers can be used in documentation to make it easy to find information about log messages. With adequate documentation, the meaning of a log message can be determined from the identifiers regardless of the language that the message was written in.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4890-591677+%5BLatest%5D&comment=Title%3A+JBoss+Logging+Tools+Internationalization+and+Localization%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4890-591677+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="JBoss_Logging_Tools_Quickstart">
      ⁠</a>6.2.1.2.&nbsp;JBoss Logging Tools Quickstart</h4></div></div></div><div class="para">
		The JBoss Logging Tools quickstart, <code class="filename">logging-tools</code>, contains a simple Maven project that demonstrates the features of JBoss Logging Tools. It has been used extensively in this documentation for code samples.
	</div><div class="para">
		Refer to this quickstart for a complete working demonstration of all the features described in this documentation.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+6715-591753+%5BLatest%5D&comment=Title%3A+JBoss+Logging+Tools+Quickstart%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=6715-591753+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="Message_Logger">
      ⁠</a>6.2.1.3.&nbsp;Message Logger</h4></div></div></div><div class="para">
		A Message Logger is an interface that is used to define internationalized log messages. A Message Logger interface is annotated with <code class="code">@org.jboss.logging.MessageLogger</code>.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+6716-591753+%5BLatest%5D&comment=Title%3A+Message+Logger%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=6716-591753+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="Message_Bundle">
      ⁠</a>6.2.1.4.&nbsp;Message Bundle</h4></div></div></div><div class="para">
		A message bundle is an interface that can be used to define generic translatable messages and Exception objects with internationalized messages . A message bundle is not used for creating log messages.
	</div><div class="para">
		A message bundle interface is annotated with <code class="code">@org.jboss.logging.MessageBundle</code>.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+6717-591753+%5BLatest%5D&comment=Title%3A+Message+Bundle%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=6717-591753+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="Internationalized_Log_Messages">
      ⁠</a>6.2.1.5.&nbsp;Internationalized Log Messages</h4></div></div></div><div class="para">
		Internationalized Log Messages are log messages created by defining a method in a Message Logger. The method must be annotated with the <code class="code">@LogMessage</code> and <code class="code">@Message</code> annotations and specify the log message using the value attribute of <code class="code">@Message</code>. Internationalized log messages are localized by providing translations in a properties file.
	</div><div class="para">
		JBoss Logging Tools generates the required logging classes for each translation at compile time and invokes the correct methods for the current locale at runtime.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+6714-591753+%5BLatest%5D&comment=Title%3A+Internationalized+Log+Messages%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=6714-591753+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="Internationalized_Exceptions">
      ⁠</a>6.2.1.6.&nbsp;Internationalized Exceptions</h4></div></div></div><div class="para">
		An internationalized exception is an exception object returned from a method defined in a message bundle. Message bundle methods that return Java Exception objects can be annotated to define a default exception message. The default message is replaced with a translation if one is found in a matching properties file for the current locale. Internationalized exceptions can also have project codes and message ids assigned to them.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+6718-591753+%5BLatest%5D&comment=Title%3A+Internationalized+Exceptions%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=6718-591753+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="Internationalized_Messages">
      ⁠</a>6.2.1.7.&nbsp;Internationalized Messages</h4></div></div></div><div class="para">
		An internationalized message is a string returned from a method defined in a message bundle. Message bundle methods that return Java String objects can be annotated to define the default content of that String, known as the message. The default message is replaced with a translation if one is found in a matching properties file for the current locale.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+6719-591753+%5BLatest%5D&comment=Title%3A+Internationalized+Messages%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=6719-591753+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="Translation_Properties_Files">
      ⁠</a>6.2.1.8.&nbsp;Translation Properties Files</h4></div></div></div><div class="para">
		Translation properties files are Java properties files that contain the translations of messages from one interface for one locale, country, and variant. Translation properties files are used by the JBoss Logging Tools to generated the classes that return the messages.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+6720-591752+%5BLatest%5D&comment=Title%3A+Translation+Properties+Files%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=6720-591752+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="JBoss_Logging_Tools_Project_Codes">
      ⁠</a>6.2.1.9.&nbsp;JBoss Logging Tools Project Codes</h4></div></div></div><div class="para">
		Project codes are strings of characters that identify groups of messages. They are displayed at the beginning of each log message, prepended to the message Id. Project codes are defined with the <code class="code">projectCode</code> attribute of the <code class="code">@MessageLogger</code> annotation.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+5148-591684+%5BLatest%5D&comment=Title%3A+JBoss+Logging+Tools+Project+Codes%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=5148-591684+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="JBoss_Logging_Tools_Message_Ids">
      ⁠</a>6.2.1.10.&nbsp;JBoss Logging Tools Message Ids</h4></div></div></div><div class="para">
		Message Ids are numbers, that when combined with a project code, uniquely identify a log message. Message Ids are displayed at the beginning of each log message, appended to the project code for the message. Message Ids are defined with the <code class="code">id</code> attribute of the <code class="code">@Message</code> annotation.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+5149-591684+%5BLatest%5D&comment=Title%3A+JBoss+Logging+Tools+Message+Ids%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=5149-591684+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="sect-Creating_Internationalized_Loggers_Messages_and_Exceptions">
      ⁠</a>6.2.2.&nbsp;Creating Internationalized Loggers, Messages and Exceptions</h3></div></div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="Create_Internationalized_Log_Messages">
      ⁠</a>6.2.2.1.&nbsp;Create Internationalized Log Messages</h4></div></div></div><div class="para">
		This task shows you how to use JBoss Logging Tools to create internationalized log messages by creating MessageLogger interfaces. It does not cover all optional features or the localization of those log messages.
	</div><div class="para">
		Refer to the <code class="filename">logging-tools</code> quick start for a complete example.
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="orderedlist"><p class="title"><strong>Prerequisites:</strong></p><ol><li class="listitem"><div class="para">
				You must already have a working Maven project. Refer to <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#JBoss_Logging_Tools_Maven_Configuration">Section&nbsp;6.2.6.1, “JBoss Logging Tools Maven Configuration”</a>.
			</div></li><li class="listitem"><div class="para">
				The project must have the required maven configuration for JBoss Logging Tools.
			</div></li></ol></div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idp7919168">
      ⁠</a><p class="title"><strong>Procedure&nbsp;6.1.&nbsp;Create an Internationalized Log Message Bundle</strong></p><ol class="1"><li class="step"><p class="title"><strong>Create an Message Logger interface</strong></p><div class="para">
				Add a Java interface to your project to contain the log message definitions. Name the interface descriptively for the log messages that will be defined in it.
			</div><div class="para">
				The log message interface has the following requirements:
			</div><div class="itemizedlist"><ul><li class="listitem"><div class="para">
						It must be annotated with <code class="code">@org.jboss.logging.MessageLogger</code>.
					</div></li><li class="listitem"><div class="para">
						It must extend <code class="code">org.jboss.logging.BasicLogger</code>.
					</div></li><li class="listitem"><div class="para">
						The interface must define a field of that is a typed logger that implements this interface. Do this with the <code class="code">getMessageLogger()</code> method of <code class="code">org.jboss.logging.Logger</code>.
					</div></li></ul></div><pre class="programlisting"><span xmlns="" class="line">​</span>package com.<span xmlns="" class="perl_Function">company</span>.<span xmlns="" class="perl_Function">accounts</span>.<span xmlns="" class="perl_Function">loggers</span>;
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">import org.jboss.logging.BasicLogger;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">import org.jboss.logging.Logger;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">import org.jboss.logging.MessageLogger;</span>
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>@<span xmlns="" class="perl_Function">MessageLogger</span>(projectCode=<span xmlns="" class="perl_String">""</span>)
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">interface</span> AccountsLogger <span xmlns="" class="perl_Keyword">extends</span> BasicLogger
<span xmlns="" class="line">​</span>{
<span xmlns="" class="line">​</span>   AccountsLogger LOGGER = Logger.<span xmlns="" class="perl_Function">getMessageLogger</span>(
<span xmlns="" class="line">​</span>         AccountsLogger.<span xmlns="" class="perl_Function">class</span>,
<span xmlns="" class="line">​</span>         AccountsLogger.<span xmlns="" class="perl_Function">class</span>.<span xmlns="" class="perl_Function">getPackage</span>().<span xmlns="" class="perl_Function">getName</span>() );
<span xmlns="" class="line">​</span>}</pre></li><li class="step"><p class="title"><strong>Add method definitions</strong></p><div class="para">
				Add a method definition to the interface for each log message. Name each method descriptively for the log message that it represents.
			</div><div class="para">
				Each method has the following requirements:
			</div><div class="itemizedlist"><ul><li class="listitem"><div class="para">
						The method must return <code class="code">void</code>.
					</div></li><li class="listitem"><div class="para">
						It must be annotated with the <code class="code">@org.jboss.logging.LogMessage</code> annotation.
					</div></li><li class="listitem"><div class="para">
						It must be annotated with the <code class="code">@org.jboss.logging.Message</code> annotation.
					</div></li><li class="listitem"><div class="para">
						The value attribute of <code class="code">@org.jboss.logging.Message</code> contains the default log message. This is the message that is used if no translation is available.
					</div></li></ul></div><pre class="programlisting"><span xmlns="" class="line">​</span>@LogMessage
<span xmlns="" class="line">​</span>@<span xmlns="" class="perl_Function">Message</span>(value = <span xmlns="" class="perl_String">"Customer query failed, Database not available."</span>)
<span xmlns="" class="line">​</span><span xmlns="" class="perl_DataType">void</span> <span xmlns="" class="perl_Function">customerQueryFailDBClosed</span>();</pre><div class="para">
				The default log level is <code class="literal">INFO</code>.
			</div></li><li class="step"><p class="title"><strong>Invoke the methods</strong></p><div class="para">
				Add the calls to the interface methods in your code where the messages must be logged from. It is not necessary to create implementations of the interfaces, the annotation processor does this for you when the project is compiled.
			</div><pre class="programlisting"><span xmlns="" class="line">​</span>AccountsLogger.<span xmlns="" class="perl_Function">LOGGER</span>.<span xmlns="" class="perl_Function">customerQueryFailDBClosed</span>();</pre><div class="para">
				The custom loggers are sub-classed from BasicLogger so the logging methods of <code class="code">BasicLogger</code> (<code class="code">debug()</code>, <code class="code">error()</code> etc) can also be used. It is not necessary to create other loggers to log non-internationalized messages.
			</div><pre class="programlisting"><span xmlns="" class="line">​</span>AccountsLogger.<span xmlns="" class="perl_Function">LOGGER</span>.<span xmlns="" class="perl_Function">error</span>(<span xmlns="" class="perl_String">"Invalid query syntax."</span>);</pre></li></ol></div><div class="para">
		RESULT: the project now supports one or more internationalized loggers that can now be localized.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4898-591677+%5BLatest%5D&comment=Title%3A+Create+Internationalized+Log+Messages%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4898-591677+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="Create_and_Use_Internationalized_Messages">
      ⁠</a>6.2.2.2.&nbsp;Create and Use Internationalized Messages</h4></div></div></div><div class="para">
		This task shows you how to create internationalized messages and how to use them. This task does not cover all optional features or the process of localizing those messages.
	</div><div class="para">
		Refer to the <code class="filename">logging-tools</code> quickstart for a complete example.
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="orderedlist"><p class="title"><strong>Prerequisites</strong></p><ol><li class="listitem"><div class="para">
				You have a working Maven project using the JBoss EAP 6 repository. Refer to <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Configure_the_JBoss_Enterprise_Application_Platform_Maven_Repository_Using_the_Maven_Settings">Section&nbsp;2.3.2, “Configure the JBoss EAP 6 Maven Repository Using the Maven Settings”</a>.
			</div></li><li class="listitem"><div class="para">
				The required Maven configuration for JBoss Logging Tools has been added. Refer to <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#JBoss_Logging_Tools_Maven_Configuration">Section&nbsp;6.2.6.1, “JBoss Logging Tools Maven Configuration”</a>.
			</div></li></ol></div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idp6212704">
      ⁠</a><p class="title"><strong>Procedure&nbsp;6.2.&nbsp;Create and Use Internationalized Messages</strong></p><ol class="1"><li class="step"><p class="title"><strong>Create an interface for the exceptions</strong></p><div class="para">
				JBoss Logging Tools defines internationalized messages in interfaces. Name each interface descriptively for the messages that will be defined in it.
			</div><div class="para">
				The interface has the following requirements:
			</div><div class="itemizedlist"><ul><li class="listitem"><div class="para">
						It must be declared as public
					</div></li><li class="listitem"><div class="para">
						It must be annotated with <code class="code">@org.jboss.logging.MessageBundle</code>.
					</div></li><li class="listitem"><div class="para">
						The interface must define a field that is a message bundle of the same type as the interface.
					</div></li></ul></div><pre class="programlisting"><span xmlns="" class="line">​</span>@<span xmlns="" class="perl_Function">MessageBundle</span>(projectCode=<span xmlns="" class="perl_String">""</span>)
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_Keyword">interface</span> GreetingMessageBundle 
<span xmlns="" class="line">​</span>{
<span xmlns="" class="line">​</span>   GreetingMessageBundle MESSAGES = Messages.<span xmlns="" class="perl_Function">getBundle</span>(GreetingMessageBundle.<span xmlns="" class="perl_Function">class</span>);
<span xmlns="" class="line">​</span>}</pre></li><li class="step"><p class="title"><strong>Add method definitions</strong></p><div class="para">
				Add a method definition to the interface for each message. Name each method descriptively for the message that it represents.
			</div><div class="para">
				Each method has the following requirements:
			</div><div class="itemizedlist"><ul><li class="listitem"><div class="para">
						It must return an object of type <code class="code">String</code>.
					</div></li><li class="listitem"><div class="para">
						It must be annotated with the <code class="code">@org.jboss.logging.Message</code> annotation.
					</div></li><li class="listitem"><div class="para">
						The value attribute of <code class="code">@org.jboss.logging.Message</code> must be set to the default message. This is the message that is used if no translation is available.
					</div></li></ul></div><pre class="programlisting"><span xmlns="" class="line">​</span>@<span xmlns="" class="perl_Function">Message</span>(value = <span xmlns="" class="perl_String">"Hello world."</span>)
<span xmlns="" class="line">​</span>   String <span xmlns="" class="perl_Function">helloworldString</span>();</pre></li><li class="step"><p class="title"><strong>Invoke methods</strong></p><div class="para">
				Invoke the interface methods in your application where you need to obtain the message.
			</div><pre class="programlisting"><span xmlns="" class="line">​</span>System.<span xmlns="" class="perl_Function">console</span>.<span xmlns="" class="perl_Function">out</span>.<span xmlns="" class="perl_Function">println</span>(<span xmlns="" class="perl_Function">helloworldString</span>());</pre></li></ol></div><div class="para">
		RESULT: the project now supports internationalized message strings that can be localized.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4900-591677+%5BLatest%5D&comment=Title%3A+Create+and+Use+Internationalized+Messages%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4900-591677+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="Create_Internationalized_Exceptions">
      ⁠</a>6.2.2.3.&nbsp;Create Internationalized Exceptions</h4></div></div></div><div class="para">
		This task shows you how to create internationalized exceptions and how to use them. This task does not cover all optional features or the process of localization of those exceptions.
	</div><div class="para">
		Refer to the <code class="filename">logging-tools</code> quick start for a complete example.
	</div><div class="para">
		For this task it is assumed that you already have a software project, that is being built in either Red Hat JBoss Developer Studio or Maven, to which you want to add internationalized exceptions.
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idp14888368">
      ⁠</a><p class="title"><strong>Procedure&nbsp;6.3.&nbsp;Create and use Internationalized Exceptions</strong></p><ol class="1"><li class="step"><p class="title"><strong>Add JBoss Logging Tools configuration</strong></p><div class="para">
				Add the required project configuration to support JBoss Logging Tools. Refer to <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#JBoss_Logging_Tools_Maven_Configuration">Section&nbsp;6.2.6.1, “JBoss Logging Tools Maven Configuration”</a>
			</div></li><li class="step"><p class="title"><strong>Create an interface for the exceptions</strong></p><div class="para">
				JBoss Logging Tools defines internationalized exceptions in interfaces. Name each interface descriptively for the exceptions that will be defined in it.
			</div><div class="para">
				The interface has the following requirements:
			</div><div class="itemizedlist"><ul><li class="listitem"><div class="para">
						It must be declared as <code class="code">public</code>.
					</div></li><li class="listitem"><div class="para">
						It must be annotated with <code class="code">@org.jboss.logging.MessageBundle</code>.
					</div></li><li class="listitem"><div class="para">
						The interface must define a field that is a message bundle of the same type as the interface.
					</div></li></ul></div><pre class="programlisting"><span xmlns="" class="line">​</span>@<span xmlns="" class="perl_Function">MessageBundle</span>(projectCode=<span xmlns="" class="perl_String">""</span>)
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_Keyword">interface</span> ExceptionBundle 
<span xmlns="" class="line">​</span>{
<span xmlns="" class="line">​</span>   ExceptionBundle EXCEPTIONS = Messages.<span xmlns="" class="perl_Function">getBundle</span>(ExceptionBundle.<span xmlns="" class="perl_Function">class</span>);
<span xmlns="" class="line">​</span>}
</pre></li><li class="step"><p class="title"><strong>Add method definitions</strong></p><div class="para">
				Add a method definition to the interface for each exception. Name each method descriptively for the exception that it represents.
			</div><div class="para">
				Each method has the following requirements:
			</div><div class="itemizedlist"><ul><li class="listitem"><div class="para">
						It must return an object of type <code class="code">Exception</code> or a sub-type of <code class="code">Exception</code>.
					</div></li><li class="listitem"><div class="para">
						It must be annotated with the <code class="code">@org.jboss.logging.Message</code> annotation.
					</div></li><li class="listitem"><div class="para">
						The value attribute of <code class="code">@org.jboss.logging.Message</code> must be set to the default exception message. This is the message that is used if no translation is available.
					</div></li><li class="listitem"><div class="para">
						If the exception being returned has a constructor that requires parameters in addition to a message string, then those parameters must be supplied in the method definition using the <code class="code">@Param</code> annotation. The parameters must be the same type and order as the constructor.
					</div></li></ul></div><pre class="programlisting"><span xmlns="" class="line">​</span>@<span xmlns="" class="perl_Function">Message</span>(value = <span xmlns="" class="perl_String">"The config file could not be opened."</span>)
<span xmlns="" class="line">​</span>IOException <span xmlns="" class="perl_Function">configFileAccessError</span>();
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>@<span xmlns="" class="perl_Function">Message</span>(id = <span xmlns="" class="perl_Float">13230</span>, value = <span xmlns="" class="perl_String">"Date string '%s' was invalid."</span>)
<span xmlns="" class="line">​</span>ParseException <span xmlns="" class="perl_Function">dateWasInvalid</span>(String dateString, @Param <span xmlns="" class="perl_DataType">int</span> errorOffset);</pre></li><li class="step"><p class="title"><strong>Invoke methods</strong></p><div class="para">
				Invoke the interface methods in your code where you need to obtain one of the exceptions. The methods do not throw the exceptions, they return the exception object which you can then throw.
			</div><pre class="programlisting"><span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">try</span> 
<span xmlns="" class="line">​</span>{
<span xmlns="" class="line">​</span>   propsInFile=<span xmlns="" class="perl_Keyword">new</span> File(configname);
<span xmlns="" class="line">​</span>   props.<span xmlns="" class="perl_Function">load</span>(<span xmlns="" class="perl_Keyword">new</span> FileInputStream(propsInFile));
<span xmlns="" class="line">​</span>}
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">catch</span>(IOException ioex) <span xmlns="" class="perl_Comment">//in case props file does not exist</span>
<span xmlns="" class="line">​</span>{
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">throw</span> ExceptionBundle.<span xmlns="" class="perl_Function">EXCEPTIONS</span>.<span xmlns="" class="perl_Function">configFileAccessError</span>(); 
<span xmlns="" class="line">​</span>}</pre></li></ol></div><div class="para">
		RESULT: the project now supports internationalized exceptions that can be localized.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4899-681267+%5BLatest%5D&comment=Title%3A+Create+Internationalized+Exceptions%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4899-681267+04+Jul+2014+02%3A05+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="sect-Localizing_Internationalized_Loggers_Messages_and_Exceptions">
      ⁠</a>6.2.3.&nbsp;Localizing Internationalized Loggers, Messages and Exceptions</h3></div></div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="Generate_New_Translation_Properties_Files_with_Maven">
      ⁠</a>6.2.3.1.&nbsp;Generate New Translation Properties Files with Maven</h4></div></div></div><div class="para">
		Projects that are being built with Maven can generate empty translation property files for each Message Logger and Message Bundle it contains. These files can then be used as new translation property files.
	</div><div class="para">
		The following procedure shows how to configure a Maven project to generate new translation property files.
	</div><div class="para">
		Refer to the <code class="filename">logging-tools</code> quick start for a complete example.
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="orderedlist"><p class="title"><strong>Prerequisites:</strong></p><ol><li class="listitem"><div class="para">
				You must already have a working Maven project.
			</div></li><li class="listitem"><div class="para">
				The project must already be configured for JBoss Logging Tools.
			</div></li><li class="listitem"><div class="para">
				The project must contain one or more interfaces that define internationalized log messages or exceptions.
			</div></li></ol></div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idp1686640">
      ⁠</a><p class="title"><strong>Procedure&nbsp;6.4.&nbsp;Generate New Translation Properties Files with Maven</strong></p><ol class="1"><li class="step"><p class="title"><strong>Add Maven configuration</strong></p><div class="para">
				Add the <code class="code">-AgenereatedTranslationFilePath</code> compiler argument to the Maven compiler plug-in configuration and assign it the path where the new files will be created.
			</div><pre class="programlisting"><span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;plugin&gt;</span>
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">&lt;groupId&gt;</span>org.apache.maven.plugins<span xmlns="" class="perl_Keyword">&lt;/groupId&gt;</span>
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">&lt;artifactId&gt;</span>maven-compiler-plugin<span xmlns="" class="perl_Keyword">&lt;/artifactId&gt;</span>
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">&lt;version&gt;</span>2.3.2<span xmlns="" class="perl_Keyword">&lt;/version&gt;</span>
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">&lt;configuration&gt;</span> 
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;source&gt;</span>1.6<span xmlns="" class="perl_Keyword">&lt;/source&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;target&gt;</span>1.6<span xmlns="" class="perl_Keyword">&lt;/target&gt;</span>             
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;compilerArgument&gt;</span>
<span xmlns="" class="line">​</span>      -AgeneratedTranslationFilesPath=${project.basedir}/target/generated-translation-files
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;/compilerArgument&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;showDeprecation&gt;</span>true<span xmlns="" class="perl_Keyword">&lt;/showDeprecation&gt;</span>
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">&lt;/configuration&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;/plugin&gt;</span></pre><div class="para">
				The above configuration will create the new files in the <code class="filename">target/generated-translation-files</code> directory of your Maven project.
			</div></li><li class="step"><p class="title"><strong>Build the project</strong></p><div class="para">
				Build the project using Maven.
			</div><pre class="screen">[Localhost]$ mvn compile</pre></li></ol></div><div class="para">
		One properties files is created per interface annotated with <code class="code">@MessageBundle</code> or <code class="code">@MessageLogger</code>. The new files are created in a subdirectory corresponding to the Java package that each interface is declared in.
	</div><div class="para">
		Each new file is named using the following syntax where <code class="code">InterfaceName</code> is the name of the interface that this file was generated for: <code class="filename"><em class="replaceable">InterfaceName</em>.i18n_locale_COUNTRY_VARIANT.properties</code>.
	</div><div class="para">
		These files can now be copied into your project as the basis for new translations.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+5127-591683+%5BLatest%5D&comment=Title%3A+Generate+New+Translation+Properties+Files+with+Maven%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=5127-591683+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="Translate_an_Internationalized_Logger_Exception_or_Message">
      ⁠</a>6.2.3.2.&nbsp;Translate an Internationalized Logger, Exception or Message</h4></div></div></div><div class="para">
		Logging and Exception messages defined in interfaces using JBoss Logging Tools can have translations provided in properties files.
	</div><div class="para">
		The following procedure shows how to create and use a translation properties file. It is assumed that you already have a project with one or more interfaces defined for internationalized exceptions or log messages.
	</div><div class="para">
		Refer to the <code class="filename">logging-tools</code> quick start for a complete example.
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="orderedlist"><p class="title"><strong>Prerequisites</strong></p><ol><li class="listitem"><div class="para">
				You must already have a working Maven project.
			</div></li><li class="listitem"><div class="para">
				The project must already be configured for JBoss Logging Tools.
			</div></li><li class="listitem"><div class="para">
				The project must contain one or interfaces that define internationalized log messages or exceptions.
			</div></li><li class="listitem"><div class="para">
				The project must be configured to generate template translation property files.
			</div></li></ol></div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idp13099312">
      ⁠</a><p class="title"><strong>Procedure&nbsp;6.5.&nbsp;Translate an internationalized logger, exception or message</strong></p><ol class="1"><li class="step"><p class="title"><strong>Generate the template properties files</strong></p><div class="para">
				Run the <code class="command">mvn compile</code> command to create the template translation properties files.
			</div></li><li class="step"><p class="title"><strong>Add the template file to your project</strong></p><div class="para">
				Copy the template for the interfaces that you want to translate from the directory where they were created into the <code class="filename">src/main/resources</code> directory of your project. The properties files must be in the same package as the interfaces they are translating.
			</div></li><li class="step"><p class="title"><strong>Rename the copied template file</strong></p><div class="para">
				Rename the copy of the template file according to the translation it will contain. E.g. <code class="filename">GreeterLogger.i18n_fr_FR.properties</code>.
			</div></li><li class="step"><p class="title"><strong>Translate the contents of the template.</strong></p><div class="para">
				Edit the new translation properties file to contain the appropriate translation.
			</div><pre class="programlisting"># Level: Logger.Level.INFO
# Message: Hello message sent.
logHelloMessageSent=Bonjour message envoyé.</pre><div class="para">
				Repeat steps two, three, and four for each translation of each bundle being performed.
			</div></li></ol></div><div class="para">
		RESULT: The project now contains translations for one or more message or logger bundles. Building the project will generate the appropriate classes to log messages with the supplied translations. It is not necessary to explicitly invoke methods or supply parameters for specific languages, JBoss Logging Tools automatically uses the correct class for the current locale of the application server.
	</div><div class="para">
		The source code of the generated classes can be viewed under <code class="filename">target/generated-sources/annotations/</code>.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4901-591677+%5BLatest%5D&comment=Title%3A+Translate+an+Internationalized+Logger%2C+Exception+or+Message%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4901-591677+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="sect-Customizing_Internationalized_Log_Messages">
      ⁠</a>6.2.4.&nbsp;Customizing Internationalized Log Messages</h3></div></div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="Add_Message_Ids_and_Project_Codes_to_Log_Messages">
      ⁠</a>6.2.4.1.&nbsp;Add Message Ids and Project Codes to Log Messages</h4></div></div></div><div class="para">
		This task shows how to add message ids and project codes to internationalized log messages created using JBoss Logging Tools. A log message must have both a project code and message id for them to be displayed in the log. If a message does not have both a project code and a message id, then neither is displayed.
	</div><div class="para">
		Refer to the <code class="filename">logging-tools</code> quick start for a complete example.
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="orderedlist"><p class="title"><strong>Prerequisites</strong></p><ol><li class="listitem"><div class="para">
				You must already have a project with internationalized log messages. Refer to <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Create_Internationalized_Log_Messages">Section&nbsp;6.2.2.1, “Create Internationalized Log Messages”</a>.
			</div></li><li class="listitem"><div class="para">
				You need to know what the project code you will be using is. You can use a single project code, or define different ones for each interface.
			</div></li></ol></div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idp25554960">
      ⁠</a><p class="title"><strong>Procedure&nbsp;6.6.&nbsp;Add message Ids and Project Codes to Log Messages</strong></p><ol class="1"><li class="step"><p class="title"><strong>Specify the project code for the interface.</strong></p><div class="para">
				Specify the project code using the projectCode attribute of the <code class="code">@MessageLogger</code> annotation attached to a custom logger interface. All messages that are defined in the interface will use that project code.
			</div><pre class="programlisting"><span xmlns="" class="line">​</span>@<span xmlns="" class="perl_Function">MessageLogger</span>(projectCode=<span xmlns="" class="perl_String">"ACCNTS"</span>)
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">interface</span> AccountsLogger <span xmlns="" class="perl_Keyword">extends</span> BasicLogger
<span xmlns="" class="line">​</span>{
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>}</pre></li><li class="step"><p class="title"><strong>Specify Message Ids</strong></p><div class="para">
				Specify a message ID for each message using the <code class="literal">id</code> attribute of the <code class="literal">@Message</code> annotation attached to the method that defines the message.
			</div><pre class="programlisting"><span xmlns="" class="line">​</span>@LogMessage
<span xmlns="" class="line">​</span>@<span xmlns="" class="perl_Function">Message</span>(id=<span xmlns="" class="perl_Float">43</span>, value = <span xmlns="" class="perl_String">"Customer query failed, Database not available."</span>)  <span xmlns="" class="perl_DataType">void</span> <span xmlns="" class="perl_Function">customerQueryFailDBClosed</span>();</pre></li></ol></div><div class="para">
		The log messages that have both a message ID and project code have been associated with them will prepend these to the logged message.
	</div><pre class="screen">10:55:50,638 INFO  [com.company.accounts.ejb] (MSC service thread 1-4) ACCNTS000043: Customer query failed, Database not available.</pre><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+5171-591685+%5BLatest%5D&comment=Title%3A+Add+Message+Ids+and+Project+Codes+to+Log+Messages%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=5171-591685+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="Specify_the_Log_Level_for_a_Message">
      ⁠</a>6.2.4.2.&nbsp;Specify the Log Level for a Message</h4></div></div></div><div class="para">
		The default log level of a message defined by an interface by JBoss Logging Tools is <code class="code">INFO</code>. A different log level can be specified with the <code class="code">level</code> attribute of the <code class="code">@LogMessage</code> annotation attached to the logging method.
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idp19308912">
      ⁠</a><p class="title"><strong>Procedure&nbsp;6.7.&nbsp;Specify the log level for a message</strong></p><ol class="1"><li class="step"><p class="title"><strong>Specify level attribute</strong></p><div class="para">
				Add the <code class="code">level</code> attribute to the <code class="code">@LogMessage</code> annotation of the log message method definition.
			</div></li><li class="step"><p class="title"><strong>Assign log level</strong></p><div class="para">
				Assign the <code class="code">level</code> attribute the value of the log level for this message. The valid values for <code class="code">level</code> are the six enumerated constants defined in <code class="code">org.jboss.logging.Logger.Level</code>: <code class="code">DEBUG</code>, <code class="code">ERROR</code>, <code class="code">FATAL</code>, <code class="code">INFO</code>, <code class="code">TRACE</code>, and <code class="code">WARN</code>.
			</div><pre class="programlisting"><span xmlns="" class="line">​</span>Import org.<span xmlns="" class="perl_Function">jboss</span>.<span xmlns="" class="perl_Function">logging</span>.<span xmlns="" class="perl_Function">Logger</span>.<span xmlns="" class="perl_Function">Level</span>;
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>@<span xmlns="" class="perl_Function">LogMessage</span>(level=Level.<span xmlns="" class="perl_Function">ERROR</span>)
<span xmlns="" class="line">​</span>@<span xmlns="" class="perl_Function">Message</span>(value = <span xmlns="" class="perl_String">"Customer query failed, Database not available."</span>)
<span xmlns="" class="line">​</span><span xmlns="" class="perl_DataType">void</span> <span xmlns="" class="perl_Function">customerQueryFailDBClosed</span>();
</pre></li></ol></div><div class="para">
		Invoking the logging method in the above sample will produce a log message at the level of <code class="code">ERROR</code>.
	</div><pre class="screen">10:55:50,638 ERROR  [com.company.app.Main] (MSC service thread 1-4) 
 Customer query failed, Database not available.</pre><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+5174-591685+%5BLatest%5D&comment=Title%3A+Specify+the+Log+Level+for+a+Message%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=5174-591685+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="Customise_Log_Messages_with_Parameters">
      ⁠</a>6.2.4.3.&nbsp;Customize Log Messages with Parameters</h4></div></div></div><div class="para">
		Custom logging methods can define parameters. These parameters are used to pass additional information to be displayed in the log message. Where the parameters appear in the log message is specified in the message itself using either explicit or ordinary indexing.
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idp13511536">
      ⁠</a><p class="title"><strong>Procedure&nbsp;6.8.&nbsp;Customize log messages with parameters</strong></p><ol class="1"><li class="step"><p class="title"><strong>Add parameters to method definition</strong></p><div class="para">
				Parameters of any type can be added to the method definition. Regardless of type, the String representation of the parameter is what is displayed in the message.
			</div></li><li class="step"><p class="title"><strong>Add parameter references to the log message</strong></p><div class="para">
				References can use explicit or ordinary indexes.
			</div><div class="itemizedlist"><ul><li class="listitem"><div class="para">
						To use ordinary indexes, insert the characters <code class="code">%s</code> in the message string where you want each parameter to appear. The first instance of <code class="code">%s</code> will insert the first parameter, the second instance will insert the second parameter, and so on.
					</div></li><li class="listitem"><div class="para">
						To use explicit indexes, insert the characters <code class="code">%{<em class="replaceable">#</em>}</code> in the message where <em class="replaceable">#</em> is the number of the parameter you want to appear.
					</div></li></ul></div></li></ol></div><div xmlns:d="http://docbook.org/ns/docbook" class="important"><div class="admonition_header"><p><strong>Important</strong></p></div><div class="admonition"><div class="para">
			Using explicit indexes allows the parameter references in the message to be in a different order than they are defined in the method. This is important for translated messages which may require different ordering of parameters.
		</div></div></div><div class="para">
		The number of parameters must match the number of references to the parameters in the specified message or the code will not compile. A parameter marked with the <code class="literal">@Cause</code> annotation is not included in the number of parameters.
	</div><div class="example"><a id="idp31999792">
      ⁠</a><p class="title"><strong>Example&nbsp;6.1.&nbsp;Message parameters using ordinary indexes</strong></p><div class="example-contents"><pre class="programlisting"><span xmlns="" class="line">​</span>@<span xmlns="" class="perl_Function">LogMessage</span>(level=Logger.<span xmlns="" class="perl_Function">Level</span>.<span xmlns="" class="perl_Function">DEBUG</span>)
<span xmlns="" class="line">​</span>@<span xmlns="" class="perl_Function">Message</span>(id=<span xmlns="" class="perl_Float">2</span>, value=<span xmlns="" class="perl_String">"Customer query failed, customerid:%s, user:%s"</span>)
<span xmlns="" class="line">​</span><span xmlns="" class="perl_DataType">void</span> <span xmlns="" class="perl_Function">customerLookupFailed</span>(<span xmlns="" class="perl_DataType">Long</span> customerid, String username);</pre></div></div><div class="example"><a id="idp28800096">
      ⁠</a><p class="title"><strong>Example&nbsp;6.2.&nbsp;Message parameters using explicit indexes</strong></p><div class="example-contents"><pre class="programlisting"><span xmlns="" class="line">​</span>@<span xmlns="" class="perl_Function">LogMessage</span>(level=Logger.<span xmlns="" class="perl_Function">Level</span>.<span xmlns="" class="perl_Function">DEBUG</span>)
<span xmlns="" class="line">​</span>@<span xmlns="" class="perl_Function">Message</span>(id=<span xmlns="" class="perl_Float">2</span>, value=<span xmlns="" class="perl_String">"Customer query failed, customerid:%{1}, user:%{2}"</span>)
<span xmlns="" class="line">​</span><span xmlns="" class="perl_DataType">void</span> <span xmlns="" class="perl_Function">customerLookupFailed</span>(<span xmlns="" class="perl_DataType">Long</span> customerid, String username);</pre></div></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+5172-591685+%5BLatest%5D&comment=Title%3A+Customize+Log+Messages+with+Parameters%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=5172-591685+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="Specify_an_Exception_as_the_Cause_of_a_Log_Message">
      ⁠</a>6.2.4.4.&nbsp;Specify an Exception as the Cause of a Log Message</h4></div></div></div><div class="para">
		JBoss Logging Tools allows one parameter of a custom logging method to be defined as the cause of the message. This parameter must be of the type <code class="code">Throwable</code> or any of its sub-classes and is marked with the <code class="code">@Cause</code> annotation. This parameter cannot be referenced in the log message like other parameters and is displayed after the log message.
	</div><div class="para">
		The following procedure shows how to update a logging method using the <code class="literal">@Cause</code> parameter to indicate the "causing" exception. It is assumed that you have already created internationalized logging messages to which you want to add this functionality.
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idp14032992">
      ⁠</a><p class="title"><strong>Procedure&nbsp;6.9.&nbsp;Specify an exception as the cause of a log message</strong></p><ol class="1"><li class="step"><p class="title"><strong>Add the parameter</strong></p><div class="para">
				Add a parameter of the type <code class="code">Throwable</code> or a sub-class to the method.
			</div><pre class="programlisting"><span xmlns="" class="line">​</span>@LogMessage
<span xmlns="" class="line">​</span>@<span xmlns="" class="perl_Function">Message</span>(id=<span xmlns="" class="perl_Float">404</span>, value=<span xmlns="" class="perl_String">"Loading configuration failed. Config file:%s"</span>)
<span xmlns="" class="line">​</span><span xmlns="" class="perl_DataType">void</span> <span xmlns="" class="perl_Function">loadConfigFailed</span>(Exception ex, File file);</pre></li><li class="step"><p class="title"><strong>Add the annotation</strong></p><div class="para">
				Add the <code class="code">@Cause</code> annotation to the parameter.
			</div><pre class="programlisting"><span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">import org.jboss.logging.Cause</span>
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>@LogMessage
<span xmlns="" class="line">​</span>@<span xmlns="" class="perl_Function">Message</span>(value = <span xmlns="" class="perl_String">"Loading configuration failed. Config file: %s"</span>)
<span xmlns="" class="line">​</span><span xmlns="" class="perl_DataType">void</span> <span xmlns="" class="perl_Function">loadConfigFailed</span>(@Cause Exception ex, File file);
</pre></li><li class="step"><p class="title"><strong>Invoke the method</strong></p><div class="para">
				When the method is invoked in your code, an object of the correct type must be passed and will be displayed after the log message.
			</div><pre class="programlisting"><span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">try</span> 
<span xmlns="" class="line">​</span>{
<span xmlns="" class="line">​</span>   confFile=<span xmlns="" class="perl_Keyword">new</span> File(filename);
<span xmlns="" class="line">​</span>   props.<span xmlns="" class="perl_Function">load</span>(<span xmlns="" class="perl_Keyword">new</span> FileInputStream(confFile));
<span xmlns="" class="line">​</span>}
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">catch</span>(Exception ex) <span xmlns="" class="perl_Comment">//in case properties file cannot be read</span>
<span xmlns="" class="line">​</span>{
<span xmlns="" class="line">​</span>     ConfigLogger.<span xmlns="" class="perl_Function">LOGGER</span>.<span xmlns="" class="perl_Function">loadConfigFailed</span>(ex, filename);
<span xmlns="" class="line">​</span>}
</pre><div class="para">
				Below is the output of the above code samples if the code threw an exception of type <code class="code">FileNotFoundException</code>.
			</div><pre class="screen">10:50:14,675 INFO [com.company.app.Main] (MSC service thread 1-3) Loading configuration failed. Config file: customised.properties
java.io.FileNotFoundException: customised.properties (No such file or directory)
   at java.io.FileInputStream.open(Native Method)
   at java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:120)
   at com.company.app.demo.Main.openCustomProperties(Main.java:70)
   at com.company.app.Main.go(Main.java:53)
   at com.company.app.Main.main(Main.java:43)</pre></li></ol></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+5175-675496+%5BLatest%5D&comment=Title%3A+Specify+an+Exception+as+the+Cause+of+a+Log+Message%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=5175-675496+24+Jun+2014+04%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="sect-Customizing_Internationalized_Exceptions">
      ⁠</a>6.2.5.&nbsp;Customizing Internationalized Exceptions</h3></div></div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="Add_Message_Ids_and_Project_Codes_to_Exception_Messages">
      ⁠</a>6.2.5.1.&nbsp;Add Message Ids and Project Codes to Exception Messages</h4></div></div></div><div class="para">
		The following procedure shows the steps required to add message IDs and project codes to internationalized Exception messages created using JBoss Logging Tools.
	</div><div class="para">
		Message IDs and project codes are unique identifiers that are prepended to each message displayed by internationalized exceptions. These identifying codes make it possible to create a reference of all the exception messages for an application so that someone can lookup the meaning of an exception message written in language that they do not understand.
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="orderedlist"><p class="title"><strong>Prerequisites</strong></p><ol><li class="listitem"><div class="para">
				You must already have a project with internationalized exceptions. Refer to <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Create_Internationalized_Exceptions">Section&nbsp;6.2.2.3, “Create Internationalized Exceptions”</a>.
			</div></li><li class="listitem"><div class="para">
				You need to know what the project code you will be using is. You can use a single project code, or define different ones for each interface.
			</div></li></ol></div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idp16635856">
      ⁠</a><p class="title"><strong>Procedure&nbsp;6.10.&nbsp;Add message IDs and project codes to exception messages</strong></p><ol class="1"><li class="step"><p class="title"><strong>Specify a project code</strong></p><div class="para">
				Specify the project code using the <code class="code">projectCode</code> attribute of the <code class="code">@MessageBundle</code> annotation attached to a exception bundle interface. All messages that are defined in the interface will use that project code.
			</div><pre class="programlisting"><span xmlns="" class="line">​</span>@<span xmlns="" class="perl_Function">MessageBundle</span>(projectCode=<span xmlns="" class="perl_String">"ACCTS"</span>)
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">interface</span> ExceptionBundle
<span xmlns="" class="line">​</span>{
<span xmlns="" class="line">​</span>   ExceptionBundle EXCEPTIONS = Messages.<span xmlns="" class="perl_Function">getBundle</span>(ExceptionBundle.<span xmlns="" class="perl_Function">class</span>);
<span xmlns="" class="line">​</span>}</pre></li><li class="step"><p class="title"><strong>Specify message IDs</strong></p><div class="para">
				Specify a message id for each exception using the <code class="code">id</code> attribute of the <code class="code">@Message</code> annotation attached to the method that defines the exception.
			</div><pre class="programlisting"><span xmlns="" class="line">​</span>@<span xmlns="" class="perl_Function">Message</span>(id=<span xmlns="" class="perl_Float">143</span>, value = <span xmlns="" class="perl_String">"The config file could not be opened."</span>)
<span xmlns="" class="line">​</span>IOException <span xmlns="" class="perl_Function">configFileAccessError</span>();</pre></li></ol></div><div xmlns:d="http://docbook.org/ns/docbook" class="important"><div class="admonition_header"><p><strong>Important</strong></p></div><div class="admonition"><div class="para">
			A message that has both a project code and message ID displays them prepended to the message. If a message does not have both a project code and a message ID, neither is displayed.
		</div></div></div><div class="example"><a id="idp13503344">
      ⁠</a><p class="title"><strong>Example&nbsp;6.3.&nbsp;Creating internationalized exceptions</strong></p><div class="example-contents"><div class="para">
			This exception bundle interface has the project code of ACCTS, with a single exception method with the id of 143.
		</div><pre class="programlisting"><span xmlns="" class="line">​</span>@<span xmlns="" class="perl_Function">MessageBundle</span>(projectCode=<span xmlns="" class="perl_String">"ACCTS"</span>)
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">interface</span> ExceptionBundle
<span xmlns="" class="line">​</span>{
<span xmlns="" class="line">​</span>    ExceptionBundle EXCEPTIONS = Messages.<span xmlns="" class="perl_Function">getBundle</span>(ExceptionBundle.<span xmlns="" class="perl_Function">class</span>);
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>    @<span xmlns="" class="perl_Function">Message</span>(id=<span xmlns="" class="perl_Float">143</span>, value = <span xmlns="" class="perl_String">"The config file could not be opened."</span>)
<span xmlns="" class="line">​</span>    IOException <span xmlns="" class="perl_Function">configFileAccessError</span>();
<span xmlns="" class="line">​</span>}</pre><div class="para">
			The exception object can be obtained and thrown using the following code.
		</div><pre class="programlisting"><span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">throw</span> ExceptionBundle.<span xmlns="" class="perl_Function">EXCEPTIONS</span>.<span xmlns="" class="perl_Function">configFileAccessError</span>();</pre><div class="para">
			This would display an exception message like the following:
		</div><pre class="screen">Exception in thread "main" java.io.IOException: ACCTS000143: The config file could not be opened.
at com.company.accounts.Main.openCustomProperties(Main.java:78)
at com.company.accounts.Main.go(Main.java:53)
at com.company.accounts.Main.main(Main.java:43)</pre></div></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+5191-591687+%5BLatest%5D&comment=Title%3A+Add+Message+Ids+and+Project+Codes+to+Exception+Messages%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=5191-591687+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="Customise_Exception_Messages_with_Parameters">
      ⁠</a>6.2.5.2.&nbsp;Customize Exception Messages with Parameters</h4></div></div></div><div class="para">
		Exception bundle methods that define exceptions can specify parameters to pass additional information to be displayed in the exception message. Where the parameters appear in the exception message is specified in the message itself using either explicit or ordinary indexing.
	</div><div class="para">
		The following procedure shows the steps required to use method parameters to customize method exceptions.
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idp21009616">
      ⁠</a><p class="title"><strong>Procedure&nbsp;6.11.&nbsp;Customize an exception message with parameters</strong></p><ol class="1"><li class="step"><p class="title"><strong>Add parameters to method definition</strong></p><div class="para">
				Parameters of any type can be added to the method definition. Regardless of type, the <code class="code">String</code> representation of the parameter is what is displayed in the message.
			</div></li><li class="step"><p class="title"><strong>Add parameter references to the exception message</strong></p><div class="para">
				References can use explicit or ordinary indexes.
			</div><div class="itemizedlist"><ul><li class="listitem"><div class="para">
						To use ordinary indexes, insert the characters <code class="code">%s</code> in the message string where you want each parameter to appear. The first instance of <code class="code">%s</code> will insert the first parameter, the second instance will insert the second parameter, and so on.
					</div></li><li class="listitem"><div class="para">
						To use explicit indexes, insert the characters <code class="code">%{<em class="replaceable">#</em>}</code> in the message where <code class="code"><em class="replaceable">#</em></code>is the number of the parameter you want to appear.
					</div></li></ul></div><div class="para">
				Using explicit indexes allows the parameter references in the message to be in a different order than they are defined in the method. This is important for translated messages which may require different ordering of parameters.
			</div></li></ol></div><div xmlns:d="http://docbook.org/ns/docbook" class="important"><div class="admonition_header"><p><strong>Important</strong></p></div><div class="admonition"><div class="para">
			The number of parameters must match the number of references to the parameters in the specified message or the code will not compile. A parameter marked with the <code class="code">@Cause</code> annotation is not included in the number of parameters.
		</div></div></div><div class="example"><a id="idp38472800">
      ⁠</a><p class="title"><strong>Example&nbsp;6.4.&nbsp;Using ordinary indexes</strong></p><div class="example-contents"><pre class="programlisting"><span xmlns="" class="line">​</span>@<span xmlns="" class="perl_Function">Message</span>(id=<span xmlns="" class="perl_Float">143</span>, value = <span xmlns="" class="perl_String">"The config file %s could not be opened."</span>)
<span xmlns="" class="line">​</span>IOException <span xmlns="" class="perl_Function">configFileAccessError</span>(File config);</pre></div></div><div class="example"><a id="idp18376560">
      ⁠</a><p class="title"><strong>Example&nbsp;6.5.&nbsp;Using explicit indexes</strong></p><div class="example-contents"><pre class="programlisting"><span xmlns="" class="line">​</span>@<span xmlns="" class="perl_Function">Message</span>(id=<span xmlns="" class="perl_Float">143</span>, value = <span xmlns="" class="perl_String">"The config file %{1} could not be opened."</span>)
<span xmlns="" class="line">​</span>IOException <span xmlns="" class="perl_Function">configFileAccessError</span>(File config);</pre></div></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+5195-591687+%5BLatest%5D&comment=Title%3A+Customize+Exception+Messages+with+Parameters%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=5195-591687+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="Specify_One_Exception_as_the_Cause_of_Another_Exception">
      ⁠</a>6.2.5.3.&nbsp;Specify One Exception as the Cause of Another Exception</h4></div></div></div><div class="para">
		Exceptions returned by exception bundle methods can have another exception specified as the underlying cause. This is done by adding a parameter to the method and annotating the parameter with <code class="literal">@Cause</code>. This parameter is used to pass the causing exception. This parameter cannot be referenced in the exception message.
	</div><div class="para">
		The following procedure shows how to update a method from an exception bundle using the <code class="literal">@Cause</code> parameter to indicate the causing exception. It is assumed that you have already created an exception bundle to which you want to add this functionality.
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idp38289632">
      ⁠</a><p class="title"><strong>Procedure&nbsp;6.12.&nbsp;Specify one exception as the cause of another exception</strong></p><ol class="1"><li class="step"><p class="title"><strong>Add the parameter</strong></p><div class="para">
				Add the a parameter of the type <code class="code">Throwable</code> or a sub-class to the method.
			</div><pre class="programlisting"><span xmlns="" class="line">​</span>@<span xmlns="" class="perl_Function">Message</span>(id=<span xmlns="" class="perl_Float">328</span>, value = <span xmlns="" class="perl_String">"Error calculating: %s."</span>)
<span xmlns="" class="line">​</span>ArithmeticException <span xmlns="" class="perl_Function">calculationError</span>(Throwable cause, String msg);</pre></li><li class="step"><p class="title"><strong>Add the annotation</strong></p><div class="para">
				Add the <code class="code">@Cause</code> annotation to the parameter.
			</div><pre class="programlisting"><span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">import org.jboss.logging.Cause</span>
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>@<span xmlns="" class="perl_Function">Message</span>(id=<span xmlns="" class="perl_Float">328</span>, value = <span xmlns="" class="perl_String">"Error calculating: %s."</span>)
<span xmlns="" class="line">​</span>ArithmeticException <span xmlns="" class="perl_Function">calculationError</span>(@Cause Throwable cause, String msg);</pre></li><li class="step"><p class="title"><strong>Invoke the method</strong></p><div class="para">
				Invoke the interface method to obtain an exception object. The most common use case is to throw a new exception from a catch block using the caught exception as the cause.
			</div><pre class="programlisting"><span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">try</span> 
<span xmlns="" class="line">​</span>{
<span xmlns="" class="line">​</span>   ...
<span xmlns="" class="line">​</span>}
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">catch</span>(Exception ex)
<span xmlns="" class="line">​</span>{
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">throw</span> ExceptionBundle.<span xmlns="" class="perl_Function">EXCEPTIONS</span>.<span xmlns="" class="perl_Function">calculationError</span>(
<span xmlns="" class="line">​</span>                                    ex, <span xmlns="" class="perl_String">"calculating payment due per day"</span>);
<span xmlns="" class="line">​</span>}</pre></li></ol></div><div class="example"><a id="idp42196832">
      ⁠</a><p class="title"><strong>Example&nbsp;6.6.&nbsp;Specify one exception as the cause of another exception</strong></p><div class="example-contents"><div class="para">
			This exception bundle defines a single method that returns an exception of type ArithmeticException.
		</div><pre class="programlisting"><span xmlns="" class="line">​</span>@<span xmlns="" class="perl_Function">MessageBundle</span>(projectCode = <span xmlns="" class="perl_String">"TPS"</span>)
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">interface</span> CalcExceptionBundle 
<span xmlns="" class="line">​</span>{
<span xmlns="" class="line">​</span>	CalcExceptionBundle EXCEPTIONS = Messages.<span xmlns="" class="perl_Function">getBundle</span>(CalcExceptionBundle.<span xmlns="" class="perl_Function">class</span>);
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>    @<span xmlns="" class="perl_Function">Message</span>(id=<span xmlns="" class="perl_Float">328</span>, value = <span xmlns="" class="perl_String">"Error calculating: %s."</span>)
<span xmlns="" class="line">​</span>    ArithmeticException <span xmlns="" class="perl_Function">calcError</span>(@Cause Throwable cause, String value);
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>}</pre><div class="para">
			This code snippet performs an operation that throws an exception because it attempts to divide an integer by zero. The exception is caught and a new exception is created using the first one as the cause.
		</div><pre class="programlisting"><span xmlns="" class="line">​</span><span xmlns="" class="perl_DataType">int</span> totalDue = <span xmlns="" class="perl_Float">5</span>;
<span xmlns="" class="line">​</span><span xmlns="" class="perl_DataType">int</span> daysToPay = <span xmlns="" class="perl_Float">0</span>;
<span xmlns="" class="line">​</span><span xmlns="" class="perl_DataType">int</span> amountPerDay;
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">try</span>
<span xmlns="" class="line">​</span>{
<span xmlns="" class="line">​</span>   amountPerDay = totalDue/daysToPay;
<span xmlns="" class="line">​</span>}
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">catch</span> (Exception ex)
<span xmlns="" class="line">​</span>{
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">throw</span> CalcExceptionBundle.<span xmlns="" class="perl_Function">EXCEPTIONS</span>.<span xmlns="" class="perl_Function">calcError</span>(ex, <span xmlns="" class="perl_String">"payments per day"</span>);
<span xmlns="" class="line">​</span>}</pre><div class="para">
			This is what the exception message looks like:
		</div><pre class="screen">Exception in thread "main" java.lang.ArithmeticException: TPS000328: Error calculating: payments per day.
	at com.company.accounts.Main.go(Main.java:58)
	at com.company.accounts.Main.main(Main.java:43)
Caused by: java.lang.ArithmeticException: / by zero
	at com.company.accounts.Main.go(Main.java:54)
	... 1 more</pre></div></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+5206-591686+%5BLatest%5D&comment=Title%3A+Specify+One+Exception+as+the+Cause+of+Another+Exception%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=5206-591686+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="sect-Reference">
      ⁠</a>6.2.6.&nbsp;Reference</h3></div></div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="JBoss_Logging_Tools_Maven_Configuration">
      ⁠</a>6.2.6.1.&nbsp;JBoss Logging Tools Maven Configuration</h4></div></div></div><div class="para">
		To build a Maven project that uses JBoss Logging Tools for internationalization you must make the following changes to the project's configuration in the <code class="filename">pom.xml</code> file.
	</div><div class="para">
		Refer to the <code class="filename">logging-tools</code> quick start for an example of a complete working <code class="filename">pom.xml</code> file.
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="orderedlist"><ol><li class="listitem"><div class="para">
				JBoss Maven Repository must be enabled for the project. Refer to <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Configure_the_JBoss_Enterprise_Application_Platform_Maven_Repository_Using_the_Maven_Settings">Section&nbsp;2.3.2, “Configure the JBoss EAP 6 Maven Repository Using the Maven Settings”</a>.
			</div></li><li class="listitem"><div class="para">
				The Maven dependencies for <code class="systemitem"> jboss-logging</code> and <code class="systemitem"> jboss-logging-processor</code> must be added. Both of dependencies are available in JBoss EAP 6 so the scope element of each can be set to <code class="literal">provided</code> as shown.
			</div><pre class="programlisting"><span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;dependency&gt;</span>
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">&lt;groupId&gt;</span>org.jboss.logging<span xmlns="" class="perl_Keyword">&lt;/groupId&gt;</span>
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">&lt;artifactId&gt;</span>jboss-logging-processor<span xmlns="" class="perl_Keyword">&lt;/artifactId&gt;</span>
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">&lt;version&gt;</span>1.0.0.Final<span xmlns="" class="perl_Keyword">&lt;/version&gt;</span>
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">&lt;scope&gt;</span>provided<span xmlns="" class="perl_Keyword">&lt;/scope&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;/dependency&gt;</span>
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;dependency&gt;</span>
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">&lt;groupId&gt;</span>org.jboss.logging<span xmlns="" class="perl_Keyword">&lt;/groupId&gt;</span>
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">&lt;artifactId&gt;</span>jboss-logging<span xmlns="" class="perl_Keyword">&lt;/artifactId&gt;</span>
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">&lt;version&gt;</span>3.1.0.GA<span xmlns="" class="perl_Keyword">&lt;/version&gt;</span>
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">&lt;scope&gt;</span>provided<span xmlns="" class="perl_Keyword">&lt;/scope&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;/dependency&gt;</span></pre></li><li class="listitem"><div class="para">
				The <code class="systemitem"> maven-compiler-plugin</code> must be at least version <code class="literal">2.2</code> and be configured for target and generated sources of <code class="literal">1.6</code>.
			</div><pre class="programlisting"><span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;plugin&gt;</span>
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">&lt;groupId&gt;</span>org.apache.maven.plugins<span xmlns="" class="perl_Keyword">&lt;/groupId&gt;</span>
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">&lt;artifactId&gt;</span>maven-compiler-plugin<span xmlns="" class="perl_Keyword">&lt;/artifactId&gt;</span>
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">&lt;version&gt;</span>2.3.2<span xmlns="" class="perl_Keyword">&lt;/version&gt;</span>
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">&lt;configuration&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;source&gt;</span>1.6<span xmlns="" class="perl_Keyword">&lt;/source&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;target&gt;</span>1.6<span xmlns="" class="perl_Keyword">&lt;/target&gt;</span>
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">&lt;/configuration&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;/plugin&gt;</span></pre></li></ol></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4896-591677+%5BLatest%5D&comment=Title%3A+JBoss+Logging+Tools+Maven+Configuration%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4896-591677+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="Translation_Property_File_Format">
      ⁠</a>6.2.6.2.&nbsp;Translation Property File Format</h4></div></div></div><div class="para">
		The property files used for translations of messages in JBoss Logging Tools are standard Java property files. The format of the file is the simple line-oriented, <code class="code">key=value</code> pair format described in the documentation for the <code class="code">java.util.Properties</code> class, <a href="http://docs.oracle.com/javase/6/docs/api/java/util/Properties.html">http://docs.oracle.com/javase/6/docs/api/java/util/Properties.html</a>.
	</div><div class="para">
		The file name format has the following format:
	</div><pre class="synopsis"><em class="replaceable">InterfaceName</em>.i18n_<em class="replaceable">locale</em>_<em class="replaceable">COUNTRY</em>_<em class="replaceable">VARIANT</em>.properties </pre><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
				<code class="code">InterfaceName</code> is the name of the interface that the translations apply to.
			</div></li><li class="listitem"><div class="para">
				<code class="code">locale</code>, <code class="code">COUNTRY</code>, and <code class="code">VARIANT</code> identify the regional settings that the translation applies to.
			</div></li><li class="listitem"><div class="para">
				<code class="code">locale</code> and <code class="code">COUNTRY</code> specify the language and country using the ISO-639 and ISO-3166 Language and Country codes respectively. <code class="code">COUNTRY</code> is optional.
			</div></li><li class="listitem"><div class="para">
				<code class="code">VARIANT</code> is an optional identifier that can be used to identify translations that only apply to a specific operating system or browser.
			</div></li></ul></div><div class="para">
		The properties contained in the translation file are the names of the methods from the interface being translated. The assigned value of the property is the translation. If a method is overloaded then this is indicated by appending a dot and then the number of parameters to the name. Methods for translation can only be overloaded by supplying a different number of parameters.
	</div><div class="example"><a id="idp8417536">
      ⁠</a><p class="title"><strong>Example&nbsp;6.7.&nbsp;Sample Translation Properties File</strong></p><div class="example-contents"><div class="para">
			File name: <code class="filename">GreeterService.i18n_fr_FR_POSIX.properties</code>.
		</div><pre class="programlisting"># Level: Logger.Level.INFO
# Message: Hello message sent.
logHelloMessageSent=Bonjour message envoyé.</pre></div></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+6723-591752+%5BLatest%5D&comment=Title%3A+Translation+Property+File+Format%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=6723-591752+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="JBoss_Logging_Tools_Annotations_Reference">
      ⁠</a>6.2.6.3.&nbsp;JBoss Logging Tools Annotations Reference</h4></div></div></div><div class="para">
		The following annotations are defined in JBoss Logging for use with internationalization and localization of log messages, strings, and exceptions.
	</div><div class="table"><a id="table-JBoss_Logging_Tools_Annotations">
      ⁠</a><p class="title"><strong>Table&nbsp;6.1.&nbsp;JBoss Logging Tools Annotations</strong></p><div class="table-contents"><table xmlns:d="http://docbook.org/ns/docbook" class="gt-4-cols lt-7-rows" summary="JBoss Logging Tools Annotations"><colgroup><col width="33%" align="left" class="c1"><col width="17%" align="left" class="c2"><col width="33%" align="left" class="c3"><col width="17%" align="left" class="c4"></colgroup><thead><tr><th align="left"> Annotation </th><th align="left"> Target </th><th align="left"> Description </th><th align="left"> Attributes </th></tr></thead><tbody><tr><td align="left"> <code class="code">@MessageBundle</code> </td><td align="left"> Interface </td><td align="left"> <div class="para">
						Defines the interface as a Message Bundle.
					</div>
					 </td><td align="left"> <code class="code">projectCode</code> </td></tr><tr><td align="left"> <code class="code">@MessageLogger</code> </td><td align="left"> Interface </td><td align="left"> <div class="para">
						Defines the interface as a Message Logger.
					</div>
					 </td><td align="left"> <code class="code">projectCode</code> </td></tr><tr><td align="left"> <code class="code">@Message</code> </td><td align="left"> Method </td><td align="left"> <div class="para">
						Can be used in Message Bundles and Message Loggers. In a Message Logger it defines a method as being a localized logger. In a Message Bundle it defines the method as being one that returns a localized String or Exception object.
					</div>
					 </td><td align="left"> <code class="code">value</code>, <code class="code">id</code> </td></tr><tr><td align="left"> <code class="code">@LogMessage</code> </td><td align="left"> Method </td><td align="left"> <div class="para">
						Defines a method in a Message Logger as being a logging method.
					</div>
					 </td><td align="left"> <code class="code">level</code> (default <code class="literal">INFO</code>) </td></tr><tr><td align="left"> <code class="code">@Cause</code> </td><td align="left"> Parameter </td><td align="left"> <div class="para">
						Defines a parameter as being one that passes an Exception as the cause of either a Log message or another Exception.
					</div>
					 </td><td align="left"> - </td></tr><tr><td align="left"> <code class="code">@Param</code> </td><td align="left"> Parameter </td><td align="left"> <div class="para">
						Defines a parameter as being one that is passed to the constructor of the Exception.
					</div>
					 </td><td align="left"> - </td></tr></tbody></table></div></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4895-591677+%5BLatest%5D&comment=Title%3A+JBoss+Logging+Tools+Annotations+Reference%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4895-591677+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div></div></div></div><div xml:lang="en-US" class="chapter" lang="en-US"><div class="titlepage"><div><div><h1 class="title"><a id="chap-Enterprise_JavaBeans">
      ⁠</a>Chapter&nbsp;7.&nbsp;Enterprise JavaBeans</h1></div></div></div><div class="toc"><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Introduction4">7.1. Introduction</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Overview_of_Enterprise_JavaBeans">7.1.1. Overview of Enterprise JavaBeans</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#EJB_31_Feature_Set">7.1.2. EJB 3.1 Feature Set</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#EJB_31_Lite">7.1.3. EJB 3.1 Lite</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#EJB_31_Lite_Features">7.1.4. EJB 3.1 Lite Features</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Enterprise_Beans">7.1.5. Enterprise Beans</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Overview_of_Writing_Enterprise_Beans">7.1.6. Overview of Writing Enterprise Beans</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Session_Bean_Business_Interfaces">7.1.7. Session Bean Business Interfaces</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Creating_Enterprise_Bean_Projects">7.2. Creating Enterprise Bean Projects</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Create_an_EJB_Archive_Project_Using_JBoss_Developer_Studio">7.2.1. Create an EJB Archive Project Using Red Hat JBoss Developer Studio</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Create_an_EJB_Archive_Project_in_Maven">7.2.2. Create an EJB Archive Project in Maven</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Create_an_EAR_Project_containing_an_EJB_Project">7.2.3. Create an EAR Project containing an EJB Project</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Add_a_Deployment_Descriptor_to_an_EJB_Project">7.2.4. Add a Deployment Descriptor to an EJB Project</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Session_Beans">7.3. Session Beans</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Session_Beans">7.3.1. Session Beans</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Stateless_Session_Beans">7.3.2. Stateless Session Beans</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Stateful_Session_Beans">7.3.3. Stateful Session Beans</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Singleton_Session_Beans">7.3.4. Singleton Session Beans</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Add_Session_Beans_to_a_Project_in_JBoss_Developer_Studio">7.3.5. Add Session Beans to a Project in Red Hat JBoss Developer Studio</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Message-Driven_Beans">7.4. Message-Driven Beans</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Message-Driven_Beans1">7.4.1. Message-Driven Beans</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Resource_Adapters">7.4.2. Resource Adapters</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Create_a_JMS-based_Message-Driven_Bean_in_JBoss_Developer_Studio">7.4.3. Create a JMS-based Message-Driven Bean in Red Hat JBoss Developer Studio</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Enable_EJB_and_MDB_Property_Substitution_in_an_Application">7.4.4. Enable EJB and MDB Property Substitution in an Application</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Invoking_Session_Beans">7.5. Invoking Session Beans</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Invoke_a_Session_Bean_Remotely_using_JNDI1">7.5.1. Invoke a Session Bean Remotely using JNDI</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_EJB_Client_Contexts">7.5.2. About EJB Client Contexts</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Limitations_of_Single_EJB_Client_Context">7.5.3. Considerations When Using a Single EJB Context</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Using_Scoped_EJB_Client_Contexts">7.5.4. Using Scoped EJB Client Contexts</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Configure_EJBs_Using_a_Map-Based_or_Scoped_Context">7.5.5. Configure EJBs Using a Scoped EJB Client Context</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#EJB_Client_Properties">7.5.6. EJB Client Properties</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Container_Interceptors">7.6. Container Interceptors</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Container_Interceptors">7.6.1. About Container Interceptors</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Create_a_Container_Interceptor_Class">7.6.2. Create a Container Interceptor Class</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Configure_a_Container_Interceptor">7.6.3. Configure a Container Interceptor</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Change_the_Security_Context_Identity">7.6.4. Change the Security Context Identity</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Pass_Additional_Security_For_EJB_Authentication">7.6.5. Pass Additional Security For EJB Authentication</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Use_a_Client_Side_Interceptor_in_an_Application">7.6.6. Use a Client Side Interceptor in an Application</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Clustered_Enterprise_JavaBeans">7.7. Clustered Enterprise JavaBeans</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Clustered_Enterprise_JavaBeans_EJBs">7.7.1. About Clustered Enterprise JavaBeans (EJBs)</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Standalone_Client_Configuration">7.7.2. Standalone and In-server Client Configuration</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Implementing_a_Custom_Load_Balancing_Policy_for_EJB_Calls">7.7.3. Implementing a Custom Load Balancing Policy for EJB Calls</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Transaction_Behavior_of_EJB_Invocations">7.7.4. Transaction Behavior of EJB Invocations</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Reference1">7.8. Reference</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#EJB_JNDI_Naming_Reference">7.8.1. EJB JNDI Naming Reference</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#EJB_Reference_Resolution">7.8.2. EJB Reference Resolution</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Project_dependencies_for_Remote_EJB_Clients">7.8.3. Project dependencies for Remote EJB Clients</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#jboss-ejb3xml_Deployment_Descriptor_Reference">7.8.4. jboss-ejb3.xml Deployment Descriptor Reference</a></span></dt></dl></dd></dl></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="sect-Introduction4">
      ⁠</a>7.1.&nbsp;Introduction</h2></div></div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="Overview_of_Enterprise_JavaBeans">
      ⁠</a>7.1.1.&nbsp;Overview of Enterprise JavaBeans</h3></div></div></div><div class="para">
		Enterprise JavaBeans (EJB) 3.1 is an API for developing distributed, transactional, secure and portable Java EE applications through the use of server-side components called Enterprise Beans. Enterprise Beans implement the business logic of an application in a decoupled manner that encourages reuse. Enterprise JavaBeans 3.1 is documented as the Java EE specification JSR-318.
	</div><div class="para">
		JBoss EAP 6 has full support for applications built using the Enterprise JavaBeans 3.1 specification.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4525-591667+%5BLatest%5D&comment=Title%3A+Overview+of+Enterprise+JavaBeans%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4525-591667+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="EJB_31_Feature_Set">
      ⁠</a>7.1.2.&nbsp;EJB 3.1 Feature Set</h3></div></div></div><div class="para">
		The following features are supported in EJB 3.1
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
				Session Beans
			</div></li><li class="listitem"><div class="para">
				Message Driven Beans
			</div></li><li class="listitem"><div class="para">
				No-interface views
			</div></li><li class="listitem"><div class="para">
				local interfaces
			</div></li><li class="listitem"><div class="para">
				remote interfaces
			</div></li><li class="listitem"><div class="para">
				JAX-WS web services
			</div></li><li class="listitem"><div class="para">
				JAX-RS web services
			</div></li><li class="listitem"><div class="para">
				Timer Service
			</div></li><li class="listitem"><div class="para">
				Asynchronous Calls
			</div></li><li class="listitem"><div class="para">
				Interceptors
			</div></li><li class="listitem"><div class="para">
				RMI/IIOP interoperability
			</div></li><li class="listitem"><div class="para">
				Transaction support
			</div></li><li class="listitem"><div class="para">
				Security
			</div></li><li class="listitem"><div class="para">
				Embeddable API
			</div></li></ul></div><div class="para">
		The following features are supported in EJB 3.1 but are proposed for "pruning". This means that these features may become optional in Java EE 7.
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
				Entity Beans (container and bean-managed persistence)
			</div></li><li class="listitem"><div class="para">
				EJB 2.1 Entity Bean client views
			</div></li><li class="listitem"><div class="para">
				EJB Query Language (EJB QL)
			</div></li><li class="listitem"><div class="para">
				JAX-RPC based Web Services (endpoints and client views)
			</div></li></ul></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4533-591667+%5BLatest%5D&comment=Title%3A+EJB+3.1+Feature+Set%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4533-591667+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="EJB_31_Lite">
      ⁠</a>7.1.3.&nbsp;EJB 3.1 Lite</h3></div></div></div><div class="para">
		EJB Lite is a sub-set of the EJB 3.1 specification. It provides a simpler version of the full EJB 3.1 specification as part of the Java EE 6 web profile.
	</div><div class="para">
		EJB Lite simplifies the implementation of business logic in web applications with enterprise beans by:
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="orderedlist"><ol><li class="listitem"><div class="para">
				Only supporting the features that make sense for web-applications, and
			</div></li><li class="listitem"><div class="para">
				allowing EJBs to be deployed in the same WAR file as a web-application.
			</div></li></ol></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4529-591667+%5BLatest%5D&comment=Title%3A+EJB+3.1+Lite%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4529-591667+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="EJB_31_Lite_Features">
      ⁠</a>7.1.4.&nbsp;EJB 3.1 Lite Features</h3></div></div></div><div class="para">
		EJB Lite includes the following features:
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
				Stateless, stateful, and singleton session beans
			</div></li><li class="listitem"><div class="para">
				Local business interfaces and "no interface" beans
			</div></li><li class="listitem"><div class="para">
				Interceptors
			</div></li><li class="listitem"><div class="para">
				Container-managed and bean-managed transactions
			</div></li><li class="listitem"><div class="para">
				Declarative and programmatic security
			</div></li><li class="listitem"><div class="para">
				Embeddable API
			</div></li></ul></div><div class="para">
		The following features of EJB 3.1 are specifically not included:
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
				Remote interfaces
			</div></li><li class="listitem"><div class="para">
				RMI-IIOP Interoperability
			</div></li><li class="listitem"><div class="para">
				JAX-WS Web Service Endpoints
			</div></li><li class="listitem"><div class="para">
				EJB Timer Service
			</div></li><li class="listitem"><div class="para">
				Asynchronous session bean invocations
			</div></li><li class="listitem"><div class="para">
				Message-driven beans
			</div></li></ul></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4531-591667+%5BLatest%5D&comment=Title%3A+EJB+3.1+Lite+Features%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4531-591667+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="Enterprise_Beans">
      ⁠</a>7.1.5.&nbsp;Enterprise Beans</h3></div></div></div><div class="para">
		Enterprise beans are server-side application components as defined in the Enterprise JavaBeans (EJB) 3.1 specification, JSR-318. Enterprise beans are designed for the implementation of application business logic in a decoupled manner to encourage reuse.
	</div><div class="para">
		Enterprise beans are written as Java classes and annotated with the appropriate EJB annotations. They can be deployed to the application server in their own archive (a JAR file) or be deployed as part of a Java EE application. The application server manages the lifecycle of each enterprise bean and provides services to them such as security, transactions, and concurrency management.
	</div><div class="para">
		An enterprise bean can also define any number of business interfaces. Business interfaces provide greater control over which of the bean's methods are available to clients and can also allow access to clients running in remote JVMs.
	</div><div class="para">
		There are three types of Enterprise Bean: Session beans, Message-driven beans and Entity beans.
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="important"><div class="admonition_header"><p><strong>Important</strong></p></div><div class="admonition"><div class="para">
			Entity beans are now deprecated in EJB 3.1 and Red Hat recommends the use of JPA entities instead. Red Hat only recommends the use of Entity beans for backwards compatibility with legacy systems.
		</div></div></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+5089-591681+%5BLatest%5D&comment=Title%3A+Enterprise+Beans%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=5089-591681+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="Overview_of_Writing_Enterprise_Beans">
      ⁠</a>7.1.6.&nbsp;Overview of Writing Enterprise Beans</h3></div></div></div><div class="para">
		Enterprise beans are server-side components designed to encapsulate business logic in a manner decoupled from any one specific application client. By implementing your business logic within enterprise beans you will be able to reuse those beans in multiple applications.
	</div><div class="para">
		Enterprise beans are written as annotated Java classes and do not have to implement any specific EJB interfaces or be sub-classed from any EJB super classes to be considered an enterprise bean.
	</div><div class="para">
		EJB 3.1 enterprise beans are packaged and deployed in Java archive (JAR) files. An enterprise bean JAR file can be deployed to your application server, or included in an enterprise archive (EAR) file and deployed with that application. It is also possible to deploy enterprise beans in a WAR file along side a web application.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+5090-626311+%5BLatest%5D&comment=Title%3A+Overview+of+Writing+Enterprise+Beans%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=5090-626311+31+Mar+2014+15%3A59+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="sect-Session_Bean_Business_Interfaces">
      ⁠</a>7.1.7.&nbsp;Session Bean Business Interfaces</h3></div></div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="Enterprise_Bean_Business_Interfaces">
      ⁠</a>7.1.7.1.&nbsp;Enterprise Bean Business Interfaces</h4></div></div></div><div class="para">
		An EJB business interface is a Java interface written by the bean developer which provides declarations of the public methods of a session bean that are available for clients. Session beans can implement any number of interfaces including none (a "no-interface" bean).
	</div><div class="para">
		Business interfaces can be declared as local or remote interfaces but not both.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+5096-591681+%5BLatest%5D&comment=Title%3A+Enterprise+Bean+Business+Interfaces%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=5096-591681+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="EJB_Local_Business_Interfaces">
      ⁠</a>7.1.7.2.&nbsp;EJB Local Business Interfaces</h4></div></div></div><div class="para">
		An EJB local business interface declares the methods which are available when the bean and the client are in the same JVM. When a session bean implements a local business interface only the methods declared in that interface will be available to clients.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+5354-591693+%5BLatest%5D&comment=Title%3A+EJB+Local+Business+Interfaces%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=5354-591693+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="EJB_Remote_Business_Interfaces">
      ⁠</a>7.1.7.3.&nbsp;EJB Remote Business Interfaces</h4></div></div></div><div class="para">
		An EJB remote business interface declares the methods which are available to remote clients. Remote access to a session bean that implements a remote interface is automatically provided by the EJB container.
	</div><div class="para">
		A remote client is any client running in a different JVM and can include desktop applications as well as web applications, services and enterprise beans deployed to a different application server.
	</div><div class="para">
		Local clients can access the methods exposed by a remote business interface. This is done using the same methods as remote clients and incurs all the normal overhead of making a remote request.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+5355-591693+%5BLatest%5D&comment=Title%3A+EJB+Remote+Business+Interfaces%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=5355-591693+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="EJB_No-interface_Beans">
      ⁠</a>7.1.7.4.&nbsp;EJB No-interface Beans</h4></div></div></div><div class="para">
		A session bean that does not implement any business interfaces is called a no-interface bean. All of the public methods of no-interface beans are accessible to local clients.
	</div><div class="para">
		A session bean that implements a business interface can also be written to expose a "no-interface" view.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+5356-591693+%5BLatest%5D&comment=Title%3A+EJB+No-interface+Beans%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=5356-591693+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="sect-Creating_Enterprise_Bean_Projects">
      ⁠</a>7.2.&nbsp;Creating Enterprise Bean Projects</h2></div></div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="Create_an_EJB_Archive_Project_Using_JBoss_Developer_Studio">
      ⁠</a>7.2.1.&nbsp;Create an EJB Archive Project Using Red Hat JBoss Developer Studio</h3></div></div></div><div class="para">
		This task describes how to create an Enterprise JavaBeans (EJB) project in Red Hat JBoss Developer Studio.
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul><li class="listitem"><div class="para">
				A server and server runtime for JBoss EAP 6 has been set up.
			</div></li></ul></div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idp14874096">
      ⁠</a><p class="title"><strong>Procedure&nbsp;7.1.&nbsp;Create an EJB Project in Red Hat JBoss Developer Studio</strong></p><ol class="1"><li class="step"><p class="title"><strong>Create new project</strong></p><div class="para">
				To open the New EJB Project wizard, navigate to the <span class="guimenu"><strong>File</strong></span> menu, select <span class="guisubmenu"><strong> New</strong></span>, and then <span class="guimenuitem"><strong>EJB Project</strong></span>.
			</div><div class="figure"><a id="idp21193856">
      ⁠</a><div class="figure-contents"><div class="mediaobject"><img src="./JBoss_6_3_files/46.png" alt="New EJB Project wizard"></div></div><p class="title"><strong>Figure&nbsp;7.1.&nbsp;New EJB Project wizard</strong></p></div></li><li class="step"><p class="title"><strong>Specify Details</strong></p><div class="para">
				Supply the following details:
			</div><div class="itemizedlist"><ul><li class="listitem"><div class="para">
						Project name.
					</div><div class="para">
						As well as the being the name of the project that appears in Red Hat JBoss Developer Studio this is also the default filename for the deployed JAR file.
					</div></li><li class="listitem"><div class="para">
						Project location.
					</div><div class="para">
						The directory where the project's files will be saved. The default is a directory in the current workspace.
					</div></li><li class="listitem"><div class="para">
						Target Runtime.
					</div><div class="para">
						This is the server runtime used for the project. This will need to be set to the same JBoss EAP 6 runtime used by the server that you will be deploying to.
					</div></li><li class="listitem"><div class="para">
						EJB module version. This is the version of the EJB specification that your enterprise beans will comply with. Red Hat recommends using <code class="literal">3.1</code>.
					</div></li><li class="listitem"><div class="para">
						Configuration. This allows you to adjust the supported features in your project. Use the default configuration for your selected runtime.
					</div></li></ul></div><div class="para">
				Click <span class="guibutton"><strong>Next</strong></span> to continue.
			</div></li><li class="step"><p class="title"><strong>Java Build Configuration</strong></p><div class="para">
				This screen allows you to customize the directories will contain Java source files and the directory where the built output is placed.
			</div><div class="para">
				Leave this configuration unchanged and click <span class="guibutton"><strong>Next</strong></span>.
			</div></li><li class="step"><p class="title"><strong>EJB Module settings</strong></p><div class="para">
				Check the <span class="guilabel"><strong>Generate ejb-jar.xml deployment descriptor</strong></span> checkbox if a deployment descriptor is required. The deployment descriptor is optional in EJB 3.1 and can be added later if required.
			</div><div class="para">
				Click <span class="guibutton"><strong>Finish</strong></span> and the project is created and will be displayed in the Project Explorer.
			</div><div class="figure"><a id="idp26149776">
      ⁠</a><div class="figure-contents"><div class="mediaobject"><img src="./JBoss_6_3_files/47.png" alt="Newly created EJB Project in the Project Explorer"></div></div><p class="title"><strong>Figure&nbsp;7.2.&nbsp;Newly created EJB Project in the Project Explorer</strong></p></div></li><li class="step"><p class="title"><strong>Add Build Artifact to Server for Deployment</strong></p><div class="para">
				Open the <span class="guilabel"><strong>Add and Remove</strong></span> dialog by right-clicking on the server you want to deploy the built artifact to in the server tab, and select "Add and Remove".
			</div><div class="para">
				Select the resource to deploy from the <span class="guilabel"><strong>Available</strong></span> column and click the <span class="guibutton"><strong>Add</strong></span> button. The resource will be moved to the <span class="guilabel"><strong>Configured</strong></span> column. Click <span class="guibutton"><strong>Finish</strong></span> to close the dialog.
			</div><div class="figure"><a id="idp27412784">
      ⁠</a><div class="figure-contents"><div class="mediaobject"><img src="./JBoss_6_3_files/48.png" alt="Add and Remove dialog"></div></div><p class="title"><strong>Figure&nbsp;7.3.&nbsp;Add and Remove dialog</strong></p></div></li></ol></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Result</div>
			You now have an EJB Project in Red Hat JBoss Developer Studio that can build and deploy to the specified server.
		</div><div class="para">
		If no enterprise beans are added to the project then Red Hat JBoss Developer Studio will display the warning "An EJB module must contain one or more enterprise beans." This warning will disappear once one or more enterprise beans have been added to the project.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+5385-681233+%5BLatest%5D&comment=Title%3A+Create+an+EJB+Archive+Project+Using+Red+Hat+JBoss+Developer+Studio%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=5385-681233+04+Jul+2014+00%3A38+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="Create_an_EJB_Archive_Project_in_Maven">
      ⁠</a>7.2.2.&nbsp;Create an EJB Archive Project in Maven</h3></div></div></div><div class="para">
		This task demonstrates how to create a project using Maven that contains one or more enterprise beans packaged in a JAR file.
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><p class="title"><strong>Prerequisites:</strong></p><ul><li class="listitem"><div class="para">
				Maven is already installed.
			</div></li><li class="listitem"><div class="para">
				You understand the basic usage of Maven.
			</div></li></ul></div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idp18864976">
      ⁠</a><p class="title"><strong>Procedure&nbsp;7.2.&nbsp;Create an EJB Archive project in Maven</strong></p><ol class="1"><li class="step"><p class="title"><strong>Create the Maven project</strong></p><div class="para">
				An EJB project can be created using Maven's archetype system and the <code class="code">ejb-javaee6</code> archetype. To do this run the <code class="command">mvn</code> command with parameters as shown:
			</div><pre class="synopsis"> mvn archetype:generate -DarchetypeGroupId=org.codehaus.mojo.archetypes -DarchetypeArtifactId=ejb-javaee6 </pre><div class="para">
				Maven will prompt you for the <code class="code">groupId</code>, <code class="code">artifactId</code>, <code class="code">version</code> and <code class="code">package</code> for your project.
			</div><pre class="screen">[localhost]$ mvn archetype:generate -DarchetypeGroupId=org.codehaus.mojo.archetypes -DarchetypeArtifactId=ejb-javaee6
[INFO] Scanning for projects...
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building Maven Stub Project (No POM) 1
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] &gt;&gt;&gt; maven-archetype-plugin:2.0:generate (default-cli) @ standalone-pom &gt;&gt;&gt;
[INFO] 
[INFO] &lt;&lt;&lt; maven-archetype-plugin:2.0:generate (default-cli) @ standalone-pom &lt;&lt;&lt;
[INFO] 
[INFO] --- maven-archetype-plugin:2.0:generate (default-cli) @ standalone-pom ---
[INFO] Generating project in Interactive mode
[INFO] Archetype [org.codehaus.mojo.archetypes:ejb-javaee6:1.5] found in catalog remote
Define value for property 'groupId': : com.shinysparkly
Define value for property 'artifactId': : payment-arrangments
Define value for property 'version':  1.0-SNAPSHOT: : 
Define value for property 'package':  com.shinysparkly: : 
Confirm properties configuration:
groupId: com.company
artifactId: payment-arrangments
version: 1.0-SNAPSHOT
package: com.company.collections
Y: : 
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 32.440s
[INFO] Finished at: Mon Oct 31 10:11:12 EST 2011
[INFO] Final Memory: 7M/81M
[INFO] ------------------------------------------------------------------------
[localhost]$</pre></li><li class="step"><p class="title"><strong>Add your enterprise beans</strong></p><div class="para">
				Write your enterprise beans and add them to the project under the <code class="filename">src/main/java</code> directory in the appropriate sub-directory for the bean's package.
			</div></li><li class="step"><p class="title"><strong>Build the project</strong></p><div class="para">
				To build the project, run the <code class="command">mvn package</code> command in the same directory as the <code class="filename">pom.xml</code> file. This will compile the Java classes and package the JAR file. The built JAR file is named <code class="filename"><em class="replaceable">artifactId</em>-<em class="replaceable">version</em>.jar</code> and is placed in the <code class="filename">target/</code> directory.
			</div></li></ol></div><div class="para">
		RESULT: You now have a Maven project that builds and packages a JAR file. This project can contain enterprise beans and the JAR file can be deployed to an application server.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+5099-591683+%5BLatest%5D&comment=Title%3A+Create+an+EJB+Archive+Project+in+Maven%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=5099-591683+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="Create_an_EAR_Project_containing_an_EJB_Project">
      ⁠</a>7.2.3.&nbsp;Create an EAR Project containing an EJB Project</h3></div></div></div><div class="para">
		This task describes how to create a new Enterprise Archive (EAR) project in Red Hat JBoss Developer Studio that contains an EJB Project.
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul><li class="listitem"><div class="para">
				A server and server runtime for JBoss EAP 6 has been set up. Refer to <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Add_the_JBoss_EAP_Server_Using_Define_New_Server">Section&nbsp;1.3.1.5, “Add the JBoss EAP Server Using Define New Server”</a>. 
			</div></li></ul></div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idp1338848">
      ⁠</a><p class="title"><strong>Procedure&nbsp;7.3.&nbsp;Create an EAR Project containing an EJB Project</strong></p><ol class="1"><li class="step"><p class="title"><strong>Open the New EAR Application Project Wizard</strong></p><div class="para">
				Navigate to the <span class="guimenu"><strong>File</strong></span> menu, select <span class="guisubmenu"><strong> New</strong></span>, then <span class="guimenuitem"><strong>Project</strong></span> and the <span class="guilabel"><strong>New Project</strong></span> wizard appears. Select <span class="guimenuitem"><strong>Java EE/Enterprise Application Project</strong></span> and click <span class="guibutton"><strong>Next</strong></span>.
			</div><div class="figure"><a id="idp40710064">
      ⁠</a><div class="figure-contents"><div class="mediaobject"><img src="./JBoss_6_3_files/50.png" alt="New EAR Application Project Wizard"></div></div><p class="title"><strong>Figure&nbsp;7.4.&nbsp;New EAR Application Project Wizard</strong></p></div></li><li class="step"><p class="title"><strong>Supply details</strong></p><div class="para">
				Supply the following details:
			</div><div class="itemizedlist"><ul><li class="listitem"><div class="para">
						Project name.
					</div><div class="para">
						As well as the being the name of the project that appears in Red Hat JBoss Developer Studio this is also the default filename for the deployed EAR file.
					</div></li><li class="listitem"><div class="para">
						Project location.
					</div><div class="para">
						The directory where the project's files will be saved. The default is a directory in the current workspace.
					</div></li><li class="listitem"><div class="para">
						Target Runtime.
					</div><div class="para">
						This is the server runtime used for the project. This will need to be set to the same JBoss EAP 6 runtime used by the server that you will be deploying to.
					</div></li><li class="listitem"><div class="para">
						EAR version.
					</div><div class="para">
						This is the version of the Java Enterprise Edition specification that your project will comply with. Red Hat recommends using <code class="literal">6</code>.
					</div></li><li class="listitem"><div class="para">
						Configuration. This allows you to adjust the supported features in your project. Use the default configuration for your selected runtime.
					</div></li></ul></div><div class="para">
				Click <span class="guibutton"><strong>Next</strong></span> to continue.
			</div></li><li class="step"><p class="title"><strong>Add a new EJB Module</strong></p><div class="para">
				New Modules can be added from the <span class="guilabel"><strong>Enterprise Application</strong></span> page of the wizard. To add a new EJB Project as a module follow the steps below:
			</div><ol class="substeps a"><li class="step"><p class="title"><strong>Add new EJB Module</strong></p><div class="para">
						Click <span class="guibutton"><strong>New Module</strong></span>, uncheck <span class="guilabel"><strong>Create Default Modules</strong></span> checkbox, select the <span class="guilabel"><strong>Enterprise Java Bean</strong></span> and click <span class="guibutton"><strong>Next</strong></span>. The <span class="guilabel"><strong>New EJB Project</strong></span> wizard appears.
					</div></li><li class="step"><p class="title"><strong>Create EJB Project</strong></p><div class="para">
						<span class="guilabel"><strong>New EJB Project</strong></span> wizard is the same as the wizard used to create new standalone EJB Projects and is described in <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Create_an_EJB_Archive_Project_Using_JBoss_Developer_Studio">Section&nbsp;7.2.1, “Create an EJB Archive Project Using Red Hat JBoss Developer Studio”</a>.
					</div><div class="para">
						The minimal details required to create the project are:
					</div><div class="itemizedlist"><ul><li class="listitem"><div class="para">
								Project name
							</div></li><li class="listitem"><div class="para">
								Target Runtime
							</div></li><li class="listitem"><div class="para">
								EJB Module version
							</div></li><li class="listitem"><div class="para">
								Configuration
							</div></li></ul></div><div class="para">
						All the other steps of the wizard are optional. Click <span class="guibutton"><strong>Finish</strong></span> to complete creating the EJB Project.
					</div></li></ol><div class="para">
				The newly created EJB project is listed in the Java EE module dependencies and the checkbox is checked.
			</div></li><li class="step"><p class="title"><strong>Optional: add an application.xml deployment descriptor</strong></p><div class="para">
				Check the <span class="guilabel"><strong>Generate application.xml deployment descriptor</strong></span> checkbox if one is required.
			</div></li><li class="step"><p class="title"><strong>Click Finish</strong></p><div class="para">
				Two new project will appear, the EJB project and the EAR project
			</div></li><li class="step"><p class="title"><strong>Add Build Artifact to Server for Deployment</strong></p><div class="para">
				Open the <span class="guilabel"><strong>Add and Remove</strong></span> dialog by right-clicking in the <span class="guilabel"><strong>Servers</strong></span> tab on the server you want to deploy the built artifact to in the server tab, and select <span class="guimenuitem"><strong>Add and Remove</strong></span>.
			</div><div class="para">
				Select the EAR resource to deploy from the <span class="guilabel"><strong>Available</strong></span> column and click the <span class="guibutton"><strong>Add</strong></span> button. The resource will be moved to the <span class="guilabel"><strong>Configured</strong></span> column. Click <span class="guibutton"><strong>Finish</strong></span> to close the dialog.
			</div><div class="figure"><a id="idp10896928">
      ⁠</a><div class="figure-contents"><div class="mediaobject"><img src="./JBoss_6_3_files/51.png" alt="Add and Remove dialog"></div></div><p class="title"><strong>Figure&nbsp;7.5.&nbsp;Add and Remove dialog</strong></p></div></li></ol></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Result</div>
			You now have an Enterprise Application Project with a member EJB Project. This will build and deploy to the specified server as a single EAR deployment containing an EJB subdeployment.
		</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+5098-681236+%5BLatest%5D&comment=Title%3A+Create+an+EAR+Project+containing+an+EJB+Project%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=5098-681236+04+Jul+2014+00%3A43+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="Add_a_Deployment_Descriptor_to_an_EJB_Project">
      ⁠</a>7.2.4.&nbsp;Add a Deployment Descriptor to an EJB Project</h3></div></div></div><div class="para">
		An EJB deployment descriptor can be added to an EJB project that was created without one. To do this, follow the procedure below.
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><p class="title"><strong>Perquisites:</strong></p><ul><li class="listitem"><div class="para">
				You have a EJB Project in Red Hat JBoss Developer Studio to which you want to add an EJB deployment descriptor.
			</div></li></ul></div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idp21396400">
      ⁠</a><p class="title"><strong>Procedure&nbsp;7.4.&nbsp;Add an Deployment Descriptor to an EJB Project</strong></p><ol class="1"><li class="step"><p class="title"><strong>Open the Project</strong></p><div class="para">
				Open the project in Red Hat JBoss Developer Studio.
			</div></li><li class="step"><p class="title"><strong>Add Deployment Descriptor</strong></p><div class="para">
				Right-click on the Deployment Descriptor folder in the project view and select <span class="guimenuitem"><strong>Generate Deployment Descriptor Stub</strong></span>.
			</div><div class="figure"><a id="idp23334336">
      ⁠</a><div class="figure-contents"><div class="mediaobject"><img src="./JBoss_6_3_files/49.png" alt="Adding a Deployment Descriptor"></div></div><p class="title"><strong>Figure&nbsp;7.6.&nbsp;Adding a Deployment Descriptor</strong></p></div></li></ol></div><div class="para">
		The new file, <code class="filename">ejb-jar.xml</code>, is created in <code class="filename">ejbModule/META-INF/</code>. Double-clicking on the Deployment Descriptor folder in the project view will also open this file.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+5386-681237+%5BLatest%5D&comment=Title%3A+Add+a+Deployment+Descriptor+to+an+EJB+Project%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=5386-681237+04+Jul+2014+00%3A46+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="sect-Session_Beans">
      ⁠</a>7.3.&nbsp;Session Beans</h2></div></div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="Session_Beans">
      ⁠</a>7.3.1.&nbsp;Session Beans</h3></div></div></div><div class="para">
		Session Beans are Enterprise Beans that encapsulate a set of related business processes or tasks and are injected into the classes that request them. There are three types of session bean: stateless, stateful, and singleton.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4527-591667+%5BLatest%5D&comment=Title%3A+Session+Beans%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4527-591667+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="Stateless_Session_Beans">
      ⁠</a>7.3.2.&nbsp;Stateless Session Beans</h3></div></div></div><div class="para">
		Stateless session beans are the simplest yet most widely used type of session bean. They provide business methods to client applications but do not maintain any state between method calls. Each method is a complete task that does not rely on any shared state within that session bean. Because there is no state, the application server is not required to ensure that each method call is performed on the same instance. This makes stateless session beans very efficient and scalable.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+5236-591689+%5BLatest%5D&comment=Title%3A+Stateless+Session+Beans%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=5236-591689+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="Stateful_Session_Beans">
      ⁠</a>7.3.3.&nbsp;Stateful Session Beans</h3></div></div></div><div class="para">
		Stateful session beans are Enterprise Beans that provide business methods to client applications and maintain conversational state with the client. They should be used for tasks that must be done in several steps (method calls), each of which replies on the state of the previous step being maintained. The application server ensures that each client receives the same instance of a stateful session bean for each method call.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+5237-591689+%5BLatest%5D&comment=Title%3A+Stateful+Session+Beans%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=5237-591689+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="Singleton_Session_Beans">
      ⁠</a>7.3.4.&nbsp;Singleton Session Beans</h3></div></div></div><div class="para">
		Singleton session beans are session beans that are instantiated once per application and every client request for a singleton bean goes to the same instance. Singleton beans are an implementation of the Singleton Design Pattern as described in the book <em class="citetitle"> Design Patterns: Elements of Reusable Object-Oriented Software</em> by Erich Gamma, Richard Helm, Ralph Johnson and John Vlissides; published by Addison-Wesley in 1994.
	</div><div class="para">
		Singleton beans provide the smallest memory footprint of all the session bean types but must be designed as thread-safe. EJB 3.1 provides container-managed concurrency (CMC) to allow developers to implement thread safe singleton beans easily. However singleton beans can also be written using traditional multi-threaded code (bean-managed concurrency or BMC) if CMC does not provide enough flexibility.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+5238-591689+%5BLatest%5D&comment=Title%3A+Singleton+Session+Beans%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=5238-591689+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="Add_Session_Beans_to_a_Project_in_JBoss_Developer_Studio">
      ⁠</a>7.3.5.&nbsp;Add Session Beans to a Project in Red Hat JBoss Developer Studio</h3></div></div></div><div class="para">
		Red Hat JBoss Developer Studio has several wizards that can be used to quickly create enterprise bean classes. The following procedure shows how to use the Red Hat JBoss Developer Studio wizards to add a session bean to a project.
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><p class="title"><strong>Prerequisites:</strong></p><ul><li class="listitem"><div class="para">
				You have a EJB or Dynamic Web Project in Red Hat JBoss Developer Studio to which you want to add one or more session beans.
			</div></li></ul></div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idp9913840">
      ⁠</a><p class="title"><strong>Procedure&nbsp;7.5.&nbsp;Add Session Beans to a Project in Red Hat JBoss Developer Studio</strong></p><ol class="1"><li class="step"><p class="title"><strong>Open the Project</strong></p><div class="para">
				Open the project in Red Hat JBoss Developer Studio.
			</div></li><li class="step"><p class="title"><strong>Open the "Create EJB 3.x Session Bean" wizard</strong></p><div class="para">
				To open the <span class="guilabel"><strong>Create EJB 3.x Session Bean</strong></span> wizard, navigate to the <span class="guimenu"><strong>File</strong></span> menu, select <span class="guisubmenu"><strong> New</strong></span>, and then <span class="guimenuitem"><strong>Session Bean (EJB 3.x)</strong></span>.
			</div><div class="figure"><a id="idm4829520">
      ⁠</a><div class="figure-contents"><div class="mediaobject"><img src="./JBoss_6_3_files/44.png" alt="Create EJB 3.x Session Bean wizard"></div></div><p class="title"><strong>Figure&nbsp;7.7.&nbsp;Create EJB 3.x Session Bean wizard</strong></p></div></li><li class="step"><p class="title"><strong>Specify class information</strong></p><div class="para">
				Supply the following details:
			</div><div class="itemizedlist"><ul><li class="listitem"><div class="para">
						Project
					</div><div class="para">
						Verify the correct project is selected.
					</div></li><li class="listitem"><div class="para">
						Source folder
					</div><div class="para">
						This is the folder that the Java source files will be created in. This should not usually need to be changed.
					</div></li><li class="listitem"><div class="para">
						Package
					</div><div class="para">
						Specify the package that the class belongs to.
					</div></li><li class="listitem"><div class="para">
						Class name
					</div><div class="para">
						Specify the name of the class that will be the session bean.
					</div></li><li class="listitem"><div class="para">
						Superclass
					</div><div class="para">
						The session bean class can inherit from a super class. Specify that here if your session has a super class.
					</div></li><li class="listitem"><div class="para">
						State type
					</div><div class="para">
						Specify the state type of the session bean: stateless, stateful, or singleton.
					</div></li><li class="listitem"><div class="para">
						Business Interfaces
					</div><div class="para">
						By default the No-interface box is checked so no interfaces will be created. Check the boxes for the interfaces you wish to define and adjust the names if necessary.
					</div><div class="para">
						Remember that enterprise beans in a web archive (WAR) only support EJB 3.1 Lite and this does not include remote business interfaces.
					</div></li></ul></div><div class="para">
				Click <span class="guibutton"><strong>Next</strong></span>.
			</div></li><li class="step"><p class="title"><strong>Session Bean Specific Information</strong></p><div class="para">
				You can enter in additional information here to further customize the session bean. It is not required to change any of the information here.
			</div><div class="para">
				Items that you can change are:
			</div><div class="itemizedlist"><ul><li class="listitem"><div class="para">
						Bean name.
					</div></li><li class="listitem"><div class="para">
						Mapped name.
					</div></li><li class="listitem"><div class="para">
						Transaction type (Container managed or Bean managed).
					</div></li><li class="listitem"><div class="para">
						Additional interfaces can be supplied that the bean must implement.
					</div></li><li class="listitem"><div class="para">
						You can also specify EJB 2.x Home and Component interfaces if required.
					</div></li></ul></div></li><li class="step"><p class="title"><strong>Finish</strong></p><div class="para">
				Click <span class="guibutton"><strong>Finish</strong></span> and the new session bean will be created and added to the project. The files for any new business interfaces will also be created if they were specified.
			</div></li></ol></div><div class="para">
		RESULT: A new session bean is added to the project.
	</div><div class="figure"><a id="idp8585744">
      ⁠</a><div class="figure-contents"><div class="mediaobject"><img src="./JBoss_6_3_files/45.png" alt="New Session Bean in Red Hat JBoss Developer Studio"></div></div><p class="title"><strong>Figure&nbsp;7.8.&nbsp;New Session Bean in Red Hat JBoss Developer Studio</strong></p></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+5440-681243+%5BLatest%5D&comment=Title%3A+Add+Session+Beans+to+a+Project+in+Red+Hat+JBoss+Developer+Studio%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=5440-681243+04+Jul+2014+01%3A01+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="sect-Message-Driven_Beans">
      ⁠</a>7.4.&nbsp;Message-Driven Beans</h2></div></div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="Message-Driven_Beans1">
      ⁠</a>7.4.1.&nbsp;Message-Driven Beans</h3></div></div></div><div class="para">
		Message-driven Beans (MDBs) provide an event driven model for application development. The methods of MDBs are not injected into or invoked from client code but are triggered by the receipt of messages from a messaging service such as a Java Messaging Service (JMS) server. The Java EE 6 specification requires that JMS is supported but other messaging systems can be supported as well.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4528-591667+%5BLatest%5D&comment=Title%3A+Message-Driven+Beans%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4528-591667+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="Resource_Adapters">
      ⁠</a>7.4.2.&nbsp;Resource Adapters</h3></div></div></div><div class="para">
		A resource adapter is a deployable Java EE component that provides communication between a Java EE application and an Enterprise Information System (EIS) using the Java Connector Architecture (JCA) specification. A resource adapter is often provided by EIS vendors to allow easy integration of their products with Java EE applications.
	</div><div class="para">
		An Enterprise Information System can be any other software system within an organization. Examples include Enterprise Resource Planning (ERP) systems, database systems, e-mail servers and proprietary messaging systems.
	</div><div class="para">
		A resource adapter is packaged in a Resource Adapter Archive (RAR) file which can be deployed to JBoss EAP 6. A RAR file may also be included in an Enterprise Archive (EAR) deployment.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4516-591663+%5BLatest%5D&comment=Title%3A+Resource+Adapters%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4516-591663+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="Create_a_JMS-based_Message-Driven_Bean_in_JBoss_Developer_Studio">
      ⁠</a>7.4.3.&nbsp;Create a JMS-based Message-Driven Bean in Red Hat JBoss Developer Studio</h3></div></div></div><div class="para">
		This procedure shows how to add a JMS-based Message-Driven Bean to a project in Red Hat JBoss Developer Studio. This procedure creates an EJB 3.x Message-Driven Bean that uses annotations.
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="orderedlist"><p class="title"><strong>Prerequisites:</strong></p><ol><li class="listitem"><div class="para">
				You must have an existing project open in Red Hat JBoss Developer Studio.
			</div></li><li class="listitem"><div class="para">
				You must know the name and type of the JMS destination that the bean will be listening to.
			</div></li><li class="listitem"><div class="para">
				Support for Java Messaging Service (JMS) must be enabled in the JBoss EAP 6 configuration to which this bean will be deployed.
			</div></li></ol></div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idp1449520">
      ⁠</a><p class="title"><strong>Procedure&nbsp;7.6.&nbsp;Add a JMS-based Message-Driven Bean in Red Hat JBoss Developer Studio</strong></p><ol class="1"><li class="step"><p class="title"><strong>Open the <span class="guilabel"><strong>Create EJB 3.x Message-Driven Bean</strong></span> Wizard</strong></p><div class="para">
				Go to <span class="guimenu"><strong>File</strong></span> → <span class="guisubmenu"><strong>New</strong></span> → <span class="guimenuitem"><strong>Other</strong></span>. Select <span class="guilabel"><strong>EJB/Message-Driven Bean (EJB 3.x)</strong></span> and click the <span class="guibutton"><strong>Next</strong></span> button.
			</div><div class="figure"><a id="idp2046336">
      ⁠</a><div class="figure-contents"><div class="mediaobject"><img src="./JBoss_6_3_files/111.png" alt="Create EJB 3.x Message-Driven Bean Wizard"></div></div><p class="title"><strong>Figure&nbsp;7.9.&nbsp;Create EJB 3.x Message-Driven Bean Wizard</strong></p></div></li><li class="step"><p class="title"><strong>Specify class file destination details</strong></p><div class="para">
				There are three sets of details to specify for the bean class here: Project, Java class, and message destination.
			</div><div class="variablelist"><dl class="variablelist"><dt><span class="term">Project</span></dt><dd><div class="itemizedlist"><ul><li class="listitem"><div class="para">
									If multiple projects exist in the <span class="guilabel"><strong>Workspace</strong></span>, ensure that the correct one is selected in the <span class="guimenu"><strong>Project</strong></span> menu.
								</div></li><li class="listitem"><div class="para">
									The folder where the source file for the new bean will be created is <code class="filename">ejbModule</code> under the selected project's directory. Only change this if you have a specific requirement.
								</div></li></ul></div></dd><dt><span class="term">Java class</span></dt><dd><div class="itemizedlist"><ul><li class="listitem"><div class="para">
									The required fields are: <span class="guilabel"><strong>Java package</strong></span> and <span class="guilabel"><strong>class name</strong></span>.
								</div></li><li class="listitem"><div class="para">
									It is not necessary to supply a <span class="guilabel"><strong>Superclass</strong></span> unless the business logic of your application requires it.
								</div></li></ul></div></dd><dt><span class="term">Message Destination</span></dt><dd><div class="para">
							These are the details you must supply for a JMS-based Message-Driven Bean:
						</div><div class="itemizedlist"><ul><li class="listitem"><div class="para">
									<span class="guilabel"><strong>Destination name</strong></span>. This is the queue or topic name that contains the messages that the bean will respond to.
								</div></li><li class="listitem"><div class="para">
									By default the <span class="guilabel"><strong>JMS</strong></span> checkbox is selected. Do not change this.
								</div></li><li class="listitem"><div class="para">
									Set <span class="guilabel"><strong>Destination type</strong></span> to <span class="guilabel"><strong>Queue</strong></span> or <span class="guilabel"><strong>Topic</strong></span> as required.
								</div></li></ul></div></dd></dl></div><div class="para">
				Click the <span class="guibutton"><strong>Next</strong></span> button.
			</div></li><li class="step"><p class="title"><strong>Enter Message-Driven Bean specific information</strong></p><div class="para">
				The default values here are suitable for a JMS-based Message-Driven bean using Container-managed transactions.
			</div><div class="itemizedlist"><ul><li class="listitem"><div class="para">
						Change the Transaction type to Bean if the Bean will use Bean-managed transactions.
					</div></li><li class="listitem"><div class="para">
						Change the Bean name if a different bean name than the class name is required.
					</div></li><li class="listitem"><div class="para">
						The JMS Message Listener interface will already be listed. You do not need to add or remove any interfaces unless they are specific to your applications business logic.
					</div></li><li class="listitem"><div class="para">
						Leave the checkboxes for creating method stubs selected.
					</div></li></ul></div><div class="para">
				Click the <span class="guibutton"><strong>Finish</strong></span> button.
			</div></li></ol></div><div class="para">
		Result: The Message-Driven Bean is created with stub methods for the default constructor and the <code class="code">onMessage()</code> method. A Red Hat JBoss Developer Studio editor window opened with the corresponding file.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+5094-681244+%5BLatest%5D&comment=Title%3A+Create+a+JMS-based+Message-Driven+Bean+in+Red+Hat+JBoss+Developer+Studio%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=5094-681244+04+Jul+2014+01%3A02+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="Enable_EJB_and_MDB_Property_Substitution_in_an_Application">
      ⁠</a>7.4.4.&nbsp;Enable EJB and MDB Property Substitution in an Application</h3></div></div></div><div class="para">
		A new feature in Red Hat JBoss Enterprise Application Platform allows you to enable property substitution in EJBs and MDBs using the <code class="code">@ActivationConfigProperty</code> and <code class="code">@Resource</code> annotations. Property substitution requires the following configuration and code changes. 
		<div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
					You must enable property substitution in the JBoss EAP server configuration file.
				</div></li><li class="listitem"><div class="para">
					You must define the system properties in the server configuration file or pass them as arguments when you start the JBoss EAP server.
				</div></li><li class="listitem"><div class="para">
					You must modify the code to use the substitution variables.
				</div></li></ul></div>

	</div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idp1767328">
      ⁠</a><p class="title"><strong>Procedure&nbsp;7.7.&nbsp;Implement Property Substitution in an MDB Application</strong></p><div class="para">
			The following code examples are based on the <code class="literal">helloworld-mdb</code> quickstart that ships with JBoss EAP 6.3 or later. This topic shows you how to modify that quickstart to enable property substitution.
		</div><ol class="1"><li class="step"><p class="title"><strong>Configure the JBoss EAP server to enable property substitution.</strong></p><div class="para">
				The JBoss EAP server must be configured to enable property substitution. To do this, set the <code class="code">&lt;annotation-property-replacement&gt;</code> attribute in the <code class="literal">ee</code> subsystem of the server configuration file to <code class="literal">true</code>.
			</div><ol class="substeps a"><li class="step"><div class="para">
						Back up the server configuration file. The <code class="literal">helloworld-mdb</code> quickstart example requires the full profile for a standalone server, so this is the <code class="filename">standalone/configuration/standalone-full.xml</code> file. If you are running your server in a managed domain, this is the <code class="filename">domain/configuration/domain.xml</code> file.
					</div></li><li class="step"><div class="para">
						Start the JBoss EAP server with the full profile.
					</div><div class="para">
						For Linux: 
<pre class="screen"><code class="command"><em class="replaceable">EAP_HOME</em>/bin/standalone.sh -c standalone-full.xml</code></pre>
						 For Windows: 
<pre class="screen"><code class="command"><em class="replaceable">EAP_HOME</em>bin\standalone.bat -c standalone-full.xml</code></pre>

					</div></li><li class="step"><div class="para">
						Launch the Management CLI using the command for your operating system.
					</div><div class="para">
						For Linux: 
<pre class="screen"><code class="command"><em class="replaceable">EAP_HOME</em>/bin/jboss-cli.sh --connect</code></pre>
						 For Windows: 
<pre class="screen"><code class="command"><em class="replaceable">EAP_HOME</em>\bin\jboss-cli.bat --connect</code></pre>

					</div></li><li class="step"><div class="para">
						Type the following command to enable annotation property substitution. 
<pre class="screen"><code class="command">/subsystem=ee:write-attribute(name=annotation-property-replacement,value=true) </code></pre>

					</div></li><li class="step"><div class="para">
						You should see the following result: 
<pre class="screen">{"outcome" =&gt; "success"}</pre>

					</div></li><li class="step"><div class="para">
						Review the changes to the JBoss EAP server configuration file. The <code class="literal">ee</code> subsystem should now contain the following XML. 
<pre class="programlisting"><span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;subsystem</span><span xmlns="" class="perl_Others"> xmlns=</span><span xmlns="" class="perl_String">"urn:jboss:domain:ee:1.2"</span><span xmlns="" class="perl_Keyword">&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;spec-descriptor-property-replacement&gt;</span>false<span xmlns="" class="perl_Keyword">&lt;/spec-descriptor-property-replacement&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;jboss-descriptor-property-replacement&gt;</span>true<span xmlns="" class="perl_Keyword">&lt;/jboss-descriptor-property-replacement&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;annotation-property-replacement&gt;</span>true<span xmlns="" class="perl_Keyword">&lt;/annotation-property-replacement&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;/subsystem&gt;</span></pre>

					</div></li></ol></li><li class="step"><p class="title"><strong>Define the system properties.</strong></p><div class="para">
				You can specify the system properties in the server configuration file or you can pass them as command line arguments when you start the JBoss EAP server. System properties defined in the server configuration file take precedence over those passed on the command line when you start the server.
			</div><ul class="stepalternatives">
				<li class="step"><div class="para">
						Define the system properties in the server configuration file.
					</div><ol class="substeps a"><li class="step"><div class="para">
								Start the JBoss EAP server and Management API as described in the previous step.
							</div></li><li class="step"><div class="para">
								Use the following command syntax to configure a system property in the JBoss EAP server: 
<pre class="screen"><code class="command">/system-property=<em class="replaceable">PROPERTY_NAME</em>:add(value=<em class="replaceable">PROPERTY_VALUE</em>) </code></pre>

							</div><div class="para">
								For the <code class="literal">helloworld-mdb</code> quickstart, we configure the following system properties: 
<pre class="screen"><code class="command">/system-property=property.helloworldmdb.queue:add(value=java:/queue/HELLOWORLDMDBPropQueue)</code>
<code class="command">/system-property=property.helloworldmdb.topic:add(value=java:/topic/HELLOWORLDMDBPropTopic)</code>
<code class="command">/system-property=property.connection.factory:add(value=java:/ConnectionFactory)</code></pre>

							</div></li><li class="step"><div class="para">
								Review the changes to the JBoss EAP server configuration file. The following system properties should now appear in the after the <code class="code">&lt;extensions&gt;</code>. 
<pre class="programlisting"><span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;system-properties&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;property</span><span xmlns="" class="perl_Others"> name=</span><span xmlns="" class="perl_String">"property.helloworldmdb.queue"</span><span xmlns="" class="perl_Others"> value=</span><span xmlns="" class="perl_String">"java:/queue/HELLOWORLDMDBPropQueue"</span><span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;property</span><span xmlns="" class="perl_Others"> name=</span><span xmlns="" class="perl_String">"property.helloworldmdb.topic"</span><span xmlns="" class="perl_Others"> value=</span><span xmlns="" class="perl_String">"java:/topic/HELLOWORLDMDBPropTopic"</span><span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;property</span><span xmlns="" class="perl_Others"> name=</span><span xmlns="" class="perl_String">"property.connection.factory"</span><span xmlns="" class="perl_Others"> value=</span><span xmlns="" class="perl_String">"java:/ConnectionFactory"</span><span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;/system-properties&gt;</span></pre>

							</div></li></ol></li>
				 <li class="step"><div class="para">
						Pass the system properties as arguments on the command line when you start the JBoss EAP server in the form of <code class="command">-D<em class="replaceable">PROPERTY_NAME</em>=<em class="replaceable">PROPERTY_VALUE</em></code>. The following is an example of how to pass the arguments for the system properties defined in the previous step. 
<pre class="screen"><code class="command"><em class="replaceable">EAP_HOME</em>/bin/standalone.sh -c standalone-full.xml -Dproperty.helloworldmdb.queuejava:/queue/HELLOWORLDMDBPropQueue -Dproperty.helloworldmdb.topic=java:/topic/HELLOWORLDMDBPropTopic -Dproperty.connection.factory=java:/ConnectionFactory</code></pre>

					</div></li>

			</ul></li><li class="step"><p class="title"><strong>Modify the code to use the system property substitutions.</strong></p><div class="para">
				Replace hard-coded <code class="code">@ActivationConfigProperty</code> and <code class="code">@Resource</code> annotation values with substitutions for the newly defined system properties. The following are examples of how to change the <code class="literal">helloworld-mdb</code> quickstart to use the newly defined system property substitutions within the annotations in the source code.
			</div><ol class="substeps a"><li class="step"><div class="para">
						Change the <code class="code">@ActivationConfigProperty</code> <code class="literal">destination</code> property value in the <code class="classname">HelloWorldQueueMDB</code> class to use the substitution for the system property. The <code class="code">@MessageDriven</code> annotation should now look like this: 
<pre class="programlisting"><span xmlns="" class="line">​</span>@MessageDriven(name = "HelloWorldQueueMDB", activationConfig = {
<span xmlns="" class="line">​</span>    @ActivationConfigProperty(propertyName = "destinationType", propertyValue = "javax.jms.Queue"),
<span xmlns="" class="line">​</span>    @ActivationConfigProperty(propertyName = "destination", propertyValue = "${property.helloworldmdb.queue}"),   
<span xmlns="" class="line">​</span>    @ActivationConfigProperty(propertyName = "acknowledgeMode", propertyValue = "Auto-acknowledge") })
</pre>

					</div></li><li class="step"><div class="para">
						Change the <code class="code">@ActivationConfigProperty</code> <code class="literal">destination</code> property value in the <code class="classname">HelloWorldTopicMDB</code> class to use the substitution for the system property. The <code class="code">@MessageDriven</code> annotation should now look like this: 
<pre class="programlisting"><span xmlns="" class="line">​</span>@MessageDriven(name = "HelloWorldQTopicMDB", activationConfig = {
<span xmlns="" class="line">​</span>    @ActivationConfigProperty(propertyName = "destinationType", propertyValue = "javax.jms.Topic"),
<span xmlns="" class="line">​</span>    @ActivationConfigProperty(propertyName = "destination", propertyValue = "${property.helloworldmdb.topic}"),   
<span xmlns="" class="line">​</span>    @ActivationConfigProperty(propertyName = "acknowledgeMode", propertyValue = "Auto-acknowledge") })</pre>

					</div></li><li class="step"><div class="para">
						Change the <code class="code">@Resource</code> annotations in the <code class="classname">HelloWorldMDBServletClient</code> class to use the system property substitutions. The code should now look like this: 
<pre class="programlisting"><span xmlns="" class="line">​</span>@Resource(mappedName = "${property.connection.factory}")
<span xmlns="" class="line">​</span>private ConnectionFactory connectionFactory;
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>@Resource(mappedName = "${property.helloworldmdb.queue}")   
<span xmlns="" class="line">​</span>private Queue queue;
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>@Resource(mappedName = "${property.helloworldmdb.topic}")
<span xmlns="" class="line">​</span>private Topic topic;
</pre>

					</div></li><li class="step"><div class="para">
						Modify the <code class="filename">hornetq-jms.xml</code> file to use the system property substitution values. 
<pre class="programlisting"><span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;?xml</span> version="1.0" encoding="UTF-8"<span xmlns="" class="perl_Keyword">?&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;messaging-deployment</span><span xmlns="" class="perl_Others"> xmlns=</span><span xmlns="" class="perl_String">"urn:jboss:messaging-deployment:1.0"</span><span xmlns="" class="perl_Keyword">&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;hornetq-server&gt;</span>
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">&lt;jms-destinations&gt;</span>
<span xmlns="" class="line">​</span>            <span xmlns="" class="perl_Keyword">&lt;jms-queue</span><span xmlns="" class="perl_Others"> name=</span><span xmlns="" class="perl_String">"HELLOWORLDMDBQueue"</span><span xmlns="" class="perl_Keyword">&gt;</span>
<span xmlns="" class="line">​</span>                <span xmlns="" class="perl_Keyword">&lt;entry</span><span xmlns="" class="perl_Others"> name=</span><span xmlns="" class="perl_String">"${property.helloworldmdb.queue}"</span><span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span>            <span xmlns="" class="perl_Keyword">&lt;/jms-queue&gt;</span>
<span xmlns="" class="line">​</span>            <span xmlns="" class="perl_Keyword">&lt;jms-topic</span><span xmlns="" class="perl_Others"> name=</span><span xmlns="" class="perl_String">"HELLOWORLDMDBTopic"</span><span xmlns="" class="perl_Keyword">&gt;</span>
<span xmlns="" class="line">​</span>                <span xmlns="" class="perl_Keyword">&lt;entry</span><span xmlns="" class="perl_Others"> name=</span><span xmlns="" class="perl_String">"${property.helloworldmdb.topic}"</span><span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span>            <span xmlns="" class="perl_Keyword">&lt;/jms-topic&gt;</span>
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">&lt;/jms-destinations&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;/hornetq-server&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;/messaging-deployment&gt;</span></pre>

					</div></li></ol></li><li class="step"><div class="para">
				Deploy the application. The application will now use the values specified by the system properties for the <code class="code">@Resource</code> and <code class="code">@ActivationConfigProperty</code> property values.
			</div></li></ol></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+30840-639225+%5BLatest%5D&comment=Title%3A+Enable+EJB+and+MDB+Property+Substitution+in+an+Application%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=30840-639225+09+May+2014+00%3A13+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="sect-Invoking_Session_Beans">
      ⁠</a>7.5.&nbsp;Invoking Session Beans</h2></div></div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="Invoke_a_Session_Bean_Remotely_using_JNDI1">
      ⁠</a>7.5.1.&nbsp;Invoke a Session Bean Remotely using JNDI</h3></div></div></div><div class="para">
		This task describes how to add support to a remote client for the invocation of session beans using JNDI. The task assumes that the project is being built using Maven.
	</div><div class="para">
		The <code class="filename">ejb-remote</code> quickstart contains working Maven projects that demonstrate this functionality. The quickstart contains projects for both the session beans to deploy and the remote client. The code samples below are taken from the remote client project.
	</div><div class="para">
		This task assumes that the session beans do not require authentication.
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="warning"><div class="admonition_header"><p><strong>Warning</strong></p></div><div class="admonition"><div class="para">
			Red&nbsp;Hat recommends that you explicitly disable SSL in favor of TLSv1.1 or TLSv1.2 in all affected packages.
		</div></div></div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><div class="para">
			The following prerequisites must be satisfied before beginning:
		</div><ul><li class="listitem"><div class="para">
				You must already have a Maven project created ready to use.
			</div></li><li class="listitem"><div class="para">
				Configuration for the JBoss EAP 6 Maven repository has already been added.
			</div></li><li class="listitem"><div class="para">
				The session beans that you want to invoke are already deployed.
			</div></li><li class="listitem"><div class="para">
				The deployed session beans implement remote business interfaces.
			</div></li><li class="listitem"><div class="para">
				The remote business interfaces of the session beans are available as a Maven dependency. If the remote business interfaces are only available as a JAR file then it is recommended to add the JAR to your Maven repository as an artifact. Refer to the Maven documentation for the <code class="command">install:install-file</code> goal for directions, <a href="http://maven.apache.org/plugins/maven-install-plugin/usage.html">http://maven.apache.org/plugins/maven-install-plugin/usage.html</a>
			</div></li><li class="listitem"><div class="para">
				You need to know the hostname and JNDI port of the server hosting the session beans.
			</div></li></ul></div><div class="para">
		To invoke a session bean from a remote client you must first configure the project correctly.
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idp24859872">
      ⁠</a><p class="title"><strong>Procedure&nbsp;7.8.&nbsp;Add Maven Project Configuration for Remote Invocation of Session Beans</strong></p><ol class="1"><li class="step"><p class="title"><strong>Add the required project dependencies</strong></p><div class="para">
				The <code class="filename">pom.xml</code> for the project must be updated to include the necessary dependencies.
			</div></li><li class="step"><p class="title"><strong>Add the <code class="filename">jboss-ejb-client.properties</code> file</strong></p><div class="para">
				The JBoss EJB client API expects to find a file in the root of the project named <code class="filename">jboss-ejb-client.properties</code> that contains the connection information for the JNDI service. Add this file to the <code class="filename">src/main/resources/</code> directory of your project with the following content.
			</div><pre class="programlisting"># In the following line, set SSL_ENABLED to true for SSL
remote.connectionprovider.create.options.org.xnio.Options.SSL_ENABLED=false
remote.connections=default
# Uncomment the following line to set SSL_STARTTLS to true for SSL
# remote.connection.default.connect.options.org.xnio.Options.SSL_STARTTLS=true
remote.connection.default.host=localhost
remote.connection.default.port = 4447
remote.connection.default.connect.options.org.xnio.Options.SASL_POLICY_NOANONYMOUS=false
# Add any of the following SASL options if required
# remote.connection.default.connect.options.org.xnio.Options.SASL_POLICY_NOANONYMOUS=false
# remote.connection.default.connect.options.org.xnio.Options.SASL_POLICY_NOPLAINTEXT=false
# remote.connection.default.connect.options.org.xnio.Options.SASL_DISALLOWED_MECHANISMS=JBOSS-LOCAL-USER
</pre><div class="para">
				Change the host name and port to match your server. <code class="literal">4447</code> is the default port number. For a secure connection, set the <code class="literal">SSL_ENABLED</code> line to <code class="literal">true</code> and uncomment the <code class="literal">SSL_STARTTLS</code> line. The Remoting interface in the container supports secured and unsecured connections using the same port.
			</div></li><li class="step"><p class="title"><strong>Add dependencies for the remote business interfaces</strong></p><div class="para">
				Add the Maven dependencies to the <code class="filename">pom.xml</code> for the remote business interfaces of the session beans.
			</div><pre class="programlisting"><span xmlns="" class="line">​</span>&lt;dependency&gt;
<span xmlns="" class="line">​</span>   &lt;groupId&gt;org.<span xmlns="" class="perl_Function">jboss</span>.<span xmlns="" class="perl_Function">as</span>.<span xmlns="" class="perl_Function">quickstarts</span>&lt;/groupId&gt;
<span xmlns="" class="line">​</span>   &lt;artifactId&gt;jboss-ejb-remote-server-side&lt;/artifactId&gt;
<span xmlns="" class="line">​</span>   &lt;type&gt;ejb-client&lt;/type&gt;
<span xmlns="" class="line">​</span>   &lt;version&gt;${project.<span xmlns="" class="perl_Function">version</span>}&lt;/version&gt;
<span xmlns="" class="line">​</span>&lt;/dependency&gt;</pre></li></ol></div><div class="para">
		Now that the project has been configured correctly, you can add the code to access and invoke the session beans.
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idp21295872">
      ⁠</a><p class="title"><strong>Procedure&nbsp;7.9.&nbsp;Obtain a Bean Proxy using JNDI and Invoke Methods of the Bean</strong></p><ol class="1"><li class="step"><p class="title"><strong>Handle checked exceptions</strong></p><div class="para">
				Two of the methods used in the following code (<code class="code">InitialContext()</code> and <code class="code">lookup()</code>) have a checked exception of type <code class="code">javax.naming.NamingException</code>. These method calls must either be enclosed in a try/catch block that catches <code class="code">NamingException</code> or in a method that is declared to throw <code class="code">NamingException</code>. The <code class="filename">ejb-remote</code> quickstart uses the second technique.
			</div></li><li class="step"><p class="title"><strong>Create a JNDI Context</strong></p><div class="para">
				A JNDI Context object provides the mechanism for requesting resources from the server. Create a JNDI context using the following code:
			</div><pre class="programlisting"><span xmlns="" class="line">​</span><span xmlns="" class="perl_DataType">final</span> Hashtable jndiProperties = <span xmlns="" class="perl_Keyword">new</span> Hashtable();
<span xmlns="" class="line">​</span>jndiProperties.<span xmlns="" class="perl_Function">put</span>(Context.<span xmlns="" class="perl_Function">URL_PKG_PREFIXES</span>, <span xmlns="" class="perl_String">"org.jboss.ejb.client.naming"</span>);
<span xmlns="" class="line">​</span><span xmlns="" class="perl_DataType">final</span> Context context = <span xmlns="" class="perl_Keyword">new</span> InitialContext(jndiProperties);</pre><div class="para">
				The connection properties for the JNDI service are read from the <code class="filename">jboss-ejb-client.properties</code> file.
			</div></li><li class="step"><p class="title"><strong>Use the JNDI Context's lookup() method to obtain a bean proxy</strong></p><div class="para">
				Invoke the <code class="code">lookup()</code> method of the bean proxy and pass it the JNDI name of the session bean you require. This will return an object that must be cast to the type of the remote business interface that contains the methods you want to invoke.
			</div><pre class="programlisting"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_DataType">final</span> RemoteCalculator statelessRemoteCalculator = (RemoteCalculator) context.<span xmlns="" class="perl_Function">lookup</span>(
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_String">"ejb:/jboss-ejb-remote-server-side//CalculatorBean!"</span> + 
<span xmlns="" class="line">​</span>    RemoteCalculator.<span xmlns="" class="perl_Function">class</span>.<span xmlns="" class="perl_Function">getName</span>());</pre><div class="para">
				Session bean JNDI names are defined using a special syntax. For more information, see <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#EJB_JNDI_Naming_Reference">Section&nbsp;7.8.1, “EJB JNDI Naming Reference”</a> .
			</div></li><li class="step"><p class="title"><strong>Invoke methods</strong></p><div class="para">
				Now that you have a proxy bean object you can invoke any of the methods contained in the remote business interface.
			</div><pre class="programlisting"><span xmlns="" class="line">​</span><span xmlns="" class="perl_DataType">int</span> a = <span xmlns="" class="perl_Float">204</span>;
<span xmlns="" class="line">​</span><span xmlns="" class="perl_DataType">int</span> b = <span xmlns="" class="perl_Float">340</span>;
<span xmlns="" class="line">​</span>System.<span xmlns="" class="perl_Function">out</span>.<span xmlns="" class="perl_Function">println</span>(<span xmlns="" class="perl_String">"Adding "</span> + a + <span xmlns="" class="perl_String">" and "</span> + b + <span xmlns="" class="perl_String">" via the remote stateless calculator deployed on the server"</span>);
<span xmlns="" class="line">​</span><span xmlns="" class="perl_DataType">int</span> sum = statelessRemoteCalculator.<span xmlns="" class="perl_Function">add</span>(a, b);
<span xmlns="" class="line">​</span>System.<span xmlns="" class="perl_Function">out</span>.<span xmlns="" class="perl_Function">println</span>(<span xmlns="" class="perl_String">"Remote calculator returned sum = "</span> + sum);</pre><div class="para">
				The proxy bean passes the method invocation request to the session bean on the server, where it is executed. The result is returned to the proxy bean which then returns it to the caller. The communication between the proxy bean and the remote session bean is transparent to the caller.
			</div></li></ol></div><div class="para">
		You should now be able to configure a Maven project to support invoking session beans on a remote server and write the code invoke the session beans methods using a proxy bean retrieved from the server using JNDI.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+5719-724696+%5BLatest%5D&comment=Title%3A+Invoke+a+Session+Bean+Remotely+using+JNDI%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=5719-724696+10+Nov+2014+14%3A45+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="About_EJB_Client_Contexts">
      ⁠</a>7.5.2.&nbsp;About EJB Client Contexts</h3></div></div></div><div class="para">
		JBoss EAP 6 introduced the EJB client API for managing remote EJB invocations. The JBoss EJB client API uses the EJBClientContext, which may be associated with and be used by one or more threads concurrently. The means an EJBClientContext can potentially contain any number of EJB receivers. An EJB receiver is a component that knows how to communicate with a server that is capable of handling the EJB invocation. Typically, EJB remote applications can be classified into the following: 
		<div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
					A remote client, which runs as a standalone Java application.
				</div></li><li class="listitem"><div class="para">
					A remote client, which runs within another JBoss EAP 6 instance.
				</div></li></ul></div>

	</div><div class="para">
		Depending on the type of remote client, from an EJB client API point of view, there can potentially be more than one EJBClientContext within a JVM.
	</div><div class="para">
		While standalone applications typically have a single EJBClientContext that may be backed by any number of EJB receivers, this isn't mandatory. If a standalone application has more than one EJBClientContext, an EJB client context selector is responsible for returning the appropriate context.
	</div><div class="para">
		In case of remote clients that run within another JBoss EAP 6 instance, each deployed application will have a corresponding EJB client context. Whenever that application invokes another EJB, the corresponding EJB client context is used to find the correct EJB receiver, which then handles the invocation.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+14184-592104+%5BLatest%5D&comment=Title%3A+About+EJB+Client+Contexts%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=14184-592104+24+Feb+2014+07%3A57+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="Limitations_of_Single_EJB_Client_Context">
      ⁠</a>7.5.3.&nbsp;Considerations When Using a Single EJB Context</h3></div></div></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Summary</div>
			You must consider your application requirements when using a single EJB client context with standalone remote clients. For more information about the different types of remote clients, refer to: <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_EJB_Client_Contexts">Section&nbsp;7.5.2, “About EJB Client Contexts”</a> .
		</div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Typical Process for a Remote Standalone Client with a Single EJB Client Context</div>
			A remote standalone client typically has just one EJB client context backed by any number of EJB receivers. The following is an example of a standalone remote client application: 
<pre class="programlisting"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_Keyword">class</span> MyApplication {
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_DataType">static</span> <span xmlns="" class="perl_DataType">void</span> <span xmlns="" class="perl_Function">main</span>(String args[]) {
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_DataType">final</span> javax.<span xmlns="" class="perl_Function">naming</span>.<span xmlns="" class="perl_Function">Context</span> ctxOne = <span xmlns="" class="perl_Keyword">new</span> javax.<span xmlns="" class="perl_Function">naming</span>.<span xmlns="" class="perl_Function">InitialContext</span>();
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_DataType">final</span> MyBeanInterface beanOne = ctxOne.<span xmlns="" class="perl_Function">lookup</span>(<span xmlns="" class="perl_String">"ejb:app/module/distinct/bean!interface"</span>);
<span xmlns="" class="line">​</span>        beanOne.<span xmlns="" class="perl_Function">doSomething</span>();
<span xmlns="" class="line">​</span>        ...
<span xmlns="" class="line">​</span>    }
<span xmlns="" class="line">​</span>}
</pre>

		</div><div class="para">
		Remote client JNDI lookups are usually backed by a <code class="filename">jboss-ejb-client.properties</code> file, which is used to set up the EJB client context and the EJB receivers. This configuration also includes the security credentials, which are then used to create the EJB receiver that connects to the JBoss EAP 6 server. When the above code is invoked, the EJB client API looks for the EJB client context, which is then used to select the EJB receiver that will receive and process the EJB invocation request. In this case, there is just the single EJB client context, so that context is used by the above code to invoke the bean. The procedure to invoke a session bean remotely using JNDI is described in greater detail here: <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Invoke_a_Session_Bean_Remotely_using_JNDI1">Section&nbsp;7.5.1, “Invoke a Session Bean Remotely using JNDI”</a> .
	</div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Remote Standalone Client Requiring Different Credentials</div>
			A user application may want to invoke a bean more than once, but connect to the JBoss EAP 6 server using different security credentials. The following is an example of a standalone remote client application that invokes the same bean twice: 
<pre class="programlisting"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_Keyword">class</span> MyApplication {
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_DataType">static</span> <span xmlns="" class="perl_DataType">void</span> <span xmlns="" class="perl_Function">main</span>(String args[]) {
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Comment">// Use the "foo" security credential connect to the server and invoke this bean instance</span>
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_DataType">final</span> javax.<span xmlns="" class="perl_Function">naming</span>.<span xmlns="" class="perl_Function">Context</span> ctxOne = <span xmlns="" class="perl_Keyword">new</span> javax.<span xmlns="" class="perl_Function">naming</span>.<span xmlns="" class="perl_Function">InitialContext</span>();
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_DataType">final</span> MyBeanInterface beanOne = ctxOne.<span xmlns="" class="perl_Function">lookup</span>(<span xmlns="" class="perl_String">"ejb:app/module/distinct/bean!interface"</span>);
<span xmlns="" class="line">​</span>        beanOne.<span xmlns="" class="perl_Function">doSomething</span>();
<span xmlns="" class="line">​</span>        ...
<span xmlns="" class="line">​</span> 
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Comment">// Use the "bar" security credential to connect to the server and invoke this bean instance</span>
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_DataType">final</span> javax.<span xmlns="" class="perl_Function">naming</span>.<span xmlns="" class="perl_Function">Context</span> ctxTwo = <span xmlns="" class="perl_Keyword">new</span> javax.<span xmlns="" class="perl_Function">naming</span>.<span xmlns="" class="perl_Function">InitialContext</span>();
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_DataType">final</span> MyBeanInterface beanTwo = ctxTwo.<span xmlns="" class="perl_Function">lookup</span>(<span xmlns="" class="perl_String">"ejb:app/module/distinct/bean!interface"</span>);
<span xmlns="" class="line">​</span>        beanTwo.<span xmlns="" class="perl_Function">doSomething</span>();
<span xmlns="" class="line">​</span>        ...
<span xmlns="" class="line">​</span>    }
<span xmlns="" class="line">​</span>}
</pre>

		</div><div class="para">
		In this case, the application wants to connect to the same server instance to invoke the EJB hosted on that server, but wants to use two different credentials while connecting to the server. Because the client application has a single EJB client context, which can have only one EJB receiver for each server instance, this means the above code uses just one credential to connect to the server and the code does not execute as the application expects it to.
	</div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Solution</div>
			Scoped EJB client contexts offer a solution to this issue. They provide a way to have more control over the EJB client contexts and their associated JNDI contexts, which are typically used for EJB invocations. For more information about scoped EJB client contexts, refer to <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Using_Scoped_EJB_Client_Contexts">Section&nbsp;7.5.4, “Using Scoped EJB Client Contexts”</a>  and <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Configure_EJBs_Using_a_Map-Based_or_Scoped_Context">Section&nbsp;7.5.5, “Configure EJBs Using a Scoped EJB Client Context”</a> .
		</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+14185-592104+%5BLatest%5D&comment=Title%3A+Considerations+When+Using+a+Single+EJB+Context%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=14185-592104+24+Feb+2014+07%3A57+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="Using_Scoped_EJB_Client_Contexts">
      ⁠</a>7.5.4.&nbsp;Using Scoped EJB Client Contexts</h3></div></div></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Summary</div>
			To invoke an EJB In earlier versions of JBoss EAP 6, you would typically create a JNDI context and pass it the PROVIDER_URL, which would point to the target server. Any invocations done on EJB proxies that were looked up using that JNDI context, would end up on that server. With scoped EJB client contexts, user applications have control over which EJB receiver is used for a specific invocation.
		</div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Use Scoped EJB Client Context in a Remote Standalone Client</div>
			Prior to the introduction of scoped EJB client contexts, the context was typically scoped to the client application. Scoped client contexts now allow the EJB client contexts to be scoped with the JNDI contexts. The following is an example of a standalone remote client application that invokes the same bean twice using a scoped EJB client context: 
<pre class="programlisting"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_Keyword">class</span> MyApplication { 
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_DataType">static</span> <span xmlns="" class="perl_DataType">void</span> <span xmlns="" class="perl_Function">main</span>(String args[]) {
<span xmlns="" class="line">​</span> 
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Comment">// Use the "foo" security credential connect to the server and invoke this bean instance</span>
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_DataType">final</span> Properties ejbClientContextPropsOne = <span xmlns="" class="perl_Function">getPropsForEJBClientContextOne</span>():
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_DataType">final</span> javax.<span xmlns="" class="perl_Function">naming</span>.<span xmlns="" class="perl_Function">Context</span> ctxOne = <span xmlns="" class="perl_Keyword">new</span> javax.<span xmlns="" class="perl_Function">naming</span>.<span xmlns="" class="perl_Function">InitialContext</span>(ejbClientContextPropsOne);
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_DataType">final</span> MyBeanInterface beanOne = ctxOne.<span xmlns="" class="perl_Function">lookup</span>(<span xmlns="" class="perl_String">"ejb:app/module/distinct/bean!interface"</span>);
<span xmlns="" class="line">​</span>        beanOne.<span xmlns="" class="perl_Function">doSomething</span>();
<span xmlns="" class="line">​</span>        ...
<span xmlns="" class="line">​</span>        ctxOne.<span xmlns="" class="perl_Function">close</span>();
<span xmlns="" class="line">​</span> 
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Comment">// Use the "bar" security credential to connect to the server and invoke this bean instance</span>
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_DataType">final</span> Properties ejbClientContextPropsTwo = <span xmlns="" class="perl_Function">getPropsForEJBClientContextTwo</span>():
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_DataType">final</span> javax.<span xmlns="" class="perl_Function">naming</span>.<span xmlns="" class="perl_Function">Context</span> ctxTwo = <span xmlns="" class="perl_Keyword">new</span> javax.<span xmlns="" class="perl_Function">naming</span>.<span xmlns="" class="perl_Function">InitialContext</span>(ejbClientContextPropsTwo);
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_DataType">final</span> MyBeanInterface beanTwo = ctxTwo.<span xmlns="" class="perl_Function">lookup</span>(<span xmlns="" class="perl_String">"ejb:app/module/distinct/bean!interface"</span>);
<span xmlns="" class="line">​</span>        beanTwo.<span xmlns="" class="perl_Function">doSomething</span>();
<span xmlns="" class="line">​</span>        ...
<span xmlns="" class="line">​</span>        ctxTwo.<span xmlns="" class="perl_Function">close</span>();
<span xmlns="" class="line">​</span>    }
<span xmlns="" class="line">​</span>}
</pre>

		</div><div class="para">
		To use the scoped EJB client context, you configure EJB client properties programmatically and pass the properties on context creation. The properties are the same set of properties that are used in the standard <code class="filename">jboss-ejb-client.properties</code> file. To scope the EJB client context to the JNDI context, you must also specify the <code class="literal">org.jboss.ejb.client.scoped.context</code> property and set its value to <code class="literal">true</code>. This property notifies the EJB client API that it must create an EJB client context, which is backed by EJB receivers, and that the created context is then scoped or visible only to the JNDI context that created it. Any EJB proxies looked up or invoked using this JNDI context will only know of the EJB client context associated with this JNDI context. Other JNDI contexts used by the application to lookup and invoke EJBs will not know about the other scoped EJB client contexts.
	</div><div class="para">
		JNDI contexts that do not pass the <code class="literal">org.jboss.ejb.client.scoped.context</code> property and aren't scoped to an EJB client context will use the default behavior, which is to use the existing EJB client context that is typically tied to the entire application.
	</div><div class="para">
		Scoped EJB client contexts provide user applications with the flexibility that was associated with the JNP based JNDI invocations in previous versions of JBoss EAP. It provides user applications with more control over which JNDI context communicates to which server and how it connects to that server.
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="note"><div class="admonition_header"><p><strong>Note</strong></p></div><div class="admonition"><div class="para">
			With the scoped context, the underlying resources are no longer handled by the container or the API, so you must close the <code class="code">InitialContext</code> when it is no longer needed. When the <code class="code">InitialContext</code> is closed, the resources are released immediately. The proxies that are bound to it are no longer valid and any invocation will throw an Exception. Failure to close the <code class="code">InitialContext</code> may result in resource and performance issues.
		</div></div></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+14186-592104+%5BLatest%5D&comment=Title%3A+Using+Scoped+EJB+Client+Contexts%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=14186-592104+24+Feb+2014+07%3A57+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="Configure_EJBs_Using_a_Map-Based_or_Scoped_Context">
      ⁠</a>7.5.5.&nbsp;Configure EJBs Using a Scoped EJB Client Context</h3></div></div></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Summary</div>
			EJBs can be configured using a map-based scoped context. This is achieved by programmatically populating a <code class="classname">Properties</code> map using the standard properties found in the <code class="filename">jboss-ejb-client.properties</code>, specifying <code class="literal">true</code> for the <code class="literal">org.jboss.ejb.client.scoped.context</code> property, and passing the properties on the <code class="classname">InitialContext</code> creation.
		</div><div class="para">
		The benefit of using a scoped context is that it allows you to configure access without directly referencing the EJB or importing JBoss classes. It also provides a way to configure and load balance a host at runtime in a multithreaded environment.
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idp40709632">
      ⁠</a><p class="title"><strong>Procedure&nbsp;7.10.&nbsp;Configure an EJB Using a Map-Based Scoped Context</strong></p><ol class="1"><li class="step"><p class="title"><strong>Set the Properties</strong></p><div class="para">
				Configure the EJB client properties programmatically, specifying the same set of properties that are used in the standard <code class="filename">jboss-ejb-client.properties</code> file. To enable the scoped context, you must specify the <code class="literal">org.jboss.ejb.client.scoped.context</code> property and set its value to <code class="literal">true</code>. The following is an example that configures the properties programmatically. 
<pre class="programlisting"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">// Configure  EJB Client properties for the InitialContext</span>
<span xmlns="" class="line">​</span>Properties ejbClientContextProps = <span xmlns="" class="perl_Keyword">new</span> Properties();
<span xmlns="" class="line">​</span>ejbClientContextProps.<span xmlns="" class="perl_Function">put</span>(“remote.<span xmlns="" class="perl_Function">connections</span>”,”name1”);
<span xmlns="" class="line">​</span>ejbClientContextProps.<span xmlns="" class="perl_Function">put</span>(“remote.<span xmlns="" class="perl_Function">connection</span>.<span xmlns="" class="perl_Function">name1</span>.<span xmlns="" class="perl_Function">host</span>”,”localhost”);
<span xmlns="" class="line">​</span>ejbClientContextProps.<span xmlns="" class="perl_Function">put</span>(“remote.<span xmlns="" class="perl_Function">connection</span>.<span xmlns="" class="perl_Function">name1</span>.<span xmlns="" class="perl_Function">port</span>”,”4447”);
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">// Property to enable scoped EJB client context which will be tied to the JNDI context</span>
<span xmlns="" class="line">​</span>ejbClientContextProps.<span xmlns="" class="perl_Function">put</span>(<span xmlns="" class="perl_String">"org.jboss.ejb.client.scoped.context"</span>, “true”);
</pre>

			</div></li><li class="step"><p class="title"><strong>Pass the Properties on the Context Creation</strong></p><div class="para">
				
<pre class="programlisting"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">// Create the context using the configured properties</span>
<span xmlns="" class="line">​</span>InitialContext ic = <span xmlns="" class="perl_Keyword">new</span> InitialContext(ejbClientContextProps);
<span xmlns="" class="line">​</span>MySLSB bean = ic.<span xmlns="" class="perl_Function">lookup</span>(<span xmlns="" class="perl_String">"ejb:myapp/ejb//MySLSBBean!"</span> + MySLSB.<span xmlns="" class="perl_Function">class</span>.<span xmlns="" class="perl_Function">getName</span>());
</pre>

			</div></li></ol></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Additional Information</div>
			<div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
						Contexts generated by lookup EJB proxies are bound by this scoped context and use only the relevant connection parameters. This makes it possible to create different contexts to access data within a client application or to independently access servers using different logins.
					</div></li><li class="listitem"><div class="para">
						In the client, both the scoped <code class="classname">InitialContext</code> and the scoped proxy are passed to threads, allowing each thread to work with the given context. It is also possible to pass the proxy to multiple threads that can use it concurrently.
					</div></li><li class="listitem"><div class="para">
						The scoped context EJB proxy is serialized on the remote call and then deserialized on the server. When it is deserialized, the scoped context information is removed and it returns to its default state. If the deserialized proxy is used on the remote server, because it no longer has the scoped context that was used when it was created, this can result in an <code class="literal">EJBCLIENT000025</code> error or possibly call an unwanted target by using the EJB name.
					</div></li></ul></div>

		</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+14110-592100+%5BLatest%5D&comment=Title%3A+Configure+EJBs+Using+a+Scoped+EJB+Client+Context%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=14110-592100+24+Feb+2014+07%3A57+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="EJB_Client_Properties">
      ⁠</a>7.5.6.&nbsp;EJB Client Properties</h3></div></div></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Summary</div>
			The following tables list properties that can be configured programmatically or in the <code class="filename">jboss-ejb-client.properties</code> file.
		</div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">EJB Client Global Properties</div>
			The following table lists properties that are valid for the whole library within the same scope.
		</div><div class="table"><a id="table-global-ejb-client-properties">
      ⁠</a><p class="title"><strong>Table&nbsp;7.1.&nbsp;Global Properties</strong></p><div class="table-contents"><table xmlns:d="http://docbook.org/ns/docbook" class="lt-4-cols lt-7-rows" summary="Global Properties"><colgroup><col width="25%" align="left" class="c1"><col width="75%" align="left" class="c2"></colgroup><thead><tr><th align="left"> Property Name </th><th align="left"> Description </th></tr></thead><tbody><tr><td align="left"> <code class="code">endpoint.name</code> </td><td align="left"> <div class="para">
						Name of the client endpoint. If not set, the default value is <code class="literal">client-endpoint</code>
					</div>
					 <div class="para">
						This can be helpful to distinguish different endpoint settings because the thread name contains this property.
					</div>
					 </td></tr><tr><td align="left"> <code class="code">remote.connectionprovider.create.options.org.xnio.Options.SSL_ENABLED</code> </td><td align="left"> <div class="para">
						Boolean value that specifies whether the SSL protocol is enabled for all connections.
					</div>
					 <div class="warning"><div class="admonition_header"><p><strong>Warning</strong></p></div><div class="admonition"><div class="para">
							Red&nbsp;Hat recommends that you explicitly disable SSL in favor of TLSv1.1 or TLSv1.2 in all affected packages.
						</div></div></div>
					 </td></tr><tr><td align="left"> <code class="code">deployment.node.selector</code> </td><td align="left"> <div class="para">
						The fully qualified name of the implementation of <code class="classname">org.jboss.ejb.client.DeploymentNodeSelector</code>.
					</div>
					 <div class="para">
						This is used to load balance the invocation for the EJBs.
					</div>
					 </td></tr><tr><td align="left"> <code class="code">invocation.timeout</code> </td><td align="left"> <div class="para">
						The timeout for the EJB handshake or method invocation request/response cycle. The value is in milliseconds.
					</div>
					 <div class="para">
						The invocation of any method throws a <code class="classname">java.util.concurrent.TimeoutException</code> if the execution takes longer than the timeout period. The execution completes and the server is not interrupted.
					</div>
					 </td></tr><tr><td align="left"> <code class="code">reconnect.tasks.timeout</code> </td><td align="left"> <div class="para">
						The timeout for the background reconnect tasks. The value is in milliseconds.
					</div>
					 <div class="para">
						If a number of connections are down, the next client EJB invocation will use an algorithm to decide if a reconnect is necessary to find the right node.
					</div>
					 </td></tr><tr><td align="left"> <code class="code">org.jboss.ejb.client.scoped.context</code> </td><td align="left"> <div class="para">
						Boolean value that specifies whether to enable the scoped EJB client context. The default value is <code class="literal">false</code>.
					</div>
					 <div class="para">
						If set to <code class="literal">true</code>, the EJB Client will use the scoped context that is tied to the JNDI context. Otherwise the EJB client context will use the global selector in the JVM to determine the properties used to call the remote EJB and host.
					</div>
					 </td></tr></tbody></table></div></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">EJB Client Connection Properties</div>
			The connection properties start with the prefix <code class="literal">remote.connection.<em class="replaceable">CONNECTION_NAME</em></code> where the <em class="replaceable">CONNECTION_NAME</em> is a local identifier only used to uniquely identify the connection.
		</div><div class="table"><a id="table-ejb-client-connection-properties">
      ⁠</a><p class="title"><strong>Table&nbsp;7.2.&nbsp;Connection Properties</strong></p><div class="table-contents"><table xmlns:d="http://docbook.org/ns/docbook" class="lt-4-cols gt-7-rows" summary="Connection Properties"><colgroup><col width="25%" align="left" class="c1"><col width="75%" align="left" class="c2"></colgroup><thead><tr><th align="left"> Property Name </th><th align="left"> Description </th></tr></thead><tbody><tr><td align="left"> <code class="code">remote.connections</code> </td><td align="left"> <div class="para">
						A comma-separated list of active <code class="literal">connection-names</code>. Each connection is configured by using this name.
					</div>
					 </td></tr><tr><td align="left"> <code class="code"><code class="literal">remote.connection.<em class="replaceable">CONNECTION_NAME</em></code>.host</code> </td><td align="left"> <div class="para">
						The host name or IP for the connection.
					</div>
					 </td></tr><tr><td align="left"> <code class="code"><code class="literal">remote.connection.<em class="replaceable">CONNECTION_NAME</em></code>.port</code> </td><td align="left"> <div class="para">
						The port for the connection. The default value is 4447.
					</div>
					 </td></tr><tr><td align="left"> <code class="code"><code class="literal">remote.connection.<em class="replaceable">CONNECTION_NAME</em></code>.username</code> </td><td align="left"> <div class="para">
						The user name used to authenticate connection security.
					</div>
					 </td></tr><tr><td align="left"> <code class="code"><code class="literal">remote.connection.<em class="replaceable">CONNECTION_NAME</em></code>.password</code> </td><td align="left"> <div class="para">
						The password used to authenticate the user.
					</div>
					 </td></tr><tr><td align="left"> <code class="code"><code class="literal">remote.connection.<em class="replaceable">CONNECTION_NAME</em></code>.connect.timeout</code> </td><td align="left"> <div class="para">
						The timeout period for the initial connection. After that, the reconnect task will periodically check whether the connection can be established. The value is in milliseconds.
					</div>
					 </td></tr><tr><td align="left"> <code class="code"><code class="literal">remote.connection.<em class="replaceable">CONNECTION_NAME</em></code>.callback.handler.class</code> </td><td align="left"> <div class="para">
						Full qualified name of the <code class="classname">CallbackHandler</code> class. It will be used to establish the connection and can not changed as long as the connection is open.
					</div>
					 </td></tr><tr><td align="left"> <div class="para">
						<code class="code"><code class="literal">remote.connection.<em class="replaceable">CONNECTION_NAME</em></code>.</code>
					</div>
					 <div class="para">
						<code class="code">channel.options.org.jboss.remoting3.RemotingOptions.MAX_OUTBOUND_MESSAGES</code>
					</div>
					 </td><td align="left"> <div class="para">
						Integer value specifying the maximum number of outbound requests. The default is 80.
					</div>
					 <div class="para">
						There is only one connection from the client (JVM) to the server to handle all invocations.
					</div>
					 </td></tr><tr><td align="left"> <div class="para">
						<code class="code"><code class="literal">remote.connection.<em class="replaceable">CONNECTION_NAME</em></code>.</code>
					</div>
					 <div class="para">
						<code class="code">connect.options.org.xnio.Options.SASL_POLICY_NOANONYMOUS</code>
					</div>
					 </td><td align="left"> <div class="para">
						Boolean value that determines whether credentials must be provided by the client to connect successfully. The default value is <code class="literal">true</code>.
					</div>
					 <div class="para">
						If set to <code class="literal">true</code>, the client must provide credentials. If set to <code class="literal">false</code>, invocation is allowed as long as the remoting connector does not request a security realm.
					</div>
					 </td></tr><tr><td align="left"> <div class="para">
						<code class="code"><code class="literal">remote.connection.<em class="replaceable">CONNECTION_NAME</em></code>.</code>
					</div>
					 <div class="para">
						<code class="code">connect.options.org.xnio.Options.SASL_DISALLOWED_MECHANISMS</code>
					</div>
					 </td><td align="left"> <div class="para">
						Disables certain SASL mechanisms used for authenticating during connection creation.
					</div>
					 <div class="para">
						<code class="literal">JBOSS_LOCAL_USER</code> means the silent authentication mechanism, used when the client and server are on the same machine, is disabled.
					</div>
					 </td></tr><tr><td align="left"> <div class="para">
						<code class="code"><code class="literal">remote.connection.<em class="replaceable">CONNECTION_NAME</em></code>.</code>
					</div>
					 <div class="para">
						<code class="code">connect.options.org.xnio.Options.SASL_POLICY_NOPLAINTEXT</code>
					</div>
					 </td><td align="left"> <div class="para">
						Boolean value that enables or disables the use of plain text messages during the authentication. If using JAAS, it must be set to false to allow a plain text password.
					</div>
					 </td></tr><tr><td align="left"> <div class="para">
						<code class="code"><code class="literal">remote.connection.<em class="replaceable">CONNECTION_NAME</em></code>.</code>
					</div>
					 <div class="para">
						<code class="code">connect.options.org.xnio.Options.SSL_ENABLED</code>
					</div>
					 </td><td align="left"> <div class="para">
						Boolean value that specifies whether the SSL protocol is enabled for this connection.
					</div>
					 <div class="warning"><div class="admonition_header"><p><strong>Warning</strong></p></div><div class="admonition"><div class="para">
							Red&nbsp;Hat recommends that you explicitly disable SSL in favor of TLSv1.1 or TLSv1.2 in all affected packages.
						</div></div></div>
					 </td></tr><tr><td align="left"> <div class="para">
						<code class="code"><code class="literal">remote.connection.<em class="replaceable">CONNECTION_NAME</em></code>.</code>
					</div>
					 <div class="para">
						<code class="code">connect.options.org.jboss.remoting3.RemotingOptions.HEARTBEAT_INTERVAL</code>
					</div>
					 </td><td align="left"> <div class="para">
						t automatic close, for example, in the case of a firewall. The value is in milliseconds.
					</div>
					 </td></tr></tbody></table></div></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">EJB Client Cluster Properties</div>
			If the initial connection connects to a clustered environment, the topology of the cluster is received automatically and asynchronously. These properties are used to connect to each received member. Each property starts with the prefix <code class="literal">remote.cluster.<em class="replaceable">CLUSTER_NAME</em></code> where the <em class="replaceable">CLUSTER_NAME</em> refers to the related to the servers Infinispan subsystem configuration.
		</div><div class="table"><a id="table-ejb-client-cluster-properties">
      ⁠</a><p class="title"><strong>Table&nbsp;7.3.&nbsp;Cluster Properties</strong></p><div class="table-contents"><table xmlns:d="http://docbook.org/ns/docbook" class="lt-4-cols lt-7-rows" summary="Cluster Properties"><colgroup><col width="25%" align="left" class="c1"><col width="75%" align="left" class="c2"></colgroup><thead><tr><th align="left"> Property Name </th><th align="left"> Description </th></tr></thead><tbody><tr><td align="left"> <div class="para">
						<code class="code"><code class="literal">remote.cluster.<em class="replaceable">CLUSTER_NAME</em></code>.</code>
					</div>
					 <div class="para">
						<code class="code">clusternode.selector</code>
					</div>
					 </td><td align="left"> <div class="para">
						The fully qualified name of the implementation of <code class="classname">org.jboss.ejb.client.ClusterNodeSelector</code>.
					</div>
					 <div class="para">
						This class, rather than <code class="classname">org.jboss.ejb.clientDeploymentNodeSelector</code>, is used to load balance EJB invocations in a clustered environment. If the cluster is completely down, the invocation will fail with <code class="literal">No ejb receiver available</code>.
					</div>
					 </td></tr><tr><td align="left"> <div class="para">
						<code class="code"><code class="literal">remote.cluster.<em class="replaceable">CLUSTER_NAME</em></code>.</code>
					</div>
					 <div class="para">
						<code class="code">channel.options.org.jboss.remoting3.RemotingOptions.MAX_OUTBOUND_MESSAGES</code>
					</div>
					 </td><td align="left"> <div class="para">
						Integer value specifying the maximum number of outbound requests that can be made to the entire cluster.
					</div>
					 </td></tr><tr><td align="left"> <div class="para">
						<code class="code"><code class="literal">remote.cluster.<em class="replaceable">CLUSTER_NAME</em></code>.</code>
					</div>
					 <div class="para">
						<code class="code">node.<em class="replaceable">NODE_NAME</em>. channel.options.org.jboss.remoting3.RemotingOptions.MAX_OUTBOUND_MESSAGES</code>
					</div>
					 </td><td align="left"> <div class="para">
						Integer value specifying the maximum number of outbound requests that can be made to this specific cluster-node.
					</div>
					 </td></tr></tbody></table></div></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+14113-724702+%5BLatest%5D&comment=Title%3A+EJB+Client+Properties%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=14113-724702+10+Nov+2014+14%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="sect-Container_Interceptors">
      ⁠</a>7.6.&nbsp;Container Interceptors</h2></div></div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="About_Container_Interceptors">
      ⁠</a>7.6.1.&nbsp;About Container Interceptors</h3></div></div></div><div class="para">
		Standard Java EE interceptors, as defined by the <a href="http://jcp.org/en/jsr/detail?id=318">JSR 318, Enterprise JavaBeans 3.1</a> specification, are expected to run after the container has completed security context propagation, transaction management, and other container provided invocation processing. This is a problem if the application must intercept a call before a specific container interceptor is run.
	</div><div class="para">
		Releases prior to JBoss EAP 6.0 provided a way to plug server side interceptors into the invocation flow so you could run specific application logic before the container completed the invocation processing. This feature was implemented in JBoss EAP 6.1. This implementation allows standard Java EE interceptors to be used as container interceptors, meaning they use the same XSD elements that are allowed in <code class="filename">ejb-jar.xml</code> file for the 3.1 version of the ejb-jar deployment descriptor.
	</div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Positioning of the Container Interceptor in the Interceptor Chain</div>
			The container interceptors configured for an EJB are guaranteed to be run before the JBoss EAP provided security interceptors, transaction management interceptors, and other server provided interceptors. This allows specific application container interceptors to process or configure relevant context data before the invocation proceeds.
		</div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Differences Between the Container Interceptor and the Java EE Interceptor API</div>
			Although container interceptors are modeled to be similar to Java EE interceptors, there are some differences in the semantics of the API. For example, it is illegal for container interceptors to invoke the <code class="code">javax.interceptor.InvocationContext.getTarget()</code> method because these interceptors are invoked long before the EJB components are setup or instantiated.
		</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+13885-676196+%5BLatest%5D&comment=Title%3A+About+Container+Interceptors%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=13885-676196+24+Jun+2014+23%3A21+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="Create_a_Container_Interceptor_Class">
      ⁠</a>7.6.2.&nbsp;Create a Container Interceptor Class</h3></div></div></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Summary</div>
			Container interceptor classes are simple Plain Old Java Objects (POJOs). They use the <code class="code">@javax.annotation.AroundInvoke</code> to mark the method that is invoked during the invocation on the bean.
		</div><div class="para">
		The following is an example of a container interceptor class that marks the <code class="code">iAmAround</code> method for invocation:
	</div><div class="example"><a id="idp95400672">
      ⁠</a><p class="title"><strong>Example&nbsp;7.1.&nbsp;Container Interceptor Class Example</strong></p><div class="example-contents"><div class="para">
			
<pre class="programlisting"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_Keyword">class</span> ClassLevelContainerInterceptor {
<span xmlns="" class="line">​</span>    @AroundInvoke
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">private</span> Object <span xmlns="" class="perl_Function">iAmAround</span>(<span xmlns="" class="perl_DataType">final</span> InvocationContext invocationContext) <span xmlns="" class="perl_Keyword">throws</span> Exception {
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">return</span> <span xmlns="" class="perl_Keyword">this</span>.<span xmlns="" class="perl_Function">getClass</span>().<span xmlns="" class="perl_Function">getName</span>() + <span xmlns="" class="perl_String">" "</span> + invocationContext.<span xmlns="" class="perl_Function">proceed</span>();
<span xmlns="" class="line">​</span>    }
<span xmlns="" class="line">​</span>}</pre>

		</div></div></div><div class="para">
		For an example of a container interceptor descriptor file configured to use this class, see the <code class="filename">jboss-ejb3.xml</code> file described here:  <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Configure_a_Container_Interceptor">Section&nbsp;7.6.3, “Configure a Container Interceptor”</a>.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+13887-621655+%5BLatest%5D&comment=Title%3A+Create+a+Container+Interceptor+Class%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=13887-621655+15+Mar+2014+06%3A34+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="Configure_a_Container_Interceptor">
      ⁠</a>7.6.3.&nbsp;Configure a Container Interceptor</h3></div></div></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Summary</div>
			Container interceptors use the standard Java EE interceptor libraries, meaning they use the same XSD elements that are allowed in <code class="filename">ejb-jar.xml</code> file for the 3.1 version of the ejb-jar deployment descriptor. Because they are based on the standard Jave EE interceptor libraries, container interceptors may only be configured using deployment descriptors. This was done by design so applications would not require any JBoss specific annotation or other library dependencies. For more information about container interceptors, refer to:  <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Container_Interceptors">Section&nbsp;7.6.1, “About Container Interceptors”</a>.
		</div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idp8652288">
      ⁠</a><p class="title"><strong>Procedure&nbsp;7.11.&nbsp;Create the Descriptor File to Configure the Container Interceptor</strong></p><ol class="1"><li class="step"><div class="para">
				Create a <code class="filename">jboss-ejb3.xml</code> file in the <code class="filename">META-INF</code> directory of the EJB deployment.
			</div></li><li class="step"><div class="para">
				Configure the container interceptor elements in the descriptor file.
			</div><ol class="substeps a"><li class="step"><div class="para">
						Use the <code class="literal">urn:container-interceptors:1.0</code> namespace to specify configuration of container interceptor elements.
					</div></li><li class="step"><div class="para">
						Use the <code class="literal">&lt;container-interceptors&gt;</code> element to specify the container interceptors.
					</div></li><li class="step"><div class="para">
						Use the <code class="literal">&lt;interceptor-binding&gt;</code> elements to bind the container interceptor to the EJBs. The interceptors can be bound in either of the following ways:
					</div><ul class="stepalternatives">
						<li class="step"><div class="para">
								Bind the interceptor to all the EJBs in the deployment using the <code class="literal">*</code> wildcard.
							</div></li>
						 <li class="step"><div class="para">
								Bind the interceptor at the individual bean level using the specific EJB name.
							</div></li>
						 <li class="step"><div class="para">
								Bind the interceptor at the specific method level for the EJBs.
							</div></li>

					</ul><div class="note"><div class="admonition_header"><p><strong>Note</strong></p></div><div class="admonition"><div class="para">
							These elements are configured using the EJB 3.1 XSD in the same way it is done for Java EE interceptors.
						</div></div></div></li></ol></li><li class="step"><div class="para">
				Review the following descriptor file for examples of the above elements.
			</div><div class="example"><a id="idp830624">
      ⁠</a><p class="title"><strong>Example&nbsp;7.2.&nbsp;jboss-ejb3.xml</strong></p><div class="example-contents"><div class="para">
					
<pre class="programlisting"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;jboss</span><span xmlns="" class="perl_Others"> xmlns=</span><span xmlns="" class="perl_String">"http://www.jboss.com/xml/ns/javaee"</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Others">       xmlns:jee=</span><span xmlns="" class="perl_String">"http://java.sun.com/xml/ns/javaee"</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Others">       xmlns:ci</span> <span xmlns="" class="perl_Others">=</span><span xmlns="" class="perl_String">"urn:container-interceptors:1.0"</span><span xmlns="" class="perl_Keyword">&gt;</span>
<span xmlns="" class="line">​</span> 
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;jee:assembly-descriptor&gt;</span>
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">&lt;ci:container-interceptors&gt;</span>
<span xmlns="" class="line">​</span>            <span xmlns="" class="perl_Comment">&lt;!-- Default interceptor --&gt;</span>
<span xmlns="" class="line">​</span>            <span xmlns="" class="perl_Keyword">&lt;jee:interceptor-binding&gt;</span>
<span xmlns="" class="line">​</span>                <span xmlns="" class="perl_Keyword">&lt;ejb-name&gt;</span>*<span xmlns="" class="perl_Keyword">&lt;/ejb-name&gt;</span>
<span xmlns="" class="line">​</span>                <span xmlns="" class="perl_Keyword">&lt;interceptor-class&gt;</span>org.jboss.as.test.integration.ejb.container.interceptor.ContainerInterceptorOne<span xmlns="" class="perl_Keyword">&lt;/interceptor-class&gt;</span>
<span xmlns="" class="line">​</span>            <span xmlns="" class="perl_Keyword">&lt;/jee:interceptor-binding&gt;</span>
<span xmlns="" class="line">​</span>            <span xmlns="" class="perl_Comment">&lt;!-- Class level container-interceptor --&gt;</span>
<span xmlns="" class="line">​</span>            <span xmlns="" class="perl_Keyword">&lt;jee:interceptor-binding&gt;</span>
<span xmlns="" class="line">​</span>                <span xmlns="" class="perl_Keyword">&lt;ejb-name&gt;</span>AnotherFlowTrackingBean<span xmlns="" class="perl_Keyword">&lt;/ejb-name&gt;</span>
<span xmlns="" class="line">​</span>                <span xmlns="" class="perl_Keyword">&lt;interceptor-class&gt;</span>org.jboss.as.test.integration.ejb.container.interceptor.ClassLevelContainerInterceptor<span xmlns="" class="perl_Keyword">&lt;/interceptor-class&gt;</span>
<span xmlns="" class="line">​</span>            <span xmlns="" class="perl_Keyword">&lt;/jee:interceptor-binding&gt;</span>
<span xmlns="" class="line">​</span>            <span xmlns="" class="perl_Comment">&lt;!-- Method specific container-interceptor --&gt;</span>
<span xmlns="" class="line">​</span>            <span xmlns="" class="perl_Keyword">&lt;jee:interceptor-binding&gt;</span>
<span xmlns="" class="line">​</span>                <span xmlns="" class="perl_Keyword">&lt;ejb-name&gt;</span>AnotherFlowTrackingBean<span xmlns="" class="perl_Keyword">&lt;/ejb-name&gt;</span>
<span xmlns="" class="line">​</span>                <span xmlns="" class="perl_Keyword">&lt;interceptor-class&gt;</span>org.jboss.as.test.integration.ejb.container.interceptor.MethodSpecificContainerInterceptor<span xmlns="" class="perl_Keyword">&lt;/interceptor-class&gt;</span>
<span xmlns="" class="line">​</span>                <span xmlns="" class="perl_Keyword">&lt;method&gt;</span>
<span xmlns="" class="line">​</span>                    <span xmlns="" class="perl_Keyword">&lt;method-name&gt;</span>echoWithMethodSpecificContainerInterceptor<span xmlns="" class="perl_Keyword">&lt;/method-name&gt;</span>
<span xmlns="" class="line">​</span>                <span xmlns="" class="perl_Keyword">&lt;/method&gt;</span>
<span xmlns="" class="line">​</span>            <span xmlns="" class="perl_Keyword">&lt;/jee:interceptor-binding&gt;</span>
<span xmlns="" class="line">​</span>            <span xmlns="" class="perl_Comment">&lt;!-- container interceptors in a specific order --&gt;</span>
<span xmlns="" class="line">​</span>            <span xmlns="" class="perl_Keyword">&lt;jee:interceptor-binding&gt;</span>
<span xmlns="" class="line">​</span>                <span xmlns="" class="perl_Keyword">&lt;ejb-name&gt;</span>AnotherFlowTrackingBean<span xmlns="" class="perl_Keyword">&lt;/ejb-name&gt;</span>
<span xmlns="" class="line">​</span>                <span xmlns="" class="perl_Keyword">&lt;interceptor-order&gt;</span>
<span xmlns="" class="line">​</span>                    <span xmlns="" class="perl_Keyword">&lt;interceptor-class&gt;</span>org.jboss.as.test.integration.ejb.container.interceptor.ClassLevelContainerInterceptor<span xmlns="" class="perl_Keyword">&lt;/interceptor-class&gt;</span>
<span xmlns="" class="line">​</span>                    <span xmlns="" class="perl_Keyword">&lt;interceptor-class&gt;</span>org.jboss.as.test.integration.ejb.container.interceptor.MethodSpecificContainerInterceptor<span xmlns="" class="perl_Keyword">&lt;/interceptor-class&gt;</span>
<span xmlns="" class="line">​</span>                    <span xmlns="" class="perl_Keyword">&lt;interceptor-class&gt;</span>org.jboss.as.test.integration.ejb.container.interceptor.ContainerInterceptorOne<span xmlns="" class="perl_Keyword">&lt;/interceptor-class&gt;</span>
<span xmlns="" class="line">​</span>                <span xmlns="" class="perl_Keyword">&lt;/interceptor-order&gt;</span>
<span xmlns="" class="line">​</span>                <span xmlns="" class="perl_Keyword">&lt;method&gt;</span>
<span xmlns="" class="line">​</span>                    <span xmlns="" class="perl_Keyword">&lt;method-name&gt;</span>echoInSpecificOrderOfContainerInterceptors<span xmlns="" class="perl_Keyword">&lt;/method-name&gt;</span>
<span xmlns="" class="line">​</span>                <span xmlns="" class="perl_Keyword">&lt;/method&gt;</span>
<span xmlns="" class="line">​</span>            <span xmlns="" class="perl_Keyword">&lt;/jee:interceptor-binding&gt;</span>
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">&lt;/ci:container-interceptors&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;/jee:assembly-descriptor&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;/jboss&gt;</span>
</pre>

				</div></div></div><div class="para">
				The XSD for the <code class="literal">urn:container-interceptors:1.0</code> namespace is available at <code class="filename"><em class="replaceable">EAP_HOME</em>/docs/schema/jboss-ejb-container-interceptors_1_0.xsd</code>.
			</div></li></ol></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+13886-606491+%5BLatest%5D&comment=Title%3A+Configure+a+Container+Interceptor%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=13886-606491+27+Feb+2014+06%3A12+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="Change_the_Security_Context_Identity">
      ⁠</a>7.6.4.&nbsp;Change the Security Context Identity</h3></div></div></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Summary</div>
			By default, when you make a remote call to an EJB deployed to the application server, the connection to the server is authenticated and any request received over this connection is executed as the identity that authenticated the connection. This is true for both client-to-server and server-to-server calls. If you need to use different identities from the same client, you normally need to open multiple connections to the server so that each one is authenticated as a different identity. Rather than open multiple client connections, you can give permission to the authenticated user to execute a request as a different user.
		</div><div class="para">
		This topic describes how to switch identities on the existing client connection. The code examples are abridged versions of the code in the quickstart. Refer to the <code class="filename">ejb-security-interceptors</code> quickstart for a complete working example.
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idp20364224">
      ⁠</a><p class="title"><strong>Procedure&nbsp;7.12.&nbsp;Change the Identity of the Security Context</strong></p><div class="para">
			To change the identity of a secured connection, you must create the following 3 components.
		</div><ol class="1"><li class="step"><p class="title"><strong>Create the client side interceptor</strong></p><div class="para">
				The client side interceptor must implement the <code class="classname">org.jboss.ejb.client.EJBClientInterceptor</code> interface. The interceptor must pass the requested identity through the context data map, which can be obtained via a call to <code class="code">EJBClientInvocationContext.getContextData()</code>. The following is an example of client side interceptor code: 
<pre class="programlisting JAVA"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_Keyword">class</span> ClientSecurityInterceptor <span xmlns="" class="perl_Keyword">implements</span> EJBClientInterceptor {
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_DataType">void</span> <span xmlns="" class="perl_Function">handleInvocation</span>(EJBClientInvocationContext context) <span xmlns="" class="perl_Keyword">throws</span> Exception {
<span xmlns="" class="line">​</span>        Principal currentPrincipal = SecurityActions.<span xmlns="" class="perl_Function">securityContextGetPrincipal</span>();
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">if</span> (currentPrincipal != <span xmlns="" class="perl_Keyword">null</span>) {
<span xmlns="" class="line">​</span>            Map&lt;String, Object&gt; contextData = context.<span xmlns="" class="perl_Function">getContextData</span>();
<span xmlns="" class="line">​</span>            contextData.<span xmlns="" class="perl_Function">put</span>(ServerSecurityInterceptor.<span xmlns="" class="perl_Function">DELEGATED_USER_KEY</span>, currentPrincipal.<span xmlns="" class="perl_Function">getName</span>());
<span xmlns="" class="line">​</span>        }
<span xmlns="" class="line">​</span>        context.<span xmlns="" class="perl_Function">sendRequest</span>();
<span xmlns="" class="line">​</span>    }
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">public</span> Object <span xmlns="" class="perl_Function">handleInvocationResult</span>(EJBClientInvocationContext context) <span xmlns="" class="perl_Keyword">throws</span> Exception {
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">return</span> context.<span xmlns="" class="perl_Function">getResult</span>();
<span xmlns="" class="line">​</span>    }
<span xmlns="" class="line">​</span>}</pre>

			</div><div class="para">
				User applications can insert the interceptor into the interceptor chain in the <code class="classname">EJBClientContext</code> in one of the following ways:
			</div><ul class="stepalternatives">
				<li class="step"><p class="title"><strong>Programmatically</strong></p><div class="para">
						With this approach, you call the <code class="code">org.jboss.ejb.client.EJBClientContext.registerInterceptor(int order, EJBClientInterceptor interceptor)</code> method and pass the <code class="code">order</code> and the <code class="code">interceptor</code> instance. The <code class="code">order</code> determines where this client interceptor is placed in the interceptor chain.
					</div></li>
				 <li class="step"><p class="title"><strong>ServiceLoader Mechanism</strong></p><div class="para">
						With this approach, you create a <code class="filename">META-INF/services/org.jboss.ejb.client.EJBClientInterceptor</code> file and place or package it in the classpath of the client application. The rules for the file are dictated by the <a href="http://docs.oracle.com/javase/6/docs/api/java/util/ServiceLoader.html">Java ServiceLoader Mechanism</a>. This file is expected to contain a separate line for each fully qualified class name of the EJB client interceptor implementation. The EJB client interceptor classes must be available in the classpath. EJB client interceptors added using the <code class="classname">ServiceLoader</code> mechanism are added to the end of the client interceptor chain, in the order they are found in the classpath. The <code class="filename">ejb-security-interceptors</code> quickstart uses this approach.
					</div></li>

			</ul></li><li class="step"><p class="title"><strong>Create and configure the server side container interceptor</strong></p><div class="para">
				Container interceptor classes are simple Plain Old Java Objects (POJOs). They use the <code class="code">@javax.annotation.AroundInvoke</code> to mark the method that will be invoked during the invocation on the bean. For more information about container interceptors, refer to:  <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Container_Interceptors">Section&nbsp;7.6.1, “About Container Interceptors”</a>.
			</div><ol class="substeps a"><li class="step"><p class="title"><strong>Create the container interceptor</strong></p><div class="para">
						This interceptor receives the <code class="classname">InvocationContext</code> with the identity and requests the switch to that new identity. The following is an abridged version of the actual code example: 
<pre class="programlisting JAVA"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_Keyword">class</span> ServerSecurityInterceptor {
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">private</span> <span xmlns="" class="perl_DataType">static</span> <span xmlns="" class="perl_DataType">final</span> Logger logger = Logger.<span xmlns="" class="perl_Function">getLogger</span>(ServerSecurityInterceptor.<span xmlns="" class="perl_Function">class</span>);
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_DataType">static</span> <span xmlns="" class="perl_DataType">final</span> String DELEGATED_USER_KEY = ServerSecurityInterceptor.<span xmlns="" class="perl_Function">class</span>.<span xmlns="" class="perl_Function">getName</span>() + <span xmlns="" class="perl_String">".DelegationUser"</span>;
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>    @AroundInvoke
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">public</span> Object <span xmlns="" class="perl_Function">aroundInvoke</span>(<span xmlns="" class="perl_DataType">final</span> InvocationContext invocationContext) <span xmlns="" class="perl_Keyword">throws</span> Exception {
<span xmlns="" class="line">​</span>        Principal desiredUser = <span xmlns="" class="perl_Keyword">null</span>;
<span xmlns="" class="line">​</span>        UserPrincipal connectionUser = <span xmlns="" class="perl_Keyword">null</span>;
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>        Map&lt;String, Object&gt; contextData = invocationContext.<span xmlns="" class="perl_Function">getContextData</span>();
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">if</span> (contextData.<span xmlns="" class="perl_Function">containsKey</span>(DELEGATED_USER_KEY)) {
<span xmlns="" class="line">​</span>            desiredUser = <span xmlns="" class="perl_Keyword">new</span> <span xmlns="" class="perl_Function">SimplePrincipal</span>((String) contextData.<span xmlns="" class="perl_Function">get</span>(DELEGATED_USER_KEY));
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>            Collection&lt;Principal&gt; connectionPrincipals = SecurityActions.<span xmlns="" class="perl_Function">getConnectionPrincipals</span>();
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>            <span xmlns="" class="perl_Keyword">if</span> (connectionPrincipals != <span xmlns="" class="perl_Keyword">null</span>) {
<span xmlns="" class="line">​</span>                <span xmlns="" class="perl_Keyword">for</span> (Principal current : connectionPrincipals) {
<span xmlns="" class="line">​</span>                    <span xmlns="" class="perl_Keyword">if</span> (current <span xmlns="" class="perl_Keyword">instanceof</span> UserPrincipal) {
<span xmlns="" class="line">​</span>                        connectionUser = (UserPrincipal) current;
<span xmlns="" class="line">​</span>                        <span xmlns="" class="perl_Keyword">break</span>;
<span xmlns="" class="line">​</span>                    }
<span xmlns="" class="line">​</span>                }
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>            } <span xmlns="" class="perl_Keyword">else</span> {
<span xmlns="" class="line">​</span>                <span xmlns="" class="perl_Keyword">throw</span> <span xmlns="" class="perl_Keyword">new</span> IllegalStateException(<span xmlns="" class="perl_String">"Delegation user requested but no user on connection found."</span>);
<span xmlns="" class="line">​</span>            }
<span xmlns="" class="line">​</span>        }
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>        ContextStateCache stateCache = <span xmlns="" class="perl_Keyword">null</span>;
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">try</span> {
<span xmlns="" class="line">​</span>            <span xmlns="" class="perl_Keyword">if</span> (desiredUser != <span xmlns="" class="perl_Keyword">null</span> &amp;&amp; connectionUser != <span xmlns="" class="perl_Keyword">null</span>
<span xmlns="" class="line">​</span>                &amp;&amp; (desiredUser.<span xmlns="" class="perl_Function">getName</span>().<span xmlns="" class="perl_Function">equals</span>(connectionUser.<span xmlns="" class="perl_Function">getName</span>()) == <span xmlns="" class="perl_Keyword">false</span>)) {
<span xmlns="" class="line">​</span>                <span xmlns="" class="perl_Comment">// The final part of this check is to verify that the change does actually indicate a change in user.</span>
<span xmlns="" class="line">​</span>                <span xmlns="" class="perl_Keyword">try</span> {
<span xmlns="" class="line">​</span>                    <span xmlns="" class="perl_Comment">// We have been requested to use an authentication token</span>
<span xmlns="" class="line">​</span>                    <span xmlns="" class="perl_Comment">// so now we attempt the switch.</span>
<span xmlns="" class="line">​</span>                    stateCache = SecurityActions.<span xmlns="" class="perl_Function">pushIdentity</span>(desiredUser, <span xmlns="" class="perl_Keyword">new</span> <span xmlns="" class="perl_Function">OuterUserCredential</span>(connectionUser));
<span xmlns="" class="line">​</span>                } <span xmlns="" class="perl_Keyword">catch</span> (Exception e) {
<span xmlns="" class="line">​</span>                    logger.<span xmlns="" class="perl_Function">error</span>(<span xmlns="" class="perl_String">"Failed to switch security context for user"</span>, e);
<span xmlns="" class="line">​</span>                    <span xmlns="" class="perl_Comment">// Don't propagate the exception stacktrace back to the client for security reasons</span>
<span xmlns="" class="line">​</span>                    <span xmlns="" class="perl_Keyword">throw</span> <span xmlns="" class="perl_Keyword">new</span> <span xmlns="" class="perl_Function">EJBAccessException</span>(<span xmlns="" class="perl_String">"Unable to attempt switching of user."</span>);
<span xmlns="" class="line">​</span>                }
<span xmlns="" class="line">​</span>            }
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>            <span xmlns="" class="perl_Keyword">return</span> invocationContext.<span xmlns="" class="perl_Function">proceed</span>();
<span xmlns="" class="line">​</span>        } <span xmlns="" class="perl_Keyword">finally</span> {
<span xmlns="" class="line">​</span>            <span xmlns="" class="perl_Comment">// switch back to original context</span>
<span xmlns="" class="line">​</span>            <span xmlns="" class="perl_Keyword">if</span> (stateCache != <span xmlns="" class="perl_Keyword">null</span>) {
<span xmlns="" class="line">​</span>                SecurityActions.<span xmlns="" class="perl_Function">popIdentity</span>(stateCache);;
<span xmlns="" class="line">​</span>            }
<span xmlns="" class="line">​</span>        }
<span xmlns="" class="line">​</span>    }
</pre>

					</div></li><li class="step"><p class="title"><strong>Configure the container interceptor</strong></p><div class="para">
						For information on how to configure server side container interceptors, refer to:  <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Configure_a_Container_Interceptor">Section&nbsp;7.6.3, “Configure a Container Interceptor”</a>.
					</div></li></ol></li><li class="step"><p class="title"><strong>Create the JAAS LoginModule</strong></p><div class="para">
				This component is responsible for verifying that user is allowed to execute requests as the requested identity. The following abridged code examples show the methods that peform the login and validation: 
<pre class="programlisting JAVA"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>    @<span xmlns="" class="perl_Function">SuppressWarnings</span>(<span xmlns="" class="perl_String">"unchecked"</span>)
<span xmlns="" class="line">​</span>    @Override
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_DataType">boolean</span> <span xmlns="" class="perl_Function">login</span>() <span xmlns="" class="perl_Keyword">throws</span> LoginException {
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">if</span> (<span xmlns="" class="perl_Keyword">super</span>.<span xmlns="" class="perl_Function">login</span>() == <span xmlns="" class="perl_Keyword">true</span>) {
<span xmlns="" class="line">​</span>            log.<span xmlns="" class="perl_Function">debug</span>(<span xmlns="" class="perl_String">"super.login()==true"</span>);
<span xmlns="" class="line">​</span>            <span xmlns="" class="perl_Keyword">return</span> <span xmlns="" class="perl_Keyword">true</span>;
<span xmlns="" class="line">​</span>        }
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Comment">// Time to see if this is a delegation request.</span>
<span xmlns="" class="line">​</span>        NameCallback ncb = <span xmlns="" class="perl_Keyword">new</span> NameCallback(<span xmlns="" class="perl_String">"Username:"</span>);
<span xmlns="" class="line">​</span>        ObjectCallback ocb = <span xmlns="" class="perl_Keyword">new</span> <span xmlns="" class="perl_Function">ObjectCallback</span>(<span xmlns="" class="perl_String">"Password:"</span>);
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">try</span> {
<span xmlns="" class="line">​</span>            callbackHandler.<span xmlns="" class="perl_Function">handle</span>(<span xmlns="" class="perl_Keyword">new</span> Callback[] { ncb, ocb });
<span xmlns="" class="line">​</span>        } <span xmlns="" class="perl_Keyword">catch</span> (Exception e) {
<span xmlns="" class="line">​</span>            <span xmlns="" class="perl_Keyword">if</span> (e <span xmlns="" class="perl_Keyword">instanceof</span> RuntimeException) {
<span xmlns="" class="line">​</span>                <span xmlns="" class="perl_Keyword">throw</span> (RuntimeException) e;
<span xmlns="" class="line">​</span>            }
<span xmlns="" class="line">​</span>            <span xmlns="" class="perl_Keyword">return</span> <span xmlns="" class="perl_Keyword">false</span>; <span xmlns="" class="perl_Comment">// If the CallbackHandler can not handle the required callbacks then no chance.</span>
<span xmlns="" class="line">​</span>        }
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>        String name = ncb.<span xmlns="" class="perl_Function">getName</span>();
<span xmlns="" class="line">​</span>        Object credential = ocb.<span xmlns="" class="perl_Function">getCredential</span>();
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">if</span> (credential <span xmlns="" class="perl_Keyword">instanceof</span> OuterUserCredential) {
<span xmlns="" class="line">​</span>            <span xmlns="" class="perl_Comment">// This credential type will only be seen for a delegation request, if not seen then the request is not for us.</span>
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>            <span xmlns="" class="perl_Keyword">if</span> (<span xmlns="" class="perl_Function">delegationAcceptable</span>(name, (OuterUserCredential) credential)) {
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>                identity = <span xmlns="" class="perl_Keyword">new</span> <span xmlns="" class="perl_Function">SimplePrincipal</span>(name);
<span xmlns="" class="line">​</span>                <span xmlns="" class="perl_Keyword">if</span> (<span xmlns="" class="perl_Function">getUseFirstPass</span>()) {
<span xmlns="" class="line">​</span>                    String userName = identity.<span xmlns="" class="perl_Function">getName</span>();
<span xmlns="" class="line">​</span>                    <span xmlns="" class="perl_Keyword">if</span> (log.<span xmlns="" class="perl_Function">isDebugEnabled</span>())
<span xmlns="" class="line">​</span>                        log.<span xmlns="" class="perl_Function">debug</span>(<span xmlns="" class="perl_String">"Storing username '"</span> + userName + <span xmlns="" class="perl_String">"' and empty password"</span>);
<span xmlns="" class="line">​</span>                    <span xmlns="" class="perl_Comment">// Add the username and an empty password to the shared state map</span>
<span xmlns="" class="line">​</span>                    sharedState.<span xmlns="" class="perl_Function">put</span>(<span xmlns="" class="perl_String">"javax.security.auth.login.name"</span>, identity);
<span xmlns="" class="line">​</span>                    sharedState.<span xmlns="" class="perl_Function">put</span>(<span xmlns="" class="perl_String">"javax.security.auth.login.password"</span>, <span xmlns="" class="perl_String">""</span>);
<span xmlns="" class="line">​</span>                }
<span xmlns="" class="line">​</span>                loginOk = <span xmlns="" class="perl_Keyword">true</span>;
<span xmlns="" class="line">​</span>                <span xmlns="" class="perl_Keyword">return</span> <span xmlns="" class="perl_Keyword">true</span>;
<span xmlns="" class="line">​</span>            }
<span xmlns="" class="line">​</span>        }
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">return</span> <span xmlns="" class="perl_Keyword">false</span>; <span xmlns="" class="perl_Comment">// Attempted login but not successful.</span>
<span xmlns="" class="line">​</span>    }
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">protected</span> <span xmlns="" class="perl_DataType">boolean</span> <span xmlns="" class="perl_Function">delegationAcceptable</span>(String requestedUser, OuterUserCredential connectionUser) {
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">if</span> (delegationMappings == <span xmlns="" class="perl_Keyword">null</span>) {
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">return</span> <span xmlns="" class="perl_Keyword">false</span>;
<span xmlns="" class="line">​</span>    }
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>    String[] allowedMappings = <span xmlns="" class="perl_Function">loadPropertyValue</span>(connectionUser.<span xmlns="" class="perl_Function">getName</span>(), connectionUser.<span xmlns="" class="perl_Function">getRealm</span>());
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">if</span> (allowedMappings.<span xmlns="" class="perl_Function">length</span> == <span xmlns="" class="perl_Float">1</span> &amp;&amp; <span xmlns="" class="perl_String">"*"</span>.<span xmlns="" class="perl_Function">equals</span>(allowedMappings[<span xmlns="" class="perl_Float">1</span>])) {
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Comment">// A wild card mapping was found.</span>
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">return</span> <span xmlns="" class="perl_Keyword">true</span>;
<span xmlns="" class="line">​</span>    }
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">for</span> (String current : allowedMappings) {
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">if</span> (requestedUser.<span xmlns="" class="perl_Function">equals</span>(current)) {
<span xmlns="" class="line">​</span>            <span xmlns="" class="perl_Keyword">return</span> <span xmlns="" class="perl_Keyword">true</span>;
<span xmlns="" class="line">​</span>        }
<span xmlns="" class="line">​</span>    }
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">return</span> <span xmlns="" class="perl_Keyword">false</span>;
<span xmlns="" class="line">​</span>}</pre>

			</div></li></ol></div><div class="para">
		See the <code class="literal">ejb-security-interceptors</code> quickstart <code class="filename">README.html</code> file for complete instructions and more detailed information about the code.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+13166-665343+%5BLatest%5D&comment=Title%3A+Change+the+Security+Context+Identity%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=13166-665343+07+Jun+2014+05%3A38+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="Pass_Additional_Security_For_EJB_Authentication">
      ⁠</a>7.6.5.&nbsp;Pass Additional Security For EJB Authentication</h3></div></div></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Summary</div>
			By default, when you make a remote call to an EJB deployed to the application server, the connection to the server is authenticated and any request received over this connection is executed using the credentials that authenticated the connection. Authentication at the connection level is dependent on the capabilities of the underlying SASL (Simple Authentication and Security Layer) mechanisms. Rather than write custom SASL mechanisms, you can open and authenticate a connection to the server, then later add additional security tokens prior to invoking an EJB. This topic describes how to pass additional information on the existing client connection for EJB authentication.
		</div><div class="para">
		The code examples below are for demonstration purposes only. They present only one possible approach and must be customized to suit the exact needs of the application. The password is exchanged using the SASL mechanism. If SASL DIGEST-MD5 Authentication is used, the password is still hashed with a challenge and not sent in the clear. The remaining tokens, however are sent in the clear. If those tokens contain any sensitive information, you may want to enable encryption for the connection.
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idp24578096">
      ⁠</a><p class="title"><strong>Procedure&nbsp;7.13.&nbsp;Pass Security Information for EJB Authentication</strong></p><div class="para">
			To supply an additional security token for an authenticated connection, you must create the following 3 components.
		</div><ol class="1"><li class="step"><p class="title"><strong>Create the client side interceptor</strong></p><div class="para">
				This interceptor must implement the <code class="classname">org.jboss.ejb.client.EJBClientInterceptor</code>. The interceptor is expected to pass the additional security token through the context data map, which can be obtained via a call to <code class="code">EJBClientInvocationContext.getContextData()</code>. The following is an example of client side interceptor code that creates an additional security token: 
<pre class="programlisting JAVA"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_Keyword">class</span> ClientSecurityInterceptor <span xmlns="" class="perl_Keyword">implements</span> EJBClientInterceptor {
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_DataType">void</span> <span xmlns="" class="perl_Function">handleInvocation</span>(EJBClientInvocationContext context) <span xmlns="" class="perl_Keyword">throws</span> Exception {
<span xmlns="" class="line">​</span>        Principal currentPrincipal = SecurityActions.<span xmlns="" class="perl_Function">securityContextGetPrincipal</span>();
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">if</span> (currentPrincipal != <span xmlns="" class="perl_Keyword">null</span>) {
<span xmlns="" class="line">​</span>            Map&lt;String, Object&gt; contextData = context.<span xmlns="" class="perl_Function">getContextData</span>();
<span xmlns="" class="line">​</span>            contextData.<span xmlns="" class="perl_Function">put</span>(ServerSecurityInterceptor.<span xmlns="" class="perl_Function">DELEGATED_USER_KEY</span>, currentPrincipal.<span xmlns="" class="perl_Function">getName</span>());
<span xmlns="" class="line">​</span>        }
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>        context.<span xmlns="" class="perl_Function">sendRequest</span>();
<span xmlns="" class="line">​</span>    }
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">public</span> Object <span xmlns="" class="perl_Function">handleInvocationResult</span>(EJBClientInvocationContext context) <span xmlns="" class="perl_Keyword">throws</span> Exception {
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">return</span> context.<span xmlns="" class="perl_Function">getResult</span>();
<span xmlns="" class="line">​</span>    }
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>}</pre>

			</div><div class="para">
				For information on how to plug the client interceptor into an application, refer to  <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Use_a_Client_Side_Interceptor_in_an_Application">Section&nbsp;7.6.6, “Use a Client Side Interceptor in an Application”</a>.
			</div></li><li class="step"><p class="title"><strong>Create and configure the server side container interceptor</strong></p><div class="para">
				Container interceptor classes are simple Plain Old Java Objects (POJOs). They use the <code class="code">@javax.annotation.AroundInvoke</code> to mark the method that is invoked during the invocation on the bean. For more information about container interceptors, refer to:  <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Container_Interceptors">Section&nbsp;7.6.1, “About Container Interceptors”</a>.
			</div><ol class="substeps a"><li class="step"><p class="title"><strong>Create the container interceptor</strong></p><div class="para">
						This interceptor retrieves the security authentication token from the context and passes it to the JAAS (Java Authentication and Authorization Service) domain for verification. The following is an example of container interceptor code: 
<pre class="programlisting JAVA"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_Keyword">class</span> ServerSecurityInterceptor {
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">private</span> <span xmlns="" class="perl_DataType">static</span> <span xmlns="" class="perl_DataType">final</span> Logger logger = Logger.<span xmlns="" class="perl_Function">getLogger</span>(ServerSecurityInterceptor.<span xmlns="" class="perl_Function">class</span>);
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_DataType">static</span> <span xmlns="" class="perl_DataType">final</span> String DELEGATED_USER_KEY = ServerSecurityInterceptor.<span xmlns="" class="perl_Function">class</span>.<span xmlns="" class="perl_Function">getName</span>() + <span xmlns="" class="perl_String">".DelegationUser"</span>;
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>    @AroundInvoke
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">public</span> Object <span xmlns="" class="perl_Function">aroundInvoke</span>(<span xmlns="" class="perl_DataType">final</span> InvocationContext invocationContext) <span xmlns="" class="perl_Keyword">throws</span> Exception {
<span xmlns="" class="line">​</span>        Principal desiredUser = <span xmlns="" class="perl_Keyword">null</span>;
<span xmlns="" class="line">​</span>        UserPrincipal connectionUser = <span xmlns="" class="perl_Keyword">null</span>;
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>        Map&lt;String, Object&gt; contextData = invocationContext.<span xmlns="" class="perl_Function">getContextData</span>();
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">if</span> (contextData.<span xmlns="" class="perl_Function">containsKey</span>(DELEGATED_USER_KEY)) {
<span xmlns="" class="line">​</span>            desiredUser = <span xmlns="" class="perl_Keyword">new</span> <span xmlns="" class="perl_Function">SimplePrincipal</span>((String) contextData.<span xmlns="" class="perl_Function">get</span>(DELEGATED_USER_KEY));
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>            Collection&lt;Principal&gt; connectionPrincipals = SecurityActions.<span xmlns="" class="perl_Function">getConnectionPrincipals</span>();
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>            <span xmlns="" class="perl_Keyword">if</span> (connectionPrincipals != <span xmlns="" class="perl_Keyword">null</span>) {
<span xmlns="" class="line">​</span>                <span xmlns="" class="perl_Keyword">for</span> (Principal current : connectionPrincipals) {
<span xmlns="" class="line">​</span>                    <span xmlns="" class="perl_Keyword">if</span> (current <span xmlns="" class="perl_Keyword">instanceof</span> UserPrincipal) {
<span xmlns="" class="line">​</span>                        connectionUser = (UserPrincipal) current;
<span xmlns="" class="line">​</span>                        <span xmlns="" class="perl_Keyword">break</span>;
<span xmlns="" class="line">​</span>                    }
<span xmlns="" class="line">​</span>                }
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>            } <span xmlns="" class="perl_Keyword">else</span> {
<span xmlns="" class="line">​</span>                <span xmlns="" class="perl_Keyword">throw</span> <span xmlns="" class="perl_Keyword">new</span> IllegalStateException(<span xmlns="" class="perl_String">"Delegation user requested but no user on connection found."</span>);
<span xmlns="" class="line">​</span>            }
<span xmlns="" class="line">​</span>        }
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>        ContextStateCache stateCache = <span xmlns="" class="perl_Keyword">null</span>;
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">try</span> {
<span xmlns="" class="line">​</span>            <span xmlns="" class="perl_Keyword">if</span> (desiredUser != <span xmlns="" class="perl_Keyword">null</span> &amp;&amp; connectionUser != <span xmlns="" class="perl_Keyword">null</span>
<span xmlns="" class="line">​</span>                &amp;&amp; (desiredUser.<span xmlns="" class="perl_Function">getName</span>().<span xmlns="" class="perl_Function">equals</span>(connectionUser.<span xmlns="" class="perl_Function">getName</span>()) == <span xmlns="" class="perl_Keyword">false</span>)) {
<span xmlns="" class="line">​</span>                <span xmlns="" class="perl_Comment">// The final part of this check is to verify that the change does actually indicate a change in user.</span>
<span xmlns="" class="line">​</span>                <span xmlns="" class="perl_Keyword">try</span> {
<span xmlns="" class="line">​</span>                    <span xmlns="" class="perl_Comment">// We have been requested to use an authentication token</span>
<span xmlns="" class="line">​</span>                    <span xmlns="" class="perl_Comment">// so now we attempt the switch.</span>
<span xmlns="" class="line">​</span>                    stateCache = SecurityActions.<span xmlns="" class="perl_Function">pushIdentity</span>(desiredUser, <span xmlns="" class="perl_Keyword">new</span> <span xmlns="" class="perl_Function">OuterUserCredential</span>(connectionUser));
<span xmlns="" class="line">​</span>                } <span xmlns="" class="perl_Keyword">catch</span> (Exception e) {
<span xmlns="" class="line">​</span>                    logger.<span xmlns="" class="perl_Function">error</span>(<span xmlns="" class="perl_String">"Failed to switch security context for user"</span>, e);
<span xmlns="" class="line">​</span>                    <span xmlns="" class="perl_Comment">// Don't propagate the exception stacktrace back to the client for security reasons</span>
<span xmlns="" class="line">​</span>                    <span xmlns="" class="perl_Keyword">throw</span> <span xmlns="" class="perl_Keyword">new</span> <span xmlns="" class="perl_Function">EJBAccessException</span>(<span xmlns="" class="perl_String">"Unable to attempt switching of user."</span>);
<span xmlns="" class="line">​</span>                }
<span xmlns="" class="line">​</span>            }
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>            <span xmlns="" class="perl_Keyword">return</span> invocationContext.<span xmlns="" class="perl_Function">proceed</span>();
<span xmlns="" class="line">​</span>        } <span xmlns="" class="perl_Keyword">finally</span> {
<span xmlns="" class="line">​</span>            <span xmlns="" class="perl_Comment">// switch back to original context</span>
<span xmlns="" class="line">​</span>            <span xmlns="" class="perl_Keyword">if</span> (stateCache != <span xmlns="" class="perl_Keyword">null</span>) {
<span xmlns="" class="line">​</span>                SecurityActions.<span xmlns="" class="perl_Function">popIdentity</span>(stateCache);;
<span xmlns="" class="line">​</span>            }
<span xmlns="" class="line">​</span>        }
<span xmlns="" class="line">​</span>    }
</pre>

					</div></li><li class="step"><p class="title"><strong>Configure the container interceptor</strong></p><div class="para">
						For information on how to configure server side container interceptors, refer to:  <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Configure_a_Container_Interceptor">Section&nbsp;7.6.3, “Configure a Container Interceptor”</a>.
					</div></li></ol></li><li class="step"><p class="title"><strong>Create the JAAS LoginModule</strong></p><div class="para">
				This custom module performs the authentication using the existing authenticated connection information plus any additional security token. The following is a shortened example of code that uses the additional security token and performs the authentication. The complete code example can be viewed in the <code class="literal">ejb-security-interceptors</code> quickstart that ships with JBoss EAP 6.3 or later. 
<pre class="programlisting JAVA"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_Keyword">class</span> DelegationLoginModule <span xmlns="" class="perl_Keyword">extends</span> AbstractServerLoginModule {
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">private</span> <span xmlns="" class="perl_DataType">static</span> <span xmlns="" class="perl_DataType">final</span> String DELEGATION_PROPERTIES = <span xmlns="" class="perl_String">"delegationProperties"</span>;
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">private</span> <span xmlns="" class="perl_DataType">static</span> <span xmlns="" class="perl_DataType">final</span> String DEFAULT_DELEGATION_PROPERTIES = <span xmlns="" class="perl_String">"delegation-mapping.properties"</span>;
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">private</span> Properties delegationMappings;
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">private</span> Principal identity;
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>    @Override
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_DataType">void</span> initialize(Subject subject, CallbackHandler callbackHandler, Map&lt;String, ?&gt; sharedState, Map&lt;String, ?&gt; options) {
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Function">addValidOptions</span>(<span xmlns="" class="perl_Keyword">new</span> String[] { DELEGATION_PROPERTIES });
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">super</span>.<span xmlns="" class="perl_Function">initialize</span>(subject, callbackHandler, sharedState, options);
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>        String propertiesName;
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">if</span> (options.<span xmlns="" class="perl_Function">containsKey</span>(DELEGATION_PROPERTIES)) {
<span xmlns="" class="line">​</span>            propertiesName = (String) options.<span xmlns="" class="perl_Function">get</span>(DELEGATION_PROPERTIES);
<span xmlns="" class="line">​</span>        } <span xmlns="" class="perl_Keyword">else</span> {
<span xmlns="" class="line">​</span>            propertiesName = DEFAULT_DELEGATION_PROPERTIES;
<span xmlns="" class="line">​</span>        }
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">try</span> {
<span xmlns="" class="line">​</span>            delegationMappings = <span xmlns="" class="perl_Function">loadProperties</span>(propertiesName);
<span xmlns="" class="line">​</span>        } <span xmlns="" class="perl_Keyword">catch</span> (IOException e) {
<span xmlns="" class="line">​</span>            <span xmlns="" class="perl_Keyword">throw</span> <span xmlns="" class="perl_Keyword">new</span> IllegalArgumentException(String<span xmlns="" class="perl_Function">.format(</span><span xmlns="" class="perl_String">"Unable to load properties '</span><span xmlns="" class="perl_Char">%s</span><span xmlns="" class="perl_String">'", propertiesName), e)</span>;
<span xmlns="" class="line">​</span>        }
<span xmlns="" class="line">​</span>    }
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>    @<span xmlns="" class="perl_Function">SuppressWarnings</span>(<span xmlns="" class="perl_String">"unchecked"</span>)
<span xmlns="" class="line">​</span>    @Override
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_DataType">boolean</span> <span xmlns="" class="perl_Function">login</span>() <span xmlns="" class="perl_Keyword">throws</span> LoginException {
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">if</span> (<span xmlns="" class="perl_Keyword">super</span>.<span xmlns="" class="perl_Function">login</span>() == <span xmlns="" class="perl_Keyword">true</span>) {
<span xmlns="" class="line">​</span>            log.<span xmlns="" class="perl_Function">debug</span>(<span xmlns="" class="perl_String">"super.login()==true"</span>);
<span xmlns="" class="line">​</span>            <span xmlns="" class="perl_Keyword">return</span> <span xmlns="" class="perl_Keyword">true</span>;
<span xmlns="" class="line">​</span>        }
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Comment">// Time to see if this is a delegation request.</span>
<span xmlns="" class="line">​</span>        NameCallback ncb = <span xmlns="" class="perl_Keyword">new</span> NameCallback(<span xmlns="" class="perl_String">"Username:"</span>);
<span xmlns="" class="line">​</span>        ObjectCallback ocb = <span xmlns="" class="perl_Keyword">new</span> <span xmlns="" class="perl_Function">ObjectCallback</span>(<span xmlns="" class="perl_String">"Password:"</span>);
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">try</span> {
<span xmlns="" class="line">​</span>            callbackHandler.<span xmlns="" class="perl_Function">handle</span>(<span xmlns="" class="perl_Keyword">new</span> Callback[] { ncb, ocb });
<span xmlns="" class="line">​</span>        } <span xmlns="" class="perl_Keyword">catch</span> (Exception e) {
<span xmlns="" class="line">​</span>            <span xmlns="" class="perl_Keyword">if</span> (e <span xmlns="" class="perl_Keyword">instanceof</span> RuntimeException) {
<span xmlns="" class="line">​</span>                <span xmlns="" class="perl_Keyword">throw</span> (RuntimeException) e;
<span xmlns="" class="line">​</span>            }
<span xmlns="" class="line">​</span>            <span xmlns="" class="perl_Keyword">return</span> <span xmlns="" class="perl_Keyword">false</span>; <span xmlns="" class="perl_Comment">// If the CallbackHandler can not handle the required callbacks then no chance.</span>
<span xmlns="" class="line">​</span>        }
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>        String name = ncb.<span xmlns="" class="perl_Function">getName</span>();
<span xmlns="" class="line">​</span>        Object credential = ocb.<span xmlns="" class="perl_Function">getCredential</span>();
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">if</span> (credential <span xmlns="" class="perl_Keyword">instanceof</span> OuterUserCredential) {
<span xmlns="" class="line">​</span>            <span xmlns="" class="perl_Comment">// This credential type will only be seen for a delegation request, if not seen then the request is not for us.</span>
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>            <span xmlns="" class="perl_Keyword">if</span> (<span xmlns="" class="perl_Function">delegationAcceptable</span>(name, (OuterUserCredential) credential)) {
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>                identity = <span xmlns="" class="perl_Keyword">new</span> <span xmlns="" class="perl_Function">SimplePrincipal</span>(name);
<span xmlns="" class="line">​</span>                <span xmlns="" class="perl_Keyword">if</span> (<span xmlns="" class="perl_Function">getUseFirstPass</span>()) {
<span xmlns="" class="line">​</span>                    String userName = identity.<span xmlns="" class="perl_Function">getName</span>();
<span xmlns="" class="line">​</span>                    <span xmlns="" class="perl_Keyword">if</span> (log.<span xmlns="" class="perl_Function">isDebugEnabled</span>())
<span xmlns="" class="line">​</span>                        log.<span xmlns="" class="perl_Function">debug</span>(<span xmlns="" class="perl_String">"Storing username '"</span> + userName + <span xmlns="" class="perl_String">"' and empty password"</span>);
<span xmlns="" class="line">​</span>                    <span xmlns="" class="perl_Comment">// Add the username and an empty password to the shared state map</span>
<span xmlns="" class="line">​</span>                    sharedState.<span xmlns="" class="perl_Function">put</span>(<span xmlns="" class="perl_String">"javax.security.auth.login.name"</span>, identity);
<span xmlns="" class="line">​</span>                    sharedState.<span xmlns="" class="perl_Function">put</span>(<span xmlns="" class="perl_String">"javax.security.auth.login.password"</span>, <span xmlns="" class="perl_String">""</span>);
<span xmlns="" class="line">​</span>                }
<span xmlns="" class="line">​</span>                loginOk = <span xmlns="" class="perl_Keyword">true</span>;
<span xmlns="" class="line">​</span>                <span xmlns="" class="perl_Keyword">return</span> <span xmlns="" class="perl_Keyword">true</span>;
<span xmlns="" class="line">​</span>            }
<span xmlns="" class="line">​</span>        }
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">return</span> <span xmlns="" class="perl_Keyword">false</span>; <span xmlns="" class="perl_Comment">// Attempted login but not successful.</span>
<span xmlns="" class="line">​</span>    }
<span xmlns="" class="line">​</span>
</pre>

			</div></li><li class="step"><p class="title"><strong>Add the Custom LoginModule to the Chain</strong></p><div class="para">
				You must add the new custom LoginModule to the correct location the chain so that it is invoked in the correct order. In this example, the <code class="classname">SaslPlusLoginModule</code> must be chained before the LoginModule that loads the roles with the <code class="literal">password-stacking</code> option set.
			</div><ul class="stepalternatives">
				<li class="step"><p class="title"><strong>Configure the LoginModule Order using the Management CLI</strong></p><div class="para">
						The following is an example of Management CLI commands that chain the custom <code class="classname">SaslPlusLoginModule</code> before the <code class="classname">RealmDirect</code> LoginModule that sets the <code class="literal">password-stacking</code> option. 
<pre class="screen"><code class="command">/subsystem=security/security-domain=quickstart-domain:add(cache-type=default)</code>
<code class="command">/subsystem=security/security-domain=quickstart-domain/authentication=classic:add</code>
<code class="command">/subsystem=security/security-domain=quickstart-domain/authentication=classic/login-module=DelegationLoginModule:add(code=org.jboss.as.quickstarts.ejb_security_plus.SaslPlusLoginModule,flag=optional,module-options={password-stacking=useFirstPass})</code>
<code class="command">/subsystem=security/security-domain=quickstart-domain/authentication=classic/login-module=RealmDirect:add(code=RealmDirect,flag=required,module-options={password-stacking=useFirstPass})</code></pre>
						 For more information about the Management CLI, refer to the chapter entitled <em class="citetitle">Management Interfaces</em> in the <em class="citetitle">Administration and Configuration Guide</em> for JBoss EAP 6 located on the Customer Portal at <a href="https://access.redhat.com/site/documentation/JBoss_Enterprise_Application_Platform/">https://access.redhat.com/site/documentation/JBoss_Enterprise_Application_Platform/</a>
					</div></li>
				 <li class="step"><p class="title"><strong>Configure the LoginModule Order Manually</strong></p><div class="para">
						The following is an example of XML that configures the LoginModule order in the <code class="literal">security</code> subsystem of the server configuration file. The custom <code class="classname">SaslPlusLoginModule</code> must precede the <code class="classname">RealmDirect</code> LoginModule so that it can verify the remote user before the user roles are loaded and the <code class="literal">password-stacking</code> option is set. 
<pre class="programlisting"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;security-domain</span><span xmlns="" class="perl_Others"> name=</span><span xmlns="" class="perl_String">"quickstart-domain"</span><span xmlns="" class="perl_Others"> cache-type=</span><span xmlns="" class="perl_String">"default"</span><span xmlns="" class="perl_Keyword">&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;authentication&gt;</span>
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">&lt;login-module</span><span xmlns="" class="perl_Others"> code=</span><span xmlns="" class="perl_String">"org.jboss.as.quickstarts.ejb_security_plus.SaslPlusLoginModule"</span><span xmlns="" class="perl_Others"> flag=</span><span xmlns="" class="perl_String">"required"</span><span xmlns="" class="perl_Keyword">&gt;</span>
<span xmlns="" class="line">​</span>            <span xmlns="" class="perl_Keyword">&lt;module-option</span><span xmlns="" class="perl_Others"> name=</span><span xmlns="" class="perl_String">"password-stacking"</span><span xmlns="" class="perl_Others"> value=</span><span xmlns="" class="perl_String">"useFirstPass"</span><span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">&lt;/login-module&gt;</span>
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">&lt;login-module</span><span xmlns="" class="perl_Others"> code=</span><span xmlns="" class="perl_String">"RealmDirect"</span><span xmlns="" class="perl_Others"> flag=</span><span xmlns="" class="perl_String">"required"</span><span xmlns="" class="perl_Keyword">&gt;</span>
<span xmlns="" class="line">​</span>            <span xmlns="" class="perl_Keyword">&lt;module-option</span><span xmlns="" class="perl_Others"> name=</span><span xmlns="" class="perl_String">"password-stacking"</span><span xmlns="" class="perl_Others"> value=</span><span xmlns="" class="perl_String">"useFirstPass"</span><span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">&lt;/login-module&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;/authentication&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;/security-domain&gt;</span></pre>

					</div></li>

			</ul></li><li class="step"><p class="title"><strong>Create the Remote Client</strong></p><div class="para">
				In the following code example, assume the <code class="filename">additional-secret.properties</code> file accessed by the JAAS LoginModule above contains the following property: 
<pre class="programlisting JAVA"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>quickstartUser=<span xmlns="" class="perl_Float">7f</span>5cc521-<span xmlns="" class="perl_Float">5061</span>-<span xmlns="" class="perl_Float">4</span>a5b-b814-bdc37f021acc</pre>

			</div><div class="para">
				The following code demonstrates how create the security token and set it before the EJB call. The secret token is hard-coded for demonstration purposes only. This client simply prints the results to the console. 
<pre class="programlisting JAVA"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">import static org.jboss.as.quickstarts.ejb_security_plus.EJBUtil.lookupSecuredEJB;</span>
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_Keyword">class</span> RemoteClient {
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Comment">/**</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">     * </span><span xmlns="" class="perl_Keyword">@param args</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">     */</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_DataType">static</span> <span xmlns="" class="perl_DataType">void</span> <span xmlns="" class="perl_Function">main</span>(String[] args) <span xmlns="" class="perl_Keyword">throws</span> Exception {
<span xmlns="" class="line">​</span>        SimplePrincipal principal = <span xmlns="" class="perl_Keyword">new</span> <span xmlns="" class="perl_Function">SimplePrincipal</span>(<span xmlns="" class="perl_String">"quickstartUser"</span>);
<span xmlns="" class="line">​</span>        Object credential = <span xmlns="" class="perl_Keyword">new</span> <span xmlns="" class="perl_Function">PasswordPlusCredential</span>(<span xmlns="" class="perl_String">"quickstartPwd1!"</span>.<span xmlns="" class="perl_Function">toCharArray</span>(), <span xmlns="" class="perl_String">"7f5cc521-5061-4a5b-b814-bdc37f021acc"</span>);
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>        SecurityActions.<span xmlns="" class="perl_Function">securityContextSetPrincipalCredential</span>(principal, credential);
<span xmlns="" class="line">​</span>        SecuredEJBRemote secured = <span xmlns="" class="perl_Function">lookupSecuredEJB</span>();
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>        System.<span xmlns="" class="perl_Function">out</span>.<span xmlns="" class="perl_Function">println</span>(secured.<span xmlns="" class="perl_Function">getPrincipalInformation</span>());
<span xmlns="" class="line">​</span>    }
<span xmlns="" class="line">​</span>}</pre>

			</div></li></ol></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+14139-621647+%5BLatest%5D&comment=Title%3A+Pass+Additional+Security+For+EJB+Authentication%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=14139-621647+15+Mar+2014+02%3A28+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="Use_a_Client_Side_Interceptor_in_an_Application">
      ⁠</a>7.6.6.&nbsp;Use a Client Side Interceptor in an Application</h3></div></div></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Summary</div>
			You can plug a client-side interceptor into an application programmatically or using a ServiceLoader mechanism. The following procedure describes the two methods.
		</div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idp3067712">
      ⁠</a><p class="title"><strong>Procedure&nbsp;7.14.&nbsp;Plug the Interceptor into</strong></p><ul><li class="step"><div class="para">

			</div><ul class="stepalternatives">
				<li class="step"><p class="title"><strong>Programmatically</strong></p><div class="para">
						With this approach, you call the <code class="code">org.jboss.ejb.client.EJBClientContext.registerInterceptor(int order, EJBClientInterceptor interceptor)</code> API and pass the <code class="code">order</code> and the <code class="code">interceptor</code> instance. The <code class="code">order</code> is used to determine where exactly in the client interceptor chain this <code class="code">interceptor</code> is placed.
					</div></li>
				 <li class="step"><p class="title"><strong>ServiceLoader Mechanism</strong></p><div class="para">
						With this approach, you create a <code class="filename">META-INF/services/org.jboss.ejb.client.EJBClientInterceptor</code> file and place or package it in the classpath of the client application. The rules for the file are dictated by the <a href="http://docs.oracle.com/javase/6/docs/api/java/util/ServiceLoader.html">Java ServiceLoader Mechanism</a>. This file is expected to contain a separate line for each fully qualified class name of the EJB client interceptor implementation. The EJB client interceptor classes must be available in the classpath. EJB client interceptors added using the <code class="classname">ServiceLoader</code> mechanism are added to the end of the client interceptor chain, in the order they are found in the classpath. The <code class="filename">ejb-security-interceptors</code> quickstart uses this approach.
					</div></li>

			</ul></li></ul></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+14138-621657+%5BLatest%5D&comment=Title%3A+Use+a+Client+Side+Interceptor+in+an+Application%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=14138-621657+15+Mar+2014+06%3A53+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="sect-Clustered_Enterprise_JavaBeans">
      ⁠</a>7.7.&nbsp;Clustered Enterprise JavaBeans</h2></div></div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="About_Clustered_Enterprise_JavaBeans_EJBs">
      ⁠</a>7.7.1.&nbsp;About Clustered Enterprise JavaBeans (EJBs)</h3></div></div></div><div class="para">
		EJB components can be clustered for high-availability scenarios. They use different protocols than HTTP components, so they are clustered in different ways. EJB 2 and 3 stateful and stateless beans can be clustered.
	</div><div class="para">
		For information on singletons, refer here: <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Implement_an_HA_Singleton">Section&nbsp;9.4, “Implement an HA Singleton”</a>.
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="note"><div class="admonition_header"><p><strong>Note</strong></p></div><div class="admonition"><div class="para">
			EJB 2 entity beans cannot be clustered in EAP 6 and henceforth. This is a migration issue.
		</div></div></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4663-680486+%5BLatest%5D&comment=Title%3A+About+Clustered+Enterprise+JavaBeans+%28EJBs%29%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4663-680486+01+Jul+2014+15%3A46+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="Standalone_Client_Configuration">
      ⁠</a>7.7.2.&nbsp;Standalone and In-server Client Configuration</h3></div></div></div><div class="para">
		To connect an EJB client to a clustered EJB application, you need to expand the existing configuration in standalone EJB client or In-server EJB client to include cluster connection configuration. The <code class="filename">jboss-ejb-client.properties</code> for standalone EJB client, or even <code class="filename">jboss-ejb-client.xml</code> file for a server-side application must be expanded to include a cluster configuration.
	</div><div class="para">
		The following example shows connection configuration for a standalone EJB client. The following example only shows the additional cluster configuration. The next example (Configuring <code class="filename">jboss-ejb-client.xml</code> file) shows the complete configuration: 
		<div class="example"><a id="idp16622576">
      ⁠</a><p class="title"><strong>Example&nbsp;7.3.&nbsp;Standalone client with <code class="literal">jboss-ejb-client.properties</code> configuration</strong></p><div class="example-contents"><pre class="programlisting"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>remote.clusters=ejb
<span xmlns="" class="line">​</span>remote.cluster.ejb.connect.options.org.xnio.Options.SASL_POLICY_NOANONYMOUS=false
<span xmlns="" class="line">​</span>remote.cluster.ejb.connect.options.org.xnio.Options.SSL_ENABLED=false
<span xmlns="" class="line">​</span>remote.cluster.ejb.username=test
<span xmlns="" class="line">​</span>remote.cluster.ejb.password=password
</pre></div></div>
		 If an application uses the remote-outbound-connection, you need to configure <code class="filename">jboss-ejb-client.xml</code> file and add cluster configuration as shown in the following example: 
		<div class="example"><a id="idp10719168">
      ⁠</a><p class="title"><strong>Example&nbsp;7.4.&nbsp;Client application which is deployed in another EAP 6 instance (Configuring jboss-ejb-client.xml file)</strong></p><div class="example-contents"><pre class="programlisting"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;jboss-ejb-client</span><span xmlns="" class="perl_Others"> xmlns:xsi=</span><span xmlns="" class="perl_String">"urn:jboss:ejb-client:1.2"</span><span xmlns="" class="perl_Others"> xsi:noNamespaceSchemaLocation=</span><span xmlns="" class="perl_String">"jboss-ejb-client_1_2.xsd"</span><span xmlns="" class="perl_Keyword">&gt;</span>
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">&lt;client-context&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;ejb-receivers&gt;</span>
<span xmlns="" class="line">​</span>            <span xmlns="" class="perl_Comment">&lt;!-- this is the connection to access the app-one --&gt;</span>
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">&lt;remoting-ejb-receiver</span><span xmlns="" class="perl_Others"> outbound-connection-ref=</span><span xmlns="" class="perl_String">"remote-ejb-connection-1"</span> <span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span>            <span xmlns="" class="perl_Comment">&lt;!-- this is the connection to access the app-two --&gt;</span>
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">&lt;remoting-ejb-receiver</span><span xmlns="" class="perl_Others"> outbound-connection-ref=</span><span xmlns="" class="perl_String">"remote-ejb-connection-2"</span> <span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;/ejb-receivers&gt;</span>
<span xmlns="" class="line">​</span>        
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">&lt;!-- if an outbound connection connects to a cluster; a list of members is provided after successful connection.</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">To connect to this node this cluster element must be defined. --&gt;</span>
<span xmlns="" class="line">​</span>        
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;clusters&gt;</span>
<span xmlns="" class="line">​</span>       <span xmlns="" class="perl_Comment">&lt;!-- cluster of remote-ejb-connection-1 --&gt;</span>
<span xmlns="" class="line">​</span>       <span xmlns="" class="perl_Keyword">&lt;cluster</span><span xmlns="" class="perl_Others"> name=</span><span xmlns="" class="perl_String">"ejb"</span><span xmlns="" class="perl_Others"> security-realm=</span><span xmlns="" class="perl_String">"ejb-security-realm-1"</span><span xmlns="" class="perl_Others"> username=</span><span xmlns="" class="perl_String">"quickuser1"</span><span xmlns="" class="perl_Keyword">&gt;</span>
<span xmlns="" class="line">​</span>          <span xmlns="" class="perl_Keyword">&lt;connection-creation-options&gt;</span>
<span xmlns="" class="line">​</span>            <span xmlns="" class="perl_Keyword">&lt;property</span><span xmlns="" class="perl_Others"> name=</span><span xmlns="" class="perl_String">"org.xnio.Options.SSL_ENABLED"</span><span xmlns="" class="perl_Others"> value=</span><span xmlns="" class="perl_String">"false"</span> <span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span>            <span xmlns="" class="perl_Keyword">&lt;property</span><span xmlns="" class="perl_Others"> name=</span><span xmlns="" class="perl_String">"org.xnio.Options.SASL_POLICY_NOANONYMOUS"</span><span xmlns="" class="perl_Others"> value=</span><span xmlns="" class="perl_String">"false"</span> <span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span>          <span xmlns="" class="perl_Keyword">&lt;/connection-creation-options&gt;</span>
<span xmlns="" class="line">​</span>       <span xmlns="" class="perl_Keyword">&lt;/cluster&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;/clusters&gt;</span>
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">&lt;/client-context&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;/jboss-ejb-client&gt;</span>
</pre></div></div>

	</div><div xmlns:d="http://docbook.org/ns/docbook" class="note"><div class="admonition_header"><p><strong>Note</strong></p></div><div class="admonition"><div class="para">
			For a secure connection you need to add the credentials to cluster configuration in order to avoid an authentication exception.
		</div></div></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+40832-683919+%5BLatest%5D&comment=Title%3A+Standalone+and+In-server+Client+Configuration%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=40832-683919+11+Jul+2014+19%3A30+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="Implementing_a_Custom_Load_Balancing_Policy_for_EJB_Calls">
      ⁠</a>7.7.3.&nbsp;Implementing a Custom Load Balancing Policy for EJB Calls</h3></div></div></div><div class="para">
		It is possible to implement a custom/alternate load balancing policy so that servers for the application do not handle the same amount of EJB calls in general or for a specific time period.
	</div><div class="para">
		You can implement <code class="literal">AllClusterNodeSelector</code> for EJB calls. The node selection behavior of <code class="literal">AllClusterNodeSelector</code> is similar to default selector except that <code class="literal">AllClusterNodeSelector</code> uses all available cluster nodes even in case of a large cluster (number of nodes&gt;20). If an unconnected cluster node is returned it is opened automatically. The following example shows <code class="literal">AllClusterNodeSelector</code> implementation: 
<pre class="programlisting"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>package org.<span xmlns="" class="perl_Function">jboss</span>.<span xmlns="" class="perl_Function">as</span>.<span xmlns="" class="perl_Function">quickstarts</span>.<span xmlns="" class="perl_Function">ejb</span>.<span xmlns="" class="perl_Function">clients</span>.<span xmlns="" class="perl_Function">selector</span>;
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">import java.util.Arrays;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">import java.util.Random;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">import java.util.logging.Level;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">import java.util.logging.Logger;</span>
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">import org.jboss.ejb.client.ClusterNodeSelector;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_Keyword">class</span> AllClusterNodeSelector <span xmlns="" class="perl_Keyword">implements</span> ClusterNodeSelector {
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">private</span> <span xmlns="" class="perl_DataType">static</span> <span xmlns="" class="perl_DataType">final</span> Logger LOGGER = Logger.<span xmlns="" class="perl_Function">getLogger</span>(AllClusterNodeSelector.<span xmlns="" class="perl_Function">class</span>.<span xmlns="" class="perl_Function">getName</span>());
<span xmlns="" class="line">​</span>  
<span xmlns="" class="line">​</span>  @Override
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">public</span> String <span xmlns="" class="perl_Function">selectNode</span>(<span xmlns="" class="perl_DataType">final</span> String clusterName, <span xmlns="" class="perl_DataType">final</span> String[] connectedNodes, <span xmlns="" class="perl_DataType">final</span> String[] availableNodes) {
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">if</span>(LOGGER.<span xmlns="" class="perl_Function">isLoggable</span>(Level.<span xmlns="" class="perl_Function">FINER</span>)) {
<span xmlns="" class="line">​</span>      LOGGER.<span xmlns="" class="perl_Function">finer</span>(<span xmlns="" class="perl_String">"INSTANCE "</span>+<span xmlns="" class="perl_Keyword">this</span>+ <span xmlns="" class="perl_String">" : cluster:"</span>+clusterName+<span xmlns="" class="perl_String">" connected:"</span>+Arrays.<span xmlns="" class="perl_Function">deepToString</span>(connectedNodes)+<span xmlns="" class="perl_String">" available:"</span>+Arrays.<span xmlns="" class="perl_Function">deepToString</span>(availableNodes));
<span xmlns="" class="line">​</span>    }
<span xmlns="" class="line">​</span>    
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">if</span> (availableNodes.<span xmlns="" class="perl_Function">length</span> == <span xmlns="" class="perl_Float">1</span>) {
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">return</span> availableNodes[<span xmlns="" class="perl_Float">0</span>];
<span xmlns="" class="line">​</span>    }
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_DataType">final</span> Random random = <span xmlns="" class="perl_Keyword">new</span> Random();
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_DataType">final</span> <span xmlns="" class="perl_DataType">int</span> randomSelection = random.<span xmlns="" class="perl_Function">nextInt</span>(availableNodes.<span xmlns="" class="perl_Function">length</span>);
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">return</span> availableNodes[randomSelection];
<span xmlns="" class="line">​</span>  }
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>}
</pre>
		 You can also implement the <code class="literal">SimpleLoadFactorNodeSelector</code> for EJB calls. Load balancing in <code class="literal">SimpleLoadFactorNodeSelector</code> happens based on a load factor. The load factor (2/3/4) is calculated based on the names of nodes (A/B/C) irrespective of the load on each node. The following example shows <code class="literal">SimpleLoadFactorNodeSelector</code> implementation: 
<pre class="programlisting"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>package org.<span xmlns="" class="perl_Function">jboss</span>.<span xmlns="" class="perl_Function">as</span>.<span xmlns="" class="perl_Function">quickstarts</span>.<span xmlns="" class="perl_Function">ejb</span>.<span xmlns="" class="perl_Function">clients</span>.<span xmlns="" class="perl_Function">selector</span>;
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">import java.util.ArrayList;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">import java.util.Arrays;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">import java.util.Collection;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">import java.util.HashMap;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">import java.util.List;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">import java.util.Map;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">import java.util.logging.Level;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">import java.util.logging.Logger;</span>
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">import org.jboss.ejb.client.DeploymentNodeSelector;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_Keyword">class</span> SimpleLoadFactorNodeSelector <span xmlns="" class="perl_Keyword">implements</span> DeploymentNodeSelector {
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">private</span> <span xmlns="" class="perl_DataType">static</span> <span xmlns="" class="perl_DataType">final</span> Logger LOGGER = Logger.<span xmlns="" class="perl_Function">getLogger</span>(SimpleLoadFactorNodeSelector.<span xmlns="" class="perl_Function">class</span>.<span xmlns="" class="perl_Function">getName</span>());
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">private</span> <span xmlns="" class="perl_DataType">final</span> Map&lt;String, List&lt;String&gt;[]&gt; nodes = <span xmlns="" class="perl_Keyword">new</span> HashMap&lt;String, List&lt;String&gt;[]&gt;();
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">private</span> <span xmlns="" class="perl_DataType">final</span> Map&lt;String, Integer&gt; cursor = <span xmlns="" class="perl_Keyword">new</span> HashMap&lt;String, Integer&gt;();
<span xmlns="" class="line">​</span>  
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">private</span> ArrayList&lt;String&gt; <span xmlns="" class="perl_Function">calculateNodes</span>(Collection&lt;String&gt; eligibleNodes) {
<span xmlns="" class="line">​</span>    ArrayList&lt;String&gt; nodeList = <span xmlns="" class="perl_Keyword">new</span> ArrayList&lt;String&gt;();
<span xmlns="" class="line">​</span>    
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">for</span> (String string : eligibleNodes) {
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">if</span>(string.<span xmlns="" class="perl_Function">contains</span>(<span xmlns="" class="perl_String">"A"</span>) || string.<span xmlns="" class="perl_Function">contains</span>(<span xmlns="" class="perl_String">"2"</span>)) {
<span xmlns="" class="line">​</span>        nodeList.<span xmlns="" class="perl_Function">add</span>(string);
<span xmlns="" class="line">​</span>        nodeList.<span xmlns="" class="perl_Function">add</span>(string);
<span xmlns="" class="line">​</span>      } <span xmlns="" class="perl_Keyword">else</span> <span xmlns="" class="perl_Keyword">if</span>(string.<span xmlns="" class="perl_Function">contains</span>(<span xmlns="" class="perl_String">"B"</span>) || string.<span xmlns="" class="perl_Function">contains</span>(<span xmlns="" class="perl_String">"3"</span>)) {
<span xmlns="" class="line">​</span>        nodeList.<span xmlns="" class="perl_Function">add</span>(string);
<span xmlns="" class="line">​</span>        nodeList.<span xmlns="" class="perl_Function">add</span>(string);
<span xmlns="" class="line">​</span>        nodeList.<span xmlns="" class="perl_Function">add</span>(string);
<span xmlns="" class="line">​</span>      } <span xmlns="" class="perl_Keyword">else</span> <span xmlns="" class="perl_Keyword">if</span>(string.<span xmlns="" class="perl_Function">contains</span>(<span xmlns="" class="perl_String">"C"</span>) || string.<span xmlns="" class="perl_Function">contains</span>(<span xmlns="" class="perl_String">"4"</span>)) {
<span xmlns="" class="line">​</span>        nodeList.<span xmlns="" class="perl_Function">add</span>(string);
<span xmlns="" class="line">​</span>        nodeList.<span xmlns="" class="perl_Function">add</span>(string);
<span xmlns="" class="line">​</span>        nodeList.<span xmlns="" class="perl_Function">add</span>(string);
<span xmlns="" class="line">​</span>        nodeList.<span xmlns="" class="perl_Function">add</span>(string);
<span xmlns="" class="line">​</span>      }
<span xmlns="" class="line">​</span>    }
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">return</span> nodeList;
<span xmlns="" class="line">​</span>  }
<span xmlns="" class="line">​</span>  
<span xmlns="" class="line">​</span>  @<span xmlns="" class="perl_Function">SuppressWarnings</span>(<span xmlns="" class="perl_String">"unchecked"</span>)
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">private</span> <span xmlns="" class="perl_DataType">void</span> <span xmlns="" class="perl_Function">checkNodeNames</span>(String[] eligibleNodes, String key) {
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">if</span>(!nodes.<span xmlns="" class="perl_Function">containsKey</span>(key) || nodes.<span xmlns="" class="perl_Function">get</span>(key)[<span xmlns="" class="perl_Float">0</span>].<span xmlns="" class="perl_Function">size</span>() != eligibleNodes.<span xmlns="" class="perl_Function">length</span> || !nodes.<span xmlns="" class="perl_Function">get</span>(key)[<span xmlns="" class="perl_Float">0</span>].<span xmlns="" class="perl_Function">containsAll</span>(Arrays.<span xmlns="" class="perl_Function">asList</span>(eligibleNodes))) {
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Comment">// must be synchronized as the client might call it concurrent</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">synchronized</span> (nodes) {
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">if</span>(!nodes.<span xmlns="" class="perl_Function">containsKey</span>(key) || nodes.<span xmlns="" class="perl_Function">get</span>(key)[<span xmlns="" class="perl_Float">0</span>].<span xmlns="" class="perl_Function">size</span>() != eligibleNodes.<span xmlns="" class="perl_Function">length</span> || !nodes.<span xmlns="" class="perl_Function">get</span>(key)[<span xmlns="" class="perl_Float">0</span>].<span xmlns="" class="perl_Function">containsAll</span>(Arrays.<span xmlns="" class="perl_Function">asList</span>(eligibleNodes))) {
<span xmlns="" class="line">​</span>          ArrayList&lt;String&gt; nodeList = <span xmlns="" class="perl_Keyword">new</span> ArrayList&lt;String&gt;();
<span xmlns="" class="line">​</span>          nodeList.<span xmlns="" class="perl_Function">addAll</span>(Arrays.<span xmlns="" class="perl_Function">asList</span>(eligibleNodes));
<span xmlns="" class="line">​</span>          
<span xmlns="" class="line">​</span>          nodes.<span xmlns="" class="perl_Function">put</span>(key, <span xmlns="" class="perl_Keyword">new</span> List[] { nodeList, <span xmlns="" class="perl_Function">calculateNodes</span>(nodeList) });
<span xmlns="" class="line">​</span>        }
<span xmlns="" class="line">​</span>      }
<span xmlns="" class="line">​</span>    }
<span xmlns="" class="line">​</span>  }
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">private</span> <span xmlns="" class="perl_Keyword">synchronized</span> String <span xmlns="" class="perl_Function">nextNode</span>(String key) {
<span xmlns="" class="line">​</span>    Integer c = cursor.<span xmlns="" class="perl_Function">get</span>(key);
<span xmlns="" class="line">​</span>    List&lt;String&gt; nodeList = nodes.<span xmlns="" class="perl_Function">get</span>(key)[<span xmlns="" class="perl_Float">1</span>];
<span xmlns="" class="line">​</span>    
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">if</span>(c == <span xmlns="" class="perl_Keyword">null</span> || c &gt;= nodeList.<span xmlns="" class="perl_Function">size</span>()) {
<span xmlns="" class="line">​</span>      c = Integer.<span xmlns="" class="perl_Function">valueOf</span>(<span xmlns="" class="perl_Float">0</span>);
<span xmlns="" class="line">​</span>    }
<span xmlns="" class="line">​</span>    
<span xmlns="" class="line">​</span>    String node = nodeList.<span xmlns="" class="perl_Function">get</span>(c);
<span xmlns="" class="line">​</span>    cursor.<span xmlns="" class="perl_Function">put</span>(key, Integer.<span xmlns="" class="perl_Function">valueOf</span>(c + <span xmlns="" class="perl_Float">1</span>));
<span xmlns="" class="line">​</span>    
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">return</span> node;
<span xmlns="" class="line">​</span>  }
<span xmlns="" class="line">​</span>  
<span xmlns="" class="line">​</span>  @Override
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">public</span> String <span xmlns="" class="perl_Function">selectNode</span>(String[] eligibleNodes, String appName, String moduleName, String distinctName) {
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">if</span> (LOGGER.<span xmlns="" class="perl_Function">isLoggable</span>(Level.<span xmlns="" class="perl_Function">FINER</span>)) {
<span xmlns="" class="line">​</span>      LOGGER.<span xmlns="" class="perl_Function">finer</span>(<span xmlns="" class="perl_String">"INSTANCE "</span> + <span xmlns="" class="perl_Keyword">this</span> + <span xmlns="" class="perl_String">" : nodes:"</span> + Arrays.<span xmlns="" class="perl_Function">deepToString</span>(eligibleNodes) + <span xmlns="" class="perl_String">" appName:"</span> + appName + <span xmlns="" class="perl_String">" moduleName:"</span> + moduleName
<span xmlns="" class="line">​</span>          + <span xmlns="" class="perl_String">" distinctName:"</span> + distinctName);
<span xmlns="" class="line">​</span>    }
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Comment">// if there is only one there is no sense to choice</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">if</span> (eligibleNodes.<span xmlns="" class="perl_Function">length</span> == <span xmlns="" class="perl_Float">1</span>) {
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">return</span> eligibleNodes[<span xmlns="" class="perl_Float">0</span>];
<span xmlns="" class="line">​</span>    }
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_DataType">final</span> String key = appName + <span xmlns="" class="perl_String">"|"</span> + moduleName + <span xmlns="" class="perl_String">"|"</span> + distinctName;
<span xmlns="" class="line">​</span>    
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Function">checkNodeNames</span>(eligibleNodes, key);
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">return</span> <span xmlns="" class="perl_Function">nextNode</span>(key);
<span xmlns="" class="line">​</span>  }
<span xmlns="" class="line">​</span>}
</pre>

	</div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Configuration with <code class="literal">jboss-ejb-client.properties</code></div>
			You need to add the property <code class="literal">remote.cluster.ejb.clusternode.selector</code> with the name of your implementation class (<code class="literal">AllClusterNodeSelector</code> or <code class="literal">SimpleLoadFactorNodeSelector</code>). The selector will see all configured servers which are available at the invocation time. The following example uses <code class="literal">AllClusterNodeSelector</code> as the deployment node selector: 
<pre class="programlisting"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>remote.<span xmlns="" class="perl_Function">clusters</span>=ejb
<span xmlns="" class="line">​</span>remote.<span xmlns="" class="perl_Function">cluster</span>.<span xmlns="" class="perl_Function">ejb</span>.<span xmlns="" class="perl_Function">clusternode</span>.<span xmlns="" class="perl_Function">selector</span>=org.<span xmlns="" class="perl_Function">jboss</span>.<span xmlns="" class="perl_Function">as</span>.<span xmlns="" class="perl_Function">quickstarts</span>.<span xmlns="" class="perl_Function">ejb</span>.<span xmlns="" class="perl_Function">clients</span>.<span xmlns="" class="perl_Function">selector</span>.<span xmlns="" class="perl_Function">AllClusterNodeSelector</span>
<span xmlns="" class="line">​</span>remote.<span xmlns="" class="perl_Function">cluster</span>.<span xmlns="" class="perl_Function">ejb</span>.<span xmlns="" class="perl_Function">connect</span>.<span xmlns="" class="perl_Function">options</span>.<span xmlns="" class="perl_Function">org</span>.<span xmlns="" class="perl_Function">xnio</span>.<span xmlns="" class="perl_Function">Options</span>.<span xmlns="" class="perl_Function">SASL_POLICY_NOANONYMOUS</span>=<span xmlns="" class="perl_Keyword">false</span>
<span xmlns="" class="line">​</span>remote.<span xmlns="" class="perl_Function">cluster</span>.<span xmlns="" class="perl_Function">ejb</span>.<span xmlns="" class="perl_Function">connect</span>.<span xmlns="" class="perl_Function">options</span>.<span xmlns="" class="perl_Function">org</span>.<span xmlns="" class="perl_Function">xnio</span>.<span xmlns="" class="perl_Function">Options</span>.<span xmlns="" class="perl_Function">SSL_ENABLED</span>=<span xmlns="" class="perl_Keyword">false</span>
<span xmlns="" class="line">​</span>remote.<span xmlns="" class="perl_Function">cluster</span>.<span xmlns="" class="perl_Function">ejb</span>.<span xmlns="" class="perl_Function">username</span>=test
<span xmlns="" class="line">​</span>remote.<span xmlns="" class="perl_Function">cluster</span>.<span xmlns="" class="perl_Function">ejb</span>.<span xmlns="" class="perl_Function">password</span>=password
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>remote.<span xmlns="" class="perl_Function">connectionprovider</span>.<span xmlns="" class="perl_Function">create</span>.<span xmlns="" class="perl_Function">options</span>.<span xmlns="" class="perl_Function">org</span>.<span xmlns="" class="perl_Function">xnio</span>.<span xmlns="" class="perl_Function">Options</span>.<span xmlns="" class="perl_Function">SSL_ENABLED</span>=<span xmlns="" class="perl_Keyword">false</span>
<span xmlns="" class="line">​</span>remote.<span xmlns="" class="perl_Function">connections</span>=one,two
<span xmlns="" class="line">​</span>remote.<span xmlns="" class="perl_Function">connection</span>.<span xmlns="" class="perl_Function">one</span>.<span xmlns="" class="perl_Function">host</span>=localhost
<span xmlns="" class="line">​</span>remote.<span xmlns="" class="perl_Function">connection</span>.<span xmlns="" class="perl_Function">one</span>.<span xmlns="" class="perl_Function">port</span> = <span xmlns="" class="perl_Float">4447</span>
<span xmlns="" class="line">​</span>remote.<span xmlns="" class="perl_Function">connection</span>.<span xmlns="" class="perl_Function">one</span>.<span xmlns="" class="perl_Function">connect</span>.<span xmlns="" class="perl_Function">options</span>.<span xmlns="" class="perl_Function">org</span>.<span xmlns="" class="perl_Function">xnio</span>.<span xmlns="" class="perl_Function">Options</span>.<span xmlns="" class="perl_Function">SASL_POLICY_NOANONYMOUS</span>=<span xmlns="" class="perl_Keyword">false</span>
<span xmlns="" class="line">​</span>remote.<span xmlns="" class="perl_Function">connection</span>.<span xmlns="" class="perl_Function">one</span>.<span xmlns="" class="perl_Function">username</span>=user
<span xmlns="" class="line">​</span>remote.<span xmlns="" class="perl_Function">connection</span>.<span xmlns="" class="perl_Function">one</span>.<span xmlns="" class="perl_Function">password</span>=user123
<span xmlns="" class="line">​</span>remote.<span xmlns="" class="perl_Function">connection</span>.<span xmlns="" class="perl_Function">two</span>.<span xmlns="" class="perl_Function">host</span>=localhost
<span xmlns="" class="line">​</span>remote.<span xmlns="" class="perl_Function">connection</span>.<span xmlns="" class="perl_Function">two</span>.<span xmlns="" class="perl_Function">port</span> = <span xmlns="" class="perl_Float">4547</span>
<span xmlns="" class="line">​</span>remote.<span xmlns="" class="perl_Function">connection</span>.<span xmlns="" class="perl_Function">two</span>.<span xmlns="" class="perl_Function">connect</span>.<span xmlns="" class="perl_Function">options</span>.<span xmlns="" class="perl_Function">org</span>.<span xmlns="" class="perl_Function">xnio</span>.<span xmlns="" class="perl_Function">Options</span>.<span xmlns="" class="perl_Function">SASL_POLICY_NOANONYMOUS</span>=<span xmlns="" class="perl_Keyword">false</span>
</pre>

		</div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Using JBoss ejb-client API</div>
			You need to add the property <code class="literal">remote.cluster.ejb.clusternode.selector</code> to the list for the <code class="literal">PropertiesBasedEJBClientConfiguration</code> constructor. The following example uses <code class="literal">AllClusterNodeSelector</code> as the deployment node selector: 
<pre class="programlisting"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>Properties p = <span xmlns="" class="perl_Keyword">new</span> Properties();
<span xmlns="" class="line">​</span>p.<span xmlns="" class="perl_Function">put</span>(<span xmlns="" class="perl_String">"remote.clusters"</span>, <span xmlns="" class="perl_String">"ejb"</span>);
<span xmlns="" class="line">​</span>p.<span xmlns="" class="perl_Function">put</span>(<span xmlns="" class="perl_String">"remote.cluster.ejb.clusternode.selector"</span>, <span xmlns="" class="perl_String">"org.jboss.as.quickstarts.ejb.clients.selector.AllClusterNodeSelector"</span>);
<span xmlns="" class="line">​</span>p.<span xmlns="" class="perl_Function">put</span>(<span xmlns="" class="perl_String">"remote.cluster.ejb.connect.options.org.xnio.Options.SASL_POLICY_NOANONYMOUS"</span>, <span xmlns="" class="perl_String">"false"</span>);
<span xmlns="" class="line">​</span>p.<span xmlns="" class="perl_Function">put</span>(<span xmlns="" class="perl_String">"remote.cluster.ejb.connect.options.org.xnio.Options.SSL_ENABLED"</span>, <span xmlns="" class="perl_String">"false"</span>);
<span xmlns="" class="line">​</span>p.<span xmlns="" class="perl_Function">put</span>(<span xmlns="" class="perl_String">"remote.cluster.ejb.username"</span>, <span xmlns="" class="perl_String">"test"</span>);
<span xmlns="" class="line">​</span>p.<span xmlns="" class="perl_Function">put</span>(<span xmlns="" class="perl_String">"remote.cluster.ejb.password"</span>, <span xmlns="" class="perl_String">"password"</span>);
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>p.<span xmlns="" class="perl_Function">put</span>(<span xmlns="" class="perl_String">"remote.connectionprovider.create.options.org.xnio.Options.SSL_ENABLED"</span>, <span xmlns="" class="perl_String">"false"</span>);
<span xmlns="" class="line">​</span>p.<span xmlns="" class="perl_Function">put</span>(<span xmlns="" class="perl_String">"remote.connections"</span>, <span xmlns="" class="perl_String">"one,two"</span>);
<span xmlns="" class="line">​</span>p.<span xmlns="" class="perl_Function">put</span>(<span xmlns="" class="perl_String">"remote.connection.one.port"</span>, <span xmlns="" class="perl_String">"4447"</span>);
<span xmlns="" class="line">​</span>p.<span xmlns="" class="perl_Function">put</span>(<span xmlns="" class="perl_String">"remote.connection.one.host"</span>, <span xmlns="" class="perl_String">"localhost"</span>);
<span xmlns="" class="line">​</span>p.<span xmlns="" class="perl_Function">put</span>(<span xmlns="" class="perl_String">"remote.connection.two.port"</span>, <span xmlns="" class="perl_String">"4547"</span>);
<span xmlns="" class="line">​</span>p.<span xmlns="" class="perl_Function">put</span>(<span xmlns="" class="perl_String">"remote.connection.two.host"</span>, <span xmlns="" class="perl_String">"localhost"</span>);
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>EJBClientConfiguration cc = <span xmlns="" class="perl_Keyword">new</span> <span xmlns="" class="perl_Function">PropertiesBasedEJBClientConfiguration</span>(p);
<span xmlns="" class="line">​</span>ContextSelector&lt;EJBClientContext&gt; selector = <span xmlns="" class="perl_Keyword">new</span> <span xmlns="" class="perl_Function">ConfigBasedEJBClientContextSelector</span>(cc);
<span xmlns="" class="line">​</span>EJBClientContext.<span xmlns="" class="perl_Function">setSelector</span>(selector);
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>p = <span xmlns="" class="perl_Keyword">new</span> Properties();
<span xmlns="" class="line">​</span>p.<span xmlns="" class="perl_Function">put</span>(Context.<span xmlns="" class="perl_Function">URL_PKG_PREFIXES</span>, <span xmlns="" class="perl_String">"org.jboss.ejb.client.naming"</span>);
<span xmlns="" class="line">​</span>InitialContext context = <span xmlns="" class="perl_Keyword">new</span> InitialContext(p);
</pre>

		</div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Server application side configuration with <code class="filename">jboss-ejb-client.xml</code></div>
			To use the load balancing policy for server to server communication; package the class together with the application and configure it within the <code class="filename">jboss-ejb-client.xml</code> settings(located in <code class="literal">META-INF</code> folder). The following example uses <code class="literal">AllClusterNodeSelector</code> as the deployment node selector: 
<pre class="programlisting"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;jboss-ejb-client</span><span xmlns="" class="perl_Others"> xmlns:xsi=</span><span xmlns="" class="perl_String">"urn:jboss:ejb-client:1.2"</span><span xmlns="" class="perl_Others"> xsi:noNamespaceSchemaLocation=</span><span xmlns="" class="perl_String">"jboss-ejb-client_1_2.xsd"</span><span xmlns="" class="perl_Keyword">&gt;</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">&lt;client-context&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;ejb-receivers&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Comment">&lt;!-- this is the connection to access the app --&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;remoting-ejb-receiver</span><span xmlns="" class="perl_Others"> outbound-connection-ref=</span><span xmlns="" class="perl_String">"remote-ejb-connection-1"</span> <span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;/ejb-receivers&gt;</span>
<span xmlns="" class="line">​</span>        
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Comment">&lt;!-- if an outbound connection connect to a cluster a list of members is provided after successful connection.</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">To connect to this node this cluster element must be defined.</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">--&gt;</span>
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">&lt;clusters&gt;</span>
<span xmlns="" class="line">​</span>     <span xmlns="" class="perl_Comment">&lt;!-- cluster of remote-ejb-connection-1 --&gt;</span>
<span xmlns="" class="line">​</span>     <span xmlns="" class="perl_Keyword">&lt;cluster</span><span xmlns="" class="perl_Others"> name=</span><span xmlns="" class="perl_String">"ejb"</span><span xmlns="" class="perl_Others"> security-realm=</span><span xmlns="" class="perl_String">"ejb-security-realm-1"</span><span xmlns="" class="perl_Others"> username=</span><span xmlns="" class="perl_String">"test"</span><span xmlns="" class="perl_Others"> cluster-node-selector=</span><span xmlns="" class="perl_String">"org.jboss.as.quickstarts.ejb.clients.selector.AllClusterNodeSelector"</span><span xmlns="" class="perl_Keyword">&gt;</span>
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">&lt;connection-creation-options&gt;</span>
<span xmlns="" class="line">​</span>           <span xmlns="" class="perl_Keyword">&lt;property</span><span xmlns="" class="perl_Others"> name=</span><span xmlns="" class="perl_String">"org.xnio.Options.SSL_ENABLED"</span><span xmlns="" class="perl_Others"> value=</span><span xmlns="" class="perl_String">"false"</span> <span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span>           <span xmlns="" class="perl_Keyword">&lt;property</span><span xmlns="" class="perl_Others"> name=</span><span xmlns="" class="perl_String">"org.xnio.Options.SASL_POLICY_NOANONYMOUS"</span><span xmlns="" class="perl_Others"> value=</span><span xmlns="" class="perl_String">"false"</span> <span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">&lt;/connection-creation-options&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;/cluster&gt;</span>
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">&lt;/clusters&gt;</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">&lt;/client-context&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;/jboss-ejb-client&gt;</span>
</pre>
			 To use the above configuration with security, you will need to add <code class="literal">ejb-security-realm-1</code> to client-server configuration. The following example shows the CLI commands for adding security realm (<code class="literal">ejb-security-realm-1</code>) the value is the base64 encoded password for the user "test"": 
<pre class="programlisting"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>core-service=management/security-realm=ejb-security-realm-1:add()
<span xmlns="" class="line">​</span>core-service=management/security-realm=ejb-security-realm-1/server-identity=secret:add(value=cXVpY2sxMjMr)
</pre>
			 <div xmlns:d="http://docbook.org/ns/docbook" class="note"><div class="admonition_header"><p><strong>Note</strong></p></div><div class="admonition"><div class="para">
					If you are using standalone mode use the start option <code class="command">-Djboss.node.name= </code> or the server configuration file <code class="filename">standalone.xml</code> to configure the server name (server name=""). Ensure that the server name is unique. In domain mode, the controller automatically validates that the names are unique.
				</div></div></div>

		</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+40838-685568+%5BLatest%5D&comment=Title%3A+Implementing+a+Custom+Load+Balancing+Policy+for+EJB+Calls%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=40838-685568+16+Jul+2014+21%3A57+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="Transaction_Behavior_of_EJB_Invocations">
      ⁠</a>7.7.4.&nbsp;Transaction Behavior of EJB Invocations</h3></div></div></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Server to Server Invocations</div>
			Transaction attributes for distributed EAP applications need to be handled in a way as if the application is called on the same server. To discontinue a transaction, the destination method must be marked <code class="literal">REQUIRES_NEW</code> using different interfaces.
		</div><div xmlns:d="http://docbook.org/ns/docbook" class="note"><div class="admonition_header"><p><strong>Note</strong></p></div><div class="admonition"><div class="para">
			EAP 6 doesn't require Java Transaction Services (JTS) for transaction propagation on server-to-server EJB invocations if both servers are EAP 6. JBoss EJB client API library handles it itself.
		</div></div></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Client Side Invocations</div>
			To invoke EJB session beans with an EAP 6 standalone client, the client must have a reference to the <code class="literal">InitialContext</code> object while the EJB proxies or <code class="literal">UserTransaction</code> are used. It is also important to keep the <code class="literal">InitialContext</code> object open while EJB proxies or <code class="literal">UserTransaction</code> are being used. Control of the connections will be inside the classes created by the <code class="literal">InitialContext</code> with the properties.
		</div><div class="para">
		The following example shows EJB client API which holds a reference to the <code class="literal">InitialContext</code> object: 
<pre class="programlisting"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>package org.<span xmlns="" class="perl_Function">jboss</span>.<span xmlns="" class="perl_Function">as</span>.<span xmlns="" class="perl_Function">quickstarts</span>.<span xmlns="" class="perl_Function">ejb</span>.<span xmlns="" class="perl_Function">multi</span>.<span xmlns="" class="perl_Function">server</span>;
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">import java.util.Date;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">import java.util.Properties;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">import java.util.logging.Level;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">import java.util.logging.Logger;</span>
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">import javax.naming.Context;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">import javax.naming.InitialContext;</span>
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">import org.jboss.as.quickstarts.ejb.multi.server.app.MainApp;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">import org.jboss.ejb.client.ContextSelector;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">import org.jboss.ejb.client.EJBClientConfiguration;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">import org.jboss.ejb.client.EJBClientContext;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">import org.jboss.ejb.client.PropertiesBasedEJBClientConfiguration;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">import org.jboss.ejb.client.remoting.ConfigBasedEJBClientContextSelector;</span>
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_Keyword">class</span> Client {
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">/**</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">* </span><span xmlns="" class="perl_Keyword">@param args </span><span xmlns="" class="perl_Comment">no args needed</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">* </span><span xmlns="" class="perl_Keyword">@throws Exception</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">*/</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_DataType">static</span> <span xmlns="" class="perl_DataType">void</span> <span xmlns="" class="perl_Function">main</span>(String[] args) <span xmlns="" class="perl_Keyword">throws</span> Exception {
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Comment">// suppress output of client messages</span>
<span xmlns="" class="line">​</span>        Logger.<span xmlns="" class="perl_Function">getLogger</span>(<span xmlns="" class="perl_String">"org.jboss"</span>).<span xmlns="" class="perl_Function">setLevel</span>(Level.<span xmlns="" class="perl_Function">OFF</span>);
<span xmlns="" class="line">​</span>        Logger.<span xmlns="" class="perl_Function">getLogger</span>(<span xmlns="" class="perl_String">"org.xnio"</span>).<span xmlns="" class="perl_Function">setLevel</span>(Level.<span xmlns="" class="perl_Function">OFF</span>);
<span xmlns="" class="line">​</span>        
<span xmlns="" class="line">​</span>        Properties p = <span xmlns="" class="perl_Keyword">new</span> Properties();
<span xmlns="" class="line">​</span>        p.<span xmlns="" class="perl_Function">put</span>(<span xmlns="" class="perl_String">"remote.connectionprovider.create.options.org.xnio.Options.SSL_ENABLED"</span>, <span xmlns="" class="perl_String">"false"</span>);
<span xmlns="" class="line">​</span>        p.<span xmlns="" class="perl_Function">put</span>(<span xmlns="" class="perl_String">"remote.connections"</span>, <span xmlns="" class="perl_String">"one"</span>);
<span xmlns="" class="line">​</span>        p.<span xmlns="" class="perl_Function">put</span>(<span xmlns="" class="perl_String">"remote.connection.one.port"</span>, <span xmlns="" class="perl_String">"4447"</span>);
<span xmlns="" class="line">​</span>        p.<span xmlns="" class="perl_Function">put</span>(<span xmlns="" class="perl_String">"remote.connection.one.host"</span>, <span xmlns="" class="perl_String">"localhost"</span>);
<span xmlns="" class="line">​</span>        p.<span xmlns="" class="perl_Function">put</span>(<span xmlns="" class="perl_String">"remote.connection.one.username"</span>, <span xmlns="" class="perl_String">"quickuser"</span>);
<span xmlns="" class="line">​</span>        p.<span xmlns="" class="perl_Function">put</span>(<span xmlns="" class="perl_String">"remote.connection.one.password"</span>, <span xmlns="" class="perl_String">"quick-123"</span>);
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>        EJBClientConfiguration cc = <span xmlns="" class="perl_Keyword">new</span> <span xmlns="" class="perl_Function">PropertiesBasedEJBClientConfiguration</span>(p);
<span xmlns="" class="line">​</span>        ContextSelector&lt;EJBClientContext&gt; selector = <span xmlns="" class="perl_Keyword">new</span> <span xmlns="" class="perl_Function">ConfigBasedEJBClientContextSelector</span>(cc);
<span xmlns="" class="line">​</span>        EJBClientContext.<span xmlns="" class="perl_Function">setSelector</span>(selector);
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>        Properties props = <span xmlns="" class="perl_Keyword">new</span> Properties();
<span xmlns="" class="line">​</span>        props.<span xmlns="" class="perl_Function">put</span>(Context.<span xmlns="" class="perl_Function">URL_PKG_PREFIXES</span>, <span xmlns="" class="perl_String">"org.jboss.ejb.client.naming"</span>);
<span xmlns="" class="line">​</span>        InitialContext context = <span xmlns="" class="perl_Keyword">new</span> InitialContext(props);
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>        
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_DataType">final</span> String rcal = <span xmlns="" class="perl_String">"ejb:jboss-ejb-multi-server-app-main/ejb//"</span> + (<span xmlns="" class="perl_String">"MainAppBean"</span>) + <span xmlns="" class="perl_String">"!"</span> + MainApp.<span xmlns="" class="perl_Function">class</span>.<span xmlns="" class="perl_Function">getName</span>();
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_DataType">final</span> MainApp remote = (MainApp) context.<span xmlns="" class="perl_Function">lookup</span>(rcal);
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_DataType">final</span> String result = remote.<span xmlns="" class="perl_Function">invokeAll</span>(<span xmlns="" class="perl_String">"Client call at "</span>+<span xmlns="" class="perl_Keyword">new</span> Date());
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>        System.<span xmlns="" class="perl_Function">out</span>.<span xmlns="" class="perl_Function">println</span>(<span xmlns="" class="perl_String">"InvokeAll succeed: "</span>+result);
<span xmlns="" class="line">​</span>    }
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>}
</pre>
		 <div xmlns:d="http://docbook.org/ns/docbook" class="note"><div class="admonition_header"><p><strong>Note</strong></p></div><div class="admonition"><div class="para">
				Obtaining a <code class="literal">UserTransaction</code> reference on the client is unsupported for scenarios with a scoped EJB client context and for invocations which use the <code class="literal">remote-naming</code> protocol. This is because in these scenarios, <code class="literal">InitialContext</code> encapsulates its own EJB client context instance; which cannot be accessed using the static methods of the <code class="classname">EJBClient</code> class. When <code class="methodname">EJBClient.getUserTransaction()</code> is called, it returns a transaction from default (global) EJB client context (which might not be initialized) and not from the desired one.
			</div></div></div>

	</div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title"> UserTransaction reference on the Client Side</div>
			The following example shows how to get <code class="literal">UserTransaction</code> reference on a standalone client: 
<pre class="programlisting"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">import org.jboss.ejb.client.EJBClient;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">import javax.transaction.UserTransaction;</span>
<span xmlns="" class="line">​</span>.
<span xmlns="" class="line">​</span>.
<span xmlns="" class="line">​</span>    Context context=<span xmlns="" class="perl_Keyword">null</span>;
<span xmlns="" class="line">​</span>    UserTransaction tx=<span xmlns="" class="perl_Keyword">null</span>;
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">try</span> {
<span xmlns="" class="line">​</span>      Properties props = <span xmlns="" class="perl_Keyword">new</span> Properties();
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Comment">// REMEMBER: there must be a jboss-ejb-client.properties with the connection parameter</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Comment">//           in the clients classpath</span>
<span xmlns="" class="line">​</span>      props.<span xmlns="" class="perl_Function">put</span>(Context.<span xmlns="" class="perl_Function">URL_PKG_PREFIXES</span>, <span xmlns="" class="perl_String">"org.jboss.ejb.client.naming"</span>);
<span xmlns="" class="line">​</span>      context = <span xmlns="" class="perl_Keyword">new</span> InitialContext(props);  
<span xmlns="" class="line">​</span>      System.<span xmlns="" class="perl_Function">out</span>.<span xmlns="" class="perl_Function">println</span>(<span xmlns="" class="perl_String">"</span><span xmlns="" class="perl_Char">\n\t</span><span xmlns="" class="perl_String">Got initial Context: "</span>+context);
<span xmlns="" class="line">​</span>      tx=EJBClient.<span xmlns="" class="perl_Function">getUserTransaction</span>(<span xmlns="" class="perl_String">"yourServerName"</span>);
<span xmlns="" class="line">​</span>      System.<span xmlns="" class="perl_Function">out</span>.<span xmlns="" class="perl_Function">println</span>(<span xmlns="" class="perl_String">"UserTransaction = "</span>+tx.<span xmlns="" class="perl_Function">getStatus</span>());
<span xmlns="" class="line">​</span>      tx.<span xmlns="" class="perl_Function">begin</span>();
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Comment">// do some work</span>
<span xmlns="" class="line">​</span>      ...
<span xmlns="" class="line">​</span>    }<span xmlns="" class="perl_Keyword">catch</span> (Exception e) {
<span xmlns="" class="line">​</span>      e.<span xmlns="" class="perl_Function">printStackTrace</span>();
<span xmlns="" class="line">​</span>      tx.<span xmlns="" class="perl_Function">rollback</span>();
<span xmlns="" class="line">​</span>    }<span xmlns="" class="perl_Keyword">finally</span>{
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">if</span>(context != <span xmlns="" class="perl_Keyword">null</span>) {
<span xmlns="" class="line">​</span>        context.<span xmlns="" class="perl_Function">close</span>();
<span xmlns="" class="line">​</span>      }
<span xmlns="" class="line">​</span>    }
</pre>

		</div><div xmlns:d="http://docbook.org/ns/docbook" class="note"><div class="admonition_header"><p><strong>Note</strong></p></div><div class="admonition"><div class="para">
			To get <code class="literal">UserTransaction</code> reference on the client side; start your server with the following system property <code class="literal">-Djboss.node.name=yourServerName</code> and then use it on client side as following: 
<pre class="programlisting">tx=EJBClient.getUserTransaction("yourServerName");</pre>
			 Replace "yourServerName" with the name of your server. If a user transaction is started on a node all invocations are sticky on the node and the node must have all the needed EJBs. It is not possible to use <code class="literal">UserTransaction</code> with remote-naming protocol and scoped-context.
		</div></div></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+40839-689415+%5BLatest%5D&comment=Title%3A+Transaction+Behavior+of+EJB+Invocations%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=40839-689415+31+Jul+2014+15%3A02+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="sect-Reference1">
      ⁠</a>7.8.&nbsp;Reference</h2></div></div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="EJB_JNDI_Naming_Reference">
      ⁠</a>7.8.1.&nbsp;EJB JNDI Naming Reference</h3></div></div></div><div class="para">
		The JNDI lookup name for a session bean has the syntax of:
	</div><pre class="synopsis"> ejb:<em class="replaceable">&lt;appName&gt;</em>/<em class="replaceable">&lt;moduleName&gt;</em>/<em class="replaceable">&lt;distinctName&gt;</em>/<em class="replaceable">&lt;beanName&gt;</em>!<em class="replaceable">&lt;viewClassName&gt;</em><em class="replaceable">?stateful</em> </pre><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="code">&lt;appName&gt;</code></span></dt><dd><div class="para">
					If the session bean's JAR file has been deployed within an enterprise archive (EAR) then this is the name of that EAR. By default, the name of an EAR is its filename without the <code class="filename">.ear</code> suffix. The application name can also be overridden in its <code class="filename">application.xml</code> file. If the session bean is not deployed in an EAR then leave this blank.
				</div></dd><dt><span class="term"><code class="code">&lt;moduleName&gt;</code></span></dt><dd><div class="para">
					The module name is the name of the JAR file that the session bean is deployed in. By the default, the name of the JAR file is its filename without the <code class="filename">.jar</code> suffix. The module name can also be overridden in the JAR's <code class="filename">ejb-jar.xml</code> file.
				</div></dd><dt><span class="term"><code class="code">&lt;distinctName&gt;</code></span></dt><dd><div class="para">
					JBoss EAP 6 allows each deployment to specify an optional distinct name. If the deployment does not have a distinct name then leave this blank.
				</div></dd><dt><span class="term"><code class="code">&lt;beanName&gt;</code></span></dt><dd><div class="para">
					The bean name is the classname of the session bean to be invoked.
				</div></dd><dt><span class="term"><code class="code">&lt;viewClassName&gt;</code></span></dt><dd><div class="para">
					The view class name is the fully qualified classname of the remote interface. This includes the package name of the interface.
				</div></dd><dt><span class="term"><code class="code">?stateful</code></span></dt><dd><div class="para">
					The <code class="code">?stateful</code> suffix is required when the JNDI name refers to a stateful session bean. It is not included for other bean types.
				</div></dd></dl></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+5119-591683+%5BLatest%5D&comment=Title%3A+EJB+JNDI+Naming+Reference%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=5119-591683+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="EJB_Reference_Resolution">
      ⁠</a>7.8.2.&nbsp;EJB Reference Resolution</h3></div></div></div><div class="para">
		This section covers how JBoss implements <code class="code">@EJB</code> and <code class="code">@Resource</code>. Please note that XML always overrides annotations but the same rules apply.
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><p class="title"><strong>Rules for the @EJB annotation</strong></p><ul><li class="listitem"><div class="para">
				The <code class="code">@EJB</code> annotation also has a <code class="code">mappedName()</code> attribute. The specification leaves this as vendor specific metadata, but JBoss recognizes <code class="code">mappedName()</code> as the global JNDI name of the EJB you are referencing. If you have specified a <code class="code">mappedName()</code>, then all other attributes are ignored and this global JNDI name is used for binding.
			</div></li><li class="listitem"><div class="para">
				If you specify <code class="code">@EJB</code> with no attributes defined:
			</div><pre class="programlisting"><span xmlns="" class="line">​</span>@EJB 
<span xmlns="" class="line">​</span>ProcessPayment myEjbref;</pre><div class="para">
				Then the following rules apply:
			</div><div class="itemizedlist"><ul><li class="listitem"><div class="para">
						The EJB jar of the referencing bean is searched for an EJB with the interface used in the <code class="code">@EJB</code> injection. If there are more than one EJB that publishes same business interface, then an exception is thrown. If there is only one bean with that interface then that one is used.
					</div></li><li class="listitem"><div class="para">
						Search the EAR for EJBs that publish that interface. If there are duplicates, then an exception is thrown. Otherwise the matching bean is returned.
					</div></li><li class="listitem"><div class="para">
						Search globally in JBoss runtime for an EJB of that interface. Again, if duplicates are found, an exception is thrown.
					</div></li></ul></div></li><li class="listitem"><div class="para">
				<code class="code">@EJB.beanName()</code> corresponds to <code class="code">&lt;ejb-link&gt;</code>. If the <code class="code">beanName()</code> is defined, then use the same algorithm as <code class="code">@EJB</code> with no attributes defined except use the <code class="code">beanName()</code> as a key in the search. An exception to this rule is if you use the ejb-link '#' syntax. The '#' syntax allows you to put a relative path to a jar in the EAR where the EJB you are referencing is located. Refer to the EJB 3.1 specification for more details.
			</div></li></ul></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4543-591667+%5BLatest%5D&comment=Title%3A+EJB+Reference+Resolution%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4543-591667+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="Project_dependencies_for_Remote_EJB_Clients">
      ⁠</a>7.8.3.&nbsp;Project dependencies for Remote EJB Clients</h3></div></div></div><div class="para">
		Maven projects that include the invocation of session beans from remote clients require the following dependencies from the JBoss EAP 6 Maven repository.
	</div><div class="table"><a id="idp18975680">
      ⁠</a><p class="title"><strong>Table&nbsp;7.4.&nbsp;Maven dependencies for Remote EJB Clients</strong></p><div class="table-contents"><table xmlns:d="http://docbook.org/ns/docbook" class="lt-4-cols gt-7-rows" summary="Maven dependencies for Remote EJB Clients"><colgroup><col width="50%" align="left" class="c1"><col width="50%" align="left" class="c2"></colgroup><thead><tr><th align="left"> GroupID </th><th align="left"> ArtifactID </th></tr></thead><tbody><tr><td align="left"> org.jboss.spec </td><td align="left"> jboss-javaee-6.0 </td></tr><tr><td align="left"> org.jboss.as </td><td align="left"> jboss-as-ejb-client-bom </td></tr><tr><td align="left"> org.jboss.spec.javax.transaction </td><td align="left"> jboss-transaction-api_1.1_spec </td></tr><tr><td align="left"> org.jboss.spec.javax.ejb </td><td align="left"> jboss-ejb-api_3.1_spec </td></tr><tr><td align="left"> org.jboss </td><td align="left"> jboss-ejb-client </td></tr><tr><td align="left"> org.jboss.xnio </td><td align="left"> xnio-api </td></tr><tr><td align="left"> org.jboss.xnio </td><td align="left"> xnio-nio </td></tr><tr><td align="left"> org.jboss.remoting3 </td><td align="left"> jboss-remoting </td></tr><tr><td align="left"> org.jboss.sasl </td><td align="left"> jboss-sasl </td></tr><tr><td align="left"> org.jboss.marshalling </td><td align="left"> jboss-marshalling-river </td></tr></tbody></table></div></div><div class="para">
		With the exception of <code class="code">jboss-javaee-6.0</code> and <code class="code">jboss-as-ejb-client-bom</code>, these dependencies must be added to the <code class="code">&lt;dependencies&gt;</code> section of the <code class="filename">pom.xml</code> file.
	</div><div class="para">
		The <code class="code">jboss-javaee-6.0</code> and <code class="code">jboss-as-ejb-client-bom</code> dependencies should be added to the <code class="code">&lt;dependencyManagement&gt;</code> section of your <code class="filename">pom.xml</code> with the scope of <code class="code">import</code>.
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="note"><div class="admonition_header"><p><strong>Note</strong></p></div><div class="admonition"><div class="para">
			The <code class="code">artifactID</code>'s versions are subject to change. Refer to the Maven repository for the relevant version.
		</div></div></div><pre class="programlisting"><span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;dependencyManagement&gt;</span>
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">&lt;dependencies&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;dependency&gt;</span>
<span xmlns="" class="line">​</span>         <span xmlns="" class="perl_Keyword">&lt;groupId&gt;</span>org.jboss.spec<span xmlns="" class="perl_Keyword">&lt;/groupId&gt;</span>
<span xmlns="" class="line">​</span>         <span xmlns="" class="perl_Keyword">&lt;artifactId&gt;</span>jboss-javaee-6.0<span xmlns="" class="perl_Keyword">&lt;/artifactId&gt;</span>
<span xmlns="" class="line">​</span>         <span xmlns="" class="perl_Keyword">&lt;version&gt;</span>3.0.0.Final-redhat-1<span xmlns="" class="perl_Keyword">&lt;/version&gt;</span>
<span xmlns="" class="line">​</span>         <span xmlns="" class="perl_Keyword">&lt;type&gt;</span>pom<span xmlns="" class="perl_Keyword">&lt;/type&gt;</span>
<span xmlns="" class="line">​</span>         <span xmlns="" class="perl_Keyword">&lt;scope&gt;</span>import<span xmlns="" class="perl_Keyword">&lt;/scope&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;/dependency&gt;</span>
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;dependency&gt;</span>
<span xmlns="" class="line">​</span>         <span xmlns="" class="perl_Keyword">&lt;groupId&gt;</span>org.jboss.as<span xmlns="" class="perl_Keyword">&lt;/groupId&gt;</span>
<span xmlns="" class="line">​</span>         <span xmlns="" class="perl_Keyword">&lt;artifactId&gt;</span>jboss-as-ejb-client-bom<span xmlns="" class="perl_Keyword">&lt;/artifactId&gt;</span>
<span xmlns="" class="line">​</span>         <span xmlns="" class="perl_Keyword">&lt;version&gt;</span>7.1.1.Final-redhat-1<span xmlns="" class="perl_Keyword">&lt;/version&gt;</span>
<span xmlns="" class="line">​</span>         <span xmlns="" class="perl_Keyword">&lt;type&gt;</span>pom<span xmlns="" class="perl_Keyword">&lt;/type&gt;</span>
<span xmlns="" class="line">​</span>         <span xmlns="" class="perl_Keyword">&lt;scope&gt;</span>import<span xmlns="" class="perl_Keyword">&lt;/scope&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;/dependency&gt;</span>
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">&lt;/dependencies&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;/dependencyManagement&gt;</span></pre><div class="para">
		Refer to <code class="filename">ejb-remote/client/pom.xml</code> in the quickstart files for a complete example of dependency configuration for remote session bean invocation.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+5726-606308+%5BLatest%5D&comment=Title%3A+Project+dependencies+for+Remote+EJB+Clients%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=5726-606308+26+Feb+2014+13%3A45+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="jboss-ejb3xml_Deployment_Descriptor_Reference">
      ⁠</a>7.8.4.&nbsp;jboss-ejb3.xml Deployment Descriptor Reference</h3></div></div></div><div class="para">
		<code class="filename">jboss-ejb3.xml</code> is a custom deployment descriptor that can be used in either EJB JAR or WAR archives. In an EJB JAR archive it must be located in the <code class="filename">META-INF/</code> directory. In a WAR archive it must be located in the <code class="filename">WEB-INF/</code> directory.
	</div><div class="para">
		The format is similar to <code class="filename">ejb-jar.xml</code>, using some of the same namespaces and providing some other additional namespaces. The contents of <code class="filename">jboss-ejb3.xml</code> are merged with the contents of <code class="filename">ejb-jar.xml</code>, with the <code class="filename">jboss-ejb3.xml</code> items taking precedence.
	</div><div class="para">
		This document only covers the additional non-standard namespaces used by <code class="filename">jboss-ejb3.xml</code>. Refer to <a href="http://java.sun.com/xml/ns/javaee/">http://java.sun.com/xml/ns/javaee/</a> for documentation on the standard namespaces.
	</div><div class="para">
		The root namespace is <code class="systemitem">http://www.jboss.com/xml/ns/javaee</code>.
	</div><div class="variablelist"><p class="title"><strong>Assembly descriptor namespaces</strong></p><div class="para">
			The following namespaces can all be used in the <code class="code">&lt;assembly-descriptor&gt;</code> element. They can be used to apply their configuration to a single bean, or to all beans in the deployment by using <code class="code">\*</code> as the <code class="code">ejb-name</code>.
		</div><dl class="variablelist"><dt><span class="term">The clustering namespace: <code class="code">urn:clustering:1.0</code></span></dt><dd><pre class="programlisting"><span xmlns="" class="line">​</span>xmlns:c="urn:clustering:1.0"</pre><div class="para">
					This allows you to mark EJB's as clustered. It is the deployment descriptor equivalent to <code class="code">@org.jboss.ejb3.annotation.Clustered</code>.
				</div><pre class="programlisting"><span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;c:clustering&gt;</span>
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">&lt;ejb-name&gt;</span>DDBasedClusteredSFSB<span xmlns="" class="perl_Keyword">&lt;/ejb-name&gt;</span>
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">&lt;c:clustered&gt;</span>true<span xmlns="" class="perl_Keyword">&lt;/c:clustered&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;/c:clustering&gt;</span></pre></dd><dt><span class="term">The security namespace (<code class="code">urn:security</code>)</span></dt><dd><pre class="programlisting"><span xmlns="" class="line">​</span>xmlns:s="urn:security"</pre><div class="para">
					This allows you to set the security domain and the run-as principal for an EJB.
				</div><pre class="programlisting"><span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;s:security&gt;</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">&lt;ejb-name&gt;</span>*<span xmlns="" class="perl_Keyword">&lt;/ejb-name&gt;</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">&lt;s:security-domain&gt;</span>myDomain<span xmlns="" class="perl_Keyword">&lt;/s:security-domain&gt;</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">&lt;s:run-as-principal&gt;</span>myPrincipal<span xmlns="" class="perl_Keyword">&lt;/s:run-as-principal&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;/s:security&gt;</span></pre></dd><dt><span class="term">The resource adapter namespace: <code class="code">urn:resource-adapter-binding</code></span></dt><dd><pre class="programlisting"><span xmlns="" class="line">​</span>xmlns:r="urn:resource-adapter-binding"</pre><div class="para">
					This allows you to set the resource adapter for a Message-Driven Bean.
				</div><pre class="programlisting"><span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;r:resource-adapter-binding&gt;</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">&lt;ejb-name&gt;</span>*<span xmlns="" class="perl_Keyword">&lt;/ejb-name&gt;</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">&lt;r:resource-adapter-name&gt;</span>myResourceAdapter<span xmlns="" class="perl_Keyword">&lt;/r:resource-adapter-name&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;/r:resource-adapter-binding&gt;</span></pre></dd><dt><span class="term">The IIOP namespace: <code class="code">urn:iiop</code></span></dt><dd><pre class="programlisting"><span xmlns="" class="line">​</span>xmlns:u="urn:iiop"</pre><div class="para">
					The IIOP namespace is where IIOP settings are configured.
				</div></dd><dt><span class="term">The pool namespace: <code class="code">urn:ejb-pool:1.0</code></span></dt><dd><pre class="programlisting"><span xmlns="" class="line">​</span>xmlns:p="urn:ejb-pool:1.0"</pre><div class="para">
					This allows you to select the pool that is used by the included stateless session beans or Message-Driven Beans. Pools are defined in the server configuration.
				</div><pre class="programlisting"><span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;p:pool&gt;</span>
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">&lt;ejb-name&gt;</span>*<span xmlns="" class="perl_Keyword">&lt;/ejb-name&gt;</span>
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">&lt;p:bean-instance-pool-ref&gt;</span>my-pool<span xmlns="" class="perl_Keyword">&lt;/p:bean-instance-pool-ref&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;/p:pool&gt;</span></pre></dd><dt><span class="term">The cache namespace: <code class="code">urn:ejb-cache:1.0</code></span></dt><dd><pre class="programlisting"><span xmlns="" class="line">​</span>xmlns:c="urn:ejb-cache:1.0"</pre><div class="para">
					This allows you to select the cache that is used by the included stateful session beans. Caches are defined in the server configuration.
				</div><pre class="programlisting"><span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;c:cache&gt;</span>
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">&lt;ejb-name&gt;</span>*<span xmlns="" class="perl_Keyword">&lt;/ejb-name&gt;</span>
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">&lt;c:cache-ref&gt;</span>my-cache<span xmlns="" class="perl_Keyword">&lt;/c:cache-ref&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;/c:cache&gt;</span></pre></dd></dl></div><div class="example"><a id="idp20801840">
      ⁠</a><p class="title"><strong>Example&nbsp;7.5.&nbsp;Example jboss-ejb3.xml file</strong></p><div class="example-contents"><pre class="programlisting"><span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;?xml</span> version="1.1" encoding="UTF-8"<span xmlns="" class="perl_Keyword">?&gt;</span>
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">&lt;jboss:ejb-jar</span><span xmlns="" class="perl_Others"> xmlns:jboss=</span><span xmlns="" class="perl_String">"http://www.jboss.com/xml/ns/javaee"</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Others">                  xmlns=</span><span xmlns="" class="perl_String">"http://java.sun.com/xml/ns/javaee"</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Others">                  xmlns:xsi=</span><span xmlns="" class="perl_String">"http://www.w3.org/2001/XMLSchema-instance"</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Others">                  xmlns:c=</span><span xmlns="" class="perl_String">"urn:clustering:1.0"</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Others">                  xsi:schemaLocation=</span><span xmlns="" class="perl_String">"http://www.jboss.com/xml/ns/javaee http://www.jboss.org/j2ee/schema/jboss-ejb3-2_0.xsd http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/ejb-jar_3_1.xsd"</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Others">                  version=</span><span xmlns="" class="perl_String">"3.1"</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Others">                  impl-version=</span><span xmlns="" class="perl_String">"2.0"</span><span xmlns="" class="perl_Keyword">&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;enterprise-beans&gt;</span>
<span xmlns="" class="line">​</span>         <span xmlns="" class="perl_Keyword">&lt;message-driven&gt;</span>
<span xmlns="" class="line">​</span>            <span xmlns="" class="perl_Keyword">&lt;ejb-name&gt;</span>ReplyingMDB<span xmlns="" class="perl_Keyword">&lt;/ejb-name&gt;</span>
<span xmlns="" class="line">​</span>            <span xmlns="" class="perl_Keyword">&lt;ejb-class&gt;</span>org.jboss.as.test.integration.ejb.mdb.messagedestination.ReplyingMDB<span xmlns="" class="perl_Keyword">&lt;/ejb-class&gt;</span>
<span xmlns="" class="line">​</span>            <span xmlns="" class="perl_Keyword">&lt;activation-config&gt;</span>
<span xmlns="" class="line">​</span>               <span xmlns="" class="perl_Keyword">&lt;activation-config-property&gt;</span>
<span xmlns="" class="line">​</span>                  <span xmlns="" class="perl_Keyword">&lt;activation-config-property-name&gt;</span>destination<span xmlns="" class="perl_Keyword">&lt;/activation-config-property-name&gt;</span>
<span xmlns="" class="line">​</span>                  <span xmlns="" class="perl_Keyword">&lt;activation-config-property-value&gt;</span>java:jboss/mdbtest/messageDestinationQueue
<span xmlns="" class="line">​</span>                  <span xmlns="" class="perl_Keyword">&lt;/activation-config-property-value&gt;</span>
<span xmlns="" class="line">​</span>               <span xmlns="" class="perl_Keyword">&lt;/activation-config-property&gt;</span>
<span xmlns="" class="line">​</span>            <span xmlns="" class="perl_Keyword">&lt;/activation-config&gt;</span>
<span xmlns="" class="line">​</span>         <span xmlns="" class="perl_Keyword">&lt;/message-driven&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;/enterprise-beans&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;assembly-descriptor&gt;</span>
<span xmlns="" class="line">​</span>         <span xmlns="" class="perl_Keyword">&lt;c:clustering&gt;</span>
<span xmlns="" class="line">​</span>            <span xmlns="" class="perl_Keyword">&lt;ejb-name&gt;</span>DDBasedClusteredSFSB<span xmlns="" class="perl_Keyword">&lt;/ejb-name&gt;</span>
<span xmlns="" class="line">​</span>            <span xmlns="" class="perl_Keyword">&lt;c:clustered&gt;</span>true<span xmlns="" class="perl_Keyword">&lt;/c:clustered&gt;</span>
<span xmlns="" class="line">​</span>         <span xmlns="" class="perl_Keyword">&lt;/c:clustering&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;/assembly-descriptor&gt;</span>
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">&lt;/jboss:ejb-jar&gt;</span></pre></div></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+9019-591860+%5BLatest%5D&comment=Title%3A+jboss-ejb3.xml+Deployment+Descriptor+Reference%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=9019-591860+24+Feb+2014+07%3A55+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div></div></div><div xml:lang="en-US" class="chapter" lang="en-US"><div class="titlepage"><div><div><h1 class="title"><a id="chap-JBoss_MBean_Services">
      ⁠</a>Chapter&nbsp;8.&nbsp;JBoss MBean Services</h1></div></div></div><div class="toc"><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Writing_JBoss_MBean_Services">8.1. Writing JBoss MBean Services</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#A_Standard_MBean_Example">8.2. A Standard MBean Example</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Deploying_JBoss_MBean_Services">8.3. Deploying JBoss MBean Services</a></span></dt></dl></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="Writing_JBoss_MBean_Services">
      ⁠</a>8.1.&nbsp;Writing JBoss MBean Services</h2></div></div></div><div class="para">
		Writing a custom MBean service that relies on a JBoss service requires the service interface method pattern. JBoss MBean service interface method pattern consists of a set of life cycle operations which inform an MBean service when it can <code class="literal">create</code>, <code class="literal">start</code>, <code class="literal">stop</code>, and <code class="literal">destroy</code> itself.
	</div><div class="para">
		You can manage the dependency state using any of the following approaches:
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
				If you want specific methods to be called on your MBean, declare those methods in your MBean interface. This approach allows your MBean implementation to avoid dependencies on JBoss specific classes
			</div></li><li class="listitem"><div class="para">
				If you are not bothered about dependencies on JBoss specific classes then you may have your MBean interface extend the <code class="literal">ServiceMBean</code> interface and <code class="classname">ServiceMBeanSupport</code> class. The <code class="classname">ServiceMBeanSupport</code> class provides implementations of the service lifecycle methods like <code class="methodname">create</code>, <code class="methodname">start</code> and <code class="methodname">stop</code>. To handle a specific event like the <code class="methodname">start()</code>event, you need to override <code class="methodname">startService()</code> method provided by the ServiceMBeanSupport class.
			</div></li></ul></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+30497-633356+%5BLatest%5D&comment=Title%3A+Writing+JBoss+MBean+Services%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=30497-633356+24+Apr+2014+10%3A57+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="A_Standard_MBean_Example">
      ⁠</a>8.2.&nbsp;A Standard MBean Example</h2></div></div></div><div class="para">
		This section develops two sample MBean services packaged together in a service archive (<code class="literal">.sar</code>).
	</div><div class="para">
		<code class="classname">ConfigServiceMBean</code> interface declares specific methods like the <code class="methodname">start</code>, <code class="methodname">getTimeout</code> and <code class="methodname">stop</code> methods to <code class="literal">start</code>, <code class="literal">hold</code> and <code class="literal">stop</code> the MBean correctly without using any JBoss specific classes. <code class="classname">ConfigService </code>class implements <code class="classname">ConfigServiceMBean</code> interface and consequently implements the methods used within that interface.
	</div><div class="para">
		<code class="classname">PlainThread</code> class extends <code class="classname">ServiceMBeanSupport</code> class and implements <code class="classname">PlainThreadMBean</code> interface. <code class="classname">PlainThread</code> starts a thread and uses <code class="methodname">ConfigServiceMBean.getTimeout()</code> to determine how long the thread should sleep.
	</div><div class="example"><a id="idp4307680">
      ⁠</a><p class="title"><strong>Example&nbsp;8.1.&nbsp;Sample MBean services</strong></p><div class="example-contents"><pre class="programlisting">package org.jboss.example.mbean.support;

public interface ConfigServiceMBean {

    int getTimeout();

    void start();

    void stop();

}

package org.jboss.example.mbean.support;

public class ConfigService implements ConfigServiceMBean {
    int timeout;


    @Override
    public int getTimeout() {
        return timeout;
    }

    @Override
    public void start() {
        //Create a random number between 3000 and 6000 milliseconds
        timeout = (int)Math.round(Math.random() * 3000) + 3000;
        System.out.println("Random timeout set to " + timeout + " seconds");
    }

    @Override
    public void stop() {
        timeout = 0;
    }

}
  
package org.jboss.example.mbean.support;

import org.jboss.system.ServiceMBean;

public interface PlainThreadMBean extends ServiceMBean {
    void setConfigService(ConfigServiceMBean configServiceMBean);
}

package org.jboss.example.mbean.support;

import org.jboss.system.ServiceMBeanSupport;

public class PlainThread extends ServiceMBeanSupport implements PlainThreadMBean {

    private ConfigServiceMBean configService;
    private Thread thread;
    private volatile boolean done;

    @Override
    public void setConfigService(ConfigServiceMBean configService) {
        this.configService = configService;
    }

    @Override
    protected void startService() throws Exception {
        System.out.println("Starting Plain Thread MBean");
        done = false;
        thread = new Thread(new Runnable() {
            @Override
            public void run() {
                try {
                    while (!done) {
                        System.out.println("Sleeping....");
                        Thread.sleep(configService.getTimeout());
                        System.out.println("Slept!");
                    }
                } catch (InterruptedException e) {
                    Thread.currentThread().interrupt();
                }
            }
        });
        thread.start();
    }

    @Override
    protected void stopService() throws Exception {
        System.out.println("Stopping Plain Thread MBean");
        done = true;
    }


}
</pre></div></div><div class="para">
		The <code class="literal">jboss-service.xml</code> descriptor shows how <code class="classname">ConfigService</code> class is injected into <code class="classname">PlainThread</code> class using <code class="literal">inject</code> tag. The <code class="literal">inject</code> tag establishes a dependency between <code class="classname">PlainThreadMBean</code> and <code class="classname">ConfigServiceMBean</code> and thus allows <code class="classname">PlainThreadMBean</code> use <code class="classname">ConfigServiceMBean</code> easily.
	</div><div class="example"><a id="idp6913952">
      ⁠</a><p class="title"><strong>Example&nbsp;8.2.&nbsp;JBoss-service.xml Service Descriptor</strong></p><div class="example-contents"><pre class="programlisting"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;server</span><span xmlns="" class="perl_Others"> xmlns:xsi=</span><span xmlns="" class="perl_String">"http://www.w3.org/2001/XMLSchema-instance"</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Others">        xsi:schemaLocation=</span><span xmlns="" class="perl_String">"urn:jboss:service:7.0 jboss-service_7_0.xsd"</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Others">        xmlns=</span><span xmlns="" class="perl_String">"urn:jboss:service:7.0"</span><span xmlns="" class="perl_Keyword">&gt;</span>
<span xmlns="" class="line">​</span> <span xmlns="" class="perl_Keyword">&lt;mbean</span><span xmlns="" class="perl_Others"> code=</span><span xmlns="" class="perl_String">"org.jboss.example.mbean.support.ConfigService"</span><span xmlns="" class="perl_Others"> name=</span><span xmlns="" class="perl_String">"jboss.support:name=ConfigBean"</span><span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span> <span xmlns="" class="perl_Keyword">&lt;mbean</span><span xmlns="" class="perl_Others"> code=</span><span xmlns="" class="perl_String">"org.jboss.example.mbean.support.PlainThread"</span><span xmlns="" class="perl_Others"> name=</span><span xmlns="" class="perl_String">"jboss.support:name=ThreadBean"</span><span xmlns="" class="perl_Keyword">&gt;</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">&lt;attribute</span><span xmlns="" class="perl_Others"> name=</span><span xmlns="" class="perl_String">"configService"</span><span xmlns="" class="perl_Keyword">&gt;</span>
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">&lt;inject</span><span xmlns="" class="perl_Others"> bean=</span><span xmlns="" class="perl_String">"jboss.support:name=ConfigBean"</span><span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">&lt;/attribute&gt;</span>
<span xmlns="" class="line">​</span> <span xmlns="" class="perl_Keyword">&lt;/mbean&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;/server&gt;</span>
</pre></div></div><div class="para">
		After writing the sample MBeans you can package the classes and the <code class="literal">jboss-service.xml</code> descriptor in the <code class="literal">META-INF</code> folder of a service archive (<code class="literal">.sar</code>).
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+30498-635265+%5BLatest%5D&comment=Title%3A+A+Standard+MBean+Example%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=30498-635265+30+Apr+2014+18%3A42+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="Deploying_JBoss_MBean_Services">
      ⁠</a>8.3.&nbsp;Deploying JBoss MBean Services</h2></div></div></div><div class="para">
		To build and deploy the sample MBeans (<code class="filename">ServiceMBeanTest.sar</code>) in <code class="literal">Domain</code> mode use the following commands: 
<pre class="programlisting">[domain@localhost:9999 /] deploy ~/Desktop/<code class="filename">ServiceMBeanTest.sar</code></pre>
		 
<pre class="programlisting">[domain@localhost:9999 /] deploy ~/Desktop/<code class="filename">ServiceMBeanTest.sar --all-server-groups</code></pre>

	</div><div class="para">
		To build and deploy the sample MBeans (<code class="filename">ServiceMBeanTest.sar</code>) in <code class="literal">Standalone</code> mode use the following command:
	</div><pre class="programlisting">[standalone@localhost:9999 /] deploy ~/Desktop/<code class="filename">ServiceMBeanTest.sar</code></pre><div class="para">
		To undeploy the sample MBeans use the following command:
	</div><pre class="programlisting">[standalone@localhost:9999 /] undeploy <code class="filename">ServiceMBeanTest.sar</code></pre><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+30548-634331+%5BLatest%5D&comment=Title%3A+Deploying+JBoss+MBean+Services%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=30548-634331+29+Apr+2014+16%3A14+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div></div><div xml:lang="en-US" class="chapter" lang="en-US"><div class="titlepage"><div><div><h1 class="title"><a id="chap-Clustering_in_Web_Applications">
      ⁠</a>Chapter&nbsp;9.&nbsp;Clustering in Web Applications</h1></div></div></div><div class="toc"><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Session_Replication">9.1. Session Replication</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_HTTP_Session_Replication">9.1.1. About HTTP Session Replication</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_the_Web_Session_Cache">9.1.2. About the Web Session Cache</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Configure_the_Web_Session_Cache">9.1.3. Configure the Web Session Cache</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Enable_Session_Replication_in_Your_Application">9.1.4. Enable Session Replication in Your Application</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-HttpSession_Passivation_and_Activation">9.2. HttpSession Passivation and Activation</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_HTTP_Session_Passivation_and_Activation">9.2.1. About HTTP Session Passivation and Activation</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Configure_HttpSession_Passivation_in_Your_Application">9.2.2. Configure HttpSession Passivation in Your Application</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Cookie_Domain">9.3. Cookie Domain</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_the_Cookie_Domain">9.3.1. About the Cookie Domain</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Configure_the_Cookie_Domain">9.3.2. Configure the Cookie Domain</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Implement_an_HA_Singleton">9.4. Implement an HA Singleton</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Apache_mod_cluster-manager_Application">9.5. Apache mod_cluster-manager Application</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_mod_cluster-manager_Application">9.5.1. About mod_cluster-manager Application</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Exploring_mod_cluster-manager_Application">9.5.2. Exploring mod_cluster-manager Application</a></span></dt></dl></dd></dl></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="sect-Session_Replication">
      ⁠</a>9.1.&nbsp;Session Replication</h2></div></div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="About_HTTP_Session_Replication">
      ⁠</a>9.1.1.&nbsp;About HTTP Session Replication</h3></div></div></div><div class="para">
		Session replication ensures that client sessions of distributable applications are not disrupted by failovers by nodes in a cluster. Each node in the cluster shares information about ongoing sessions, and can take them over if the originally-involved node disappears.
	</div><div class="para">
		Session replication is the mechanism by which mod_cluster, mod_jk, mod_proxy, ISAPI, and NSAPI clusters provide high availability.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4686-591671+%5BLatest%5D&comment=Title%3A+About+HTTP+Session+Replication%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4686-591671+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="About_the_Web_Session_Cache">
      ⁠</a>9.1.2.&nbsp;About the Web Session Cache</h3></div></div></div><div class="para">
		The web session cache can be configured when you use any of the HA profiles, including the <code class="literal">standalone-ha.xml</code> profile, or the managed domain profiles <code class="literal">ha</code> or <code class="literal">full-ha</code>. The most commonly configured elements are the cache mode and the number of cache owners for a distributed cache.
	</div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Cache Mode</div>
			The cache mode can either be <code class="code">REPL</code> (the default) or <code class="code">DIST</code>.
		</div><div class="variablelist"><dl class="variablelist"><dt><span class="term">REPL</span></dt><dd><div class="para">
					The <code class="code">REPL</code> mode replicates the entire cache to every other node in the cluster. This is the safest option, but introduces more overhead.
				</div></dd><dt><span class="term">DIST</span></dt><dd><div class="para">
					The <code class="code">DIST</code> mode is similar to the <em class="firstterm">buddy mode</em> provided in previous implementations. It reduces overhead by distributing the cache to the number of nodes specified in the <code class="literal">owners</code> parameter. This number of owners defaults to <code class="literal">2</code>.
				</div></dd></dl></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Owners</div>
			The <code class="literal">owners</code> parameter controls how many cluster nodes hold replicated copies of the session. The default is <code class="literal">2</code>.
		</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+12554-592028+%5BLatest%5D&comment=Title%3A+About+the+Web+Session+Cache%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=12554-592028+24+Feb+2014+07%3A56+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="Configure_the_Web_Session_Cache">
      ⁠</a>9.1.3.&nbsp;Configure the Web Session Cache</h3></div></div></div><div class="para">
		The web session cache defaults to <code class="code">REPL</code>. If you wish to use <code class="code">DIST</code> mode, run the following two commands in the Management CLI. If you use a different profile, change the profile name in the commands. If you use a standalone server, remove the <code class="literal">/profile=ha</code> portion of the commands.
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idp12223664">
      ⁠</a><p class="title"><strong>Procedure&nbsp;9.1.&nbsp;Configure the Web Session Cache</strong></p><ol class="1"><li class="step"><p class="title"><strong>Change the default cache mode to <code class="code">DIST</code>.</strong></p><pre class="screen">/profile=ha/subsystem=infinispan/cache-container=web/:write-attribute(name=default-cache,value=dist)
</pre></li><li class="step"><p class="title"><strong>Set the number of owners for a distributed cache.</strong></p><div class="para">
				The following command sets <code class="literal">5</code> owners. The default is <code class="literal">2</code>.
			</div><pre class="screen">/profile=ha/subsystem=infinispan/cache-container=web/distributed-cache=dist/:write-attribute(name=owners,value=5)
</pre></li><li class="step"><p class="title"><strong>Change the default cache mode back to <code class="code">REPL</code>.</strong></p><pre class="screen">/profile=ha/subsystem=infinispan/cache-container=web/:write-attribute(name=default-cache,value=repl)
</pre></li><li class="step"><p class="title"><strong>Restart the Server</strong></p><div class="para">
				After changing the web cache mode, you must restart the server.
			</div></li></ol></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Result</div>
			Your server is configured for session replication. To use session replication in your own applications, refer to the following topic: <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Enable_Session_Replication_in_Your_Application">Section&nbsp;9.1.4, “Enable Session Replication in Your Application”</a>.
		</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+12555-592028+%5BLatest%5D&comment=Title%3A+Configure+the+Web+Session+Cache%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=12555-592028+24+Feb+2014+07%3A56+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="Enable_Session_Replication_in_Your_Application">
      ⁠</a>9.1.4.&nbsp;Enable Session Replication in Your Application</h3></div></div></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Summary</div>
			To take advantage of JBoss EAP 6 High Availability (HA) features, you must configure your application to be distributable. This procedure shows how to do that, and then explains some of the advanced configuration options you can use.
		</div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idp4148352">
      ⁠</a><p class="title"><strong>Procedure&nbsp;9.2.&nbsp;Make your Application Distributable</strong></p><ol class="1"><li class="step"><p class="title"><strong>Required: Indicate that your application is distributable.</strong></p><div class="para">
				If your application is not marked as distributable, its sessions will never be distributed. Add the <code class="sgmltag-element">&lt;distributable/&gt;</code> element inside the <code class="sgmltag-element">&lt;web-app&gt;</code> tag of your application's <code class="filename">web.xml</code> descriptor file. Here is an example.
			</div><div class="example"><a id="idp18086880">
      ⁠</a><p class="title"><strong>Example&nbsp;9.1.&nbsp;Minimum Configuration for a Distributable Application</strong></p><div class="example-contents"><pre class="programlisting"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;?xml</span> version="1.0"<span xmlns="" class="perl_Keyword">?&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;web-app</span><span xmlns="" class="perl_Others">  xmlns=</span><span xmlns="" class="perl_String">"http://java.sun.com/xml/ns/j2ee"</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Others">          xmlns:xsi=</span><span xmlns="" class="perl_String">"http://www.w3.org/2001/XMLSchema-instance"</span> 
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Others">          xsi:schemaLocation=</span><span xmlns="" class="perl_String">"http://java.sun.com/xml/ns/j2ee </span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_String">                              http://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd"</span> 
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Others">          version=</span><span xmlns="" class="perl_String">"2.4"</span><span xmlns="" class="perl_Keyword">&gt;</span>
<span xmlns="" class="line">​</span>          
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;distributable/&gt;</span>
<span xmlns="" class="line">​</span>    
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;/web-app&gt;</span>
<span xmlns="" class="line">​</span>				</pre></div></div></li><li class="step"><p class="title"><strong>Modify the default replication behavior if desired.</strong></p><div class="para">
				If you want to change any of the values affecting session replication, you can override them inside a <code class="sgmltag-element">&lt;replication-config&gt;</code> element which is a child element of the <code class="sgmltag-element">&lt;jboss-web&gt;</code> element of your application's <code class="filename">jboss-web.xml</code> file. For a given element, only include it if you want to override the defaults. The following example lists all of the default settings, and is followed by a table which explains the most commonly changed options.
			</div><div class="example"><a id="idp1982000">
      ⁠</a><p class="title"><strong>Example&nbsp;9.2.&nbsp;Default <code class="sgmltag-element">&lt;replication-config&gt;</code>Values</strong></p><div class="example-contents"><pre class="programlisting"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_DataType">&lt;!DOCTYPE </span>jboss-web PUBLIC
<span xmlns="" class="line">​</span>    "-//JBoss//DTD Web Application 5.0//EN"
<span xmlns="" class="line">​</span>    "http://www.jboss.org/j2ee/dtd/jboss-web_5_0.dtd"<span xmlns="" class="perl_DataType">&gt;</span>
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;jboss-web&gt;</span>
<span xmlns="" class="line">​</span>   
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">&lt;replication-config&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;cache-name&gt;</span>custom-session-cache<span xmlns="" class="perl_Keyword">&lt;/cache-name&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;replication-trigger&gt;</span>SET<span xmlns="" class="perl_Keyword">&lt;/replication-trigger&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;replication-granularity&gt;</span>ATTRIBUTE<span xmlns="" class="perl_Keyword">&lt;/replication-granularity&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;use-jk&gt;</span>false<span xmlns="" class="perl_Keyword">&lt;/use-jk&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;max-unreplicated-interval&gt;</span>30<span xmlns="" class="perl_Keyword">&lt;/max-unreplicated-interval&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;snapshot-mode&gt;</span>INSTANT<span xmlns="" class="perl_Keyword">&lt;/snapshot-mode&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;snapshot-interval&gt;</span>1000<span xmlns="" class="perl_Keyword">&lt;/snapshot-interval&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;session-notification-policy&gt;</span>com.example.CustomSessionNotificationPolicy<span xmlns="" class="perl_Keyword">&lt;/session-notification-policy&gt;</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">&lt;/replication-config&gt;</span>
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;/jboss-web&gt;</span>
<span xmlns="" class="line">​</span>				</pre></div></div></li></ol></div><div class="table"><a id="idp14824512">
      ⁠</a><p class="title"><strong>Table&nbsp;9.1.&nbsp;Common Options for session Replication</strong></p><div class="table-contents"><table xmlns:d="http://docbook.org/ns/docbook" class="lt-4-cols lt-7-rows" summary="Common Options for session Replication"><colgroup><col width="33%"><col width="67%"></colgroup><thead><tr><th> <div class="para">
						Option
					</div>
					 </th><th> <div class="para">
						Description
					</div>
					 </th></tr></thead><tbody><tr><td> <div class="para">
						<code class="sgmltag-element">&lt;replication-trigger&gt;</code>
					</div>
					 </td><td> <div class="para">
						Controls which conditions should trigger session data replication across the cluster. This option is necessary because after a mutable object stored as a session attribute is accessed from the session, the container has no clear way to know if the object has been modified and needs to be replicated, unless method <code class="code">setAttribute()</code> is called directly.
					</div>
					 <div class="variablelist"><p class="title"><strong>Valid Values for <code class="sgmltag-element">&lt;replication-trigger&gt;</code></strong></p><dl class="variablelist"><dt><span class="term">SET_AND_GET</span></dt><dd><div class="para">
									This is the safest but worst-performing option. Session data is always replicated, even if its content has only been accessed, and not modified. This setting is preserved for legacy purposes only. To get the same behavior with better performance, you may, instead of using this setting, set <code class="sgmltag-element">&lt;max-unreplicated-interval&gt;</code> to 0.
								</div></dd><dt><span class="term">SET_AND_NON_PRIMITIVE_GET</span></dt><dd><div class="para">
									The default value. Session data is only replicated if an object of a non-primitive type is accessed. This means that the object is not of a well-known Java type such as <code class="literal">Integer</code>, <code class="literal">Long</code>, or <code class="literal">String</code>.
								</div></dd><dt><span class="term">SET</span></dt><dd><div class="para">
									This option assumes that the application will explicitly call <code class="methodname"> setAttribute</code>on the session when the data needs to be replicated. It prevents unnecessary replication and can benefit overall performance, but is inherently unsafe.
								</div></dd></dl></div>
					 <div class="para">
						Regardless of the setting, you can always trigger session replication by calling <code class="code">setAttribute()</code>.
					</div>
					 </td></tr><tr><td> <div class="para">
						<code class="sgmltag-element">&lt;replication-granularity&gt;</code>
					</div>
					 </td><td> <div class="para">
						Determines the granularity of data that is replicated. It defaults to <code class="literal">SESSION</code>, but can be set to <code class="literal">ATTRIBUTE</code> instead, to increase performance on sessions where most attributes remain unchanged.
					</div>
					 </td></tr></tbody></table></div></div><div class="para">
		The following options rarely need to be changed.
	</div><div class="table"><a id="idp29268864">
      ⁠</a><p class="title"><strong>Table&nbsp;9.2.&nbsp;Less Commonly Changed Options for Session Replication</strong></p><div class="table-contents"><table xmlns:d="http://docbook.org/ns/docbook" class="lt-4-cols lt-7-rows" summary="Less Commonly Changed Options for Session Replication"><colgroup><col width="33%"><col width="67%"></colgroup><thead><tr><th> <div class="para">
						Option
					</div>
					 </th><th> <div class="para">
						Description
					</div>
					 </th></tr></thead><tbody><tr><td> <div class="para">
						<code class="sgmltag-element">&lt;use-jk&gt;</code>
					</div>
					 </td><td> <div class="para">
						Whether to assume that a load balancer such as <code class="code">mod_cluster</code>, <code class="code">mod_jk</code>, or <code class="code">mod_proxy</code> is in use. The default is <code class="literal">false</code>. If set to <code class="literal">true</code>, the container examines the session ID associated with each request and replaces the <code class="code">jvmRoute</code> portion of the session ID if there is a failover.
					</div>
					 </td></tr><tr><td> <div class="para">
						<code class="sgmltag-element">&lt;max-unreplicated-interval&gt;</code>
					</div>
					 </td><td> <div class="para">
						The maximum interval (in seconds) to wait after a session was accessed before triggering a replication of a session's timestamp, even if it is considered to be unchanged. This ensures that cluster nodes are aware of each session's timestamp and that an unreplicated session will not expire incorrectly during a failover. It also ensures that you can rely on a correct value for calls to method <code class="methodname">HttpSession.getLastAccessedTime()</code>during a failover.
					</div>
					 <div class="para">
						By default, no value is specified. A value of <code class="literal">0</code> causes the timestamp to be replicated whenever the session is accessed. A value of <code class="literal">-1</code> causes the timestamp to be replicated only if other activity during the request triggers a replication. A positive value greater than <code class="code">HttpSession.getMaxInactiveInterval()</code> is treated as a misconfiguration and converted to <code class="literal">0</code>.
					</div>
					 </td></tr><tr><td> <div class="para">
						<code class="sgmltag-element">&lt;snapshot-mode&gt;</code>
					</div>
					 </td><td> <div class="para">
						Specifies when sessions are replicated to other nodes. The default is <code class="literal">INSTANT</code> and the other possible value is <code class="literal">INTERVAL</code>.
					</div>
					 <div class="para">
						In <code class="literal">INSTANT</code> mode, changes are replicated at the end of a request, by means of the request processing thread. The <code class="sgmltag-element">&lt;snapshot-interval&gt;</code> option is ignored.
					</div>
					 <div class="para">
						In <code class="literal">INTERVAL</code> mode, a background task runs at the interval specified by <code class="sgmltag-element">&lt;snapshot-interval&gt;</code>, and replicates modified sessions.
					</div>
					 </td></tr><tr><td> <div class="para">
						<code class="sgmltag-element">&lt;snapshot-interval&gt;</code>
					</div>
					 </td><td> <div class="para">
						The interval, in milliseconds, at which modified sessions should be replicated when using <code class="literal">INTERVAL</code> for the value of <code class="sgmltag-element">&lt;snapshot-mode&gt;</code>.
					</div>
					 </td></tr><tr><td> <div class="para">
						<code class="sgmltag-element">&lt;session-notification-policy&gt;</code>
					</div>
					 </td><td> <div class="para">
						The fully-qualified class name of the implementation of interface <code class="code">ClusteredSessionNotificationPolicy</code> which governs whether servlet specification notifications are emitted to any registered <code class="code">HttpSessionListener</code>, <code class="code">HttpSessionAttributeListener</code>, or <code class="code">HttpSessionBindingListener</code>.
					</div>
					 </td></tr></tbody></table></div></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4687-707088+%5BLatest%5D&comment=Title%3A+Enable+Session+Replication+in+Your+Application%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4687-707088+08+Sep+2014+13%3A58+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="sect-HttpSession_Passivation_and_Activation">
      ⁠</a>9.2.&nbsp;HttpSession Passivation and Activation</h2></div></div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="About_HTTP_Session_Passivation_and_Activation">
      ⁠</a>9.2.1.&nbsp;About HTTP Session Passivation and Activation</h3></div></div></div><div class="para">
		<em class="firstterm">Passivation</em> is the process of controlling memory usage by removing relatively unused sessions from memory while storing them in persistent storage.
	</div><div class="para">
		<em class="firstterm">Activation</em> is when passivated data is retrieved from persisted storage and put back into memory.
	</div><div class="para">
		Passivation occurs at three different times in a HTTP session's lifetime:
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
				When the container requests the creation of a new session, if the number of currently active session exceeds a configurable limit, the server attempts to passivate some sessions to make room for the new one.
			</div></li><li class="listitem"><div class="para">
				Periodically, at a configured interval, a background task checks to see if sessions should be passivated.
			</div></li><li class="listitem"><div class="para">
				When a web application is deployed and a backup copy of sessions active on other servers is acquired by the newly deploying web application's session manager, sessions may be passivated.
			</div></li></ul></div><div class="para">
		A session is passivated if it meets the following conditions:
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
				The session has not been in use for longer than a configurable maximum idle time.
			</div></li><li class="listitem"><div class="para">
				The number of active sessions exceeds a configurable maximum and the session has not been in use for longer than a configurable minimum idle time.
			</div></li></ul></div><div class="para">
		Sessions are always passivated using a Least Recently Used (LRU) algorithm.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4689-591671+%5BLatest%5D&comment=Title%3A+About+HTTP+Session+Passivation+and+Activation%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4689-591671+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="Configure_HttpSession_Passivation_in_Your_Application">
      ⁠</a>9.2.2.&nbsp;Configure HttpSession Passivation in Your Application</h3></div></div></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Overview</div>
			HttpSession passivation is configured in your application's <code class="filename">WEB_INF/jboss-web.xml</code> or <code class="filename">META_INF/jboss-web.xml</code> file.
		</div><div class="example"><a id="idm446256">
      ⁠</a><p class="title"><strong>Example&nbsp;9.3.&nbsp;Example <code class="filename">jboss-web.xml</code> File</strong></p><div class="example-contents"><pre class="programlisting XML"><span xmlns="" class="line">​</span><span xmlns="" class="perl_DataType">&lt;!DOCTYPE </span>jboss-web PUBLIC
<span xmlns="" class="line">​</span>    "-//JBoss//DTD Web Application 5.0//EN"
<span xmlns="" class="line">​</span>    "http://www.jboss.org/j2ee/dtd/jboss-web_5_0.dtd"<span xmlns="" class="perl_DataType">&gt;</span>
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;jboss-web</span><span xmlns="" class="perl_Others"> version=</span><span xmlns="" class="perl_String">"6.0"</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Others">           xmlns=</span><span xmlns="" class="perl_String">"http://www.jboss.com/xml/ns/javaee"</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Others">           xmlns:xsi=</span><span xmlns="" class="perl_String">"http://www.w3.org/2001/XMLSchema-instance"</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Others">           xsi:schemaLocation=</span><span xmlns="" class="perl_String">"http://www.jboss.com/xml/ns/javaee http://www.jboss.org/j2ee/schema/jboss-web_6_0.xsd"</span><span xmlns="" class="perl_Keyword">&gt;</span>
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">&lt;max-active-sessions&gt;</span>20<span xmlns="" class="perl_Keyword">&lt;/max-active-sessions&gt;</span>
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">&lt;passivation-config&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;use-session-passivation&gt;</span>true<span xmlns="" class="perl_Keyword">&lt;/use-session-passivation&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;passivation-min-idle-time&gt;</span>60<span xmlns="" class="perl_Keyword">&lt;/passivation-min-idle-time&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;passivation-max-idle-time&gt;</span>600<span xmlns="" class="perl_Keyword">&lt;/passivation-max-idle-time&gt;</span>
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">&lt;/passivation-config&gt;</span>
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;/jboss-web&gt;</span>
<span xmlns="" class="line">​</span>	  </pre></div></div><div class="variablelist"><p class="title"><strong>Passivation Configuration Elements</strong></p><dl class="variablelist"><dt><span class="term"><code class="sgmltag-element">&lt;max-active-sessions&gt;</code></span></dt><dd><div class="para">
					The maximum number of active sessions allowed. If the number of sessions managed by the session manager exceeds this value and passivation is enabled, the excess will be passivated based on the configured <code class="sgmltag-element">&lt;passivation-min-idle-time&gt;</code>. Then, if the number of active sessions still exceeds this limit, attempts to create new sessions will fail. The default value of <code class="literal">-1</code> sets no limit on the maximum number of active sessions.
				</div></dd><dt><span class="term"><code class="sgmltag-element">&lt;passivation-config&gt;</code></span></dt><dd><div class="para">
					This element holds the rest of the passivation configuration parameters, as child elements.
				</div></dd></dl></div><div class="variablelist"><p class="title"><strong><code class="sgmltag-element">&lt;passivation-config&gt;</code> Child Elements</strong></p><dl class="variablelist"><dt><span class="term"><code class="sgmltag-element">&lt;use-session-passivation&gt;</code></span></dt><dd><div class="para">
					Whether or not to use session passivation. The default value is <code class="literal">false</code>.
				</div></dd><dt><span class="term"><code class="sgmltag-element">&lt;passivation-min-idle-time&gt;</code></span></dt><dd><div class="para">
					The minimum time, in seconds, that a session must be inactive before the container will consider passivating it in order to reduce the active session count to conform to value defined by max-active-sessions. The default value of <code class="literal">-1</code> disables passivating sessions before <code class="sgmltag-element">&lt;passivation-max-idle-time&gt;</code> has elapsed. Neither a value of -1 nor a high value are recommended if <code class="sgmltag-element">&lt;max-active-sessions&gt;</code> is set.
				</div></dd><dt><span class="term"><code class="sgmltag-element">&lt;passivation-max-idle-time&gt;</code></span></dt><dd><div class="para">
					The maximum time, in seconds, that a session can be inactive before the container attempts to passivate it to save memory. Passivation of such sessions takes place regardless of whether the active session count exceeds <code class="sgmltag-element">&lt;max-active-sessions&gt;</code>. This value should be less than the <code class="sgmltag-element">&lt;session-timeout&gt;</code> setting in the <code class="filename">web.xml</code>. The default value of <code class="literal">-1</code> disables passivation based on maximum inactivity.
				</div></dd></dl></div><div xmlns:d="http://docbook.org/ns/docbook" class="note"><div class="admonition_header"><p><strong><code class="code">REPL</code> and <code class="code">DIST</code> Replication Modes</strong></p></div><div class="admonition"><div class="para">
			The total number of sessions in memory includes sessions replicated from other cluster nodes that are not being accessed on this node. Take this into account when setting <code class="sgmltag-element">&lt;max-active-sessions&gt;</code>. The number of sessions replicated from other nodes also depends on whether <code class="code">REPL</code> or <code class="code">DIST</code> cache mode is enabled. In <code class="code">REPL</code> cache mode, each session is replicated to each node. In <code class="code">DIST</code> cache mode, each session is replicated only to the number of nodes specified by the <code class="code">owners</code> parameter. See <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_the_Web_Session_Cache">Section&nbsp;9.1.2, “About the Web Session Cache”</a> and <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Configure_the_Web_Session_Cache">Section&nbsp;9.1.3, “Configure the Web Session Cache”</a> for information on configuring session cache modes.
		</div><div class="para">
			For example, consider an eight node cluster, where each node handles requests from 100 users. With <code class="code">REPL</code> cache mode, each node would store 800 sessions in memory. With <code class="code">DIST</code> cache mode enabled, and the default <code class="code">owners</code> setting of <code class="literal">2</code>, each node stores 200 sessions in memory.
		</div></div></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4690-706780+%5BLatest%5D&comment=Title%3A+Configure+HttpSession+Passivation+in+Your+Application%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4690-706780+05+Sep+2014+15%3A03+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="sect-Cookie_Domain">
      ⁠</a>9.3.&nbsp;Cookie Domain</h2></div></div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="About_the_Cookie_Domain">
      ⁠</a>9.3.1.&nbsp;About the Cookie Domain</h3></div></div></div><div class="para">
		The <em class="firstterm">cookie domain</em> refers to the set of hosts able to read a cookie from the client browser which is accessing your application. It is a configuration mechanism to minimize the risk of third parties accessing information your application stores in browser cookies.
	</div><div class="para">
		The default value for the cookie domain is <code class="literal">/</code>. This means that only the issuing host can read the contents of a cookie. Setting a specific cookie domain makes the contents of the cookie available to a wider range of hosts. To set the cookie domain, refer to <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Configure_the_Cookie_Domain">Section&nbsp;9.3.2, “Configure the Cookie Domain”</a>.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4697-591671+%5BLatest%5D&comment=Title%3A+About+the+Cookie+Domain%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4697-591671+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="Configure_the_Cookie_Domain">
      ⁠</a>9.3.2.&nbsp;Configure the Cookie Domain</h3></div></div></div><div class="para">
		To enable your SSO valve to share a SSO context, configure the cookie domain in the valve configuration. The following configuration would allow applications on <code class="literal">http://app1.xyz.com</code> and <code class="literal">http://app2.xyz.com</code> to share an SSO context, even if these applications run on different servers in a cluster or the virtual host with which they are associated has multiple aliases.
	</div><div class="example"><a id="idp19094912">
      ⁠</a><p class="title"><strong>Example&nbsp;9.4.&nbsp;Example Cookie Domain Configuration</strong></p><div class="example-contents"><pre class="programlisting XML"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;Valve</span><span xmlns="" class="perl_Others"> className=</span><span xmlns="" class="perl_String">"org.jboss.web.tomcat.service.sso.ClusteredSingleSignOn"</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Others">                 cookieDomain=</span><span xmlns="" class="perl_String">"xyz.com"</span> <span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span>	</pre></div></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4698-591671+%5BLatest%5D&comment=Title%3A+Configure+the+Cookie+Domain%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4698-591671+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="Implement_an_HA_Singleton">
      ⁠</a>9.4.&nbsp;Implement an HA Singleton</h2></div></div></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Summary</div>
			The following procedure demonstrates how to deploy of a Service that is wrapped with the SingletonService decorator and used as a cluster-wide singleton service. The service activates a scheduled timer, which is started only once in the cluster.
		</div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idp14025696">
      ⁠</a><p class="title"><strong>Procedure&nbsp;9.3.&nbsp;Implement an HA Singleton Service</strong></p><ol class="1"><li class="step"><p class="title"><strong>Write the HA singleton service application.</strong></p><div class="para">
				The following is a simple example of a <code class="classname">Service</code> that is wrapped with the <code class="classname">SingletonService</code> decorator to be deployed as a singleton service. A complete example can be found in the <code class="literal">cluster-ha-singleton</code> quickstart that ships with Red Hat JBoss Enterprise Application Platform 6. This quickstart contains all the instructions to build and deploy the application.
			</div><ol class="substeps a"><li class="step"><p class="title"><strong>Create a service.</strong></p><div class="para">
						The following listing is an example of a service: 
<pre class="programlisting JAVA"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>package org.<span xmlns="" class="perl_Function">jboss</span>.<span xmlns="" class="perl_Function">as</span>.<span xmlns="" class="perl_Function">quickstarts</span>.<span xmlns="" class="perl_Function">cluster</span>.<span xmlns="" class="perl_Function">hasingleton</span>.<span xmlns="" class="perl_Function">service</span>.<span xmlns="" class="perl_Function">ejb</span>;
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">import java.util.Date;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">import java.util.concurrent.atomic.AtomicBoolean;</span>
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">import javax.naming.InitialContext;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">import javax.naming.NamingException;</span>
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">import org.jboss.logging.Logger;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">import org.jboss.msc.service.Service;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">import org.jboss.msc.service.ServiceName;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">import org.jboss.msc.service.StartContext;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">import org.jboss.msc.service.StartException;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">import org.jboss.msc.service.StopContext;</span>
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">/**</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment"> * </span><span xmlns="" class="perl_Keyword">@author &lt;a</span><span xmlns="" class="perl_Others"> href=</span><span xmlns="" class="perl_String">"mailto:wfink@redhat.com"</span><span xmlns="" class="perl_Keyword">&gt;</span><span xmlns="" class="perl_Comment">Wolf-Dieter Fink</span><span xmlns="" class="perl_Keyword">&lt;/a&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment"> */</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_Keyword">class</span> HATimerService <span xmlns="" class="perl_Keyword">implements</span> Service&lt;String&gt; {
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">private</span> <span xmlns="" class="perl_DataType">static</span> <span xmlns="" class="perl_DataType">final</span> Logger LOGGER = Logger.<span xmlns="" class="perl_Function">getLogger</span>(HATimerService.<span xmlns="" class="perl_Function">class</span>);
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_DataType">static</span> <span xmlns="" class="perl_DataType">final</span> ServiceName SINGLETON_SERVICE_NAME = ServiceName.<span xmlns="" class="perl_Function">JBOSS</span>.<span xmlns="" class="perl_Function">append</span>(<span xmlns="" class="perl_String">"quickstart"</span>, <span xmlns="" class="perl_String">"ha"</span>, <span xmlns="" class="perl_String">"singleton"</span>, <span xmlns="" class="perl_String">"timer"</span>);
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Comment">/**</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">     * A flag whether the service is started.</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">     */</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">private</span> <span xmlns="" class="perl_DataType">final</span> AtomicBoolean started = <span xmlns="" class="perl_Keyword">new</span> AtomicBoolean(<span xmlns="" class="perl_Keyword">false</span>);
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Comment">/**</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">     * </span><span xmlns="" class="perl_Keyword">@return </span><span xmlns="" class="perl_Comment">the name of the server node</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">     */</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">public</span> String <span xmlns="" class="perl_Function">getValue</span>() <span xmlns="" class="perl_Keyword">throws</span> IllegalStateException, IllegalArgumentException {
<span xmlns="" class="line">​</span>        LOGGER.<span xmlns="" class="perl_Function">infof</span>(<span xmlns="" class="perl_String">"%s is %s at %s"</span>, HATimerService.<span xmlns="" class="perl_Function">class</span>.<span xmlns="" class="perl_Function">getSimpleName</span>(), (started.<span xmlns="" class="perl_Function">get</span>() ? <span xmlns="" class="perl_String">"started"</span> : <span xmlns="" class="perl_String">"not started"</span>), System.<span xmlns="" class="perl_Function">getProperty</span>(<span xmlns="" class="perl_String">"jboss.node.name"</span>));
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">return</span> <span xmlns="" class="perl_String">""</span>;
<span xmlns="" class="line">​</span>    }
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_DataType">void</span> <span xmlns="" class="perl_Function">start</span>(StartContext arg0) <span xmlns="" class="perl_Keyword">throws</span> StartException {
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">if</span> (!started.<span xmlns="" class="perl_Function">compareAndSet</span>(<span xmlns="" class="perl_Keyword">false</span>, <span xmlns="" class="perl_Keyword">true</span>)) {
<span xmlns="" class="line">​</span>            <span xmlns="" class="perl_Keyword">throw</span> <span xmlns="" class="perl_Keyword">new</span> <span xmlns="" class="perl_Function">StartException</span>(<span xmlns="" class="perl_String">"The service is still started!"</span>);
<span xmlns="" class="line">​</span>        }
<span xmlns="" class="line">​</span>        LOGGER.<span xmlns="" class="perl_Function">info</span>(<span xmlns="" class="perl_String">"Start HASingleton timer service '"</span> + <span xmlns="" class="perl_Keyword">this</span>.<span xmlns="" class="perl_Function">getClass</span>().<span xmlns="" class="perl_Function">getName</span>() + <span xmlns="" class="perl_String">"'"</span>);
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_DataType">final</span> String node = System.<span xmlns="" class="perl_Function">getProperty</span>(<span xmlns="" class="perl_String">"jboss.node.name"</span>);
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">try</span> {
<span xmlns="" class="line">​</span>            InitialContext ic = <span xmlns="" class="perl_Keyword">new</span> InitialContext();
<span xmlns="" class="line">​</span>            ((Scheduler) ic.<span xmlns="" class="perl_Function">lookup</span>(<span xmlns="" class="perl_String">"global/jboss-cluster-ha-singleton-service/SchedulerBean!org.jboss.as.quickstarts.cluster.hasingleton.service.ejb.Scheduler"</span>)).<span xmlns="" class="perl_Function">initialize</span>(<span xmlns="" class="perl_String">"HASingleton timer @"</span> + node + <span xmlns="" class="perl_String">" "</span> + <span xmlns="" class="perl_Keyword">new</span> Date());
<span xmlns="" class="line">​</span>        } <span xmlns="" class="perl_Keyword">catch</span> (NamingException e) {
<span xmlns="" class="line">​</span>            <span xmlns="" class="perl_Keyword">throw</span> <span xmlns="" class="perl_Keyword">new</span> <span xmlns="" class="perl_Function">StartException</span>(<span xmlns="" class="perl_String">"Could not initialize timer"</span>, e);
<span xmlns="" class="line">​</span>        }
<span xmlns="" class="line">​</span>    }
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_DataType">void</span> <span xmlns="" class="perl_Function">stop</span>(StopContext arg0) {
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">if</span> (!started.<span xmlns="" class="perl_Function">compareAndSet</span>(<span xmlns="" class="perl_Keyword">true</span>, <span xmlns="" class="perl_Keyword">false</span>)) {
<span xmlns="" class="line">​</span>            LOGGER.<span xmlns="" class="perl_Function">warn</span>(<span xmlns="" class="perl_String">"The service '"</span> + <span xmlns="" class="perl_Keyword">this</span>.<span xmlns="" class="perl_Function">getClass</span>().<span xmlns="" class="perl_Function">getName</span>() + <span xmlns="" class="perl_String">"' is not active!"</span>);
<span xmlns="" class="line">​</span>        } <span xmlns="" class="perl_Keyword">else</span> {
<span xmlns="" class="line">​</span>            LOGGER.<span xmlns="" class="perl_Function">info</span>(<span xmlns="" class="perl_String">"Stop HASingleton timer service '"</span> + <span xmlns="" class="perl_Keyword">this</span>.<span xmlns="" class="perl_Function">getClass</span>().<span xmlns="" class="perl_Function">getName</span>() + <span xmlns="" class="perl_String">"'"</span>);
<span xmlns="" class="line">​</span>            <span xmlns="" class="perl_Keyword">try</span> {
<span xmlns="" class="line">​</span>                InitialContext ic = <span xmlns="" class="perl_Keyword">new</span> InitialContext();
<span xmlns="" class="line">​</span>                ((Scheduler) ic.<span xmlns="" class="perl_Function">lookup</span>(<span xmlns="" class="perl_String">"global/jboss-cluster-ha-singleton-service/SchedulerBean!org.jboss.as.quickstarts.cluster.hasingleton.service.ejb.Scheduler"</span>)).<span xmlns="" class="perl_Function">stop</span>();
<span xmlns="" class="line">​</span>            } <span xmlns="" class="perl_Keyword">catch</span> (NamingException e) {
<span xmlns="" class="line">​</span>                LOGGER.<span xmlns="" class="perl_Function">error</span>(<span xmlns="" class="perl_String">"Could not stop timer"</span>, e);
<span xmlns="" class="line">​</span>            }
<span xmlns="" class="line">​</span>        }
<span xmlns="" class="line">​</span>    }
<span xmlns="" class="line">​</span>}</pre>

					</div></li><li class="step"><p class="title"><strong>Create an activator that installs the <code class="classname">Service</code> as a clustered singleton.</strong></p><div class="para">
						The following listing is an example of a Service activator that installs the <code class="classname">HATimerService</code> as a clustered singleton service: 
<pre class="programlisting JAVA"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>package org.<span xmlns="" class="perl_Function">jboss</span>.<span xmlns="" class="perl_Function">as</span>.<span xmlns="" class="perl_Function">quickstarts</span>.<span xmlns="" class="perl_Function">cluster</span>.<span xmlns="" class="perl_Function">hasingleton</span>.<span xmlns="" class="perl_Function">service</span>.<span xmlns="" class="perl_Function">ejb</span>;
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">import org.jboss.as.clustering.singleton.SingletonService;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">import org.jboss.logging.Logger;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">import org.jboss.msc.service.DelegatingServiceContainer;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">import org.jboss.msc.service.ServiceActivator;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">import org.jboss.msc.service.ServiceActivatorContext;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">import org.jboss.msc.service.ServiceController;</span>
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">/**</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment"> * Service activator that installs the HATimerService as a clustered singleton service</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment"> * during deployment.</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment"> *</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment"> * </span><span xmlns="" class="perl_Keyword">@author </span><span xmlns="" class="perl_Comment">Paul Ferraro</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment"> */</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_Keyword">class</span> HATimerServiceActivator <span xmlns="" class="perl_Keyword">implements</span> ServiceActivator {
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">private</span> <span xmlns="" class="perl_DataType">final</span> Logger log = Logger.<span xmlns="" class="perl_Function">getLogger</span>(<span xmlns="" class="perl_Keyword">this</span>.<span xmlns="" class="perl_Function">getClass</span>());
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>    @Override
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_DataType">void</span> <span xmlns="" class="perl_Function">activate</span>(ServiceActivatorContext context) {
<span xmlns="" class="line">​</span>        log.<span xmlns="" class="perl_Function">info</span>(<span xmlns="" class="perl_String">"HATimerService will be installed!"</span>);
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>        HATimerService service = <span xmlns="" class="perl_Keyword">new</span> <span xmlns="" class="perl_Function">HATimerService</span>();
<span xmlns="" class="line">​</span>        SingletonService&lt;String&gt; singleton = <span xmlns="" class="perl_Keyword">new</span> SingletonService&lt;String&gt;(service, HATimerService.<span xmlns="" class="perl_Function">SINGLETON_SERVICE_NAME</span>);
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Comment">/*</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">         * To pass a chain of election policies to the singleton, for example, </span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">         * to tell JGroups to prefer running the singleton on a node with a</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">         * particular name, uncomment the following line:</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">         */</span>
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Comment">// singleton.setElectionPolicy(new PreferredSingletonElectionPolicy(new SimpleSingletonElectionPolicy(), new NamePreference("node2/cluster")));</span>
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>        singleton.<span xmlns="" class="perl_Function">build</span>(<span xmlns="" class="perl_Keyword">new</span> <span xmlns="" class="perl_Function">DelegatingServiceContainer</span>(context.<span xmlns="" class="perl_Function">getServiceTarget</span>(), context.<span xmlns="" class="perl_Function">getServiceRegistry</span>()))
<span xmlns="" class="line">​</span>                .<span xmlns="" class="perl_Function">setInitialMode</span>(ServiceController.<span xmlns="" class="perl_Function">Mode</span>.<span xmlns="" class="perl_Function">ACTIVE</span>)
<span xmlns="" class="line">​</span>                .<span xmlns="" class="perl_Function">install</span>()
<span xmlns="" class="line">​</span>        ;
<span xmlns="" class="line">​</span>    }
<span xmlns="" class="line">​</span>}</pre>
						 <div class="note"><div class="admonition_header"><p><strong>Note</strong></p></div><div class="admonition"><div class="para">
								The above code example uses a class, <code class="code">org.jboss.as.clustering.singleton.SingletonService</code>, that is part of the JBoss EAP private API. A public API will become available in the EAP 7 release and the private class will be deprecated, but this classes will be maintained and available for the duration of the EAP 6.x release cycle.
							</div></div></div>

					</div></li><li class="step"><p class="title"><strong>Create a ServiceActivator File</strong></p><div class="para">
						Create a file named <code class="filename">org.jboss.msc.service.ServiceActivator</code> in the application's <code class="filename">resources/META-INF/services/</code> directory. Add a line containing the fully qualified name of the ServiceActivator class created in the previous step. 
<pre class="screen"><code class="code">org.jboss.as.quickstarts.cluster.hasingleton.service.ejb.HATimerServiceActivator </code></pre>

					</div></li><li class="step"><p class="title"><strong>Create a Singleton bean that implements a timer to be used as a cluster-wide singleton timer.</strong></p><div class="para">
						This Singleton bean must not have a remote interface and you must not reference its local interface from another EJB in any application. This prevents a lookup by a client or other component and ensures the SingletonService has total control of the Singleton.
					</div><ol class="substeps i"><li class="step"><p class="title"><strong>Create the Scheduler interface</strong></p><div class="para">
								
<pre class="programlisting JAVA"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>package org.<span xmlns="" class="perl_Function">jboss</span>.<span xmlns="" class="perl_Function">as</span>.<span xmlns="" class="perl_Function">quickstarts</span>.<span xmlns="" class="perl_Function">cluster</span>.<span xmlns="" class="perl_Function">hasingleton</span>.<span xmlns="" class="perl_Function">service</span>.<span xmlns="" class="perl_Function">ejb</span>;
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">/**</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment"> * </span><span xmlns="" class="perl_Keyword">@author &lt;a</span><span xmlns="" class="perl_Others"> href=</span><span xmlns="" class="perl_String">"mailto:wfink@redhat.com"</span><span xmlns="" class="perl_Keyword">&gt;</span><span xmlns="" class="perl_Comment">Wolf-Dieter Fink</span><span xmlns="" class="perl_Keyword">&lt;/a&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment"> */</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_Keyword">interface</span> Scheduler {
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_DataType">void</span> initialize(String info);
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_DataType">void</span> <span xmlns="" class="perl_Function">stop</span>();
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>} </pre>

							</div></li><li class="step"><p class="title"><strong>Create the Singleton bean that implements the cluster-wide singleton timer.</strong></p><div class="para">
								
<pre class="programlisting JAVA"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>package org.<span xmlns="" class="perl_Function">jboss</span>.<span xmlns="" class="perl_Function">as</span>.<span xmlns="" class="perl_Function">quickstarts</span>.<span xmlns="" class="perl_Function">cluster</span>.<span xmlns="" class="perl_Function">hasingleton</span>.<span xmlns="" class="perl_Function">service</span>.<span xmlns="" class="perl_Function">ejb</span>;
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">import javax.annotation.Resource;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">import javax.ejb.ScheduleExpression;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">import javax.ejb.Singleton;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">import javax.ejb.Timeout;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">import javax.ejb.Timer;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">import javax.ejb.TimerConfig;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">import javax.ejb.TimerService;</span>
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">import org.jboss.logging.Logger;</span>
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">/**</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment"> * A simple example to demonstrate a implementation of a cluster-wide singleton timer.</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment"> *</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment"> * </span><span xmlns="" class="perl_Keyword">@author &lt;a</span><span xmlns="" class="perl_Others"> href=</span><span xmlns="" class="perl_String">"mailto:wfink@redhat.com"</span><span xmlns="" class="perl_Keyword">&gt;</span><span xmlns="" class="perl_Comment">Wolf-Dieter Fink</span><span xmlns="" class="perl_Keyword">&lt;/a&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment"> */</span>
<span xmlns="" class="line">​</span>@Singleton
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_Keyword">class</span> SchedulerBean <span xmlns="" class="perl_Keyword">implements</span> Scheduler {
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">private</span> <span xmlns="" class="perl_DataType">static</span> Logger LOGGER = Logger.<span xmlns="" class="perl_Function">getLogger</span>(SchedulerBean.<span xmlns="" class="perl_Function">class</span>);
<span xmlns="" class="line">​</span>    @Resource
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">private</span> TimerService timerService;
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>    @Timeout
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_DataType">void</span> <span xmlns="" class="perl_Function">scheduler</span>(Timer timer) {
<span xmlns="" class="line">​</span>        LOGGER.<span xmlns="" class="perl_Function">info</span>(<span xmlns="" class="perl_String">"HASingletonTimer: Info="</span> + timer.<span xmlns="" class="perl_Function">getInfo</span>());
<span xmlns="" class="line">​</span>    }
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>    @Override
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_DataType">void</span> initialize(String info) {
<span xmlns="" class="line">​</span>        ScheduleExpression sexpr = <span xmlns="" class="perl_Keyword">new</span> <span xmlns="" class="perl_Function">ScheduleExpression</span>();
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Comment">// set schedule to every 10 seconds for demonstration</span>
<span xmlns="" class="line">​</span>        sexpr.<span xmlns="" class="perl_Function">hour</span>(<span xmlns="" class="perl_String">"*"</span>).<span xmlns="" class="perl_Function">minute</span>(<span xmlns="" class="perl_String">"*"</span>).<span xmlns="" class="perl_Function">second</span>(<span xmlns="" class="perl_String">"0/10"</span>);
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Comment">// persistent must be false because the timer is started by the HASingleton service</span>
<span xmlns="" class="line">​</span>        timerService.<span xmlns="" class="perl_Function">createCalendarTimer</span>(sexpr, <span xmlns="" class="perl_Keyword">new</span> <span xmlns="" class="perl_Function">TimerConfig</span>(info, <span xmlns="" class="perl_Keyword">false</span>));
<span xmlns="" class="line">​</span>    }
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>    @Override
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_DataType">void</span> <span xmlns="" class="perl_Function">stop</span>() {
<span xmlns="" class="line">​</span>        LOGGER.<span xmlns="" class="perl_Function">info</span>(<span xmlns="" class="perl_String">"Stop all existing HASingleton timers"</span>);
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">for</span> (Timer timer : timerService.<span xmlns="" class="perl_Function">getTimers</span>()) {
<span xmlns="" class="line">​</span>            LOGGER.<span xmlns="" class="perl_Function">trace</span>(<span xmlns="" class="perl_String">"Stop HASingleton timer: "</span> + timer.<span xmlns="" class="perl_Function">getInfo</span>());
<span xmlns="" class="line">​</span>            timer.<span xmlns="" class="perl_Function">cancel</span>();
<span xmlns="" class="line">​</span>        }
<span xmlns="" class="line">​</span>    }
<span xmlns="" class="line">​</span>}</pre>

							</div></li></ol></li></ol></li><li class="step"><p class="title"><strong>Start each JBoss EAP 6 instance with clustering enabled.</strong></p><div class="para">

			</div><div class="para">
				To enable clustering for standalone servers, you must start each server with the <code class="literal">HA</code> profile, using a unique node name and port offset for each instance.
			</div><ul class="stepalternatives">
				<li class="step"><div class="para">
						For Linux, use the following command syntax to start the servers:
					</div><div class="para">
						<pre class="synopsis"><em class="replaceable">EAP_HOME</em>/bin/standalone.sh --server-config=standalone-ha.xml -Djboss.node.name=<em class="replaceable">UNIQUE_NODE_NAME</em> -Djboss.socket.binding.port-offset=<em class="replaceable">PORT_OFFSET</em></pre> <div class="example"><a id="idp24677328">
      ⁠</a><p class="title"><strong>Example&nbsp;9.5.&nbsp;Start multiple standalone servers on Linux</strong></p><div class="example-contents"><pre class="screen"><code class="command">$ <em class="replaceable">EAP_HOME</em>/bin/standalone.sh --server-config=standalone-ha.xml -Djboss.node.name=node1</code>
<code class="command">$ <em class="replaceable">EAP_HOME</em>/bin/standalone.sh --server-config=standalone-ha.xml -Djboss.node.name=node2 -Djboss.socket.binding.port-offset=100</code></pre></div></div>

					</div></li>
				 <li class="step"><div class="para">
						For Microsoft Windows, use the following command syntax to start the servers:
					</div><pre class="synopsis"><em class="replaceable">EAP_HOME</em>\bin\standalone.bat --server-config=standalone-ha.xml -Djboss.node.name=<em class="replaceable">UNIQUE_NODE_NAME</em> -Djboss.socket.binding.port-offset=<em class="replaceable">PORT_OFFSET</em></pre><div class="example"><a id="idp22686672">
      ⁠</a><p class="title"><strong>Example&nbsp;9.6.&nbsp;Start multiple standalone servers on Microsoft Windows</strong></p><div class="example-contents"><pre class="screen"><code class="command">C:&gt; <em class="replaceable">EAP_HOME</em>\bin\standalone.bat --server-config=standalone-ha.xml -Djboss.node.name=node1</code>
<code class="command">C:&gt; <em class="replaceable">EAP_HOME</em>\bin\standalone.bat --server-config=standalone-ha.xml -Djboss.node.name=node2 -Djboss.socket.binding.port-offset=100</code></pre></div></div></li>

			</ul><div class="note"><div class="admonition_header"><p><strong>Note</strong></p></div><div class="admonition"><div class="para">
					If you prefer not to use command line arguments, you can configure the <code class="filename">standalone-ha.xml</code> file for each server instance to bind on a separate interface.
				</div></div></div></li><li class="step"><p class="title"><strong>Deploy the application to the servers</strong></p><div class="para">
				The following Maven command deploys the application to a standalone server running on the default ports.
			</div><div class="para">
				
<pre class="screen"><code class="command">mvn clean install jboss-as:deploy</code></pre>

			</div><div class="para">
				To deploy to additional servers, pass the server name. if it is on a different host, pass the host name and port number on the command line:
			</div><div class="para">
				
<pre class="screen"><code class="command">mvn clean package jboss-as:deploy -Djboss-as.hostname=localhost -Djboss-as.port=10099</code></pre>

			</div><div class="para">
				See the <code class="literal">cluster-ha-singleton</code> quickstart that ships with JBoss EAP 6 for Maven configuration and deployment details.
			</div></li></ol></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+9154-720999+%5BLatest%5D&comment=Title%3A+Implement+an+HA+Singleton%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=9154-720999+30+Oct+2014+13%3A44+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="sect-Apache_mod_cluster-manager_Application">
      ⁠</a>9.5.&nbsp;Apache mod_cluster-manager Application</h2></div></div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="About_mod_cluster-manager_Application">
      ⁠</a>9.5.1.&nbsp;About mod_cluster-manager Application</h3></div></div></div><div class="para">
		The mod_cluster-manager application is an administration web page which is available on Apache HTTP Server. It is used for monitoring the connected worker nodes and performing various administration tasks like enabling/disabling contexts and configuring the load-balancing properties of worker nodes in a cluster.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+31323-644221+%5BLatest%5D&comment=Title%3A+About+mod_cluster-manager+Application%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=31323-644221+27+May+2014+09%3A18+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="Exploring_mod_cluster-manager_Application">
      ⁠</a>9.5.2.&nbsp;Exploring mod_cluster-manager Application</h3></div></div></div><div class="para">
		The mod_cluster-manager application can be used for performing various administration tasks on worker nodes.
	</div><div class="para">
		The figure shown below represents the mod_cluster-manager application web page with annotations to highlight important components and administration options on the page.
	</div><div class="figure"><a id="idp29428272">
      ⁠</a><div class="figure-contents"><div class="mediaobject"><img src="./JBoss_6_3_files/5242.png" alt="Description"></div></div><p class="title"><strong>Figure&nbsp;9.1.&nbsp;mod_cluster Administration Web Page</strong></p></div><div class="para">
		The annotations are explained below:
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
				<span class="guilabel"><strong>[1] mod_cluster/1.2.8.Final</strong></span>: This denotes the version of the mod_cluster native library
			</div></li><li class="listitem"><div class="para">
				<span class="guilabel"><strong>[2] ajp://192.168.122.204:8099</strong></span>: This denotes the protocol used (either one of AJP, HTTP, HTTPS), hostname or IP address of the worker node and the port
			</div></li><li class="listitem"><div class="para">
				<span class="guilabel"><strong>[3] jboss-eap-6.3-2</strong></span>: This denotes the worker node's JVMRoute.
			</div></li><li class="listitem"><div class="para">
				<span class="guilabel"><strong>[4] Virtual Host 1</strong></span>: This denotes the virtual host(s) configured on the worker node
			</div></li><li class="listitem"><div class="para">
				<span class="guibutton"><strong>[5] Disable </strong></span>: This is an administration option which can be used to disable the creation of new sessions on the particular context. However the ongoing sessions do not get disabled and remain intact
			</div></li><li class="listitem"><div class="para">
				<span class="guibutton"><strong>[6] Stop </strong></span>: This is an administration option which can be used to stop the routing of session requests to the context. The remaining sessions will failover to another node unless the property <code class="literal">sticky-session-force</code> is set to "true"
			</div></li><li class="listitem"><div class="para">
				<span class="guibutton"><strong>[7] Enable Contexts Disable Contexts Stop Contexts</strong></span>: These denote operations which can be performed on the whole node. Selecting one of these options affects all the contexts of a node in all its virtual hosts.
			</div></li><li class="listitem"><div class="para">
				<span class="guilabel"><strong>[8] Load balancing group (LBGroup)</strong></span>: The <code class="literal">load-balancing-group</code> property is set in the mod_cluster subsystem in EAP configuration to group all worker nodes into custom load balancing groups. Load balancing group (LBGroup) is an informational field which gives information about all set load balancing groups. If this field is not set, then all worker nodes are grouped into a single default load balancing group 
				<div class="note"><div class="admonition_header"><p><strong>Note</strong></p></div><div class="admonition"><div class="para">
						This is only an informational field and thus cannot be used to set <code class="literal">load-balancing-group</code> property. The property has to be set in mod_cluster subsystem in EAP configuration.
					</div></div></div>

			</div></li><li class="listitem"><div class="para">
				<span class="guilabel"><strong>[9] Load (value)</strong></span>: This indicates the load factor on the worker node. The load factor(s) are evaluated as below: 
<pre class="programlisting"><code class="literal">-load &gt; 0 </code> : A load factor with value 1 indicates that the worker node is overloaded. A load factor of 100 denotes a free and not-loaded node.
<code class="literal">-load = 0 </code> :A load factor of value 0 indicates that the worker node is in a standby mode. This means that no session requests will be routed to this node until and unless the other worker nodes are unavailable
<code class="literal">-load = -1</code> : A load factor of value -1 indicates that the worker node is in an error state.
<code class="literal">-load = -2</code> : A load factor of value -2 indicates that the worker node is undergoing CPing/CPong and is in a transition state
</pre>

			</div></li></ul></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+31324-661207+%5BLatest%5D&comment=Title%3A+Exploring+mod_cluster-manager+Application%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=31324-661207+06+Jun+2014+14%3A07+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div></div></div><div xml:lang="en-US" class="chapter" lang="en-US"><div class="titlepage"><div><div><h1 class="title"><a id="chap-CDI">
      ⁠</a>Chapter&nbsp;10.&nbsp;CDI</h1></div></div></div><div class="toc"><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Overview_of_CDI">10.1. Overview of CDI</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Overview_of_CDI">10.1.1. Overview of CDI</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Contexts_and_Dependency_Injection_CDI">10.1.2. About Contexts and Dependency Injection (CDI)</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Benefits_of_CDI">10.1.3. Benefits of CDI</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Type-safe_Dependency_Injection">10.1.4. About Type-safe Dependency Injection</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Relationship_Between_Weld_Seam_2_and_JavaServer_Faces">10.1.5. Relationship Between Weld, Seam 2, and JavaServer Faces</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Use_CDI">10.2. Use CDI</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-First_Steps">10.2.1. First Steps</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Use_CDI_to_Develop_an_Application">10.2.2. Use CDI to Develop an Application</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Ambiguous_or_Unsatisfied_Dependencies">10.2.3. Ambiguous or Unsatisfied Dependencies</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Managed_Beans">10.2.4. Managed Beans</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Contexts_Scopes_and_Dependencies">10.2.5. Contexts, Scopes, and Dependencies</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Bean_Lifecycle">10.2.6. Bean Lifecycle</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Named_Beans_and_Alternative_Beans">10.2.7. Named Beans and Alternative Beans</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Stereotypes">10.2.8. Stereotypes</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Observer_Methods">10.2.9. Observer Methods</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Interceptors">10.2.10. Interceptors</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Decorators">10.2.11. About Decorators</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Portable_Extensions">10.2.12. About Portable Extensions</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Bean_Proxies">10.2.13. Bean Proxies</a></span></dt></dl></dd></dl></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="sect-Overview_of_CDI">
      ⁠</a>10.1.&nbsp;Overview of CDI</h2></div></div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="Overview_of_CDI">
      ⁠</a>10.1.1.&nbsp;Overview of CDI</h3></div></div></div><div class="para">
		<div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
					<a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Contexts_and_Dependency_Injection_CDI">Section&nbsp;10.1.2, “About Contexts and Dependency Injection (CDI)”</a>
				</div></li><li class="listitem"><div class="para">
					<a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Relationship_Between_Weld_Seam_2_and_JavaServer_Faces">Section&nbsp;10.1.5, “Relationship Between Weld, Seam 2, and JavaServer Faces”</a>
				</div></li><li class="listitem"><div class="para">
					<a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Benefits_of_CDI">Section&nbsp;10.1.3, “Benefits of CDI”</a>
				</div></li></ul></div>

	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4436-591662+%5BLatest%5D&comment=Title%3A+Overview+of+CDI%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4436-591662+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="About_Contexts_and_Dependency_Injection_CDI">
      ⁠</a>10.1.2.&nbsp;About Contexts and Dependency Injection (CDI)</h3></div></div></div><div class="para">
		Contexts and Dependency Injection (CDI) is a specification designed to enable EJB 3.0 components "to be used as Java Server Faces (JSF) managed beans, unifying the two component models and enabling a considerable simplification to the programming model for web-based applications in Java." The preceding quote is taken from the JSR-299 specification, which can be found at <a href="http://www.jcp.org/en/jsr/detail?id=299">http://www.jcp.org/en/jsr/detail?id=299</a>.
	</div><div class="para">
		JBoss EAP 6 includes Weld, which is the reference implementation of JSR-299. For more information, about type-safe dependency injection, see <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Type-safe_Dependency_Injection">Section&nbsp;10.1.4, “About Type-safe Dependency Injection”</a>.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4437-591662+%5BLatest%5D&comment=Title%3A+About+Contexts+and+Dependency+Injection+%28CDI%29%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4437-591662+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="Benefits_of_CDI">
      ⁠</a>10.1.3.&nbsp;Benefits of CDI</h3></div></div></div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
				CDI simplifies and shrinks your code base by replacing big chunks of code with annotations.
			</div></li><li class="listitem"><div class="para">
				CDI is flexible, allowing you to disable and enable injections and events, use alternative beans, and inject non-CDI objects easily.
			</div></li><li class="listitem"><div class="para">
				It is easy to use your old code with CDI. You only need to include a <code class="filename">beans.xml</code> in your <code class="filename">META-INF/</code> or <code class="filename">WEB-INF/</code> directory. The file can be empty.
			</div></li><li class="listitem"><div class="para">
				CDI simplifies packaging and deployments and reduces the amount of XML you need to add to your deployments.
			</div></li><li class="listitem"><div class="para">
				CDI provides lifecycle management via contexts. You can tie injections to requests, sessions, conversations, or custom contexts.
			</div></li><li class="listitem"><div class="para">
				CDI provides type-safe dependency injection, which is safer and easier to debug than string-based injection.
			</div></li><li class="listitem"><div class="para">
				CDI decouples interceptors from beans.
			</div></li><li class="listitem"><div class="para">
				CDI provides complex event notification.
			</div></li></ul></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4447-591664+%5BLatest%5D&comment=Title%3A+Benefits+of+CDI%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4447-591664+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="About_Type-safe_Dependency_Injection">
      ⁠</a>10.1.4.&nbsp;About Type-safe Dependency Injection</h3></div></div></div><div class="para">
		Before JSR-299 and CDI, the only way to inject dependencies in Java was to use strings. This was prone to errors. CDI introduces the ability to inject dependencies in a type-safe way.
	</div><div class="para">
		For more information about CDI, refer to <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Contexts_and_Dependency_Injection_CDI">Section&nbsp;10.1.2, “About Contexts and Dependency Injection (CDI)”</a>.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4438-591662+%5BLatest%5D&comment=Title%3A+About+Type-safe+Dependency+Injection%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4438-591662+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="Relationship_Between_Weld_Seam_2_and_JavaServer_Faces">
      ⁠</a>10.1.5.&nbsp;Relationship Between Weld, Seam 2, and JavaServer Faces</h3></div></div></div><div class="para">
		The goal of <em class="firstterm">Seam 2</em> was to unify Enterprise Java Beans (EJBs) and JavaServer Faces (JSF) managed beans.
	</div><div class="para">
		<em class="firstterm">JavaServer Faces (JSF)</em> implements JSR-314. It is an API for building server-side user interfaces. <em class="firstterm">JBoss Web Framework Kit</em> includes <em class="firstterm">RichFaces</em>, which is an implementation of JavaServer Faces and AJAX.
	</div><div class="para">
		<em class="firstterm">Weld</em> is the reference implementation of <em class="firstterm">Contexts and Dependency Injection (CDI)</em>, which is defined in JSR-299. Weld was inspired by Seam 2 and other dependency injection frameworks. Weld is included in JBoss EAP 6.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4445-591664+%5BLatest%5D&comment=Title%3A+Relationship+Between+Weld%2C+Seam+2%2C+and+JavaServer+Faces%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4445-591664+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="sect-Use_CDI">
      ⁠</a>10.2.&nbsp;Use CDI</h2></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="sect-First_Steps">
      ⁠</a>10.2.1.&nbsp;First Steps</h3></div></div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="Enable_CDI">
      ⁠</a>10.2.1.1.&nbsp;Enable CDI</h4></div></div></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Summary</div>
			Contexts and Dependency Injection (CDI) is one of the core technologies in JBoss EAP 6, and is enabled by default. If for some reason it is disabled and you need to enable it, follow this procedure.
		</div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idp41139232">
      ⁠</a><p class="title"><strong>Procedure&nbsp;10.1.&nbsp;Enable CDI in JBoss EAP 6</strong></p><ol class="1"><li class="step"><p class="title"><strong>Check to see if the CDI subsystem details are commented out of the configuration file.</strong></p><div class="para">
				A subsystem can be disabled by commenting out the relevant section of the <code class="filename">domain.xml</code> or <code class="filename">standalone.xml</code> configuration files, or by removing the relevant section altogether.
			</div><div class="para">
				To find the CDI subsystem in <code class="filename"><em class="replaceable">EAP_HOME</em>/domain/configuration/domain.xml</code> or <code class="filename"><em class="replaceable">EAP_HOME</em>/standalone/configuration/standalone.xml</code>, search them for the following string. If it exists, it is located inside the &lt;extensions&gt; section.
			</div><pre class="screen">&lt;extension module="org.jboss.as.weld"/&gt;</pre><div class="para">
				The following line must also be present in the profile you are using. Profiles are in individual &lt;profile&gt; elements within the &lt;profiles&gt; section.
			</div><pre class="screen">&lt;subsystem xmlns="urn:jboss:domain:weld:1.0"/&gt;</pre></li><li class="step"><p class="title"><strong>Before editing any files, stop JBoss EAP 6.</strong></p><div class="para">
				JBoss EAP 6 modifies the configuration files during the time it is running, so you must stop the server before you edit the configuration files directly.
			</div></li><li class="step"><p class="title"><strong>Edit the configuration file to restore the CDI subsystem.</strong></p><div class="para">
				If the CDI subsystem was commented out, remove the comments.
			</div><div class="para">
				If it was removed entirely, restore it by adding this line to the file in a new line directly above the &lt;/extensions&gt; tag:
			</div><pre class="screen">&lt;extension module="org.jboss.as.weld"/&gt;</pre></li><li class="step"><div class="para">
				You also need to add the following line to the relevant profile in the &lt;profiles&gt; section.
			</div><pre class="screen">&lt;subsystem xmlns="urn:jboss:domain:weld:1.0"/&gt;</pre></li><li class="step"><p class="title"><strong>Restart JBoss EAP 6.</strong></p><div class="para">
				Start JBoss EAP 6 with your updated configuration.
			</div></li></ol></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Result</div>
			JBoss EAP 6 starts with the CDI subsystem enabled.
		</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4451-591664+%5BLatest%5D&comment=Title%3A+Enable+CDI%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4451-591664+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="sect-Use_CDI_to_Develop_an_Application">
      ⁠</a>10.2.2.&nbsp;Use CDI to Develop an Application</h3></div></div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="Use_CDI_to_Develop_an_Application">
      ⁠</a>10.2.2.1.&nbsp;Use CDI to Develop an Application</h4></div></div></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Introduction</div>
			Contexts and Dependency Injection (CDI) gives you tremendous flexibility in developing applications, reusing code, adapting your code at deployment or run-time, and unit testing. JBoss EAP 6 includes Weld, the reference implementation of CDI. These tasks show you how to use CDI in your enterprise applications.
		</div><div class="para">
		<div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
					<a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Enable_CDI">Section&nbsp;10.2.1.1, “Enable CDI”</a>
				</div></li><li class="listitem"><div class="para">
					<a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Use_CDI_with_Existing_Code">Section&nbsp;10.2.2.2, “Use CDI with Existing Code”</a>
				</div></li><li class="listitem"><div class="para">
					<a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Exclude_Beans_From_the_Scanning_Process">Section&nbsp;10.2.2.3, “Exclude Beans From the Scanning Process”</a>
				</div></li><li class="listitem"><div class="para">
					<a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Use_an_Injection_to_Extend_an_Implementation">Section&nbsp;10.2.2.4, “Use an Injection to Extend an Implementation”</a>
				</div></li><li class="listitem"><div class="para">
					<a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Use_a_Qualifier_to_Resolve_an_Ambiguous_Injection">Section&nbsp;10.2.3.3, “Use a Qualifier to Resolve an Ambiguous Injection”</a>
				</div></li><li class="listitem"><div class="para">
					<a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Override_an_Injection_with_an_Alternative">Section&nbsp;10.2.7.4, “Override an Injection with an Alternative”</a>
				</div></li><li class="listitem"><div class="para">
					<a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Use_Named_Beans">Section&nbsp;10.2.7.2, “Use Named Beans”</a>
				</div></li><li class="listitem"><div class="para">
					<a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Manage_the_Lifecycle_of_a_Bean">Section&nbsp;10.2.6.1, “Manage the Lifecycle of a Bean”</a>
				</div></li><li class="listitem"><div class="para">
					<a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Use_a_Producer_Method">Section&nbsp;10.2.6.2, “Use a Producer Method”</a>
				</div></li><li class="listitem"><div class="para">
					<a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Use_Interceptors_with_CDI">Section&nbsp;10.2.10.2, “Use Interceptors with CDI”</a>
				</div></li><li class="listitem"><div class="para">
					<a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Use_Stereotypes">Section&nbsp;10.2.8.2, “Use Stereotypes”</a>
				</div></li><li class="listitem"><div class="para">
					<a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Fire_and_Observe_Events">Section&nbsp;10.2.9.2, “Fire and Observe Events”</a>
				</div></li></ul></div>

	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4454-591664+%5BLatest%5D&comment=Title%3A+Use+CDI+to+Develop+an+Application%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4454-591664+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="Use_CDI_with_Existing_Code">
      ⁠</a>10.2.2.2.&nbsp;Use CDI with Existing Code</h4></div></div></div><div class="para">
		Almost every concrete Java class that has a constructor with no parameters, or a constructor designated with the annotation @Inject, is a bean. The only thing you need to do before you can start injecting beans is create a file called <code class="filename">beans.xml</code> in the <code class="filename">META-INF/</code> or <code class="filename">WEB-INF/</code> directory of your archive. The file can be empty.
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idp99845360">
      ⁠</a><p class="title"><strong>Procedure&nbsp;10.2.&nbsp;Use legacy beans in CDI applications</strong></p><ol class="1"><li class="step"><p class="title"><strong>Package your beans into an archive.</strong></p><div class="para">
				Package your beans into a JAR or WAR archive.
			</div></li><li class="step"><p class="title"><strong>Include a <code class="filename">beans.xml</code> file in your archive.</strong></p><div class="para">
				Place a <code class="filename">beans.xml</code> file into your JAR archive's <code class="filename">META-INF/</code> or your WAR archive's <code class="filename">WEB-INF/</code> directory. The file can be empty.
			</div></li></ol></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Result:</div>
			You can use these beans with CDI. The container can create and destroy instances of your beans and associate them with a designated context, inject them into other beans, use them in EL expressions, specialize them with qualifier annotations, and add interceptors and decorators to them, without any modifications to your existing code. In some circumstances, you may need to add some annotations.
		</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4452-591664+%5BLatest%5D&comment=Title%3A+Use+CDI+with+Existing+Code%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4452-591664+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="Exclude_Beans_From_the_Scanning_Process">
      ⁠</a>10.2.2.3.&nbsp;Exclude Beans From the Scanning Process</h4></div></div></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Summary</div>
			One of the features of Weld, the JBoss EAP 6 implementation of CDI, is the ability to exclude classes in your archive from scanning, having container lifecycle events fired, and being deployed as beans. This is not part of the JSR-299 specification.
		</div><div class="example"><a id="idp93683744">
      ⁠</a><p class="title"><strong>Example&nbsp;10.1.&nbsp;Exclude packages from your bean</strong></p><div class="example-contents"><div class="para">
			The following example has several &lt;weld:exclude&gt; tags.
		</div><div xmlns:d="http://docbook.org/ns/docbook" class="orderedlist"><ol><li class="listitem"><div class="para">
					The first one excludes all Swing classes.
				</div></li><li class="listitem"><div class="para">
					The second excludes Google Web Toolkit classes if Google Web Toolkit is not installed.
				</div></li><li class="listitem"><div class="para">
					The third excludes classes which end in the string <code class="literal">Blether</code> (using a regular expression), if the system property <span class="property"> verbosity</span> is set to <code class="literal">low</code>.
				</div></li><li class="listitem"><div class="para">
					The fourth excludes Java Server Faces (JSF) classes if Wicket classes are present and the <span class="property"> viewlayer</span> system property is not set.
				</div></li></ol></div><pre class="programlisting XML"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;?xml</span> version="1.0" encoding="UTF-8"<span xmlns="" class="perl_Keyword">?&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;beans</span><span xmlns="" class="perl_Others"> xmlns=</span><span xmlns="" class="perl_String">"http://java.sun.com/xml/ns/javaee"</span> 
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Others">       xmlns:xsi=</span><span xmlns="" class="perl_String">"http://www.w3.org/2001/XMLSchema-instance"</span> 
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Others">       xmlns:weld=</span><span xmlns="" class="perl_String">"http://jboss.org/schema/weld/beans"</span> 
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Others">       xsi:schemaLocation=</span><span xmlns="" class="perl_String">"</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_String">          http://java.sun.com/xml/ns/javaee http://docs.jboss.org/cdi/beans_1_0.xsd</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_String">          http://jboss.org/schema/weld/beans http://jboss.org/schema/weld/beans_1_1.xsd"</span><span xmlns="" class="perl_Keyword">&gt;</span>
<span xmlns="" class="line">​</span>    
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;weld:scan&gt;</span>
<span xmlns="" class="line">​</span>      
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Comment">&lt;!-- Don't deploy the classes for the swing app! --&gt;</span>
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">&lt;weld:exclude</span><span xmlns="" class="perl_Others"> name=</span><span xmlns="" class="perl_String">"com.acme.swing.**"</span> <span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span>      
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Comment">&lt;!-- Don't include GWT support if GWT is not installed --&gt;</span>
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">&lt;weld:exclude</span><span xmlns="" class="perl_Others"> name=</span><span xmlns="" class="perl_String">"com.acme.gwt.**"</span><span xmlns="" class="perl_Keyword">&gt;</span>
<span xmlns="" class="line">​</span>            <span xmlns="" class="perl_Keyword">&lt;weld:if-class-available</span><span xmlns="" class="perl_Others"> name=</span><span xmlns="" class="perl_String">"!com.google.GWT"</span><span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">&lt;/weld:exclude&gt;</span>
<span xmlns="" class="line">​</span>        
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Comment">&lt;!--</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">            Exclude classes which end in Blether if the system property verbosity is set to low</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">            i.e.</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">              java ... -Dverbosity=low            </span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">        --&gt;</span>        
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">&lt;weld:exclude</span><span xmlns="" class="perl_Others"> pattern=</span><span xmlns="" class="perl_String">"^(.*)Blether$"</span><span xmlns="" class="perl_Keyword">&gt;</span>
<span xmlns="" class="line">​</span>            <span xmlns="" class="perl_Keyword">&lt;weld:if-system-property</span><span xmlns="" class="perl_Others"> name=</span><span xmlns="" class="perl_String">"verbosity"</span><span xmlns="" class="perl_Others"> value=</span><span xmlns="" class="perl_String">"low"</span><span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">&lt;/weld:exclude&gt;</span>
<span xmlns="" class="line">​</span>        
<span xmlns="" class="line">​</span>       <span xmlns="" class="perl_Comment">&lt;!--</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">             Don't include JSF support if Wicket classes are present, and the viewlayer system</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">             property is not set</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">        --&gt;</span>
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">&lt;weld:exclude</span><span xmlns="" class="perl_Others"> name=</span><span xmlns="" class="perl_String">"com.acme.jsf.**"</span><span xmlns="" class="perl_Keyword">&gt;</span>
<span xmlns="" class="line">​</span>            <span xmlns="" class="perl_Keyword">&lt;weld:if-class-available</span><span xmlns="" class="perl_Others"> name=</span><span xmlns="" class="perl_String">"org.apache.wicket.Wicket"</span><span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span>            <span xmlns="" class="perl_Keyword">&lt;weld:if-system-property</span><span xmlns="" class="perl_Others"> name=</span><span xmlns="" class="perl_String">"!viewlayer"</span><span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">&lt;/weld:exclude&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;/weld:scan&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;/beans&gt;</span>
</pre></div></div><div class="para">
		The formal specification of Weld-specific configuration options can be found at <a href="http://jboss.org/schema/weld/beans_1_1.xsd">http://jboss.org/schema/weld/beans_1_1.xsd</a>.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4453-591664+%5BLatest%5D&comment=Title%3A+Exclude+Beans+From+the+Scanning+Process%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4453-591664+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="Use_an_Injection_to_Extend_an_Implementation">
      ⁠</a>10.2.2.4.&nbsp;Use an Injection to Extend an Implementation</h4></div></div></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Summary</div>
			You can use an injection to add or change a feature of your existing code. This example shows you how to add a translation ability to an existing class. The translation is a hypothetical feature and the way it is implemented in the example is pseudo-code, and only provided for illustration.
		</div><div class="para">
		The example assumes you already have a Welcome class, which has a method <code class="code">buildPhrase</code>. The <code class="code">buildPhrase</code> method takes as an argument the name of a city, and outputs a phrase like "Welcome to Boston." Your goal is to create a version of the <code class="code">Welcome</code> class which can translate the greeting into a different language.
	</div><div class="example"><a id="idp23281200">
      ⁠</a><p class="title"><strong>Example&nbsp;10.2.&nbsp;Inject a <code class="code">Translator</code> Bean Into the <code class="code">Welcome</code> Class</strong></p><div class="example-contents"><div class="para">
			The following pseudo-code injects a hypothetical <code class="code">Translator</code> object into the <code class="code">Welcome</code> class. The <code class="code">Translator</code> object may be an EJB stateless bean or another type of bean, which can translate sentences from one language to another. In this instance, the <code class="code">Translator</code> is used to translate the entire greeting, without actually modifying the original <code class="code">Welcome</code> class at all. The <code class="code">Translator</code> is injected before the <code class="code">buildPhrase</code> method is implemented.
		</div><div class="para">
			The code sample below is an example Translating Welcome class.
		</div><pre class="programlisting JAVA"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_Keyword">class</span> TranslatingWelcome <span xmlns="" class="perl_Keyword">extends</span> Welcome {
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>    @Inject Translator translator;
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">public</span> String <span xmlns="" class="perl_Function">buildPhrase</span>(String city) {
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">return</span> translator.<span xmlns="" class="perl_Function">translate</span>(<span xmlns="" class="perl_String">"Welcome to "</span> + city + <span xmlns="" class="perl_String">"!"</span>);
<span xmlns="" class="line">​</span>    }
<span xmlns="" class="line">​</span>    ...
<span xmlns="" class="line">​</span>}
</pre></div></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4457-591664+%5BLatest%5D&comment=Title%3A+Use+an+Injection+to+Extend+an+Implementation%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4457-591664+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="sect-Ambiguous_or_Unsatisfied_Dependencies">
      ⁠</a>10.2.3.&nbsp;Ambiguous or Unsatisfied Dependencies</h3></div></div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="About_Ambiguous_or_Unsatisfied_Dependencies">
      ⁠</a>10.2.3.1.&nbsp;About Ambiguous or Unsatisfied Dependencies</h4></div></div></div><div class="para">
		Ambiguous dependencies exist when the container is unable to resolve an injection to exactly one bean.
	</div><div class="para">
		Unsatisfied dependencies exist when the container is unable to resolve an injection to any bean at all.
	</div><div class="para">
		The container takes the following steps to try to resolve dependencies:
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="orderedlist"><ol><li class="listitem"><div class="para">
				It resolves the qualifier annotations on all beans that implement the bean type of an injection point.
			</div></li><li class="listitem"><div class="para">
				It filters out disabled beans. Disabled beans are @Alternative beans which are not explicitly enabled.
			</div></li></ol></div><div class="para">
		In the event of an ambiguous or unsatisfied dependency, the container aborts deployment and throws an exception.
	</div><div class="para">
		To fix an ambiguous dependency, see <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Use_a_Qualifier_to_Resolve_an_Ambiguous_Injection">Section&nbsp;10.2.3.3, “Use a Qualifier to Resolve an Ambiguous Injection”</a>.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4477-591661+%5BLatest%5D&comment=Title%3A+About+Ambiguous+or+Unsatisfied+Dependencies%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4477-591661+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="About_Qualifiers">
      ⁠</a>10.2.3.2.&nbsp;About Qualifiers</h4></div></div></div><div class="para">
		A qualifier is an annotation which ties a bean to a bean type. It allows you to specify exactly which bean you mean to inject. Qualifiers have a retention and a target, which are defined as in the example below.
	</div><div class="example"><a id="idp23479616">
      ⁠</a><p class="title"><strong>Example&nbsp;10.3.&nbsp;Define the <code class="code">@Synchronous</code> and <code class="code">@Asynchronous</code> Qualifiers</strong></p><div class="example-contents"><pre class="programlisting JAVA"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>@Qualifier
<span xmlns="" class="line">​</span>@<span xmlns="" class="perl_Function">Retention</span>(RUNTIME)
<span xmlns="" class="line">​</span>@<span xmlns="" class="perl_Function">Target</span>({TYPE, METHOD, FIELD, PARAMETER})
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_Keyword">@interface</span> Synchronous {}
</pre><pre class="programlisting JAVA"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>@Qualifier
<span xmlns="" class="line">​</span>@<span xmlns="" class="perl_Function">Retention</span>(RUNTIME)
<span xmlns="" class="line">​</span>@<span xmlns="" class="perl_Function">Target</span>({TYPE, METHOD, FIELD, PARAMETER})
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_Keyword">@interface</span> Asynchronous {}
</pre></div></div><div class="example"><a id="idp6869568">
      ⁠</a><p class="title"><strong>Example&nbsp;10.4.&nbsp;Use the <code class="code">@Synchronous</code> and <code class="code">@Asynchronous</code> Qualifiers</strong></p><div class="example-contents"><pre class="programlisting JAVA"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>@Synchronous
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_Keyword">class</span> SynchronousPaymentProcessor <span xmlns="" class="perl_Keyword">implements</span> PaymentProcessor {
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_DataType">void</span> process(Payment payment) { <span xmlns="" class="perl_Keyword">... </span>}
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>}
</pre><pre class="programlisting JAVA"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>@Asynchronous
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_Keyword">class</span> AsynchronousPaymentProcessor <span xmlns="" class="perl_Keyword">implements</span> PaymentProcessor {
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_DataType">void</span> process(Payment payment) { <span xmlns="" class="perl_Keyword">... </span>}
<span xmlns="" class="line">​</span>}
</pre></div></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4478-591661+%5BLatest%5D&comment=Title%3A+About+Qualifiers%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4478-591661+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="Use_a_Qualifier_to_Resolve_an_Ambiguous_Injection">
      ⁠</a>10.2.3.3.&nbsp;Use a Qualifier to Resolve an Ambiguous Injection</h4></div></div></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Summary</div>
			This task shows an ambiguous injection and removes the ambiguity with a qualifier. Read more about ambiguous injections at <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Ambiguous_or_Unsatisfied_Dependencies">Section&nbsp;10.2.3.1, “About Ambiguous or Unsatisfied Dependencies”</a>.
		</div><div class="example"><a id="idp25248848">
      ⁠</a><p class="title"><strong>Example&nbsp;10.5.&nbsp;Ambiguous injection</strong></p><div class="example-contents"><div class="para">
			You have two implementations of <code class="classname">Welcome</code>, one which translates and one which does not. In that situation, the injection below is ambiguous and needs to be specified to use the translating <code class="classname">Welcome</code>.
		</div><pre class="programlisting JAVA"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_Keyword">class</span> Greeter {
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">private</span> Welcome welcome;
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>  @Inject
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_DataType">void</span> <span xmlns="" class="perl_Function">init</span>(Welcome welcome) {
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">this</span>.<span xmlns="" class="perl_Function">welcome</span> = welcome;
<span xmlns="" class="line">​</span>  }
<span xmlns="" class="line">​</span>  ...
<span xmlns="" class="line">​</span>}
</pre></div></div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idp23794288">
      ⁠</a><p class="title"><strong>Procedure&nbsp;10.3.&nbsp;Resolve an Ambiguous Injection with a Qualifier</strong></p><ol class="1"><li class="step"><p class="title"><strong>Create a qualifier annotation called <code class="literal">@Translating</code>.</strong></p><pre class="programlisting JAVA"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>@Qualifier
<span xmlns="" class="line">​</span>@<span xmlns="" class="perl_Function">Retention</span>(RUNTIME)
<span xmlns="" class="line">​</span>@<span xmlns="" class="perl_Function">Target</span>({TYPE,METHOD,FIELD,PARAMETERS})
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_Keyword">@interface</span> Translating{}
</pre></li><li class="step"><p class="title"><strong>Annotate your translating <code class="classname">Welcome</code> with the <code class="literal">@Translating</code> annotation.</strong></p><pre class="programlisting JAVA"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>@Translating
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_Keyword">class</span> TranslatingWelcome <span xmlns="" class="perl_Keyword">extends</span> Welcome {
<span xmlns="" class="line">​</span>    @Inject Translator translator;
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">public</span> String <span xmlns="" class="perl_Function">buildPhrase</span>(String city) {
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">return</span> translator.<span xmlns="" class="perl_Function">translate</span>(<span xmlns="" class="perl_String">"Welcome to "</span> + city + <span xmlns="" class="perl_String">"!"</span>);
<span xmlns="" class="line">​</span>    }
<span xmlns="" class="line">​</span>    ...
<span xmlns="" class="line">​</span>}
</pre></li><li class="step"><p class="title"><strong>Request the translating <code class="classname">Welcome</code> in your injection.</strong></p><div class="para">
				You must request a qualified implementation explicitly, similar to the factory method pattern. The ambiguity is resolved at the injection point.
			</div><pre class="programlisting JAVA"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_Keyword">class</span> Greeter {
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">private</span> Welcome welcome;
<span xmlns="" class="line">​</span>  @Inject
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_DataType">void</span> <span xmlns="" class="perl_Function">init</span>(@Translating Welcome welcome) {
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">this</span>.<span xmlns="" class="perl_Function">welcome</span> = welcome;
<span xmlns="" class="line">​</span>  } 
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_DataType">void</span> <span xmlns="" class="perl_Function">welcomeVisitors</span>() {
<span xmlns="" class="line">​</span>    System.<span xmlns="" class="perl_Function">out</span>.<span xmlns="" class="perl_Function">println</span>(welcome.<span xmlns="" class="perl_Function">buildPhrase</span>(<span xmlns="" class="perl_String">"San Francisco"</span>));
<span xmlns="" class="line">​</span>  }
<span xmlns="" class="line">​</span>}
</pre></li></ol></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Result</div>
			The <code class="literal">Translating</code><code class="classname">Welcome</code> is used, and there is no ambiguity.
		</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4458-591664+%5BLatest%5D&comment=Title%3A+Use+a+Qualifier+to+Resolve+an+Ambiguous+Injection%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4458-591664+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="sect-Managed_Beans">
      ⁠</a>10.2.4.&nbsp;Managed Beans</h3></div></div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="About_Managed_Beans">
      ⁠</a>10.2.4.1.&nbsp;About Managed Beans</h4></div></div></div><div class="para">
		Prior to Java EE 6, there was no clear definition of the term <em class="firstterm">bean</em> in the Java EE platform. There were several concepts referred to as beans in the Java EE specifications, including EJB beans and JSF managed beans. Third-party frameworks such as Spring and Seam introduced their own ideas of what defined a <code class="literal">bean</code>.
	</div><div class="para">
		Java EE 6 established a common definition in the Managed Beans specification. Managed Beans are defined as container-managed objects with minimal programming restrictions, otherwise known by the acronym POJO (Plain Old Java Object). They support a small set of basic services, such as resource injection, lifecycle callbacks and interceptors. Companion specifications, such as EJB and CDI, build on this basic model.
	</div><div class="para">
		With very few exceptions, almost every concrete Java class that has a constructor with no parameters (or a constructor designated with the annotation <code class="code">@Inject</code>) is a bean. This includes every JavaBean and every EJB session bean. The only requirement to enable the mentioned services in beans is that they reside in an archive (a JAR, or a Java EE module such as a WAR or EJB JAR) that contains a special marker file: <code class="filename">META-INF/beans.xml</code>.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4439-686949+%5BLatest%5D&comment=Title%3A+About+Managed+Beans%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4439-686949+22+Jul+2014+14%3A52+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="Types_of_Classes_That_are_Beans">
      ⁠</a>10.2.4.2.&nbsp;Types of Classes That are Beans</h4></div></div></div><div class="para">
		A managed bean is a Java class. The basic lifecycle and semantics of a managed bean are defined by the Managed Beans specification. You can explicitly declare a managed bean by annotating the bean class <code class="literal">@ManagedBean</code>, but in CDI you do not need to. According to the specification, the CDI container treats any class that satisfies the following conditions as a managed bean:
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
				It is not a non-static inner class.
			</div></li><li class="listitem"><div class="para">
				It is a concrete class, or is annotated <code class="literal">@Decorator</code>.
			</div></li><li class="listitem"><div class="para">
				It is not annotated with an EJB component-defining annotation or declared as an EJB bean class in <code class="filename">ejb-jar.xml</code>.
			</div></li><li class="listitem"><div class="para">
				It does not implement interface <code class="interfacename">javax.enterprise.inject.spi.Extension</code>.
			</div></li><li class="listitem"><div class="para">
				It has either a constructor with no parameters, or a constructor annotated with <code class="literal">@Inject</code>.
			</div></li></ul></div><div class="para">
		The unrestricted set of bean types for a managed bean contains the bean class, every superclass and all interfaces it implements directly or indirectly.
	</div><div class="para">
		If a managed bean has a public field, it must have the default scope @Dependent.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4482-591661+%5BLatest%5D&comment=Title%3A+Types+of+Classes+That+are+Beans%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4482-591661+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="Use_CDI_to_Inject_an_Object_Into_a_Bean">
      ⁠</a>10.2.4.3.&nbsp;Use CDI to Inject an Object Into a Bean</h4></div></div></div><div class="para">
		When your deployment archive includes a <code class="filename">META-INF/beans.xml</code> or <code class="filename">WEB-INF/beans.xml</code> file, each object in your deployment can be injected using CDI.
	</div><div class="para">
		This procedure introduces the main ways to inject objects into other objects.
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><ol class="1"><li class="step"><p class="title"><strong>Inject an object into any part of a bean with the <code class="literal">@Inject</code> annotation.</strong></p><div class="para">
				To obtain an instance of a class, within your bean, annotate the field with <code class="literal">@Inject</code>.
			</div><div class="example"><a id="idp32522656">
      ⁠</a><p class="title"><strong>Example&nbsp;10.6.&nbsp;Injecting a <code class="classname">TextTranslator</code> instance into a <code class="classname">TranslateController</code></strong></p><div class="example-contents"><pre class="programlisting JAVA"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_Keyword">class</span> TranslateController {
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>   @Inject TextTranslator textTranslator;
<span xmlns="" class="line">​</span>   ...
</pre></div></div></li><li class="step"><p class="title"><strong>Use your injected object's methods</strong></p><div class="para">
				You can use your injected object's methods directly. Assume that <code class="classname">TextTranslator</code> has a method <code class="methodname">translate</code>.
			</div><div class="example"><a id="idp93569328">
      ⁠</a><p class="title"><strong>Example&nbsp;10.7.&nbsp;Use your injected object's methods</strong></p><div class="example-contents"><pre class="programlisting JAVA"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">// in TranslateController class</span>
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_DataType">void</span> <span xmlns="" class="perl_Function">translate</span>() {
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>   translation = textTranslator.<span xmlns="" class="perl_Function">translate</span>(inputText); 
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>}
</pre></div></div></li><li class="step"><p class="title"><strong>Use injection in the constructor of a bean</strong></p><div class="para">
				You can inject objects into the constructor of a bean, as an alternative to using a factory or service locator to create them.
			</div><div class="example"><a id="idp99721504">
      ⁠</a><p class="title"><strong>Example&nbsp;10.8.&nbsp;Using injection in the constructor of a bean</strong></p><div class="example-contents"><pre class="programlisting JAVA"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_Keyword">class</span> TextTranslator {
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">private</span> SentenceParser sentenceParser;
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">private</span> Translator sentenceTranslator;
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>    
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>   @Inject
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Function">TextTranslator</span>(SentenceParser sentenceParser, Translator sentenceTranslator) {
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">this</span>.<span xmlns="" class="perl_Function">sentenceParser</span> = sentenceParser;
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">this</span>.<span xmlns="" class="perl_Function">sentenceTranslator</span> = sentenceTranslator;
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>   }
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Comment">// Methods of the TextTranslator class</span>
<span xmlns="" class="line">​</span>   ...
<span xmlns="" class="line">​</span>}
</pre></div></div></li><li class="step"><p class="title"><strong>Use the <code class="classname">Instance(&lt;T&gt;)</code> interface to get instances programmatically.</strong></p><div class="para">
				The <code class="classname">Instance</code> interface can return an instance of TextTranslator when parameterized with the bean type.
			</div><div class="example"><a id="idp88053904">
      ⁠</a><p class="title"><strong>Example&nbsp;10.9.&nbsp;Obtaining an instance programmatically</strong></p><div class="example-contents"><pre class="programlisting JAVA"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>@Inject Instance&lt;TextTranslator&gt; textTranslatorInstance;
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>...
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_DataType">void</span> <span xmlns="" class="perl_Function">translate</span>() {
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>   textTranslatorInstance.<span xmlns="" class="perl_Function">get</span>().<span xmlns="" class="perl_Function">translate</span>(inputText);
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>}
</pre></div></div></li></ol></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Result:</div>
			When you inject an object into a bean all of the object's methods and properties are available to your bean. If you inject into your bean's constructor, instances of the injected objects are created when your bean's constructor is called, unless the injection refers to an instance which already exists. For instance, a new instance would not be created if you inject a session-scoped bean during the lifetime of the session.
		</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4563-591666+%5BLatest%5D&comment=Title%3A+Use+CDI+to+Inject+an+Object+Into+a+Bean%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4563-591666+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="sect-Contexts_Scopes_and_Dependencies">
      ⁠</a>10.2.5.&nbsp;Contexts, Scopes, and Dependencies</h3></div></div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="Contexts_and_Scopes">
      ⁠</a>10.2.5.1.&nbsp;Contexts and Scopes</h4></div></div></div><div class="para">
		A context, in terms of CDI, is a storage area which holds instances of beans associated with a specific scope.
	</div><div class="para">
		A scope is the link between a bean and a context. A scope/context combination may have a specific lifecycle. Several pre-defined scopes exist, and you can create your own scopes. Examples of pre-defined scopes are <code class="literal">@RequestScoped</code>, <code class="literal">@SessionScoped</code>, and <code class="literal">@ConversationScope</code>.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4440-591662+%5BLatest%5D&comment=Title%3A+Contexts+and+Scopes%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4440-591662+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="Available_Contexts">
      ⁠</a>10.2.5.2.&nbsp;Available Contexts</h4></div></div></div><div class="table"><a id="idp19492832">
      ⁠</a><p class="title"><strong>Table&nbsp;10.1.&nbsp;Available contexts</strong></p><div class="table-contents"><table xmlns:d="http://docbook.org/ns/docbook" class="lt-4-cols lt-7-rows" summary="Available contexts"><colgroup><col width="50%" align="left" class="c1"><col width="50%" align="left" class="c2"></colgroup><thead><tr><th align="left"> Context </th><th align="left"> Description </th></tr></thead><tbody><tr><td align="left"> @Dependent </td><td align="left"> The bean is bound to the lifecycle of the bean holding the reference. </td></tr><tr><td align="left"> @ApplicationScoped </td><td align="left"> Bound to the lifecycle of the application. </td></tr><tr><td align="left"> @RequestScoped </td><td align="left"> Bound to the lifecycle of the request. </td></tr><tr><td align="left"> @SessionScoped </td><td align="left"> Bound to the lifecycle of the session. </td></tr><tr><td align="left"> @ConversationScoped </td><td align="left"> Bound to the lifecycle of the conversation. The conversation scope is between the lengths of the request and the session, and is controlled by the application. </td></tr><tr><td align="left"> Custom scopes </td><td align="left"> If the above contexts do not meet your needs, you can define custom scopes. </td></tr></tbody></table></div></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4484-591661+%5BLatest%5D&comment=Title%3A+Available+Contexts%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4484-591661+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="sect-Bean_Lifecycle">
      ⁠</a>10.2.6.&nbsp;Bean Lifecycle</h3></div></div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="Manage_the_Lifecycle_of_a_Bean">
      ⁠</a>10.2.6.1.&nbsp;Manage the Lifecycle of a Bean</h4></div></div></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Summary</div>
			This task shows you how to save a bean for the life of a request. Several other scopes exist, and you can define your own scopes.
		</div><div class="para">
		The default scope for an injected bean is <code class="literal">@Dependent</code>. This means that the bean's lifecycle is dependent upon the lifecycle of the bean which holds the reference. For more information, see <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Contexts_and_Scopes">Section&nbsp;10.2.5.1, “Contexts and Scopes”</a>.
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idp22818016">
      ⁠</a><p class="title"><strong>Procedure&nbsp;10.4.&nbsp;Manage Bean Lifecycles</strong></p><ol class="1"><li class="step"><p class="title"><strong>Annotate the bean with the scope corresponding to your desired scope.</strong></p><pre class="programlisting JAVA"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>@RequestScoped
<span xmlns="" class="line">​</span>@<span xmlns="" class="perl_Function">Named</span>(<span xmlns="" class="perl_String">"greeter"</span>)
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_Keyword">class</span> GreeterBean {
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">private</span> Welcome welcome;
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">private</span> String city; <span xmlns="" class="perl_Comment">// getter &amp; setter not shown</span>
<span xmlns="" class="line">​</span>  @Inject   <span xmlns="" class="perl_DataType">void</span> <span xmlns="" class="perl_Function">init</span>(Welcome welcome) {
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">this</span>.<span xmlns="" class="perl_Function">welcome</span> = welcome;
<span xmlns="" class="line">​</span>  }
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_DataType">void</span> <span xmlns="" class="perl_Function">welcomeVisitors</span>() {
<span xmlns="" class="line">​</span>    System.<span xmlns="" class="perl_Function">out</span>.<span xmlns="" class="perl_Function">println</span>(welcome.<span xmlns="" class="perl_Function">buildPhrase</span>(city));
<span xmlns="" class="line">​</span>  }
<span xmlns="" class="line">​</span>}
</pre></li><li class="step"><p class="title"><strong>When your bean is used in the JSF view, it holds state.</strong></p><pre class="programlisting XML"><span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;h:form&gt;</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">&lt;h:inputText</span><span xmlns="" class="perl_Others"> value=</span><span xmlns="" class="perl_String">"#{greeter.city}"</span><span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">&lt;h:commandButton</span><span xmlns="" class="perl_Others"> value=</span><span xmlns="" class="perl_String">"Welcome visitors"</span><span xmlns="" class="perl_Others"> action=</span><span xmlns="" class="perl_String">"#{greeter.welcomeVisitors}"</span><span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;/h:form&gt;</span></pre></li></ol></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Result:</div>
			Your bean is saved in the context relating to the scope that you specify, and lasts as long as the scope applies.
		</div><div class="para">
		<div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
					<a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Bean_Proxies">Section&nbsp;10.2.13.1, “About Bean Proxies”</a>
				</div></li><li class="listitem"><div class="para">
					<a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Use_a_Proxy_in_an_Injection">Section&nbsp;10.2.13.2, “Use a Proxy in an Injection”</a>
				</div></li></ul></div>

	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4462-591664+%5BLatest%5D&comment=Title%3A+Manage+the+Lifecycle+of+a+Bean%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4462-591664+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="Use_a_Producer_Method">
      ⁠</a>10.2.6.2.&nbsp;Use a Producer Method</h4></div></div></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Summary</div>
			This task shows how to use producer methods to produce a variety of different objects which are not beans for injection.
		</div><div class="example"><a id="idp32902496">
      ⁠</a><p class="title"><strong>Example&nbsp;10.10.&nbsp;Use a producer method instead of an alternative, to allow polymorphism after deployment</strong></p><div class="example-contents"><div class="para">
			The <code class="code">@Preferred</code> annotation in the example is a qualifier annotation. For more information about qualifiers, refer to: <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Qualifiers">Section&nbsp;10.2.3.2, “About Qualifiers”</a>.
		</div><pre class="programlisting JAVA"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>@SessionScoped
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_Keyword">class</span> Preferences <span xmlns="" class="perl_Keyword">implements</span> Serializable {
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">private</span> PaymentStrategyType paymentStrategy;
<span xmlns="" class="line">​</span>   ...
<span xmlns="" class="line">​</span>   @Produces @Preferred 
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">public</span> PaymentStrategy <span xmlns="" class="perl_Function">getPaymentStrategy</span>() {
<span xmlns="" class="line">​</span>       <span xmlns="" class="perl_Keyword">switch</span> (paymentStrategy) {
<span xmlns="" class="line">​</span>           <span xmlns="" class="perl_Keyword">case</span> CREDIT_CARD: <span xmlns="" class="perl_Keyword">return</span> <span xmlns="" class="perl_Keyword">new</span> <span xmlns="" class="perl_Function">CreditCardPaymentStrategy</span>();
<span xmlns="" class="line">​</span>           <span xmlns="" class="perl_Keyword">case</span> CHECK: <span xmlns="" class="perl_Keyword">return</span> <span xmlns="" class="perl_Keyword">new</span> <span xmlns="" class="perl_Function">CheckPaymentStrategy</span>();
<span xmlns="" class="line">​</span>           <span xmlns="" class="perl_Keyword">default</span>: <span xmlns="" class="perl_Keyword">return</span> <span xmlns="" class="perl_Keyword">null</span>;
<span xmlns="" class="line">​</span>       } 
<span xmlns="" class="line">​</span>   }
<span xmlns="" class="line">​</span>}
</pre><div class="para">
			The following injection point has the same type and qualifier annotations as the producer method, so it resolves to the producer method using the usual CDI injection rules. The producer method is called by the container to obtain an instance to service this injection point.
		</div><pre class="programlisting JAVA"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>@Inject @Preferred PaymentStrategy paymentStrategy;
</pre></div></div><div class="example"><a id="idp22256464">
      ⁠</a><p class="title"><strong>Example&nbsp;10.11.&nbsp;Assign a scope to a producer method</strong></p><div class="example-contents"><div class="para">
			The default scope of a producer method is <code class="code">@Dependent</code>. If you assign a scope to a bean, it is bound to the appropriate context. The producer method in this example is only called once per session.
		</div><pre class="programlisting JAVA"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>@Produces @Preferred @SessionScoped
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">public</span> PaymentStrategy <span xmlns="" class="perl_Function">getPaymentStrategy</span>() {
<span xmlns="" class="line">​</span>   ...
<span xmlns="" class="line">​</span>}
</pre></div></div><div class="example"><a id="idp18789184">
      ⁠</a><p class="title"><strong>Example&nbsp;10.12.&nbsp;Use an injection inside a producer method</strong></p><div class="example-contents"><div class="para">
			Objects instantiated directly by an application cannot take advantage of dependency injection and do not have interceptors. However, you can use dependency injection into the producer method to obtain bean instances.
		</div><pre class="programlisting JAVA"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>@Produces @Preferred @SessionScoped
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">public</span> PaymentStrategy <span xmlns="" class="perl_Function">getPaymentStrategy</span>(CreditCardPaymentStrategy ccps,
<span xmlns="" class="line">​</span>                                          CheckPaymentStrategy cps ) {
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">switch</span> (paymentStrategy) {
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">case</span> CREDIT_CARD: <span xmlns="" class="perl_Keyword">return</span> ccps;
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">case</span> CHEQUE: <span xmlns="" class="perl_Keyword">return</span> cps;
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">default</span>: <span xmlns="" class="perl_Keyword">return</span> <span xmlns="" class="perl_Keyword">null</span>;
<span xmlns="" class="line">​</span>   } 
<span xmlns="" class="line">​</span>}
<span xmlns="" class="line">​</span>
</pre><div class="para">
			If you inject a request-scoped bean into a session-scoped producer, the producer method promotes the current request-scoped instance into session scope. This is almost certainly not the desired behavior, so use caution when you use a producer method in this way.
		</div></div></div><div xmlns:d="http://docbook.org/ns/docbook" class="note"><div class="admonition_header"><p><strong>Note</strong></p></div><div class="admonition"><div class="para">
			The scope of the producer method is not inherited from the bean that declares the producer method.
		</div></div></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Result</div>
			Producer methods allow you to inject non-bean objects and change your code dynamically.
		</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4463-591664+%5BLatest%5D&comment=Title%3A+Use+a+Producer+Method%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4463-591664+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="sect-Named_Beans_and_Alternative_Beans">
      ⁠</a>10.2.7.&nbsp;Named Beans and Alternative Beans</h3></div></div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="About_Named_Beans">
      ⁠</a>10.2.7.1.&nbsp;About Named Beans</h4></div></div></div><div class="para">
		A bean is named by using the <code class="literal">@Named</code> annotation. Naming a bean allows you to use it directly in Java Server Faces (JSF).
	</div><div class="para">
		The <code class="literal">@Named</code> annotation takes an optional parameter, which is the bean name. If this parameter is omitted, the lower-cased bean name is used as the name.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4480-591661+%5BLatest%5D&comment=Title%3A+About+Named+Beans%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4480-591661+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="Use_Named_Beans">
      ⁠</a>10.2.7.2.&nbsp;Use Named Beans</h4></div></div></div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><ol class="1"><li class="step"><p class="title"><strong>Use the <code class="literal">@Named</code> annotation to assign a name to a bean.</strong></p><pre class="programlisting JAVA"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>@<span xmlns="" class="perl_Function">Named</span>(<span xmlns="" class="perl_String">"greeter"</span>)
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_Keyword">class</span> GreeterBean {
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">private</span> Welcome welcome;
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>  @Inject
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_DataType">void</span> <span xmlns="" class="perl_Function">init</span> (Welcome welcome) {
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">this</span>.<span xmlns="" class="perl_Function">welcome</span> = welcome;
<span xmlns="" class="line">​</span>  }
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_DataType">void</span> <span xmlns="" class="perl_Function">welcomeVisitors</span>() {
<span xmlns="" class="line">​</span>    System.<span xmlns="" class="perl_Function">out</span>.<span xmlns="" class="perl_Function">println</span>(welcome.<span xmlns="" class="perl_Function">buildPhrase</span>(<span xmlns="" class="perl_String">"San Francisco"</span>));
<span xmlns="" class="line">​</span>  }
<span xmlns="" class="line">​</span>}
</pre><div class="para">
				The bean name itself is optional. If it is omitted, the bean is named after the class name, with the first letter decapitalized. In the example above, the default name would be <code class="literal">greeterBean</code>.
			</div></li><li class="step"><p class="title"><strong>Use the named bean in a JSF view.</strong></p><pre class="programlisting XML"><span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;h:form&gt;</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">&lt;h:commandButton</span><span xmlns="" class="perl_Others"> value=</span><span xmlns="" class="perl_String">"Welcome visitors"</span><span xmlns="" class="perl_Others"> action=</span><span xmlns="" class="perl_String">"#{greeter.welcomeVisitors}"</span><span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;/h:form&gt;</span></pre></li></ol></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Result:</div>
			Your named bean is assigned as an action to the control in your JSF view, with a minimum of coding.
		</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4461-591664+%5BLatest%5D&comment=Title%3A+Use+Named+Beans%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4461-591664+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="About_Alternative_Beans">
      ⁠</a>10.2.7.3.&nbsp;About Alternative Beans</h4></div></div></div><div class="para">
		Alternatives are beans whose implementation is specific to a particular client module or deployment scenario.
	</div><div class="example"><a id="idp24062160">
      ⁠</a><p class="title"><strong>Example&nbsp;10.13.&nbsp;Defining Alternatives</strong></p><div class="example-contents"><div class="para">
			This alternative defines a mock implementation of both @Synchronous PaymentProcessor and @Asynchronous PaymentProcessor, all in one:
		</div><pre class="programlisting JAVA"><span xmlns="" class="line">​</span>@Alternative @Synchronous @Asynchronous
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_Keyword">class</span> MockPaymentProcessor <span xmlns="" class="perl_Keyword">implements</span> PaymentProcessor {
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_DataType">void</span> process(Payment payment) { <span xmlns="" class="perl_Keyword">... </span>}
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>}
</pre></div></div><div class="para">
		By default, @Alternative beans are disabled. They are enabled for a specific bean archive by editing its <code class="filename">beans.xml</code> file.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4479-591661+%5BLatest%5D&comment=Title%3A+About+Alternative+Beans%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4479-591661+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="Override_an_Injection_with_an_Alternative">
      ⁠</a>10.2.7.4.&nbsp;Override an Injection with an Alternative</h4></div></div></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Summary</div>
			Alternative beans let you override existing beans. They can be thought of as a way to plug in a class which fills the same role, but functions differently. They are disabled by default. This task shows you how to specify and enable an alternative.
		</div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idp40116976">
      ⁠</a><p class="title"><strong>Procedure&nbsp;10.5.&nbsp;Override an Injection</strong></p><div class="para">
			This task assumes that you already have a <code class="classname">TranslatingWelcome</code> class in your project, but you want to override it with a "mock" TranslatingWelcome class. This would be the case for a test deployment, where the true Translator bean cannot be used.
		</div><ol class="1"><li class="step"><p class="title"><strong>Define the alternative.</strong></p><pre class="programlisting JAVA"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>@Alternative
<span xmlns="" class="line">​</span>@Translating 
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_Keyword">class</span> MockTranslatingWelcome <span xmlns="" class="perl_Keyword">extends</span> Welcome {
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">public</span> String <span xmlns="" class="perl_Function">buildPhrase</span>(string city) {
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">return</span> <span xmlns="" class="perl_String">"Bienvenue Ã&nbsp; "</span> + city + <span xmlns="" class="perl_String">"!"</span>);
<span xmlns="" class="line">​</span>  }
<span xmlns="" class="line">​</span>}
</pre></li><li class="step"><p class="title"><strong>Substitute the alternative.</strong></p><div class="para">
				To activate the substitute implementation, add the fully-qualified class name to your <code class="filename">META-INF/beans.xml</code> or <code class="filename">WEB-INF/beans.xml</code> file.
			</div><pre class="programlisting XML"><span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;beans&gt;</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">&lt;alternatives&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;class&gt;</span>com.acme.MockTranslatingWelcome<span xmlns="" class="perl_Keyword">&lt;/class&gt;</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">&lt;/alternatives&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;/beans&gt;</span></pre></li></ol></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Result</div>
			The alternative implementation is now used instead of the original one.
		</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4460-591664+%5BLatest%5D&comment=Title%3A+Override+an+Injection+with+an+Alternative%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4460-591664+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="sect-Stereotypes">
      ⁠</a>10.2.8.&nbsp;Stereotypes</h3></div></div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="About_Stereotypes">
      ⁠</a>10.2.8.1.&nbsp;About Stereotypes</h4></div></div></div><div class="para">
		In many systems, use of architectural patterns produces a set of recurring bean roles. A stereotype allows you to identify such a role and declare some common metadata for beans with that role in a central place.
	</div><div class="para">
		A stereotype encapsulates any combination of:
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
				default scope
			</div></li><li class="listitem"><div class="para">
				a set of interceptor bindings
			</div></li></ul></div><div class="para">
		A stereotype may also specify either of these two scenarios:
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
				all beans with the stereotype have defaulted bean EL names
			</div></li><li class="listitem"><div class="para">
				all beans with the stereotype are alternatives
			</div></li></ul></div><div class="para">
		A bean may declare zero, one or multiple stereotypes. Stereotype annotations may be applied to a bean class or producer method or field.
	</div><div class="para">
		A stereotype is an annotation, annotated @Stereotype, that packages several other annotations.
	</div><div class="para">
		A class that inherits a scope from a stereotype may override that stereotype and specify a scope directly on the bean.
	</div><div class="para">
		In addition, if a stereotype has a <code class="literal">@Named</code> annotation, any bean it is placed on has a default bean name. The bean may override this name if the @Named annotation is specified directly on the bean. For more information about named beans, see <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Named_Beans">Section&nbsp;10.2.7.1, “About Named Beans”</a>.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4481-591661+%5BLatest%5D&comment=Title%3A+About+Stereotypes%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4481-591661+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="Use_Stereotypes">
      ⁠</a>10.2.8.2.&nbsp;Use Stereotypes</h4></div></div></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Summary</div>
			Without stereotypes, annotations can become cluttered. This task shows you how to use stereotypes to reduce the clutter and streamline your code. For more information about what stereotypes are, see <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Stereotypes">Section&nbsp;10.2.8.1, “About Stereotypes”</a>.
		</div><div class="example"><a id="idp14618160">
      ⁠</a><p class="title"><strong>Example&nbsp;10.14.&nbsp;Annotation clutter</strong></p><div class="example-contents"><pre class="programlisting JAVA"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>@Secure
<span xmlns="" class="line">​</span>@Transactional
<span xmlns="" class="line">​</span>@RequestScoped
<span xmlns="" class="line">​</span>@Named
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_Keyword">class</span> AccountManager {
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_DataType">boolean</span> <span xmlns="" class="perl_Function">transfer</span>(Account a, Account b) {
<span xmlns="" class="line">​</span>    ...
<span xmlns="" class="line">​</span>  }
<span xmlns="" class="line">​</span>}
</pre></div></div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idp24759328">
      ⁠</a><p class="title"><strong>Procedure&nbsp;10.6.&nbsp;Define and Use Stereotypes</strong></p><ol class="1"><li class="step"><p class="title"><strong>Define the stereotype,</strong></p><pre class="programlisting JAVA"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>@Secure
<span xmlns="" class="line">​</span>@Transactional
<span xmlns="" class="line">​</span>@RequestScoped
<span xmlns="" class="line">​</span>@Named
<span xmlns="" class="line">​</span>@Stereotype
<span xmlns="" class="line">​</span>@<span xmlns="" class="perl_Function">Retention</span>(RUNTIME)
<span xmlns="" class="line">​</span>@<span xmlns="" class="perl_Function">Target</span>(TYPE)
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_Keyword">@interface</span> BusinessComponent {
<span xmlns="" class="line">​</span> ...
<span xmlns="" class="line">​</span>}
</pre></li><li class="step"><p class="title"><strong>Use the stereotype.</strong></p><pre class="programlisting JAVA"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>@BusinessComponent
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_Keyword">class</span> AccountManager {
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_DataType">boolean</span> <span xmlns="" class="perl_Function">transfer</span>(Account a, Account b) {
<span xmlns="" class="line">​</span>    ...
<span xmlns="" class="line">​</span>  }
<span xmlns="" class="line">​</span>}
</pre></li></ol></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Result:</div>
			Stereotypes streamline and simplify your code.
		</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4465-591664+%5BLatest%5D&comment=Title%3A+Use+Stereotypes%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4465-591664+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="sect-Observer_Methods">
      ⁠</a>10.2.9.&nbsp;Observer Methods</h3></div></div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="About_Observer_Methods">
      ⁠</a>10.2.9.1.&nbsp;About Observer Methods</h4></div></div></div><div class="para">
		<em class="firstterm">Observer methods</em> receive notifications when events occur.
	</div><div class="para">
		CDI provides <em class="firstterm">transactional observer methods</em>, which receive event notifications during the <em class="firstterm">before completion</em> or <em class="firstterm">after completion</em> phase of the transaction in which the event was fired.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4441-591662+%5BLatest%5D&comment=Title%3A+About+Observer+Methods%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4441-591662+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="Fire_and_Observe_Events">
      ⁠</a>10.2.9.2.&nbsp;Fire and Observe Events</h4></div></div></div><div class="example"><a id="idp2465536">
      ⁠</a><p class="title"><strong>Example&nbsp;10.15.&nbsp;Fire an event</strong></p><div class="example-contents"><div class="para">
			This code shows an event being injected and used in a method.
		</div><pre class="programlisting JAVA"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_Keyword">class</span> AccountManager {
<span xmlns="" class="line">​</span>  @Inject Event&lt;Withdrawal&gt; event;
<span xmlns="" class="line">​</span>  
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_DataType">boolean</span> <span xmlns="" class="perl_Function">transfer</span>(Account a, Account b) {
<span xmlns="" class="line">​</span>    ...
<span xmlns="" class="line">​</span>    event.<span xmlns="" class="perl_Function">fire</span>(<span xmlns="" class="perl_Keyword">new</span> <span xmlns="" class="perl_Function">Withdrawal</span>(a));
<span xmlns="" class="line">​</span>  }
<span xmlns="" class="line">​</span>}
</pre></div></div><div class="example"><a id="idm943520">
      ⁠</a><p class="title"><strong>Example&nbsp;10.16.&nbsp;Fire an event with a qualifier</strong></p><div class="example-contents"><div class="para">
			You can annotate your event injection with a qualifier, to make it more specific. For more information about qualifiers, see <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Qualifiers">Section&nbsp;10.2.3.2, “About Qualifiers”</a>.
		</div><pre class="programlisting JAVA"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_Keyword">class</span> AccountManager {
<span xmlns="" class="line">​</span>  @Inject @Suspicious Event &lt;Withdrawal&gt; event;
<span xmlns="" class="line">​</span>  
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_DataType">boolean</span> <span xmlns="" class="perl_Function">transfer</span>(Account a, Account b) {
<span xmlns="" class="line">​</span>    ...
<span xmlns="" class="line">​</span>    event.<span xmlns="" class="perl_Function">fire</span>(<span xmlns="" class="perl_Keyword">new</span> <span xmlns="" class="perl_Function">Withdrawal</span>(a));
<span xmlns="" class="line">​</span>  }
<span xmlns="" class="line">​</span>}
</pre></div></div><div class="example"><a id="idp18934304">
      ⁠</a><p class="title"><strong>Example&nbsp;10.17.&nbsp;Observe an event</strong></p><div class="example-contents"><div class="para">
			To observe an event, use the <code class="literal">@Observes</code> annotation.
		</div><pre class="programlisting JAVA"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_Keyword">class</span> AccountObserver {
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_DataType">void</span> <span xmlns="" class="perl_Function">checkTran</span>(@Observes Withdrawal w) {
<span xmlns="" class="line">​</span>    ...
<span xmlns="" class="line">​</span>  }
<span xmlns="" class="line">​</span>}
</pre></div></div><div class="example"><a id="idp29272016">
      ⁠</a><p class="title"><strong>Example&nbsp;10.18.&nbsp;Observe a qualified event</strong></p><div class="example-contents"><div class="para">
			You can use qualifiers to observe only specific types of events. For more information about qualifiers, see <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Qualifiers">Section&nbsp;10.2.3.2, “About Qualifiers”</a>.
		</div><pre class="programlisting JAVA"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_Keyword">class</span> AccountObserver {
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_DataType">void</span> <span xmlns="" class="perl_Function">checkTran</span>(@Observes @Suspicious Withdrawal w) {
<span xmlns="" class="line">​</span>    ...
<span xmlns="" class="line">​</span>  }
<span xmlns="" class="line">​</span>}
</pre></div></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4466-591664+%5BLatest%5D&comment=Title%3A+Fire+and+Observe+Events%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4466-591664+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="sect-Interceptors">
      ⁠</a>10.2.10.&nbsp;Interceptors</h3></div></div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="About_Interceptors">
      ⁠</a>10.2.10.1.&nbsp;About Interceptors</h4></div></div></div><div class="para">
		Interceptors are defined as part of the Enterprise JavaBeans specification, which can be found at <a href="http://jcp.org/aboutJava/communityprocess/final/jsr318/">http://jcp.org/aboutJava/communityprocess/final/jsr318/</a>. Interceptors allow you to add functionality to the business methods of a bean without modifying the bean's method directly. The interceptor is executed before any of the business methods of the bean.
	</div><div class="para">
		CDI enhances this functionality by allowing you to use annotations to bind interceptors to beans.
	</div><div class="variablelist"><p class="title"><strong>Interception points</strong></p><dl class="variablelist"><dt><span class="term">business method interception</span></dt><dd><div class="para">
					A business method interceptor applies to invocations of methods of the bean by clients of the bean.
				</div></dd><dt><span class="term">lifecycle callback interception</span></dt><dd><div class="para">
					A lifecycle callback interceptor applies to invocations of lifecycle callbacks by the container.
				</div></dd><dt><span class="term">timeout method interception</span></dt><dd><div class="para">
					A timeout method interceptor applies to invocations of the EJB timeout methods by the container.
				</div></dd></dl></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4442-591662+%5BLatest%5D&comment=Title%3A+About+Interceptors%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4442-591662+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="Use_Interceptors_with_CDI">
      ⁠</a>10.2.10.2.&nbsp;Use Interceptors with CDI</h4></div></div></div><div class="example"><a id="idp22037840">
      ⁠</a><p class="title"><strong>Example&nbsp;10.19.&nbsp;Interceptors without CDI</strong></p><div class="example-contents"><div class="para">
			Without CDI, interceptors have two problems.
		</div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
					The bean must specify the interceptor implementation directly.
				</div></li><li class="listitem"><div class="para">
					Every bean in the application must specify the full set of interceptors in the correct order. This makes adding or removing interceptors on an application-wide basis time-consuming and error-prone.
				</div></li></ul></div><pre class="programlisting JAVA"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>@<span xmlns="" class="perl_Function">Interceptors</span>({
<span xmlns="" class="line">​</span>  SecurityInterceptor.<span xmlns="" class="perl_Function">class</span>,
<span xmlns="" class="line">​</span>  TransactionInterceptor.<span xmlns="" class="perl_Function">class</span>,
<span xmlns="" class="line">​</span>  LoggingInterceptor.<span xmlns="" class="perl_Function">class</span>
<span xmlns="" class="line">​</span>})
<span xmlns="" class="line">​</span>@Stateful <span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_Keyword">class</span> BusinessComponent {
<span xmlns="" class="line">​</span>  ...
<span xmlns="" class="line">​</span>}
<span xmlns="" class="line">​</span>
</pre></div></div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idp13204224">
      ⁠</a><p class="title"><strong>Procedure&nbsp;10.7.&nbsp;Use interceptors with CDI</strong></p><ol class="1"><li class="step"><p class="title"><strong>Define the interceptor binding type.</strong></p><pre class="programlisting JAVA"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>@InterceptorBinding
<span xmlns="" class="line">​</span>@<span xmlns="" class="perl_Function">Retention</span>(RUNTIME)
<span xmlns="" class="line">​</span>@<span xmlns="" class="perl_Function">Target</span>({TYPE, METHOD})
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_Keyword">@interface</span> Secure {}
</pre></li><li class="step"><p class="title"><strong>Mark the interceptor implementation.</strong></p><pre class="programlisting JAVA"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>@Secure
<span xmlns="" class="line">​</span>@Interceptor
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_Keyword">class</span> SecurityInterceptor {
<span xmlns="" class="line">​</span>  @AroundInvoke
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">public</span> Object <span xmlns="" class="perl_Function">aroundInvoke</span>(InvocationContext ctx) <span xmlns="" class="perl_Keyword">throws</span> Exception {
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Comment">// enforce security ...</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">return</span> ctx.<span xmlns="" class="perl_Function">proceed</span>();
<span xmlns="" class="line">​</span>    }
<span xmlns="" class="line">​</span>}
</pre></li><li class="step"><p class="title"><strong>Use the interceptor in your business code.</strong></p><pre class="programlisting JAVA"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>@Secure
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_Keyword">class</span> AccountManager {
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_DataType">boolean</span> <span xmlns="" class="perl_Function">transfer</span>(Account a, Account b) {
<span xmlns="" class="line">​</span>    ...
<span xmlns="" class="line">​</span>  }
<span xmlns="" class="line">​</span>}
</pre></li><li class="step"><p class="title"><strong>Enable the interceptor in your deployment, by adding it to <code class="filename">META-INF/beans.xml</code> or <code class="filename">WEB-INF/beans.xml</code>.</strong></p><pre class="programlisting XML"><span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;beans&gt;</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">&lt;interceptors&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;class&gt;</span>com.acme.SecurityInterceptor<span xmlns="" class="perl_Keyword">&lt;/class&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;class&gt;</span>com.acme.TransactionInterceptor<span xmlns="" class="perl_Keyword">&lt;/class&gt;</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">&lt;/interceptors&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;/beans&gt;</span></pre><div class="para">
				The interceptors are applied in the order listed.
			</div></li></ol></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Result:</div>
			CDI simplifies your interceptor code and makes it easier to apply to your business code.
		</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4464-591664+%5BLatest%5D&comment=Title%3A+Use+Interceptors+with+CDI%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4464-591664+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="About_Decorators">
      ⁠</a>10.2.11.&nbsp;About Decorators</h3></div></div></div><div class="para">
		A decorator intercepts invocations from a specific Java interface, and is aware of all the semantics attached to that interface. Decorators are useful for modeling some kinds of business concerns, but do not have the generality of interceptors. They are a bean, or even an abstract class, that implements the type it decorates, and are annotated with <code class="code">@Decorator</code>.
	</div><div class="example"><a id="idp32439808">
      ⁠</a><p class="title"><strong>Example&nbsp;10.20.&nbsp;Example Decorator</strong></p><div class="example-contents"><pre class="programlisting">@Decorator

public abstract class LargeTransactionDecorator

      implements Account {

   @Inject @Delegate @Any Account account;

   @PersistenceContext EntityManager em;

   public void withdraw(BigDecimal amount) {

      ...

   }
    
   public void deposit(BigDecimal amount);

      ...

   }

}</pre></div></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4443-591664+%5BLatest%5D&comment=Title%3A+About+Decorators%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4443-591664+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="About_Portable_Extensions">
      ⁠</a>10.2.12.&nbsp;About Portable Extensions</h3></div></div></div><div class="para">
		CDI is intended to be a foundation for frameworks, extensions and integration with other technologies. Therefore, CDI exposes a set of SPIs for the use of developers of portable extensions to CDI. Extensions can provide the following types of functionality:
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
				integration with Business Process Management engines
			</div></li><li class="listitem"><div class="para">
				integration with third-party frameworks such as Spring, Seam, GWT or Wicket
			</div></li><li class="listitem"><div class="para">
				new technology based upon the CDI programming model
			</div></li></ul></div><div class="para">
		According to the JSR-299 specification, a portable extension may integrate with the container in the following ways:
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
				Providing its own beans, interceptors and decorators to the container
			</div></li><li class="listitem"><div class="para">
				Injecting dependencies into its own objects using the dependency injection service
			</div></li><li class="listitem"><div class="para">
				Providing a context implementation for a custom scope
			</div></li><li class="listitem"><div class="para">
				Augmenting or overriding the annotation-based metadata with metadata from some other source
			</div></li></ul></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4444-591664+%5BLatest%5D&comment=Title%3A+About+Portable+Extensions%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4444-591664+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="sect-Bean_Proxies">
      ⁠</a>10.2.13.&nbsp;Bean Proxies</h3></div></div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="About_Bean_Proxies">
      ⁠</a>10.2.13.1.&nbsp;About Bean Proxies</h4></div></div></div><div class="para">
		A proxy is a subclass of a bean, which is generated at runtime. It is injected at bean creation time, and dependent scoped beans can be injected from it, because the lifecycles of the dependent beans are tied to proxy. Proxies are used as a substitute for dependency injection, and solve two different problems.
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><p class="title"><strong>Problems of dependency injection, which are solved by using proxies</strong></p><ul><li class="listitem"><div class="para">
				Performance - Proxies are much faster than dependency injection, so you can use them in beans which need good performance.
			</div></li><li class="listitem"><div class="para">
				Thread safety - Proxies forward requests to the correct bean instance, even when multiple threads access a bean at the same time. Dependency injection does not guarantee thread safety.
			</div></li></ul></div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><p class="title"><strong>Types of classes that cannot be proxied</strong></p><ul><li class="listitem"><div class="para">
				Primitive types or array types
			</div></li><li class="listitem"><div class="para">
				Classes that are <code class="code">final</code> or have <code class="code">final</code> methods
			</div></li><li class="listitem"><div class="para">
				Classes which have a non-private default constructor
			</div></li></ul></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4584-591669+%5BLatest%5D&comment=Title%3A+About+Bean+Proxies%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4584-591669+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="Use_a_Proxy_in_an_Injection">
      ⁠</a>10.2.13.2.&nbsp;Use a Proxy in an Injection</h4></div></div></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Overview</div>
			A proxy is used for injection when the lifecycles of the beans are different from each other. The proxy is a subclass of the bean that is created at run-time, and overrides all the non-private methods of the bean class. The proxy forwards the invocation onto the actual bean instance.
		</div><div class="para">
		In this example, the <code class="code">PaymentProcessor</code> instance is not injected directly into <code class="code">Shop</code>. Instead, a proxy is injected, and when the <code class="code">processPayment()</code> method is called, the proxy looks up the current <code class="code">PaymentProcessor</code> bean instance and calls the <code class="code">processPayment()</code> method on it.
	</div><div class="example"><a id="idp1700112">
      ⁠</a><p class="title"><strong>Example&nbsp;10.21.&nbsp;Proxy Injection</strong></p><div class="example-contents"><pre class="programlisting Java"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>@ConversationScoped
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">class</span> PaymentProcessor
<span xmlns="" class="line">​</span>{
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_DataType">void</span> <span xmlns="" class="perl_Function">processPayment</span>(<span xmlns="" class="perl_DataType">int</span> amount)
<span xmlns="" class="line">​</span>  {
<span xmlns="" class="line">​</span>    System.<span xmlns="" class="perl_Function">out</span>.<span xmlns="" class="perl_Function">println</span>(<span xmlns="" class="perl_String">"I'm taking $"</span> + amount);
<span xmlns="" class="line">​</span>  }
<span xmlns="" class="line">​</span>}
<span xmlns="" class="line">​</span> 
<span xmlns="" class="line">​</span>@ApplicationScoped
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_Keyword">class</span> Shop
<span xmlns="" class="line">​</span>{
<span xmlns="" class="line">​</span> 
<span xmlns="" class="line">​</span>  @Inject
<span xmlns="" class="line">​</span>  PaymentProcessor paymentProcessor; 
<span xmlns="" class="line">​</span> 
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_DataType">void</span> <span xmlns="" class="perl_Function">buyStuff</span>()
<span xmlns="" class="line">​</span>  {
<span xmlns="" class="line">​</span>    paymentProcessor.<span xmlns="" class="perl_Function">processPayment</span>(<span xmlns="" class="perl_Float">100</span>);
<span xmlns="" class="line">​</span>  }
<span xmlns="" class="line">​</span>}
<span xmlns="" class="line">​</span>	</pre></div></div><div class="para">
		Fore more information about proxies, including which types of classes can be proxied, refer to <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Bean_Proxies">Section&nbsp;10.2.13.1, “About Bean Proxies”</a>.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4585-591669+%5BLatest%5D&comment=Title%3A+Use+a+Proxy+in+an+Injection%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4585-591669+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div></div></div></div><div xml:lang="en-US" class="chapter" lang="en-US"><div class="titlepage"><div><div><h1 class="title"><a id="chap-Java_Transaction_API_JTA">
      ⁠</a>Chapter&nbsp;11.&nbsp;Java Transaction API (JTA)</h1></div></div></div><div class="toc"><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Overview1">11.1. Overview</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Overview_of_Java_Transactions_API_JTA">11.1.1. Overview of Java Transactions API (JTA)</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Transaction_Concepts">11.2. Transaction Concepts</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Transactions">11.2.1. About Transactions</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_ACID_Properties_for_Transactions">11.2.2. About ACID Properties for Transactions</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_the_Transaction_Coordinator_or_Transaction_Manager">11.2.3. About the Transaction Coordinator or Transaction Manager</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Transaction_Participants">11.2.4. About Transaction Participants</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Java_Transactions_API_JTA1">11.2.5. About Java Transactions API (JTA)</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Java_Transaction_Service_JTS">11.2.6. About Java Transaction Service (JTS)</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_XA_Datasources_and_XA_Transactions">11.2.7. About XA Datasources and XA Transactions</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_XA_Recovery">11.2.8. About XA Recovery</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_the_2-Phase_Commit_Protocol">11.2.9. About the 2-Phase Commit Protocol</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Transaction_Timeouts">11.2.10. About Transaction Timeouts</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Distributed_Transactions">11.2.11. About Distributed Transactions</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_the_ORB_Portability_API">11.2.12. About the ORB Portability API</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Nested_Transactions">11.2.13. About Nested Transactions</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Transaction_Optimizations">11.3. Transaction Optimizations</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Overview_of_Transaction_Optimizations">11.3.1. Overview of Transaction Optimizations</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-About_the_LRCO_Optimization_for_Single-phase_Commit_1PC">11.3.2. About the LRCO Optimization for Single-phase Commit (1PC)</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_the_Presumed-Abort_Optimization">11.3.3. About the Presumed-Abort Optimization</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_the_Read-Only_Optimization">11.3.4. About the Read-Only Optimization</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Transaction_Outcomes">11.4. Transaction Outcomes</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Transaction_Outcomes">11.4.1. About Transaction Outcomes</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Transaction_Commit">11.4.2. About Transaction Commit</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Transaction_Roll-Back">11.4.3. About Transaction Roll-Back</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Heuristic_Outcomes">11.4.4. About Heuristic Outcomes</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#JBoss_Transactions_Errors_and_Exceptions">11.4.5. JBoss Transactions Errors and Exceptions</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Overview_of_JTA_Transactions">11.5. Overview of JTA Transactions</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Java_Transactions_API_JTA">11.5.1. About Java Transactions API (JTA)</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Lifecycle_of_a_JTA_Transaction">11.5.2. Lifecycle of a JTA Transaction</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Transaction_Subsystem_Configuration">11.6. Transaction Subsystem Configuration</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Transactions_Configuration_Overview1">11.6.1. Transactions Configuration Overview</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Transactional_Datasource_Configuration">11.6.2. Transactional Datasource Configuration</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Transaction_Logging">11.6.3. Transaction Logging</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Use_JTA_Transactions">11.7. Use JTA Transactions</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Transactions_JTA_Task_Overview">11.7.1. Transactions JTA Task Overview</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Control_JTA_Transactions">11.7.2. Control Transactions</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Begin_a_JTA_Transaction">11.7.3. Begin a Transaction</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Nest_Transactions">11.7.4. Nested Transactions</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Commit_a_JTA_Transaction">11.7.5. Commit a Transaction</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Roll_Back_a_JTA_Transaction">11.7.6. Roll Back a Transaction</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Handle_a_Heuristic_Outcome_in_a_JTA_Transaction">11.7.7. Handle a Heuristic Outcome in a Transaction</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Transaction_Timeouts">11.7.8. Transaction Timeouts</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-JTA_Transaction_Error_Handling">11.7.9. JTA Transaction Error Handling</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-ORB_Configuration">11.8. ORB Configuration</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#CORBA">11.8.1. About Common Object Request Broker Architecture (CORBA)</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Configure_the_ORB_for_JTS_Transactions">11.8.2. Configure the ORB for JTS Transactions</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Transaction_References">11.9. Transaction References</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#JBoss_Transactions_Errors_and_Exceptions1">11.9.1. JBoss Transactions Errors and Exceptions</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#JTA_Clustering_Limitations1">11.9.2. Limitations on JTA Transactions</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#JTA_Transaction_Example">11.9.3. JTA Transaction Example</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#API_Documentation_for_JBoss_Transactions_JTA">11.9.4. API Documentation for JBoss Transactions JTA</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Limitations_of_the_XA_Recovery_Process">11.9.5. Limitations of the XA Recovery Process</a></span></dt></dl></dd></dl></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="sect-Overview1">
      ⁠</a>11.1.&nbsp;Overview</h2></div></div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="Overview_of_Java_Transactions_API_JTA">
      ⁠</a>11.1.1.&nbsp;Overview of Java Transactions API (JTA)</h3></div></div></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Introduction</div>
			These topics provide a foundational understanding of the Java Transactions API (JTA).
		</div><div class="para">
		<div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
					<a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Java_Transactions_API_JTA1">Section&nbsp;11.2.5, “About Java Transactions API (JTA)”</a>
				</div></li><li class="listitem"><div class="para">
					<a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Lifecycle_of_a_JTA_Transaction">Section&nbsp;11.5.2, “Lifecycle of a JTA Transaction”</a>
				</div></li><li class="listitem"><div class="para">
					<a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#JTA_Transaction_Example">Section&nbsp;11.9.3, “JTA Transaction Example”</a>
				</div></li></ul></div>

	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4377-591665+%5BLatest%5D&comment=Title%3A+Overview+of+Java+Transactions+API+%28JTA%29%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4377-591665+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="sect-Transaction_Concepts">
      ⁠</a>11.2.&nbsp;Transaction Concepts</h2></div></div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="About_Transactions">
      ⁠</a>11.2.1.&nbsp;About Transactions</h3></div></div></div><div class="para">
		A transaction consists of two or more actions which must either all succeed or all fail. A successful outcome is a commit, and a failed outcome is a roll-back. In a roll-back, each member's state is reverted to its state before the transaction attempted to commit.
	</div><div class="para">
		The typical standard for a well-designed transaction is that it is <em class="firstterm">Atomic, Consistent, Isolated, and Durable (ACID)</em>.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4268-591658+%5BLatest%5D&comment=Title%3A+About+Transactions%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4268-591658+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="About_ACID_Properties_for_Transactions">
      ⁠</a>11.2.2.&nbsp;About ACID Properties for Transactions</h3></div></div></div><div class="para">
		ACID is an acronym which stands for <code class="literal">Atomicity</code>, <code class="literal">Consistency</code>, <code class="literal">Isolation</code>, and <code class="literal">Durability</code>. This terminology is usually used in the context of databases or transactional operations.
	</div><div class="variablelist"><p class="title"><strong>ACID Definitions</strong></p><dl class="variablelist"><dt><span class="term">Atomicity</span></dt><dd><div class="para">
					For a transaction to be atomic, all transaction members must make the same decision. Either they all commit, or they all roll back. If atomicity is broken, what results is termed a <em class="firstterm">heuristic outcome.</em>
				</div></dd><dt><span class="term">Consistency</span></dt><dd><div class="para">
					Consistency means that data written to the database is guaranteed to be valid data, in terms of the database schema. The database or other data source must always be in a consistent state. One example of an inconsistent state would be a field in which half of the data is written before an operation aborts. A consistent state would be if all the data were written, or the write were rolled back when it could not be completed.
				</div></dd><dt><span class="term">Isolation</span></dt><dd><div class="para">
					Isolation means that data being operated on by a transaction must be locked before modification, to prevent processes outside the scope of the transaction from modifying the data.
				</div></dd><dt><span class="term">Durability</span></dt><dd><div class="para">
					Durability means that in the event of an external failure after transaction members have been instructed to commit, all members will be able to continue committing the transaction when the failure is resolved. This failure may be related to hardware, software, network, or any other involved system.
				</div></dd></dl></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4271-591658+%5BLatest%5D&comment=Title%3A+About+ACID+Properties+for+Transactions%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4271-591658+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="About_the_Transaction_Coordinator_or_Transaction_Manager">
      ⁠</a>11.2.3.&nbsp;About the Transaction Coordinator or Transaction Manager</h3></div></div></div><div class="para">
		The terms <em class="firstterm">Transaction Coordinator</em> and <em class="firstterm">Transaction Manager</em> are mostly interchangeable in terms of transactions with JBoss EAP 6. The term Transaction Coordinator is usually used in the context of distributed transactions.
	</div><div class="para">
		In JTA transactions, The <em class="firstterm">Transaction Manager</em> runs within JBoss EAP 6 and communicates with transaction participants during the <em class="firstterm">two-phase commit</em> protocol.
	</div><div class="para">
		The Transaction Manager tells transaction participants whether to commit or roll back their data, depending on the outcome of other transaction participants. In this way, it ensures that transactions adhere to the ACID standard.
	</div><div class="para">
		In JTS transactions, the Transaction Coordinator manages interactions between transaction managers on different servers.
	</div><div class="para">
		<div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
					<a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Transaction_Participants">Section&nbsp;11.2.4, “About Transaction Participants”</a>
				</div></li><li class="listitem"><div class="para">
					<a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_ACID_Properties_for_Transactions">Section&nbsp;11.2.2, “About ACID Properties for Transactions”</a>
				</div></li><li class="listitem"><div class="para">
					<a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_the_2-Phase_Commit_Protocol">Section&nbsp;11.2.9, “About the 2-Phase Commit Protocol”</a>
				</div></li></ul></div>

	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4269-591658+%5BLatest%5D&comment=Title%3A+About+the+Transaction+Coordinator+or+Transaction+Manager%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4269-591658+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="About_Transaction_Participants">
      ⁠</a>11.2.4.&nbsp;About Transaction Participants</h3></div></div></div><div class="para">
		A transaction participant is any process within a transaction, which has the ability to commit or roll back state. This may be a database or other application. Each participant of a transaction independently decides whether it is able to commit or roll back its state, and only if all participants can commit, does the transaction as a whole succeed. Otherwise, each participant rolls back its state, and the transaction as a whole fails. The Transaction Manager coordinates the commit or rollback operations and determines the outcome of the transaction.
	</div><div class="para">
		<div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
					<a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Transactions">Section&nbsp;11.2.1, “About Transactions”</a>
				</div></li><li class="listitem"><div class="para">
					<a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_the_Transaction_Coordinator_or_Transaction_Manager">Section&nbsp;11.2.3, “About the Transaction Coordinator or Transaction Manager”</a>
				</div></li></ul></div>

	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4270-591658+%5BLatest%5D&comment=Title%3A+About+Transaction+Participants%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4270-591658+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="About_Java_Transactions_API_JTA1">
      ⁠</a>11.2.5.&nbsp;About Java Transactions API (JTA)</h3></div></div></div><div class="para">
		Java Transactions API (JTA) is part of Java Enterprise Edition specification. It is defined in JSR-907.
	</div><div class="para">
		Implementation of JTA is done using Transaction manager, which is covered by project Narayana for JBoss EAP application server. Transaction manager allows application to assign various resources, for example, database or JMS brokers, through a single global transaction. The global transaction is referred as XA transaction. Only resources with XA capabilities can be included in a transaction.
	</div><div class="para">
		In this document, JTA refers to Java Transaction API, this term is used to indicate how the transaction manager processes the transactions. Transaction manager works in JTA transactions mode, the data is shared via memory and transaction context is transferred by remote EJB calls. In JTS mode, the data is shared by sending Common Object Request Broker Architecture (CORBA)messages and transaction context is transferred by IIOP calls. Both modes support distribution of transaction over multiple EAP servers.
	</div><div class="para">
		Annotations is a method for creating and controlling transactions within your code.
	</div><div class="para">
		<div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
					<a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_XA_Datasources_and_XA_Transactions">Section&nbsp;11.2.7, “About XA Datasources and XA Transactions”</a>
				</div></li><li class="listitem"><div class="para">
					<a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Distributed_Transactions">Section&nbsp;11.2.11, “About Distributed Transactions”</a>
				</div></li><li class="listitem"><div class="para">
					<a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Configure_the_ORB_for_JTS_Transactions">Section&nbsp;11.8.2, “Configure the ORB for JTS Transactions”</a>
				</div></li></ul></div>

	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4300-697973+%5BLatest%5D&comment=Title%3A+About+Java+Transactions+API+%28JTA%29%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4300-697973+13+Aug+2014+16%3A43+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="About_Java_Transaction_Service_JTS">
      ⁠</a>11.2.6.&nbsp;About Java Transaction Service (JTS)</h3></div></div></div><div class="para">
		<em class="firstterm">Java Transaction Service (JTS)</em> is a is a mapping of the OTS to Java. Java applications use the JTA API to manage transactions. JTA then interacts with a JTS transaction implementation when Transaction manager is switched to JTS mode. To use special JTS capabilities, for example, nested transaction, you need to manually use the JTS API.
	</div><div class="para">
		JTS works over IIOP protocol. Transaction managers that use JTS, communicate with each other using a process called an <em class="firstterm">Object Request Broker (ORB)</em>, using a communication standard called <em class="firstterm">Common Object Request Broker Architecture (CORBA)</em>.
	</div><div class="para">
		Using JTA API from an application standpoint, a JTS transaction behaves in the same way as a JTA transaction.
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="note"><div class="admonition_header"><p><strong>Note</strong></p></div><div class="admonition"><div class="para">
			The implementation of JTS included in JBoss EAP 6 supports <em class="firstterm">distributed JTS transactions</em> across multiple JBoss EAP 6 servers. The difference between distributed JTS transactions and fully-compliant JTS transactions is the interoperability with external third-party ORBs. This feature is unsupported with JBoss EAP 6.
		</div></div></div><div class="para">
		<div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
					<a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_the_Transaction_Coordinator_or_Transaction_Manager">Section&nbsp;11.2.3, “About the Transaction Coordinator or Transaction Manager”</a>
				</div></li></ul></div>

	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4318-697974+%5BLatest%5D&comment=Title%3A+About+Java+Transaction+Service+%28JTS%29%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4318-697974+13+Aug+2014+16%3A59+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="About_XA_Datasources_and_XA_Transactions">
      ⁠</a>11.2.7.&nbsp;About XA Datasources and XA Transactions</h3></div></div></div><div class="para">
		An XA datasource is a datasource which can participate in an XA global transaction.
	</div><div class="para">
		An XA transaction is a transaction which can span multiple resources. It involves a coordinating transaction manager, with one or more databases or other transactional resources, all involved in a single global transaction.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4286-591656+%5BLatest%5D&comment=Title%3A+About+XA+Datasources+and+XA+Transactions%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4286-591656+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="About_XA_Recovery">
      ⁠</a>11.2.8.&nbsp;About XA Recovery</h3></div></div></div><div class="para">
		The Java Transaction API (JTA) allows distributed transactions across multiple <em class="firstterm">X/Open XA resources</em>. XA stands for <em class="firstterm">Extended Architecture</em> which was developed by the X/Open Group to define a transaction which uses more than one back-end data store. The XA standard describes the interface between a global <em class="firstterm">Transaction Manager (TM)</em> and a local resource manager. XA allows multiple resources, such as application servers, databases, caches, and message queues, to participate in the same transaction, while preserving atomicity of the transaction. Atomicity means that if one of the participants fails to commit its changes, the other participants abort the transaction, and restore their state to the same status as before the transaction occurred.
	</div><div class="para">
		<em class="firstterm">XA Recovery</em> is the process of ensuring that all resources affected by a transaction are updated or rolled back, even if any of the resources are transaction participants crash or become unavailable. Within the scope of JBoss EAP 6, the Transaction subsystem provides the mechanisms for XA Recovery to any XA resources or subsystems which use them, such as XA datasources, JMS message queues, and JCA resource adapters.
	</div><div class="para">
		XA Recovery happens without user intervention. In the event of an XA Recovery failure, errors are recorded in the log output. Contact Red Hat Global Support Services if you need assistance.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4821-591676+%5BLatest%5D&comment=Title%3A+About+XA+Recovery%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4821-591676+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="About_the_2-Phase_Commit_Protocol">
      ⁠</a>11.2.9.&nbsp;About the 2-Phase Commit Protocol</h3></div></div></div><div class="para">
		The Two-phase commit protocol (2PC) refers to an algorithm to determine the outcome of a transaction.
	</div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Phase 1</div>
			In the first phase, the transaction participants notify the transaction coordinator whether they are able to commit the transaction or must roll back.
		</div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Phase 2</div>
			In the second phase, the transaction coordinator makes the decision about whether the overall transaction should commit or roll back. If any one of the participants cannot commit, the transaction must roll back. Otherwise, the transaction can commit. The coordinator directs the transactions about what to do, and they notify the coordinator when they have done it. At that point, the transaction is finished.
		</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4272-591658+%5BLatest%5D&comment=Title%3A+About+the+2-Phase+Commit+Protocol%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4272-591658+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="About_Transaction_Timeouts">
      ⁠</a>11.2.10.&nbsp;About Transaction Timeouts</h3></div></div></div><div class="para">
		In order to preserve atomicity and adhere to the ACID standard for transactions, some parts of a transaction can be long-running. Transaction participants need to lock parts of datasources when they commit, and the transaction manager needs to wait to hear back from each transaction participant before it can direct them all whether to commit or roll back. Hardware or network failures can cause resources to be locked indefinitely.
	</div><div class="para">
		Transaction timeouts can be associated with transactions in order to control their lifecycle. If a timeout threshold passes before the transaction commits or rolls back, the timeout causes the transaction to be rolled back automatically.
	</div><div class="para">
		You can configure default timeout values for the entire transaction subsystem, or you disable default timeout values, and specify timeouts on a per-transaction basis.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4378-591665+%5BLatest%5D&comment=Title%3A+About+Transaction+Timeouts%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4378-591665+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="About_Distributed_Transactions">
      ⁠</a>11.2.11.&nbsp;About Distributed Transactions</h3></div></div></div><div class="para">
		A <em class="firstterm">distributed transaction</em>,  is a transaction with participants on multiple JBoss EAP 6 servers. <em class="firstterm">Java Transaction Service (JTS)</em> specification mandates that JTS transactions be able to be distributed across application servers from different vendors (transaction distribution among servers from different vendors is not a supported feature). Java Transaction API (JTA) does not define that but JBoss EAP 6 supports distributed JTA transactions among JBoss EAP6 servers.
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="note"><div class="admonition_header"><p><strong>Note</strong></p></div><div class="admonition"><div class="para">
			In other app server vendor documentation, you can find that term distributed transaction means XA transaction. In context of JBoss EAP 6 documentation, the distributed transaction refers transactions distributed among several application servers. Transaction which consists from different resources (for example, database resource and jms resource) are referred as XA transactions in this document. For more information, refer <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Java_Transaction_Service_JTS">Section&nbsp;11.2.6, “About Java Transaction Service (JTS)”</a> and <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_XA_Datasources_and_XA_Transactions">Section&nbsp;11.2.7, “About XA Datasources and XA Transactions”</a>.
		</div></div></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4279-687031+%5BLatest%5D&comment=Title%3A+About+Distributed+Transactions%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4279-687031+22+Jul+2014+19%3A19+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="About_the_ORB_Portability_API">
      ⁠</a>11.2.12.&nbsp;About the ORB Portability API</h3></div></div></div><div class="para">
		The Object Request Broker (ORB) is a process which sends and receives messages to transaction participants, coordinators, resources, and other services distributed across multiple application servers. An ORB uses a standardized Interface Description Language (IDL) to communicate and interpret messages. <em class="firstterm">Common Object Request Broker Architecture (CORBA)</em> is the IDL used by the ORB in JBoss EAP 6.
	</div><div class="para">
		The main type of service which uses an ORB is a system of distributed Java Transactions, using the Java Transaction Service (JTS) protocol. Other systems, especially legacy systems, may choose to use an ORB for communication, rather than other mechanisms such as remote Enterprise JavaBeans or JAX-WS or JAX-RS Web Services.
	</div><div class="para">
		The ORB Portability API provides mechanisms to interact with an ORB. This API provides methods for obtaining a reference to the ORB, as well as placing an application into a mode where it listens for incoming connections from an ORB. Some of the methods in the API are not supported by all ORBs. In those cases, an exception is thrown.
	</div><div class="para">
		The API consists of two different classes:
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><p class="title"><strong>ORB Portability API Classes</strong></p><ul><li class="listitem"><div class="para">
				<code class="code">com.arjuna.orbportability.orb</code>
			</div></li><li class="listitem"><div class="para">
				<code class="code">com.arjuna.orbportability.oa</code>
			</div></li></ul></div><div class="para">
		Refer to the JBoss EAP 6 Javadocs bundle on the Red Hat Customer Portal for specific details about the methods and properties included in the ORB Portability API.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4320-591659+%5BLatest%5D&comment=Title%3A+About+the+ORB+Portability+API%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4320-591659+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="About_Nested_Transactions">
      ⁠</a>11.2.13.&nbsp;About Nested Transactions</h3></div></div></div><div class="para">
		Nested transactions are transactions where some participants are also transactions.
	</div><div class="variablelist"><p class="title"><strong>Benefits of Nested Transactions</strong></p><dl class="variablelist"><dt><span class="term">Fault Isolation</span></dt><dd><div class="para">
					If a subtransaction rolls back, perhaps because an object it is using fails, the enclosing transaction does not need to roll back.
				</div></dd><dt><span class="term">Modularity</span></dt><dd><div class="para">
					If a transaction is already associated with a call when a new transaction begins, the new transaction is nested within it. Therefore, if you know that an object requires transactions, you can create them within the object. If the object's methods are invoked without a client transaction, then the object's transactions are top-level. Otherwise, they are nested within the scope of the client's transactions. Likewise, a client does not need to know whether an object is transactional. It can begin its own transaction.
				</div></dd></dl></div><div class="para">
		Nested Transactions are only supported as part of the Java Transaction Service (JTS) API, and not part of the Java Transaction API (JTA). Attempting to nest (non-distributed) JTA transactions results in an exception.
	</div><div class="para">
		Modifying JBoss EAP 6 configuration of transaction subsystem to use JTS does not indicate that nested transaction will be used or activated. If you need to use them, you have to directly use ORB API as JTA API does not provide any method to start the nested transaction.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4287-687477+%5BLatest%5D&comment=Title%3A+About+Nested+Transactions%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4287-687477+23+Jul+2014+16%3A16+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="sect-Transaction_Optimizations">
      ⁠</a>11.3.&nbsp;Transaction Optimizations</h2></div></div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="Overview_of_Transaction_Optimizations">
      ⁠</a>11.3.1.&nbsp;Overview of Transaction Optimizations</h3></div></div></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Introduction</div>
			The Transactions subsystem of JBoss EAP 6 includes several optimizations which you can take advantage of in your applications.
		</div><div class="para">
		<div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
					<a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-About_the_LRCO_Optimization_for_Single-phase_Commit_1PC">Section&nbsp;11.3.2, “About the LRCO Optimization for Single-phase Commit (1PC)”</a>
				</div></li><li class="listitem"><div class="para">
					<a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_the_Presumed-Abort_Optimization">Section&nbsp;11.3.3, “About the Presumed-Abort Optimization”</a>
				</div></li><li class="listitem"><div class="para">
					<a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_the_Read-Only_Optimization">Section&nbsp;11.3.4, “About the Read-Only Optimization”</a>
				</div></li></ul></div>

	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4274-591656+%5BLatest%5D&comment=Title%3A+Overview+of+Transaction+Optimizations%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4274-591656+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="sect-About_the_LRCO_Optimization_for_Single-phase_Commit_1PC">
      ⁠</a>11.3.2.&nbsp;About the LRCO Optimization for Single-phase Commit (1PC)</h3></div></div></div><div class="para">
				Although the 2-phase commit protocol (2PC) is more commonly encountered with transactions, some situations do not require, or cannot accommodate, both phases. In these cases, you can use the <em class="firstterm">single phase commit (1PC)</em> protocol. One situation where this might happen is when a non-XA-aware datasource needs to participate in the transaction.
			</div><div class="para">
				In these situations, an optimization known as the <em class="firstterm">Last Resource Commit Optimization (LRCO)</em> is employed. The single-phase resource is processed last in the prepare phase of the transaction, and an attempt is made to commit it. If the commit succeeds, the transaction log is written and the remaining resources go through the 2PC. If the last resource fails to commit, the transaction is rolled back.
			</div><div class="para">
				While this protocol allows for most transactions to complete normally, certain types of error can cause an inconsistent transaction outcome. Therefore, use this approach only as a last resort.
			</div><div class="para">
				Where a single local TX datasource is used in a transaction, the LRCO is automatically applied to it.
			</div><div class="para">
				<div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
							<a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_the_2-Phase_Commit_Protocol">Section&nbsp;11.2.9, “About the 2-Phase Commit Protocol”</a>
						</div></li></ul></div>

			</div><div class="para RoleCreateBugPara">
				<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+IDs%3A%0A4273-591656+%5BLatest%5D&comment=Title%3A+About+the+LRCO+Optimization+for+Single-phase+Commit+%281PC%29%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
			</div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="Commit_Markable_Resource">
      ⁠</a>11.3.2.1.&nbsp;Commit Markable Resource</h4></div></div></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Summary</div>
			Configuring access to a resource manager via the Commit Markable Resource (CMR) interface ensures that a 1PC resource manager can be reliably enlisted in a 2PC transaction. It is an implementation of the LRCO algorithm, which makes non-XA resource fully recoverable.
		</div><div class="para">
		Previously, adding 1PC resources to a 2PC transaction was achieved via the LRCO method, however there is a window of failure in LRCO. Following the procedure below for adding 1PC resources to a 2PC transaction via the LRCO method:
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="orderedlist"><ol><li class="listitem"><div class="para">
				Prepare 2PC
			</div></li><li class="listitem"><div class="para">
				Commit LRCO
			</div></li><li class="listitem"><div class="para">
				Write tx log
			</div></li><li class="listitem"><div class="para">
				Commit 2PC
			</div></li></ol></div><div class="para">
		If the procedure crashes between steps 2 and step 3, you cannot commit the 2PC. CMR eliminates this restriction and allows 1PC to be reliably enlisted in a 2PC transaction.
	</div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Restrictions</div>
			A transaction may contain only one CMR resource.
		</div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Prerequisites</div>
			You must have a table created for which the following SQL would work: 
<pre class="screen">SELECT xid,actionuid FROM _tableName_ WHERE transactionManagerID IN (String[])
DELETE FROM _tableName_ WHERE xid IN (byte[[]])
INSERT INTO _tableName_ (xid, transactionManagerID, actionuid) VALUES (byte[],String,byte[])</pre>

		</div><div class="example"><a id="idp37771776">
      ⁠</a><p class="title"><strong>Example&nbsp;11.1.&nbsp;Some examples of the SQL query</strong></p><div class="example-contents"><div class="para">
			Sybase: 
<pre class="screen">CREATE TABLE xids (xid varbinary(144), transactionManagerID varchar(64), actionuid varbinary(28))</pre>

		</div><div class="para">
			Oracle: 
<pre class="screen">CREATE TABLE xids (xid RAW(144), transactionManagerID varchar(64), actionuid RAW(28))
CREATE UNIQUE INDEX index_xid ON xids (xid)</pre>

		</div><div class="para">
			IBM: 
<pre class="screen">CREATE TABLE xids (xid VARCHAR(255) for bit data not null, transactionManagerID
varchar(64), actionuid VARCHAR(255) for bit data not null)
CREATE UNIQUE INDEX index_xid ON xids (xid)</pre>

		</div><div class="para">
			SQL Server: 
<pre class="screen">CREATE TABLE xids (xid varbinary(144), transactionManagerID varchar(64), actionuid varbinary(28))
CREATE UNIQUE INDEX index_xid ON xids (xid)</pre>

		</div><div class="para">
			Postgres: 
<pre class="screen">CREATE TABLE xids (xid bytea, transactionManagerID varchar(64), actionuid bytea)
CREATE UNIQUE INDEX index_xid ON xids (xid)</pre>

		</div></div></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Enabling a resource manager as CMR</div>
			By default, the CMR feature is disabled for datasources. To enable it, you must create or modify the datasource configuration and ensure that the connectible attribute is set to true. An example configuration entry in the datasources section of a server xml configuration file could be as follows:
		</div><div class="para">
		
<pre class="screen">&lt;datasource enabled="true" jndi-name="java:jboss/datasources/ConnectableDS" pool-name="ConnectableDS" jta="true" use-java-context="true" spy="false" use-ccm="true" connectable="true"/&gt;</pre>

	</div><div xmlns:d="http://docbook.org/ns/docbook" class="note"><div class="admonition_header"><p><strong>Note</strong></p></div><div class="admonition"><div class="para">
			This feature is not applicable to XA datasources.
		</div></div></div><div class="para">
		You can also enable a resource manager as CMR using CLI as follows: 
<pre class="screen">/subsystem=datasources/data-source=ConnectableDS:add(enabled="true", jndi-name="java:jboss/datasources/ConnectableDS", jta="true", use-java-context="true", spy="false", use-ccm="true", connectable="true", connection-url="validConnectionURL", driver-name="h2")</pre>

	</div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Updating an existing resource to use the new CMR feature</div>
			If you only need to update an existing resource to use the new CMR feature, then simply modifiy the connectable attribute: 
<pre class="screen">/subsystem=datasources/data-source=ConnectableDS:write-attribute(name=connectable,value=true)</pre>

		</div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Identifying CMR capable datasources</div>
			The transaction subsystem identifies the datasources that are CMR capable through an entry to the transaction subsystem config section as shown below:
		</div><pre class="screen">&lt;subsystem xmlns="urn:jboss:domain:transactions:3.0"&gt;
    ...
    &lt;commit-markable-resources&gt;
        &lt;commit-markable-resource jndi-name="java:jboss/datasources/ConnectableDS"&gt;
            &lt;xid-location name="xids" batch-size="100" immediate-cleanup="false"/&gt;
        &lt;/commit-markable-resource&gt;
        ...
    &lt;/commit-markable-resources&gt;
&lt;/subsystem&gt;</pre><div xmlns:d="http://docbook.org/ns/docbook" class="note"><div class="admonition_header"><p><strong>Note</strong></p></div><div class="admonition"><div class="para">
			You must restart the server after adding the CMR.
		</div></div></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+30533-683888+%5BLatest%5D&comment=Title%3A+Commit+Markable+Resource%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=30533-683888+11+Jul+2014+17%3A20+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="About_the_Presumed-Abort_Optimization">
      ⁠</a>11.3.3.&nbsp;About the Presumed-Abort Optimization</h3></div></div></div><div class="para">
		If a transaction is going to roll back, it can record this information locally and notify all enlisted participants. This notification is only a courtesy, and has no effect on the transaction outcome. After all participants have been contacted, the information about the transaction can be removed.
	</div><div class="para">
		If a subsequent request for the status of the transaction occurs there will be no information available. In this case, the requester assumes that the transaction has aborted and rolled back. This <em class="firstterm">presumed-abort</em> optimization means that no information about participants needs to be made persistent until the transaction has decided to commit, since any failure prior to this point will be assumed to be an abort of the transaction.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4275-591656+%5BLatest%5D&comment=Title%3A+About+the+Presumed-Abort+Optimization%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4275-591656+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="About_the_Read-Only_Optimization">
      ⁠</a>11.3.4.&nbsp;About the Read-Only Optimization</h3></div></div></div><div class="para">
		When a participant is asked to prepare, it can indicate to the coordinator that it has not modified any data during the transaction. Such a participant does not need to be informed about the outcome of the transaction, since the fate of the participant has no affect on the transaction. This <em class="firstterm">read-only</em> participant can be omitted from the second phase of the commit protocol.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4277-591656+%5BLatest%5D&comment=Title%3A+About+the+Read-Only+Optimization%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4277-591656+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="sect-Transaction_Outcomes">
      ⁠</a>11.4.&nbsp;Transaction Outcomes</h2></div></div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="About_Transaction_Outcomes">
      ⁠</a>11.4.1.&nbsp;About Transaction Outcomes</h3></div></div></div><div class="para">
		There are three possible outcomes for a transaction.
	</div><div class="variablelist"><dl class="variablelist"><dt><span class="term">Roll-back</span></dt><dd><div class="para">
					If any transaction participant cannot commit, or the transaction coordinator cannot direct participants to commit, the transaction is rolled back. See <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Transaction_Roll-Back">Section&nbsp;11.4.3, “About Transaction Roll-Back”</a> for more information.
				</div></dd><dt><span class="term">Commit</span></dt><dd><div class="para">
					If every transaction participant can commit, the transaction coordinator directs them to do so. See <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Transaction_Commit">Section&nbsp;11.4.2, “About Transaction Commit”</a> for more information.
				</div></dd><dt><span class="term">Heuristic outcome</span></dt><dd><div class="para">
					If some transaction participants commit and others roll back. it is termed a heuristic outcome. Heuristic outcomes require human intervention. See <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Heuristic_Outcomes">Section&nbsp;11.4.4, “About Heuristic Outcomes”</a> for more information.
				</div></dd></dl></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4283-591656+%5BLatest%5D&comment=Title%3A+About+Transaction+Outcomes%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4283-591656+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="About_Transaction_Commit">
      ⁠</a>11.4.2.&nbsp;About Transaction Commit</h3></div></div></div><div class="para">
		When a transaction participant commits, it makes its new state durable. The new state is created by the participant doing the work involved in the transaction. The most common example is when a transaction member writes records to a database.
	</div><div class="para">
		After commit, information about the transaction is removed from the transaction coordinator, and the newly-written state is now the durable state.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4282-591656+%5BLatest%5D&comment=Title%3A+About+Transaction+Commit%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4282-591656+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="About_Transaction_Roll-Back">
      ⁠</a>11.4.3.&nbsp;About Transaction Roll-Back</h3></div></div></div><div class="para">
		A transaction participant rolls back by restoring its state to reflect the state before the transaction began. After a roll-back, the state is the same as if the transaction had never been started.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4281-591656+%5BLatest%5D&comment=Title%3A+About+Transaction+Roll-Back%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4281-591656+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="About_Heuristic_Outcomes">
      ⁠</a>11.4.4.&nbsp;About Heuristic Outcomes</h3></div></div></div><div class="para">
		A heuristic outcome, or non-atomic outcome, is a transaction anomaly. It refers to a situation where some transaction participants committed their state, and others rolled back. A heuristic outcome causes state to be inconsistent.
	</div><div class="para">
		Heuristic outcomes typically happen during the second phase of the 2-phase commit (2PC) protocol. They are often caused by failures to the underlying hardware or communications subsystems of the underlying servers.
	</div><div class="para">
		There are four different types of heuristic outcome.
	</div><div class="variablelist"><dl class="variablelist"><dt><span class="term">Heuristic rollback</span></dt><dd><div class="para">
					The commit operation failed because some or all of the participants unilaterally rolled back the transaction.
				</div></dd><dt><span class="term">Heuristic commit</span></dt><dd><div class="para">
					An attempted rollback operation failed because all of the participants unilaterally committed. This may happen if, for example, the coordinator is able to successfully prepare the transaction but then decides to roll it back because of a failure on its side, such as a failure to update its log. In the interim, the participants may decide to commit.
				</div></dd><dt><span class="term">Heuristic mixed</span></dt><dd><div class="para">
					Some participants committed and others rolled back.
				</div></dd><dt><span class="term">Heuristic hazard</span></dt><dd><div class="para">
					The outcome of some of the updates is unknown. For the ones that are known, they have either all committed or all rolled back.
				</div></dd></dl></div><div class="para">
		Heuristic outcomes can cause loss of integrity to the system, and usually require human intervention to resolve. Do not write code which relies on them.
	</div><div class="para">
		<div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
					<a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_the_2-Phase_Commit_Protocol">Section&nbsp;11.2.9, “About the 2-Phase Commit Protocol”</a>
				</div></li></ul></div>

	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4285-591656+%5BLatest%5D&comment=Title%3A+About+Heuristic+Outcomes%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4285-591656+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="JBoss_Transactions_Errors_and_Exceptions">
      ⁠</a>11.4.5.&nbsp;JBoss Transactions Errors and Exceptions</h3></div></div></div><div class="para">
		For details about exceptions thrown by methods of the <code class="classname">UserTransaction</code> class, see the <em class="citetitle">UserTransaction API</em> specification at <a href="http://docs.oracle.com/javaee/6/api/javax/transaction/UserTransaction.html">http://docs.oracle.com/javaee/6/api/javax/transaction/UserTransaction.html</a>.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4299-689191+%5BLatest%5D&comment=Title%3A+JBoss+Transactions+Errors+and+Exceptions%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4299-689191+30+Jul+2014+16%3A47+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="sect-Overview_of_JTA_Transactions">
      ⁠</a>11.5.&nbsp;Overview of JTA Transactions</h2></div></div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="About_Java_Transactions_API_JTA">
      ⁠</a>11.5.1.&nbsp;About Java Transactions API (JTA)</h3></div></div></div><div class="para">
		Java Transactions API (JTA) is part of Java Enterprise Edition specification. It is defined in JSR-907.
	</div><div class="para">
		Implementation of JTA is done using Transaction manager, which is covered by project Narayana for JBoss EAP application server. Transaction manager allows application to assign various resources, for example, database or JMS brokers, through a single global transaction. The global transaction is referred as XA transaction. Only resources with XA capabilities can be included in a transaction.
	</div><div class="para">
		In this document, JTA refers to Java Transaction API, this term is used to indicate how the transaction manager processes the transactions. Transaction manager works in JTA transactions mode, the data is shared via memory and transaction context is transferred by remote EJB calls. In JTS mode, the data is shared by sending Common Object Request Broker Architecture (CORBA)messages and transaction context is transferred by IIOP calls. Both modes support distribution of transaction over multiple EAP servers.
	</div><div class="para">
		Annotations is a method for creating and controlling transactions within your code.
	</div><div class="para">
		<div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
					<a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_XA_Datasources_and_XA_Transactions">Section&nbsp;11.2.7, “About XA Datasources and XA Transactions”</a>
				</div></li><li class="listitem"><div class="para">
					<a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Distributed_Transactions">Section&nbsp;11.2.11, “About Distributed Transactions”</a>
				</div></li><li class="listitem"><div class="para">
					<a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Configure_the_ORB_for_JTS_Transactions">Section&nbsp;11.8.2, “Configure the ORB for JTS Transactions”</a>
				</div></li></ul></div>

	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4300-697973+%5BLatest%5D&comment=Title%3A+About+Java+Transactions+API+%28JTA%29%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4300-697973+13+Aug+2014+16%3A43+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="Lifecycle_of_a_JTA_Transaction">
      ⁠</a>11.5.2.&nbsp;Lifecycle of a JTA Transaction</h3></div></div></div><div class="para">
		When a resource asks to participate in a transaction, a chain of events is set in motion. The <em class="firstterm">Transaction Manager</em> is a process that lives within the application server and manages transactions. <em class="firstterm">Transaction participants</em> are objects which participate in a transaction. <em class="firstterm">Resources</em> are datasources, JMS connection factories, or other JCA connections.
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><ol class="1"><li class="step"><p class="title"><strong>Your application starts a new transaction</strong></p><div class="para">
				To begin a transaction, your application obtains an instance of class <code class="classname">UserTransaction</code> from JNDI or, if it is an EJB, from an annotation. The <code class="classname">UserTransaction</code> interface includes methods for beginning, committing, and rolling back top-level transactions. Newly-created transactions are automatically associated with their invoking thread. Nested transactions are not supported in JTA, so all transactions are top-level transactions.
			</div><div class="para">
				Calling <code class="classname">UserTransaction</code>.<code class="methodname">begin()</code> using annotations starts a transaction when an EJB method is called (driven by TransactionAttribute rules). Any resource that is used after that point is associated with the transaction. If more than one resource is enlisted, your transaction becomes an XA transaction, and participates in the two-phase commit protocol at commit time.
			</div><div class="note"><div class="admonition_header"><p><strong>Note</strong></p></div><div class="admonition"><div class="para">
					The <code class="classname">UserTransaction</code> object is used only for BMT transactions. In CMT, the UserTransaction object is not permitted.
				</div></div></div></li><li class="step"><p class="title"><strong>Your application modifies its state.</strong></p><div class="para">
				In the next step, your application performs its work and makes changes to its state.
			</div></li><li class="step"><p class="title"><strong>Your application decides to commit or roll back</strong></p><div class="para">
				When your application has finished changing its state, it decides whether to commit or roll back. It calls the appropriate method. It calls <code class="classname">UserTransaction</code>.<code class="methodname">commit()</code> or <code class="classname">UserTransaction</code>.<code class="methodname">rollback()</code>. 
			</div></li><li class="step"><p class="title"><strong>The transaction manager removes the transaction from its records.</strong></p><div class="para">
				After the commit or rollback completes, the transaction manager cleans up its records and removes information about your transaction from the transaction log.
			</div></li></ol></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Failure recovery</div>
			Failure recovery happens automatically. If a resource, transaction participant, or the application server become unavailable, the Transaction Manager handles recovery when the underlying failure is resolved and the resource is available again.
		</div><div class="para">
		<div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
					<a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Transactions">Section&nbsp;11.2.1, “About Transactions”</a>
				</div></li><li class="listitem"><div class="para">
					<a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_the_Transaction_Coordinator_or_Transaction_Manager">Section&nbsp;11.2.3, “About the Transaction Coordinator or Transaction Manager”</a>
				</div></li><li class="listitem"><div class="para">
					<a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Transaction_Participants">Section&nbsp;11.2.4, “About Transaction Participants”</a>
				</div></li><li class="listitem"><div class="para">
					<a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_the_2-Phase_Commit_Protocol">Section&nbsp;11.2.9, “About the 2-Phase Commit Protocol”</a>
				</div></li><li class="listitem"><div class="para">
					<a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_XA_Datasources_and_XA_Transactions">Section&nbsp;11.2.7, “About XA Datasources and XA Transactions”</a>
				</div></li></ul></div>

	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4301-697936+%5BLatest%5D&comment=Title%3A+Lifecycle+of+a+JTA+Transaction%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4301-697936+13+Aug+2014+01%3A21+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="sect-Transaction_Subsystem_Configuration">
      ⁠</a>11.6.&nbsp;Transaction Subsystem Configuration</h2></div></div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="Transactions_Configuration_Overview1">
      ⁠</a>11.6.1.&nbsp;Transactions Configuration Overview</h3></div></div></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Introduction</div>
			The following procedures show you how to configure the transactions subsystem of JBoss EAP 6.
		</div><div class="para">
		<div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
					<a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Configure_Your_Datasource_to_Use_JTA_Transactions1">Section&nbsp;11.6.2.1, “Configure Your Datasource to Use JTA Transaction API”</a>
				</div></li><li class="listitem"><div class="para">
					<a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Configure_an_XA_Datasource">Section&nbsp;11.6.2.2, “Configure an XA Datasource”</a>
				</div></li><li class="listitem"><div class="para">
					<a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Configure_the_Transaction_Manager1">Section&nbsp;11.7.8.2, “Configure the Transaction Manager”</a>
				</div></li><li class="listitem"><div class="para">
					<a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Configure_Logging_for_the_Transaction_Subsystem1">Section&nbsp;11.6.3.2, “Configure Logging for the Transaction Subsystem”</a>
				</div></li></ul></div>

	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4374-591665+%5BLatest%5D&comment=Title%3A+Transactions+Configuration+Overview%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4374-591665+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="sect-Transactional_Datasource_Configuration">
      ⁠</a>11.6.2.&nbsp;Transactional Datasource Configuration</h3></div></div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="Configure_Your_Datasource_to_Use_JTA_Transactions1">
      ⁠</a>11.6.2.1.&nbsp;Configure Your Datasource to Use JTA Transaction API</h4></div></div></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Summary</div>
			This task shows you how to enable Java Transaction API (JTA) on your datasource.
		</div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Prerequisites</div>
			You must meet the following conditions before continuing with this task:
		</div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
				Your database or other resource must support Java Transaction API. If in doubt, consult the documentation for your database or other resource.
			</div></li><li class="listitem"><div class="para">
				Create a datasource. Refer to <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Create_a_Non-XA_Datasource_with_the_Management_Interfaces">Section&nbsp;11.6.2.4, “Create a Non-XA Datasource with the Management Interfaces”</a>.
			</div></li><li class="listitem"><div class="para">
				Stop JBoss EAP 6.
			</div></li><li class="listitem"><div class="para">
				Have access to edit the configuration files directly, in a text editor.
			</div></li></ul></div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idp22812704">
      ⁠</a><p class="title"><strong>Procedure&nbsp;11.1.&nbsp;Configure the Datasource to use Java Transaction API</strong></p><ol class="1"><li class="step"><p class="title"><strong>Open the configuration file in a text editor.</strong></p><div class="para">
				Depending on whether you run JBoss EAP 6 in a managed domain or standalone server, your configuration file will be in a different location.
			</div><ul class="stepalternatives">
				<li class="step"><p class="title"><strong>Managed domain</strong></p><div class="para">
						The default configuration file for a managed domain is in <code class="filename"><em class="replaceable">EAP_HOME</em>/domain/configuration/domain.xml</code> for Red Hat Enterprise Linux, and <code class="filename"><em class="replaceable">EAP_HOME\domain\configuration\domain.xml</em></code> for Microsoft Windows Server.
					</div></li>
				 <li class="step"><p class="title"><strong>Standalone server</strong></p><div class="para">
						The default configuration file for a standalone server is in <code class="filename"><em class="replaceable">EAP_HOME</em>/standalone/configuration/standalone.xml</code> for Red Hat Enterprise Linux, and <code class="filename"><em class="replaceable">EAP_HOME\standalone\configuration\standalone.xml</em></code> for Microsoft Windows Server.
					</div></li>

			</ul></li><li class="step"><p class="title"><strong>Locate the <code class="literal">&lt;datasource&gt;</code> tag that corresponds to your datasource.</strong></p><div class="para">
				The datasource will have the <code class="literal">jndi-name</code> attribute set to the one you specified when you created it. For example, the ExampleDS datasource looks like this:
			</div><pre class="screen">&lt;datasource jndi-name="java:jboss/datasources/ExampleDS" pool-name="H2DS" enabled="true" jta="true" use-java-context="true" use-ccm="true"&gt;</pre></li><li class="step"><p class="title"><strong>Set the <code class="literal">jta</code> attribute to <code class="literal">true</code>.</strong></p><div class="para">
				Add the following to the contents of your <code class="literal">&lt;datasource&gt;</code> tag, as they appear in the previous step: <code class="literal">jta="true"</code>
			</div></li><li class="step"><p class="title"><strong>Save the configuration file.</strong></p><div class="para">
				Save the configuration file and exit the text editor.
			</div></li><li class="step"><p class="title"><strong>Start JBoss EAP 6.</strong></p><div class="para">
				Relaunch the JBoss EAP 6 server.
			</div></li></ol></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Result:</div>
			JBoss EAP 6 starts, and your datasource is configured to use Java Transaction API.
		</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4295-687034+%5BLatest%5D&comment=Title%3A+Configure+Your+Datasource+to+Use+JTA+Transaction+API%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4295-687034+22+Jul+2014+19%3A33+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="Configure_an_XA_Datasource">
      ⁠</a>11.6.2.2.&nbsp;Configure an XA Datasource</h4></div></div></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Prerequisites</div>
			In order to add an XA Datasource, you need to log into the Management Console. See <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Log_in_to_the_Management_Console">Section&nbsp;11.6.2.3, “Log in to the Management Console”</a> for more information.
		</div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><ol class="1"><li class="step"><p class="title"><strong>Add a new datasource.</strong></p><div class="para">
				Add a new datasource to JBoss EAP 6. Follow the instructions in <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Create_a_Non-XA_Datasource_with_the_Management_Interfaces">Section&nbsp;11.6.2.4, “Create a Non-XA Datasource with the Management Interfaces”</a>, but click the <span class="guilabel"><strong>XA Datasource</strong></span> tab at the top.
			</div></li><li class="step"><p class="title"><strong>Configure additional properties as appropriate.</strong></p><div class="para">
				All datasource parameters are listed in <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Datasource_Parameters1">Section&nbsp;11.6.2.6, “Datasource Parameters”</a>.
			</div></li></ol></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Result</div>
			Your XA Datasource is configured and ready to use.
		</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4303-591659+%5BLatest%5D&comment=Title%3A+Configure+an+XA+Datasource%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4303-591659+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="Log_in_to_the_Management_Console">
      ⁠</a>11.6.2.3.&nbsp;Log in to the Management Console</h4></div></div></div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul><li class="listitem"><div class="para">
				You must create an administrative user. For complete instructions, see <em class="citetitle">Add the User for the Management Interfaces</em> in the <em class="citetitle">Administration and Configuration Guide</em> for JBoss Enterprise Application Platform.
			</div><div class="para">
				JBoss EAP 6 must be running.
			</div></li></ul></div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><ol class="1"><li class="step"><p class="title"><strong>Navigate to the Management Console start page</strong></p><div class="para">
				Launch your web browser and navigate to the Management Console in your web browser at <a href="http://localhost:9990/console/App.html">http://localhost:9990/console/App.html</a>
			</div><div class="note"><div class="admonition_header"><p><strong>Note</strong></p></div><div class="admonition"><div class="para">
					Port 9990 is predefined as the Management Console socket binding.
				</div></div></div></li><li class="step"><div class="para">
				Enter the username and password of the account that you created previously to log in to the Management Console login screen.
			</div><div class="figure"><a id="idp41689968">
      ⁠</a><div class="figure-contents"><div class="mediaobject"><img src="./JBoss_6_3_files/5170.png" alt="The login screen for the Management console."></div></div><p class="title"><strong>Figure&nbsp;11.1.&nbsp;Log in screen for the Management Console</strong></p></div></li></ol></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Result</div>
			Once logged in, you are redirected to the following address and the the Management Console landing page appears: <a href="http://localhost:9990/console/App.html#home">http://localhost:9990/console/App.html#home</a>
		</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+3569-690410+%5BLatest%5D&comment=Title%3A+Log+in+to+the+Management+Console%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=3569-690410+05+Aug+2014+10%3A51+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="Create_a_Non-XA_Datasource_with_the_Management_Interfaces">
      ⁠</a>11.6.2.4.&nbsp;Create a Non-XA Datasource with the Management Interfaces</h4></div></div></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Summary</div>
			This topic covers the steps required to create a non-XA datasource, using either the Management Console or the Management CLI.
		</div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul><li class="listitem"><div class="para">
				The JBoss EAP 6 server must be running.
			</div></li></ul></div><div xmlns:d="http://docbook.org/ns/docbook" class="note"><div class="admonition_header"><p><strong>Oracle Datasources</strong></p></div><div class="admonition"><div class="para">
			Prior to version 10.2 of the Oracle datasource, the &lt;no-tx-separate-pools/&gt; parameter was required, as mixing non-transactional and transactional connections would result in an error. This parameter may no longer be required for certain applications.
		</div></div></div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idp4107456">
      ⁠</a><p class="title"><strong>Procedure&nbsp;11.2.&nbsp;Create a Datasource using either the Management CLI or the Management Console</strong></p><ul><li class="step"><ul class="stepalternatives">
				<li class="step"><p class="title"><strong>Management CLI</strong></p><ol class="substeps a"><li class="step"><div class="para">
								Launch the CLI tool and connect to your server.
							</div></li><li class="step"><div class="para">
								Run the following command to create a non-XA datasource, configuring the variables as appropriate:
							</div><pre class="screen">data-source add --name=<em class="replaceable">DATASOURCE_NAME</em> --jndi-name=<em class="replaceable">JNDI_NAME</em> --driver-name=<em class="replaceable">DRIVER_NAME</em>  --connection-url=<em class="replaceable">CONNECTION_URL</em></pre></li><li class="step"><div class="para">
								Enable the datasource:
							</div><pre class="screen">data-source enable --name=<em class="replaceable">DATASOURCE_NAME</em></pre></li></ol></li>
				 <li class="step"><p class="title"><strong>Management Console</strong></p><ol class="substeps a"><li class="step"><div class="para">
								Login to the Management Console.
							</div></li><li class="step"><p class="title"><strong>Navigate to the <span class="guilabel"><strong>Datasources</strong></span> panel in the Management Console</strong></p><ol class="substeps i"><li class="step"><div class="para">
										Select the <span class="guilabel"><strong>Configuration</strong></span> tab from the top of the console.
									</div></li><li class="step"><div class="para">
										For Domain mode only, select a profile from the drop-down box in the top left.
									</div></li><li class="step"><div class="para">
										Expand the <span class="guimenu"><strong>Subsystems</strong></span> menu on the left of the console, then expand the <span class="guimenu"><strong>Connector</strong></span> menu.
									</div></li><li class="step"><div class="para">
										Select <span class="guimenuitem"><strong>Datasources</strong></span> from the menu on the left of the console.
									</div></li></ol></li><li class="step"><p class="title"><strong>Create a new datasource</strong></p><ol class="substeps i"><li class="step"><div class="para">
										Click <span class="guibutton"><strong>Add</strong></span> at the top of the <span class="guilabel"><strong>Datasources</strong></span> panel.
									</div></li><li class="step"><div class="para">
										Enter the new datasource attributes in the <span class="guilabel"><strong>Create Datasource</strong></span> wizard and proceed with the <span class="guibutton"><strong>Next</strong></span> button.
									</div></li><li class="step"><div class="para">
										Enter the JDBC driver details in the <span class="guilabel"><strong>Create Datasource</strong></span> wizard and click <span class="guibutton"><strong>Next</strong></span> to continue.
									</div></li><li class="step"><div class="para">
										Enter the connection settings in the <span class="guilabel"><strong>Create Datasource</strong></span> wizard.
									</div></li><li class="step"><div class="para">
										Click the <span class="guibutton"><strong>Test Connection</strong></span> button to test the connection to the datasource and verify the settings are correct.
									</div></li><li class="step"><div class="para">
										Click <span class="guibutton"><strong>Done</strong></span> to finish
									</div></li></ol></li></ol></li>

			</ul></li></ul></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Result</div>
			The non-XA datasource has been added to the server. It is now visible in either the <code class="filename">standalone.xml</code> or <code class="filename">domain.xml</code> file, as well as the management interfaces.
		</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4805-634537+%5BLatest%5D&comment=Title%3A+Create+a+Non-XA+Datasource+with+the+Management+Interfaces%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4805-634537+30+Apr+2014+00%3A51+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="Configure_Database_Connection_Validation_Settings">
      ⁠</a>11.6.2.5.&nbsp;Configure Database Connection Validation Settings</h4></div></div></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Overview</div>
			Database maintenance, network problems, or other outage events may cause JBoss EAP 6 to lose the connection to the database. You enable database connection validation using the <code class="literal">&lt;validation&gt;</code> element within the <code class="literal">&lt;datasource&gt;</code> section of the server configuration file. Follow the steps below to configure the datasource settings to enable database connection validation in JBoss EAP 6.
		</div><div class="para">

	</div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idp10038160">
      ⁠</a><p class="title"><strong>Procedure&nbsp;11.3.&nbsp;Configure Database Connection Validation Settings</strong></p><ol class="1"><li class="step"><p class="title"><strong>Choose a Validation Method</strong></p><div class="para">
				Select one of the following validation methods.
			</div><ul class="stepalternatives">
				<li class="step"><p class="title"><strong>&lt;validate-on-match&gt;true&lt;/validate-on-match&gt;</strong></p><div class="para">
						When the <code class="literal">&lt;validate-on-match&gt;</code> option is set to <code class="literal">true</code>, the database connection is validated every time it is checked out from the connection pool using the validation mechanism specified in the next step.
					</div><div class="para">
						If a connection is not valid, a warning is written to the log and it retrieves the next connection in the pool. This process continues until a valid connection is found. If you prefer not to cycle through every connection in the pool, you can use the <code class="literal">&lt;use-fast-fail&gt;</code> option. If a valid connection is not found in the pool, a new connection is created. If the connection creation fails, an exception is returned to the requesting application.
					</div><div class="para">
						This setting results in the quickest recovery but creates the highest load on the database. However, this is the safest selection if the minimal performance hit is not a concern.
					</div></li>
				 <li class="step"><p class="title"><strong>&lt;background-validation&gt;true&lt;/background-validation&gt;</strong></p><div class="para">
						When the <code class="literal">&lt;background-validation&gt;</code> option is set to <code class="literal">true</code>, it is used in combination with the <code class="literal">&lt;background-validation-millis&gt;</code> value to determine how often background validation runs. The default value for the <code class="literal">&lt;background-validation-millis&gt;</code> parameter is 0 milliseconds, meaning it is disabled by default. This value should not be set to the same value as your <code class="literal">&lt;idle-timeout-minutes&gt;</code> setting.
					</div><div class="para">
						It is a balancing act to determine the optimum <code class="literal">&lt;background-validation-millis&gt;</code> value for a particular system. The lower the value, the more frequently the pool is validated and the sooner invalid connections are removed from the pool. However, lower values take more database resources. Higher values result in less frequent connection validation checks and use less database resources, but dead connections are undetected for longer periods of time.
					</div></li>

			</ul><div class="note"><div class="admonition_header"><p><strong>Note</strong></p></div><div class="admonition"><div class="para">
					If the <code class="literal">&lt;validate-on-match&gt;</code> option is set to <code class="literal">true</code>, the <code class="literal">&lt;background-validation&gt;</code> option should be set to <code class="literal">false</code>. The reverse is also true. If the <code class="literal">&lt;background-validation&gt;</code> option is set to <code class="literal">true</code>, the <code class="literal">&lt;validate-on-match&gt;</code> option should be set to <code class="literal">false</code>.
				</div></div></div></li><li class="step"><p class="title"><strong>Choose a Validation Mechanism</strong></p><div class="para">
				Select one of the following validation mechanisms.
			</div><ul class="stepalternatives">
				<li class="step"><p class="title"><strong>Specify a &lt;valid-connection-checker&gt; Class Name</strong></p><div class="para">
						This is the preferred mechanism as it optimized for the particular RDBMS in use. JBoss EAP 6 provides the following connection checkers: 
						<div class="itemizedlist"><ul><li class="listitem"><div class="para">
									org.jboss.jca.adapters.jdbc.extensions.db2.DB2ValidConnectionChecker
								</div></li><li class="listitem"><div class="para">
									org.jboss.jca.adapters.jdbc.extensions.mssql.MSSQLValidConnectionChecker
								</div></li><li class="listitem"><div class="para">
									org.jboss.jca.adapters.jdbc.extensions.mysql.MySQLReplicationValidConnectionChecker
								</div></li><li class="listitem"><div class="para">
									org.jboss.jca.adapters.jdbc.extensions.mysql.MySQLValidConnectionChecker
								</div></li><li class="listitem"><div class="para">
									org.jboss.jca.adapters.jdbc.extensions.novendor.JDBC4ValidConnectionChecker
								</div></li><li class="listitem"><div class="para">
									org.jboss.jca.adapters.jdbc.extensions.novendor.NullValidConnectionChecker
								</div></li><li class="listitem"><div class="para">
									org.jboss.jca.adapters.jdbc.extensions.oracle.OracleValidConnectionChecker
								</div></li><li class="listitem"><div class="para">
									org.jboss.jca.adapters.jdbc.extensions.postgres.PostgreSQLValidConnectionChecker
								</div></li><li class="listitem"><div class="para">
									org.jboss.jca.adapters.jdbc.extensions.sybase.SybaseValidConnectionChecker
								</div></li></ul></div>

					</div></li>
				 <li class="step"><p class="title"><strong>Specify SQL for &lt;check-valid-connection-sql&gt;</strong></p><div class="para">
						You provide the SQL statement used to validate the connection.
					</div><div class="para">
						The following is an example of how you might specify a SQL statement to validate a connection for Oracle: 
<pre class="programlisting"><span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;check-valid-connection-sql&gt;</span>select 1 from dual<span xmlns="" class="perl_Keyword">&lt;/check-valid-connection-sql&gt;</span></pre>
						 For MySQL or PostgreSQL, you might specify the following SQL statement: 
<pre class="programlisting"><span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;check-valid-connection-sql&gt;</span>select 1<span xmlns="" class="perl_Keyword">&lt;/check-valid-connection-sql&gt;</span></pre>

					</div></li>

			</ul></li><li class="step"><p class="title"><strong>Set the &lt;exception-sorter&gt; Class Name</strong></p><div class="para">
				When an exception is marked as fatal, the connection is closed immediately, even if the connection is participating in a transaction. Use the exception sorter class option to properly detect and clean up after fatal connection exceptions. JBoss EAP 6 provides the following exception sorters: 
				<div class="itemizedlist"><ul><li class="listitem"><div class="para">
							org.jboss.jca.adapters.jdbc.extensions.db2.DB2ExceptionSorter
						</div></li><li class="listitem"><div class="para">
							org.jboss.jca.adapters.jdbc.extensions.informix.InformixExceptionSorter
						</div></li><li class="listitem"><div class="para">
							org.jboss.jca.adapters.jdbc.extensions.mysql.MySQLExceptionSorter
						</div></li><li class="listitem"><div class="para">
							org.jboss.jca.adapters.jdbc.extensions.novendor.NullExceptionSorter
						</div></li><li class="listitem"><div class="para">
							org.jboss.jca.adapters.jdbc.extensions.oracle.OracleExceptionSorter
						</div></li><li class="listitem"><div class="para">
							org.jboss.jca.adapters.jdbc.extensions.postgres.PostgreSQLExceptionSorter
						</div></li><li class="listitem"><div class="para">
							org.jboss.jca.adapters.jdbc.extensions.sybase.SybaseExceptionSorter
						</div></li></ul></div>

			</div></li></ol></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+41672-707039+%5BLatest%5D&comment=Title%3A+Configure+Database+Connection+Validation+Settings%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=41672-707039+08+Sep+2014+10%3A42+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="Datasource_Parameters1">
      ⁠</a>11.6.2.6.&nbsp;Datasource Parameters</h4></div></div></div><div class="table"><a id="idp30169680">
      ⁠</a><p class="title"><strong>Table&nbsp;11.1.&nbsp;Datasource parameters common to non-XA and XA datasources</strong></p><div class="table-contents"><table xmlns:d="http://docbook.org/ns/docbook" class="lt-4-cols gt-7-rows" summary="Datasource parameters common to non-XA and XA datasources"><colgroup><col width="50%" align="left" class="c1"><col width="50%" align="left" class="c2"></colgroup><thead><tr><th align="left"> Parameter </th><th align="left"> Description </th></tr></thead><tbody><tr><td align="left"> jndi-name </td><td align="left"> The unique JNDI name for the datasource. </td></tr><tr><td align="left"> pool-name </td><td align="left"> The name of the management pool for the datasource. </td></tr><tr><td align="left"> enabled </td><td align="left"> Whether or not the datasource is enabled. </td></tr><tr><td align="left"> use-java-context </td><td align="left"> <div class="para">
						Whether to bind the datasource to global JNDI.
					</div>
					 </td></tr><tr><td align="left"> spy </td><td align="left"> <div class="para">
						Enable <code class="literal">spy</code> functionality on the JDBC layer. This logs all JDBC traffic to the datasource. Note that the logging category <code class="literal">jboss.jdbc.spy</code> must also be set to the log level <code class="literal">DEBUG</code> in the logging subsystem.
					</div>
					 </td></tr><tr><td align="left"> use-ccm </td><td align="left"> Enable the cached connection manager. </td></tr><tr><td align="left"> new-connection-sql </td><td align="left"> A SQL statement which executes when the connection is added to the connection pool. </td></tr><tr><td align="left"> transaction-isolation </td><td align="left"> <div class="para">
						One of the following:
					</div>
					 <div class="itemizedlist"><ul><li class="listitem"><div class="para">
								TRANSACTION_READ_UNCOMMITTED
							</div></li><li class="listitem"><div class="para">
								TRANSACTION_READ_COMMITTED
							</div></li><li class="listitem"><div class="para">
								TRANSACTION_REPEATABLE_READ
							</div></li><li class="listitem"><div class="para">
								TRANSACTION_SERIALIZABLE
							</div></li><li class="listitem"><div class="para">
								TRANSACTION_NONE
							</div></li></ul></div>
					 </td></tr><tr><td align="left"> url-selector-strategy-class-name </td><td align="left"> A class that implements interface <code class="code">org.jboss.jca.adapters.jdbc.URLSelectorStrategy</code>. </td></tr><tr><td align="left"> security </td><td align="left"> <div class="para">
						Contains child elements which are security settings. See <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Topic2772-security">Table&nbsp;11.6, “Security parameters”</a>.
					</div>
					 </td></tr><tr><td align="left"> validation </td><td align="left"> <div class="para">
						Contains child elements which are validation settings. See <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Topic2772-validation">Table&nbsp;11.7, “Validation parameters”</a>.
					</div>
					 </td></tr><tr><td align="left"> timeout </td><td align="left"> <div class="para">
						Contains child elements which are timeout settings. See <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Topic2772-timeout">Table&nbsp;11.8, “Timeout parameters”</a>.
					</div>
					 </td></tr><tr><td align="left"> statement </td><td align="left"> <div class="para">
						Contains child elements which are statement settings. See <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Topic2772-statement">Table&nbsp;11.9, “Statement parameters”</a>.
					</div>
					 </td></tr></tbody></table></div></div><div class="table"><a id="idp1312448">
      ⁠</a><p class="title"><strong>Table&nbsp;11.2.&nbsp;Non-XA datasource parameters</strong></p><div class="table-contents"><table xmlns:d="http://docbook.org/ns/docbook" class="lt-4-cols lt-7-rows" summary="Non-XA datasource parameters"><colgroup><col width="50%" align="left" class="c1"><col width="50%" align="left" class="c2"></colgroup><thead><tr><th align="left"> Parameter </th><th align="left"> Description </th></tr></thead><tbody><tr><td align="left"> jta </td><td align="left"> Enable JTA integration for non-XA datasources. Does not apply to XA datasources. </td></tr><tr><td align="left"> connection-url </td><td align="left"> The JDBC driver connection URL. </td></tr><tr><td align="left"> driver-class </td><td align="left"> The fully-qualified name of the JDBC driver class. </td></tr><tr><td align="left"> connection-property </td><td align="left"> <div class="para">
						Arbitrary connection properties passed to the method <code class="code">Driver.connect(url,props)</code>. Each connection-property specifies a string name/value pair. The property name comes from the name, and the value comes from the element content.
					</div>
					 </td></tr><tr><td align="left"> pool </td><td align="left"> <div class="para">
						Contains child elements which are pooling settings. See <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Topic2772-pooling">Table&nbsp;11.4, “Pool parameters common to non-XA and XA datasources”</a>.
					</div>
					 </td></tr><tr><td align="left"> url-delimiter </td><td align="left"> <div class="para">
						The delimiter for URLs in a connection-url for High Availability (HA) clustered databases.
					</div>
					 </td></tr></tbody></table></div></div><div class="table"><a id="idp25676560">
      ⁠</a><p class="title"><strong>Table&nbsp;11.3.&nbsp;XA datasource parameters</strong></p><div class="table-contents"><table xmlns:d="http://docbook.org/ns/docbook" class="lt-4-cols lt-7-rows" summary="XA datasource parameters"><colgroup><col width="50%" align="left" class="c1"><col width="50%" align="left" class="c2"></colgroup><thead><tr><th align="left"> Parameter </th><th align="left"> Description </th></tr></thead><tbody><tr><td align="left"> xa-datasource-property </td><td align="left"> <div class="para">
						A property to assign to implementation class <code class="classname">XADataSource</code>. Specified by <em class="replaceable">name</em>=<em class="replaceable">value</em>. If a setter method exists, in the format <code class="code">set<em class="replaceable">Name</em></code>, the property is set by calling a setter method in the format of <code class="code">set<em class="replaceable">Name</em>(<em class="replaceable">value</em>)</code>.
					</div>
					 </td></tr><tr><td align="left"> xa-datasource-class </td><td align="left"> <div class="para">
						The fully-qualified name of the implementation class <code class="code">javax.sql.XADataSource</code>.
					</div>
					 </td></tr><tr><td align="left"> driver </td><td align="left"> <div class="para">
						A unique reference to the classloader module which contains the JDBC driver. The accepted format is <em class="replaceable">driverName</em>#<em class="replaceable">majorVersion</em>.<em class="replaceable">minorVersion</em>.
					</div>
					 </td></tr><tr><td align="left"> xa-pool </td><td align="left"> <div class="para">
						Contains child elements which are pooling settings. See <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Topic2772-pooling">Table&nbsp;11.4, “Pool parameters common to non-XA and XA datasources”</a> and <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Topic2772-xa-pooling">Table&nbsp;11.5, “XA pool parameters”</a>.
					</div>
					 </td></tr><tr><td align="left"> recovery </td><td align="left"> <div class="para">
						Contains child elements which are recovery settings. See <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Topic2772-recovery">Table&nbsp;11.10, “Recovery parameters”</a>.
					</div>
					 </td></tr></tbody></table></div></div><div class="table"><a id="Topic2772-pooling">
      ⁠</a><p class="title"><strong>Table&nbsp;11.4.&nbsp;Pool parameters common to non-XA and XA datasources</strong></p><div class="table-contents"><table xmlns:d="http://docbook.org/ns/docbook" class="lt-4-cols lt-7-rows" summary="Pool parameters common to non-XA and XA datasources"><colgroup><col width="50%" align="left" class="c1"><col width="50%" align="left" class="c2"></colgroup><thead><tr><th align="left"> Parameter </th><th align="left"> Description </th></tr></thead><tbody><tr><td align="left"> min-pool-size </td><td align="left"> The minimum number of connections a pool holds. </td></tr><tr><td align="left"> max-pool-size </td><td align="left"> The maximum number of connections a pool can hold. </td></tr><tr><td align="left"> prefill </td><td align="left"> Whether to try to prefill the connection pool. An empty element denotes a <code class="literal">true</code> value. The default is <code class="literal">false</code>. </td></tr><tr><td align="left"> use-strict-min </td><td align="left"> Whether the pool-size is strict. Defaults to <code class="literal">false</code>. </td></tr><tr><td align="left"> flush-strategy </td><td align="left"> <div class="para">
						Whether the pool is flushed in the case of an error. Valid values are:
					</div>
					 <div class="itemizedlist"><ul><li class="listitem"><div class="para">
								FailingConnectionOnly
							</div></li><li class="listitem"><div class="para">
								IdleConnections
							</div></li><li class="listitem"><div class="para">
								EntirePool
							</div></li></ul></div>
					 <div class="para">
						The default is <code class="literal">FailingConnectionOnly</code>.
					</div>
					 </td></tr><tr><td align="left"> allow-multiple-users </td><td align="left"> Specifies if multiple users will access the datasource through the getConnection(user, password) method, and whether the internal pool type accounts for this behavior. </td></tr></tbody></table></div></div><div class="table"><a id="Topic2772-xa-pooling">
      ⁠</a><p class="title"><strong>Table&nbsp;11.5.&nbsp;XA pool parameters</strong></p><div class="table-contents"><table xmlns:d="http://docbook.org/ns/docbook" class="lt-4-cols lt-7-rows" summary="XA pool parameters"><colgroup><col width="50%" align="left" class="c1"><col width="50%" align="left" class="c2"></colgroup><thead><tr><th align="left"> Parameter </th><th align="left"> Description </th></tr></thead><tbody><tr><td align="left"> is-same-rm-override </td><td align="left"> Whether the <code class="classname">javax.transaction.xa.XAResource.isSameRM(XAResource)</code> class returns <code class="literal">true</code> or <code class="literal">false</code>. </td></tr><tr><td align="left"> interleaving </td><td align="left"> Whether to enable interleaving for XA connection factories. </td></tr><tr><td align="left"> no-tx-separate-pools </td><td align="left"> <div class="para">
						Whether to create separate sub-pools for each context. This is required for Oracle datasources, which do not allow XA connections to be used both inside and outside of a JTA transaction.
					</div>
					 <div class="para">
						Using this option will cause your total pool size to be twice <code class="literal">max-pool-size</code>, because two actual pools will be created.
					</div>
					 </td></tr><tr><td align="left"> pad-xid </td><td align="left"> Whether to pad the Xid. </td></tr><tr><td align="left"> wrap-xa-resource </td><td align="left"> <div class="para">
						Whether to wrap the XAResource in an <code class="code">org.jboss.tm.XAResourceWrapper</code> instance.
					</div>
					 </td></tr></tbody></table></div></div><div class="table"><a id="Topic2772-security">
      ⁠</a><p class="title"><strong>Table&nbsp;11.6.&nbsp;Security parameters</strong></p><div class="table-contents"><table xmlns:d="http://docbook.org/ns/docbook" class="lt-4-cols lt-7-rows" summary="Security parameters"><colgroup><col width="50%" align="left" class="c1"><col width="50%" align="left" class="c2"></colgroup><thead><tr><th align="left"> Parameter </th><th align="left"> Description </th></tr></thead><tbody><tr><td align="left"> user-name </td><td align="left"> The username to use to create a new connection. </td></tr><tr><td align="left"> password </td><td align="left"> The password to use to create a new connection. </td></tr><tr><td align="left"> security-domain </td><td align="left"> Contains the name of a JAAS security-manager which handles authentication. This name correlates to the application-policy/name attribute of the JAAS login configuration. </td></tr><tr><td align="left"> reauth-plugin </td><td align="left"> Defines a reauthentication plug-in to use to reauthenticate physical connections. </td></tr></tbody></table></div></div><div class="table"><a id="Topic2772-validation">
      ⁠</a><p class="title"><strong>Table&nbsp;11.7.&nbsp;Validation parameters</strong></p><div class="table-contents"><table xmlns:d="http://docbook.org/ns/docbook" class="lt-4-cols gt-7-rows" summary="Validation parameters"><colgroup><col width="50%" align="left" class="c1"><col width="50%" align="left" class="c2"></colgroup><thead><tr><th align="left"> Parameter </th><th align="left"> Description </th></tr></thead><tbody><tr><td align="left"> valid-connection-checker </td><td align="left"> <div class="para">
						An implementation of interface <code class="code">org.jboss.jca.adaptors.jdbc.ValidConnectionChecker</code> which provides a <code class="code">SQLException.isValidConnection(Connection e)</code> method to validate a connection. An exception means the connection is destroyed. This overrides the parameter <code class="literal">check-valid-connection-sql</code> if it is present.
					</div>
					 </td></tr><tr><td align="left"> check-valid-connection-sql </td><td align="left"> An SQL statement to check validity of a pool connection. This may be called when a managed connection is taken from a pool for use. </td></tr><tr><td align="left"> validate-on-match </td><td align="left"> <div class="para">
						Indicates whether connection level validation is performed when a connection factory attempts to match a managed connection for a given set.
					</div>
					 <div class="para">
						Specifying "true" for <code class="literal">validate-on-match</code> is typically not done in conjunction with specifying "true" for <code class="literal">background-validation</code>. <code class="literal">Validate-on-match</code> is needed when a client must have a connection validated prior to use. This parameter is false by default.
					</div>
					 </td></tr><tr><td align="left"> background-validation </td><td align="left"> <div class="para">
						Specifies that connections are validated on a background thread. Background validation is a performance optimization when not used with <code class="literal">validate-on-match</code>. If <code class="literal">validate-on-match</code> is true, using <code class="literal">background-validation</code> could result in redundant checks. Background validation does leave open the opportunity for a bad connection to be given to the client for use (a connection goes bad between the time of the validation scan and prior to being handed to the client), so the client application must account for this possibility.
					</div>
					 </td></tr><tr><td align="left"> background-validation-millis </td><td align="left"> The amount of time, in milliseconds, that background validation runs. </td></tr><tr><td align="left"> use-fast-fail </td><td align="left"> <div class="para">
						If true, fail a connection allocation on the first attempt, if the connection is invalid. Defaults to <code class="literal">false</code>.
					</div>
					 </td></tr><tr><td align="left"> stale-connection-checker </td><td align="left"> <div class="para">
						An instance of <code class="code">org.jboss.jca.adapters.jdbc.StaleConnectionChecker</code> which provides a Boolean <code class="code">isStaleConnection(SQLException e)</code> method. If this method returns <code class="literal">true</code>, the exception is wrapped in an <code class="code">org.jboss.jca.adapters.jdbc.StaleConnectionException</code>, which is a subclass of <code class="code">SQLException</code>.
					</div>
					 </td></tr><tr><td align="left"> exception-sorter </td><td align="left"> <div class="para">
						An instance of <code class="code">org.jboss.jca.adapters.jdbc.ExceptionSorter</code> which provides a Boolean <code class="code">isExceptionFatal(SQLException e)</code> method. This method validates whether an exception is broadcast to all instances of <code class="code">javax.resource.spi.ConnectionEventListener</code> as a <code class="literal">connectionErrorOccurred</code> message.
					</div>
					 </td></tr></tbody></table></div></div><div class="table"><a id="Topic2772-timeout">
      ⁠</a><p class="title"><strong>Table&nbsp;11.8.&nbsp;Timeout parameters</strong></p><div class="table-contents"><table xmlns:d="http://docbook.org/ns/docbook" class="lt-4-cols gt-7-rows" summary="Timeout parameters"><colgroup><col width="50%" align="left" class="c1"><col width="50%" align="left" class="c2"></colgroup><thead><tr><th align="left"> Parameter </th><th align="left"> Description </th></tr></thead><tbody><tr><td align="left"> use-try-lock </td><td align="left"> Uses <code class="code">tryLock()</code> instead of <code class="code">lock()</code>. This attempts to obtain the lock for the configured number of seconds, before timing out, rather than failing immediately if the lock is unavailable. Defaults to <code class="literal">60</code> seconds. As an example, to set a timeout of 5 minutes, set <code class="code">&lt;use-try-lock&gt;</code>300<code class="code">&lt;/use-try-lock&gt;</code>. </td></tr><tr><td align="left"> blocking-timeout-millis </td><td align="left"> The maximum time, in milliseconds, to block while waiting for a connection. After this time is exceeded, an exception is thrown. This blocks only while waiting for a permit for a connection, and does not throw an exception if creating a new connection takes a long time. Defaults to 30000, which is 30 seconds. </td></tr><tr><td align="left"> idle-timeout-minutes </td><td align="left"> <div class="para">
						The maximum time, in minutes, before an idle connection is closed. The actual maximum time depends upon the idleRemover scan time, which is half of the smallest <code class="literal">idle-timeout-minutes</code> of any pool.
					</div>
					 </td></tr><tr><td align="left"> set-tx-query-timeout </td><td align="left"> <div class="para">
						Whether to set the query timeout based on the time remaining until transaction timeout. Any configured query timeout is used if no transaction exists. Defaults to <code class="literal">false</code>.
					</div>
					 </td></tr><tr><td align="left"> query-timeout </td><td align="left"> Timeout for queries, in seconds. The default is no timeout. </td></tr><tr><td align="left"> allocation-retry </td><td align="left"> The number of times to retry allocating a connection before throwing an exception. The default is <code class="literal">0</code>, so an exception is thrown upon the first failure. </td></tr><tr><td align="left"> allocation-retry-wait-millis </td><td align="left"> <div class="para">
						How long, in milliseconds, to wait before retrying to allocate a connection. The default is 5000, which is 5 seconds.
					</div>
					 </td></tr><tr><td align="left"> xa-resource-timeout </td><td align="left"> <div class="para">
						If non-zero, this value is passed to method <code class="code">XAResource.setTransactionTimeout</code>.
					</div>
					 </td></tr></tbody></table></div></div><div class="table"><a id="Topic2772-statement">
      ⁠</a><p class="title"><strong>Table&nbsp;11.9.&nbsp;Statement parameters</strong></p><div class="table-contents"><table xmlns:d="http://docbook.org/ns/docbook" class="lt-4-cols lt-7-rows" summary="Statement parameters"><colgroup><col width="50%" align="left" class="c1"><col width="50%" align="left" class="c2"></colgroup><thead><tr><th align="left"> Parameter </th><th align="left"> Description </th></tr></thead><tbody><tr><td align="left"> track-statements </td><td align="left"> <div class="para">
						Whether to check for unclosed statements when a connection is returned to a pool and a statement is returned to the prepared statement cache. If false, statements are not tracked.
					</div>
					 <div class="itemizedlist"><p class="title"><strong>Valid values</strong></p><ul><li class="listitem"><div class="para">
								<code class="literal">true</code>: statements and result sets are tracked, and a warning is issued if they are not closed.
							</div></li><li class="listitem"><div class="para">
								<code class="literal">false</code>: neither statements or result sets are tracked.
							</div></li><li class="listitem"><div class="para">
								<code class="literal">nowarn</code>: statements are tracked but no warning is issued. This is the default.
							</div></li></ul></div>
					 </td></tr><tr><td align="left"> prepared-statement-cache-size </td><td align="left"> The number of prepared statements per connection, in a Least Recently Used (LRU) cache. </td></tr><tr><td align="left"> share-prepared-statements </td><td align="left"> <div class="para">
						Whether asking for the same statement twice without closing it uses the same underlying prepared statement. The default is <code class="literal">false</code>.
					</div>
					 </td></tr></tbody></table></div></div><div class="table"><a id="Topic2772-recovery">
      ⁠</a><p class="title"><strong>Table&nbsp;11.10.&nbsp;Recovery parameters</strong></p><div class="table-contents"><table xmlns:d="http://docbook.org/ns/docbook" class="lt-4-cols lt-7-rows" summary="Recovery parameters"><colgroup><col width="50%" align="left" class="c1"><col width="50%" align="left" class="c2"></colgroup><thead><tr><th align="left"> Parameter </th><th align="left"> Description </th></tr></thead><tbody><tr><td align="left"> recover-credential </td><td align="left"> A username/password pair or security domain to use for recovery. </td></tr><tr><td align="left"> recover-plugin </td><td align="left"> <div class="para">
						An implementation of the <code class="code">org.jboss.jca.core.spi.recoveryRecoveryPlugin</code> class, to be used for recovery.
					</div>
					 </td></tr></tbody></table></div></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+2772-712280+%5BLatest%5D&comment=Title%3A+Datasource+Parameters%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=2772-712280+23+Sep+2014+16%3A29+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="sect-Transaction_Logging">
      ⁠</a>11.6.3.&nbsp;Transaction Logging</h3></div></div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="About_Transaction_Log_Messages">
      ⁠</a>11.6.3.1.&nbsp;About Transaction Log Messages</h4></div></div></div><div class="para">
		To track transaction status while keeping the log files readable, use the <code class="code">DEBUG</code> log level for the transaction logger. For detailed debugging, use the <code class="code">TRACE</code> log level. Refer to <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Configure_Logging_for_the_Transaction_Subsystem1">Section&nbsp;11.6.3.2, “Configure Logging for the Transaction Subsystem”</a> for information on configuring the transaction logger.
	</div><div class="para">
		The transaction manager can generate a lot of logging information when configured to log in the <code class="code">TRACE</code> log level. Following are some of the most commonly-seen messages. This list is not comprehensive, so you may see other messages than these.
	</div><div class="table"><a id="idp21864800">
      ⁠</a><p class="title"><strong>Table&nbsp;11.11.&nbsp;Transaction State Change</strong></p><div class="table-contents"><table xmlns:d="http://docbook.org/ns/docbook" class="lt-4-cols lt-7-rows" summary="Transaction State Change"><colgroup><col><col></colgroup><tbody><tr><td> Transaction Begin </td><td> <div class="para">
						When a transaction begins, the following code is executed:
					</div>
					 
<pre class="screen">com.arjuna.ats.arjuna.coordinator.BasicAction::Begin:1342</pre>
					 
<pre class="screen">tsLogger.logger.trace("BasicAction::Begin() for action-id "+ get_uid());</pre>
					 </td></tr><tr><td> Transaction Commit </td><td> <div class="para">
						When a transaction commits, the following code is executed:
					</div>
					 
<pre class="screen">com.arjuna.ats.arjuna.coordinator.BasicAction::End:1342</pre>
					 
<pre class="screen">tsLogger.logger.trace("BasicAction::End() for action-id "+ get_uid());</pre>
					 </td></tr><tr><td> Transaction Rollback </td><td> <div class="para">
						When a transaction rolls back, the following code is executed:
					</div>
					 
<pre class="screen">com.arjuna.ats.arjuna.coordinator.BasicAction::Abort:1575</pre>
					 
<pre class="screen">tsLogger.logger.trace("BasicAction::Abort() for action-id "+ get_uid());</pre>
					 </td></tr><tr><td> Transaction Timeout </td><td> <div class="para">
						When a transaction times out, the following code is executed:
					</div>
					 
<pre class="screen">com.arjuna.ats.arjuna.coordinator.TransactionReaper::doCancellations:349</pre>
					 
<pre class="screen">tsLogger.logger.trace("Reaper Worker " + Thread.currentThread() + " attempting to cancel " + e._control.get_uid());</pre>
					 <div class="para">
						You will then see the same thread rolling back the transaction as shown above.
					</div>
					 </td></tr></tbody></table></div></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+9018-591860+%5BLatest%5D&comment=Title%3A+About+Transaction+Log+Messages%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=9018-591860+24+Feb+2014+07%3A55+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="Configure_Logging_for_the_Transaction_Subsystem1">
      ⁠</a>11.6.3.2.&nbsp;Configure Logging for the Transaction Subsystem</h4></div></div></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Summary</div>
			Use this procedure to control the amount of information logged about transactions, independent of other logging settings in JBoss EAP 6. The main procedure shows how to do this in the web-based Management Console. The Management CLI command is given afterward.
		</div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idp19663840">
      ⁠</a><p class="title"><strong>Procedure&nbsp;11.4.&nbsp;Configure the Transaction Logger Using the Management Console</strong></p><ol class="1"><li class="step"><p class="title"><strong>Navigate to the Logging configuration area.</strong></p><div class="para">
				In the Management Console, click the <span class="guilabel"><strong>Configuration</strong></span> tab. If you use a managed domain, choose the server profile you wish to configure, from the <span class="guilabel"><strong>Profile</strong></span> selection box at the top left.
			</div><div class="para">
				Expand the <span class="guilabel"><strong>Core</strong></span> menu, and select <span class="guilabel"><strong>Logging</strong></span>.
			</div></li><li class="step"><p class="title"><strong>Edit the <code class="code">com.arjuna</code> attributes.</strong></p><div class="para">
				Select the <span class="guilabel"><strong>Log Categories</strong></span> tab. Select <code class="code">com.arjuna</code> and lick <span class="guilabel"><strong>Edit</strong></span> in the <span class="guilabel"><strong>Details</strong></span> section. This is where you can add class-specific logging information. The <code class="code">com.arjuna</code> class is already present. You can change the log level and whether to use parent handlers.
			</div><div class="variablelist"><dl class="variablelist"><dt><span class="term">Log Level</span></dt><dd><div class="para">
							The log level is <code class="literal">WARN</code> by default. Because transactions can produce a large quantity of logging output, the meaning of the standard logging levels is slightly different for the transaction logger. In general, messages tagged with levels at a lower severity than the chosen level are discarded.
						</div><div class="itemizedlist"><p class="title"><strong>Transaction Logging Levels, from Most to Least Verbose</strong></p><ul><li class="listitem"><div class="para">
									TRACE
								</div></li><li class="listitem"><div class="para">
									DEBUG
								</div></li><li class="listitem"><div class="para">
									INFO
								</div></li><li class="listitem"><div class="para">
									WARN
								</div></li><li class="listitem"><div class="para">
									ERROR
								</div></li><li class="listitem"><div class="para">
									FAILURE
								</div></li></ul></div></dd><dt><span class="term">Use Parent Handlers</span></dt><dd><div class="para">
							Whether the logger should send its output to its parent logger. The default behavior is <code class="literal">true</code>.
						</div></dd></dl></div></li><li class="step"><div class="para">
				Changes take effect immediately.
			</div></li></ol></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4311-632600+%5BLatest%5D&comment=Title%3A+Configure+Logging+for+the+Transaction+Subsystem%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4311-632600+22+Apr+2014+11%3A48+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="Browse_and_Manage_Transactions">
      ⁠</a>11.6.3.3.&nbsp;Browse and Manage Transactions</h4></div></div></div><div class="para">
		The management CLI supports the ability to browse and manipulate transaction records. This functionality is provided by the interaction between the Transaction Manager and the management API of JBoss EAP 6.
	</div><div class="para">
		The Transaction Manager stores information about each pending transaction and the participants involved the transaction, in a persistent storage called the <em class="firstterm">object store</em>. The management API exposes the object store as a resource called the <code class="code">log-store</code>. An API operation called <code class="code">probe</code> reads the transaction logs and creates a node for each log. You can call the <code class="code">probe</code> command manually, whenever you need to refresh the <code class="code">log-store</code>. It is normal for transaction logs to appear and disappear quickly.
	</div><div class="example"><a id="refresh_log_store">
      ⁠</a><p class="title"><strong>Example&nbsp;11.2.&nbsp;Refresh the Log Store</strong></p><div class="example-contents"><div class="para">
			This command refreshes the log store for server groups which use the profile <code class="literal">default</code> in a managed domain. For a standalone server, remove the <code class="literal">profile=default</code> from the command.
		</div><pre class="screen">/profile=default/subsystem=transactions/log-store=log-store/:probe</pre></div></div><div class="example"><a id="idp17840016">
      ⁠</a><p class="title"><strong>Example&nbsp;11.3.&nbsp;View All Prepared Transactions</strong></p><div class="example-contents"><div class="para">
			To view all prepared transactions, first refresh the log store (see <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#refresh_log_store">Example&nbsp;11.2, “Refresh the Log Store”</a>), then run the following command, which functions similarly to a filesystem <code class="command">ls</code> command.
		</div><pre class="screen">ls /profile=default/subsystem=transactions/log-store=log-store/transactions</pre><div class="para">
			Each transaction is shown, along with its unique identifier. Individual operations can be run against an individual transaction (see <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#manage_transaction">Manage a Transaction</a>).
		</div></div></div><div class="variablelist"><a id="manage_transaction">
      ⁠</a><p class="title"><strong>Manage a Transaction</strong></p><dl class="variablelist"><dt><span class="term">View a transaction's attributes.</span></dt><dd><div class="para">
					To view information about a transaction, such as its JNDI name, EIS product name and version, or its status, use the <code class="code">:read-resource</code> CLI command.
				</div><pre class="screen">/profile=default/subsystem=transactions/log-store=log-store/transactions=<em class="replaceable">0\:ffff7f000001\:-b66efc2\:4f9e6f8f\:9</em>:read-resource</pre></dd><dt><span class="term">View the participants of a transaction.</span></dt><dd><div class="para">
					Each transaction log contains a child element called <code class="code">participants</code>. Use the <code class="code">read-resource</code> CLI command on this element to see the participants of the transaction. Participants are identified by their JNDI names.
				</div><pre class="screen">/profile=default/subsystem=transactions/log-store=log-store/transactions=<em class="replaceable">0\:ffff7f000001\:-b66efc2\:4f9e6f8f\:9</em>/participants=<em class="replaceable">java\:\/JmsXA</em>:read-resource</pre><div class="para">
					The result may look similar to this:
				</div><pre class="screen">{
   "outcome" =&gt; "success",
   "result" =&gt; {
       "eis-product-name" =&gt; "HornetQ",
       "eis-product-version" =&gt; "2.0",
       "jndi-name" =&gt; "java:/JmsXA",
       "status" =&gt; "HEURISTIC",
       "type" =&gt; "/StateManager/AbstractRecord/XAResourceRecord"
   }
}
</pre><div class="para">
					The outcome status shown here is in a <code class="code">HEURISTIC</code> state and is eligible for recover. See <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#recover_transaction">Recover a transaction.</a> for more details.
				</div></dd><dt><span class="term">Delete a transaction.</span></dt><dd><div class="para">
					Each transaction log supports a <code class="code">:delete</code> operation, to delete the transaction log representing the transaction.
				</div><pre class="screen">/profile=default/subsystem=transactions/log-store=log-store/transactions=<em class="replaceable">0\:ffff7f000001\:-b66efc2\:4f9e6f8f\:9</em>:delete</pre></dd><dt><a id="recover_transaction">
      ⁠</a><span class="term">Recover a transaction.</span></dt><dd><div class="para">
					Each transaction log supports recovery via the <code class="code">:recover</code> CLI command.
				</div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><p class="title"><strong>Recovery of Heuristic Transactions and Participants</strong></p><ul><li class="listitem"><div class="para">
							If the transaction's status is <code class="literal">HEURISTIC</code>, the recovery operation changes the state to <code class="literal">PREPARE</code> and triggers a recovery.
						</div></li><li class="listitem"><div class="para">
							If one of the transaction's participants is heuristic, the recovery operation tries to replay the <code class="code">commit</code> operation. If successful, the participant is removed from the transaction log. You can verify this by re-running the <code class="code">:probe</code> operation on the <code class="code">log-store</code> and checking that the participant is no longer listed. If this is the last participant, the transaction is also deleted.
						</div></li></ul></div></dd><dt><span class="term">Refresh the status of a transaction which needs recovery.</span></dt><dd><div class="para">
					If a transaction needs recovery, you can use the <code class="code">:refresh</code> CLI command to be sure it still requires recovery, before attempting the recovery.
				</div><pre class="screen">/profile=default/subsystem=transactions/log-store=log-store/transactions=0\:ffff7f000001\:-b66efc2\:4f9e6f8f\:9/participants=2:refresh</pre></dd></dl></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">View Transaction Statistics</div>
			If Transaction Manager statistics are enabled, you can view statistics about the Transaction Manager and transaction subsystem. See <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Configure_the_Transaction_Manager1">Section&nbsp;11.7.8.2, “Configure the Transaction Manager”</a>  for information about how to enable Transaction Manager statistics.
		</div><div class="para">
		You can view statistics either via the management console or the management CLI. In the management console, transaction statistics are available via <span class="guimenu"><strong>Runtime</strong></span> → <span class="guimenuitem"><strong>Status</strong></span> → <span class="guimenuitem"><strong>Subsystems</strong></span> → <span class="guimenuitem"><strong>Transactions</strong></span>. Transaction statistics are available for each server in a managed domain. To view the status of a different server, select <span class="guilabel"><strong>Change Server</strong></span> in the left-hand menu and select the server from the list.
	</div><div class="para">
		The following table shows each available statistic, its description, and the management CLI command to view the statistic.
	</div><div class="table"><a id="idp919616">
      ⁠</a><p class="title"><strong>Table&nbsp;11.12.&nbsp;Transaction Subsystem Statistics</strong></p><div class="table-contents"><table xmlns:d="http://docbook.org/ns/docbook" class="lt-4-cols gt-7-rows" summary="Transaction Subsystem Statistics"><colgroup><col><col><col></colgroup><thead><tr><th> Statistic </th><th> Description </th><th> CLI Command </th></tr></thead><tbody><tr><td> Total </td><td> <div class="para">
						The total number of transactions processed by the Transaction Manager on this server.
					</div>
					 </td><td>
<pre class="screen">/host=<em class="replaceable">master</em>/server=<em class="replaceable">server-one</em>/subsystem=transactions/:read-attribute(name=number-of-transactions,include-defaults=true)</pre>
					 </td></tr><tr><td> Committed </td><td> <div class="para">
						The number of committed transactions processed by the Transaction Manager on this server.
					</div>
					 </td><td>
<pre class="screen">/host=<em class="replaceable">master</em>/server=<em class="replaceable">server-one</em>/subsystem=transactions/:read-attribute(name=number-of-committed-transactions,include-defaults=true)</pre>
					 </td></tr><tr><td> Aborted </td><td> <div class="para">
						The number of aborted transactions processed by the Transaction Manager on this server.
					</div>
					 </td><td>
<pre class="screen">/host=<em class="replaceable">master</em>/server=<em class="replaceable">server-one</em>/subsystem=transactions/:read-attribute(name=number-of-aborted-transactions,include-defaults=true)</pre>
					 </td></tr><tr><td> Timed Out </td><td> <div class="para">
						The number of timed out transactions processed by the Transaction Manager on this server.
					</div>
					 </td><td>
<pre class="screen">/host=<em class="replaceable">master</em>/server=<em class="replaceable">server-one</em>/subsystem=transactions/:read-attribute(name=number-of-timed-out-transactions,include-defaults=true)</pre>
					 </td></tr><tr><td> Heuristics </td><td> <div class="para">
						Not available in the Management Console. Number of transactions in a heuristic state.
					</div>
					 </td><td>
<pre class="screen">/host=<em class="replaceable">master</em>/server=<em class="replaceable">server-one</em>/subsystem=transactions/:read-attribute(name=number-of-heuristics,include-defaults=true)</pre>
					 </td></tr><tr><td> In-Flight Transactions </td><td> <div class="para">
						Not available in the Management Console. Number of transactions which have begun but not yet terminated.
					</div>
					 </td><td>
<pre class="screen">/host=<em class="replaceable">master</em>/server=<em class="replaceable">server-one</em>/subsystem=transactions/:read-attribute(name=number-of-inflight-transactions,include-defaults=true)</pre>
					 </td></tr><tr><td> Failure Origin - Applications </td><td> <div class="para">
						The number of failed transactions whose failure origin was an application.
					</div>
					 </td><td>
<pre class="screen">/host=<em class="replaceable">master</em>/server=<em class="replaceable">server-one</em>/subsystem=transactions/:read-attribute(name=number-of-application-rollbacks,include-defaults=true)</pre>
					 </td></tr><tr><td> Failure Origin - Resources </td><td> <div class="para">
						The number of failed transactions whose failure origin was a resource.
					</div>
					 </td><td>
<pre class="screen">/host=<em class="replaceable">master</em>/server=<em class="replaceable">server-one</em>/subsystem=transactions/:read-attribute(name=number-of-resource-rollbacks,include-defaults=true)</pre>
					 </td></tr><tr><td> Participant ID </td><td> <div class="para">
						The ID of the participant.
					</div>
					 </td><td>
<pre class="screen">/host=<em class="replaceable">master</em>/server=<em class="replaceable">server-one</em>/subsystem=transactions/log-store=log-store/transactions=0\:ffff7f000001\:-b66efc2\:4f9e6f8f\:9:read-children-names(child-type=participants)</pre>
					 </td></tr><tr><td> List of all transactions </td><td> <div class="para">
						The complete list of transactions.
					</div>
					 </td><td>
<pre class="screen">/host=<em class="replaceable">master</em>/server=<em class="replaceable">server-one</em>/subsystem=transactions/log-store=log-store:read-children-names(child-type=transactions)</pre>
					 </td></tr></tbody></table></div></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4312-712277+%5BLatest%5D&comment=Title%3A+Browse+and+Manage+Transactions%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4312-712277+23+Sep+2014+16%3A19+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="sect-Use_JTA_Transactions">
      ⁠</a>11.7.&nbsp;Use JTA Transactions</h2></div></div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="Transactions_JTA_Task_Overview">
      ⁠</a>11.7.1.&nbsp;Transactions JTA Task Overview</h3></div></div></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Introduction</div>
			The following procedures are useful when you need to use transactions in your application.
		</div><div class="para">
		<div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
					<a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Control_JTA_Transactions">Section&nbsp;11.7.2, “Control Transactions”</a>
				</div></li><li class="listitem"><div class="para">
					<a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Begin_a_JTA_Transaction">Section&nbsp;11.7.3, “Begin a Transaction”</a>
				</div></li><li class="listitem"><div class="para">
					<a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Commit_a_JTA_Transaction">Section&nbsp;11.7.5, “Commit a Transaction”</a>
				</div></li><li class="listitem"><div class="para">
					<a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Roll_Back_a_JTA_Transaction">Section&nbsp;11.7.6, “Roll Back a Transaction”</a>
				</div></li><li class="listitem"><div class="para">
					<a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Handle_a_Heuristic_Outcome_in_a_JTA_Transaction">Section&nbsp;11.7.7, “Handle a Heuristic Outcome in a Transaction”</a>
				</div></li><li class="listitem"><div class="para">
					<a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Configure_the_Transaction_Manager1">Section&nbsp;11.7.8.2, “Configure the Transaction Manager”</a>
				</div></li><li class="listitem"><div class="para">
					<a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Handle_Transaction_Errors">Section&nbsp;11.7.9.1, “Handle Transaction Errors”</a>
				</div></li></ul></div>

	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4375-591665+%5BLatest%5D&comment=Title%3A+Transactions+JTA+Task+Overview%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4375-591665+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="Control_JTA_Transactions">
      ⁠</a>11.7.2.&nbsp;Control Transactions</h3></div></div></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Introduction</div>
			This list of procedures outlines the different ways to control transactions in your applications which use JTA or JTS APIs.
		</div><div class="para">
		<div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
					<a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Begin_a_JTA_Transaction">Section&nbsp;11.7.3, “Begin a Transaction”</a>
				</div></li><li class="listitem"><div class="para">
					<a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Commit_a_JTA_Transaction">Section&nbsp;11.7.5, “Commit a Transaction”</a>
				</div></li><li class="listitem"><div class="para">
					<a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Roll_Back_a_JTA_Transaction">Section&nbsp;11.7.6, “Roll Back a Transaction”</a>
				</div></li><li class="listitem"><div class="para">
					<a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Handle_a_Heuristic_Outcome_in_a_JTA_Transaction">Section&nbsp;11.7.7, “Handle a Heuristic Outcome in a Transaction”</a>
				</div></li></ul></div>

	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4313-591659+%5BLatest%5D&comment=Title%3A+Control+Transactions%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4313-591659+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="Begin_a_JTA_Transaction">
      ⁠</a>11.7.3.&nbsp;Begin a Transaction</h3></div></div></div><div class="para">
		This procedure shows how to begin a new JTA transaction, or how to participate in a distributed transaction using the Java Transaction Service (JTS) protocol. For more information about distributed transactions, refer <em class="citetitle">About Distributed Transactions</em> section.
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><ol class="1"><li class="step"><p class="title"><strong>Get an instance of <code class="classname">UserTransaction</code>.</strong></p><div class="para">
				You can get the instance using JNDI, injection, or an EJB's context, if the EJB uses bean-managed transactions, by means of a <code class="literal">@TransactionManagement(TransactionManagementType.BEAN)</code> annotation.
			</div><ul class="stepalternatives">
				<li class="step"><p class="title"><strong>JNDI</strong></p><pre class="programlisting">new InitialContext().lookup("java:comp/UserTransaction")</pre></li>
				 <li class="step"><p class="title"><strong>Injection</strong></p><pre class="programlisting">@Resource UserTransaction userTransaction;</pre></li>
				 <li class="step"><p class="title"><strong>Context</strong></p><div class="itemizedlist"><ul><li class="listitem"><div class="para">
								In a stateless/stateful bean: 
<pre class="programlisting">@Resource SessionContext ctx;
ctx.getUserTransaction();</pre>

							</div></li><li class="listitem"><div class="para">
								In a message-driven bean: 
<pre class="programlisting">@Resource MessageDrivenContext ctx;
ctx.getUserTransaction()</pre>

							</div></li></ul></div></li>

			</ul></li><li class="step"><p class="title"><strong>Call <code class="classname">UserTransaction</code>.<code class="methodname">begin()</code> after you connect to your datasource.</strong></p><pre class="programlisting">...
try {
    System.out.println("\nCreating connection to database: "+url);
    stmt = conn.createStatement();  // non-tx statement
    try {
        System.out.println("Starting top-level transaction.");
        userTransaction.begin();
        stmtx = conn.createStatement(); // will be a tx-statement
        ...
    }
}
</pre></li></ol></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Participate in an existing transaction using the JTS API.</div>
			One of the benefits of EJBs is that the container manages all of the transactions. If you have set up the ORB and activated JTS transactions, the container will manage distributed transactions for you.
		</div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Result:</div>
			The transaction begins. All uses of your datasource until you commit or roll back the transaction are transactional.
		</div><div xmlns:d="http://docbook.org/ns/docbook" class="note"><div class="admonition_header"><p><strong>Note</strong></p></div><div class="admonition"><div class="para">
			For a full example, see <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#JTA_Transaction_Example">Section&nbsp;11.9.3, “JTA Transaction Example”</a>.
		</div></div></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4304-697972+%5BLatest%5D&comment=Title%3A+Begin+a+Transaction%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4304-697972+13+Aug+2014+16%3A15+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="Nest_Transactions">
      ⁠</a>11.7.4.&nbsp;Nested Transactions</h3></div></div></div><div class="para">
		Nested transactions allow an application to create a transaction that is embedded in an existing transaction. In this model, multiple subtransactions can be embedded recursively in a transaction. Subtransactions can be committed or rolled back without committing or rolling back the parent transaction. However, the results of a commit operation are contingent upon the commitment of all the transaction's ancestors.
	</div><div class="para">
		For implementation specific information, refer JBossTS JTS Development guide at <a href="https://docs.jboss.org/jbosstm/latest/guides/narayana-jts-development_guide">https://docs.jboss.org/jbosstm/latest/guides/narayana-jts-development_guide</a>.
	</div><div class="para">
		Nested transactions are only supported when you use distributed transactions, with the JTS API. In addition, many database vendors do not support nested transactions, so consult your database vendor before you add nested transactions to your application.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4308-691517+%5BLatest%5D&comment=Title%3A+Nested+Transactions%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4308-691517+08+Aug+2014+19%3A23+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="Commit_a_JTA_Transaction">
      ⁠</a>11.7.5.&nbsp;Commit a Transaction</h3></div></div></div><div class="para">
		This procedure shows how to commit a transaction using the Java Transaction API (JTA). This API is used for both local transactions and distributed transactions. Distributed transactions are managed by the Java Transaction Server (JTS) and require configuration of an Object Request Broker (ORB). For more information on ORB configuration, refer to the <em class="citetitle">ORB Configuration</em> section of the <em class="citetitle">Administration and Configuration Guide</em>.
	</div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Prerequisites</div>
			You must begin a transaction before you can commit it. For information on how to begin a transaction, refer to <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Begin_a_JTA_Transaction">Section&nbsp;11.7.3, “Begin a Transaction”</a>.
		</div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><ol class="1"><li class="step"><p class="title"><strong>Call the <code class="methodname">commit()</code> method on the <code class="classname">UserTransaction</code>.</strong></p><div class="para">
				When you call the <code class="methodname">commit()</code> method on the <code class="classname">UserTransaction</code>, the Transaction Manager attempts to commit the transaction.
			</div><pre class="programlisting">@Inject
private UserTransaction userTransaction;

public void updateTable(String key, String value)
    EntityManager entityManager = entityManagerFactory.createEntityManager();
    try {
        userTransaction.begin():
        &lt;!-- Perform some data manipulation using entityManager --&gt;
        ...
        // Commit the transaction
        userTransaction.commit();
    } catch (Exception ex) {
        &lt;!-- Log message or notify Web page --&gt;
        ...
        try {
            userTransaction.rollback();
        } catch (SystemException se) {
            throw new RuntimeException(se);
        }
        throw new RuntimeException(e);
    } finally {
        entityManager.close();
    }
}</pre></li><li class="step"><p class="title"><strong>If you use Container Managed Transactions (CMT), you do not need to manually commit.</strong></p><div class="para">
				If you configure your bean to use Container Managed Transactions, the container will manage the transaction lifecycle for you based on annotations you configure in the code.
			</div><pre class="programlisting">@PersistenceContext
private EntityManager em;

@TransactionAttribute(TransactionAttributeType.REQUIRED)
public void updateTable(String key, String value)
  &lt;!-- Perform some data manipulation using entityManager --&gt;
  ...
}</pre></li></ol></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Result</div>
			Your datasource commits and your transaction ends, or an exception is thrown.
		</div><div xmlns:d="http://docbook.org/ns/docbook" class="note"><div class="admonition_header"><p><strong>Note</strong></p></div><div class="admonition"><div class="para">
			For a full example, see <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#JTA_Transaction_Example">Section&nbsp;11.9.3, “JTA Transaction Example”</a>.
		</div></div></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4305-697969+%5BLatest%5D&comment=Title%3A+Commit+a+Transaction%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4305-697969+13+Aug+2014+15%3A13+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="Roll_Back_a_JTA_Transaction">
      ⁠</a>11.7.6.&nbsp;Roll Back a Transaction</h3></div></div></div><div class="para">
		This procedure shows how to roll back a transaction using the Java Transaction API (JTA). This API is used for both local transactions and distributed transactions. Distributed transactions are managed by the Java Transaction Server (JTS) and require configuration of an Object Request Broker (ORB). For more information on ORB configuration, refer to the <em class="citetitle">ORB Configuration</em> section of the <em class="citetitle">Administration and Configuration Guide</em>.
	</div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Prerequisites</div>
			You must begin a transaction before you can roll it back. For information on how to begin a transaction, refer to <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Begin_a_JTA_Transaction">Section&nbsp;11.7.3, “Begin a Transaction”</a>.
		</div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><ol class="1"><li class="step"><p class="title"><strong>Call the <code class="methodname">rollback()</code> method on the <code class="classname">UserTransaction</code>.</strong></p><div class="para">
				When you call the <code class="methodname">rollback()</code> method on the <code class="classname">UserTransaction</code>, the Transaction Manager attempts to roll back the transaction and return the data to its previous state.
			</div><pre class="programlisting"> 
@Inject
private UserTransaction userTransaction;

public void updateTable(String key, String value)
    EntityManager entityManager = entityManagerFactory.createEntityManager();
    try {
        userTransaction.begin():
        &lt;!-- Perform some data manipulation using entityManager --&gt;
          ...
          // Commit the transaction
        userTransaction.commit();
    } catch (Exception ex) {
        &lt;!-- Log message or notify Web page --&gt;
        ...
        try {
            userTransaction.rollback();
        } catch (SystemException se) {
            throw new RuntimeException(se);
        }
        throw new RuntimeException(e);
    } finally {
        entityManager.close();
    }
}</pre></li><li class="step"><p class="title"><strong>If you use Container Managed Transactions (CMT), you do not need to manually roll back the transaction.</strong></p><div class="para">
				If you configure your bean to use Container Managed Transactions, the container will manage the transaction lifecycle for you based on annotations you configure in the code.
			</div></li></ol></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Result</div>
			Your transaction is rolled back by the Transaction Manager.
		</div><div xmlns:d="http://docbook.org/ns/docbook" class="note"><div class="admonition_header"><p><strong>Note</strong></p></div><div class="admonition"><div class="para">
			For a full example, see <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#JTA_Transaction_Example">Section&nbsp;11.9.3, “JTA Transaction Example”</a>.
		</div></div></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4306-591659+%5BLatest%5D&comment=Title%3A+Roll+Back+a+Transaction%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4306-591659+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="Handle_a_Heuristic_Outcome_in_a_JTA_Transaction">
      ⁠</a>11.7.7.&nbsp;Handle a Heuristic Outcome in a Transaction</h3></div></div></div><div class="para">
		This procedure shows how to handle a heuristic outcome in a JTA transaction, whether it is local or distributed, using the Java Transaction Service (JTS). To use distributed transactions, you need to configure the ORB. Refer to the <em class="citetitle">ORB Configuration</em> section of the <em class="citetitle">Administration and Configuration Guide</em> for more information on ORB configuration.
	</div><div class="para">
		Heuristic transaction outcomes are uncommon and usually have exceptional causes. The word <em class="firstterm">heuristic</em> means "by hand", and that is the way that these outcomes usually have to be handled. Refer to <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Heuristic_Outcomes">Section&nbsp;11.4.4, “About Heuristic Outcomes”</a> for more information about heuristic transaction outcomes.
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idp14550768">
      ⁠</a><p class="title"><strong>Procedure&nbsp;11.5.&nbsp;Handle a heuristic outcome in a transaction</strong></p><ol class="1"><li class="step"><p class="title"><strong>Determine the cause</strong></p><div class="para">
				The over-arching cause of a heuristic outcome in a transaction is that a resource manager promised it could commit or roll-back, and then failed to fulfill the promise. This could be due to a problem with a third-party component, the integration layer between the third-party component and JBoss EAP 6, or JBoss EAP 6 itself.
			</div><div class="para">
				By far, the most common two causes of heuristic errors are transient failures in the environment and coding errors in the code dealing with resource managers.
			</div></li><li class="step"><p class="title"><strong>Fix transient failures in the environment</strong></p><div class="para">
				Typically, if there is a transient failure in your environment, you will know about it before you find out about the heuristic error. This could be a network outage, hardware failure, database failure, power outage, or a host of other things.
			</div><div class="para">
				If you experienced the heuristic outcome in a test environment, during stress testing, it provides information about weaknesses in your environment.
			</div><div class="warning"><div class="admonition_header"><p><strong>Heuristic transactions are not recovered</strong></p></div><div class="admonition"><div class="para">
					JBoss EAP 6 will automatically recover transactions that were in a non-heuristic state at the time of the failure, but it does not attempt to recover heuristic transactions.
				</div></div></div></li><li class="step"><p class="title"><strong>Contact resource manager vendors</strong></p><div class="para">
				If you have no obvious failure in your environment, or the heuristic outcome is easily reproducible, it is probably a coding error. Contact third-party vendors to find out if a solution is available. If you suspect the problem is in the transaction manager of JBoss EAP 6 itself, contact Red Hat Global Support Services.
			</div></li><li class="step"><p class="title"><strong>In a test environment, delete the logs and restart JBoss EAP 6.</strong></p><div class="para">
				In a test environment, or if you do not care about the integrity of the data, deleting the transaction logs and restarting JBoss EAP 6 gets rid of the heuristic outcome. The transaction logs are located in <code class="filename"><em class="replaceable">EAP_HOME</em>/standalone/data/tx-object-store/</code> for a standalone server, or <code class="filename"><em class="replaceable">EAP_HOME</em>/domain/servers/<em class="replaceable">SERVER_NAME</em>/data/tx-object-store</code> in a managed domain, by default. In the case of a managed domain, <em class="replaceable">SERVER_NAME</em> refers to the name of the individual server participating in a server group.
			</div><div class="note"><div class="admonition_header"><p><strong>Note</strong></p></div><div class="admonition"><div class="para">
					The location of the transaction log also depends on the object store in use and the values set for the <em class="parameter"><code>oject-store-relative-to</code></em> and <em class="parameter"><code>object-store-path</code></em> parameters. For file system logs (such as a standard shadow and HornetQ logs) the default direction location is used, but when using a JDBC object store, the transaction logs are stored in a database.
				</div></div></div></li><li class="step"><p class="title"><strong>Resolve the outcome by hand</strong></p><div class="para">
				The process of resolving the transaction outcome by hand is very dependent on the exact circumstance of the failure. Typically, you need to take the following steps, applying them to your situation:
			</div><ol class="substeps a"><li class="step"><div class="para">
						Identify which resource managers were involved.
					</div></li><li class="step"><div class="para">
						Examine the state in the transaction manager and the resource managers.
					</div></li><li class="step"><div class="para">
						Manually force log cleanup and data reconciliation in one or more of the involved components.
					</div></li></ol><div class="para">
				The details of how to perform these steps are out of the scope of this documentation.
			</div></li></ol></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4307-591659+%5BLatest%5D&comment=Title%3A+Handle+a+Heuristic+Outcome+in+a+Transaction%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4307-591659+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="sect-Transaction_Timeouts">
      ⁠</a>11.7.8.&nbsp;Transaction Timeouts</h3></div></div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="About_Transaction_Timeouts1">
      ⁠</a>11.7.8.1.&nbsp;About Transaction Timeouts</h4></div></div></div><div class="para">
		In order to preserve atomicity and adhere to the ACID standard for transactions, some parts of a transaction can be long-running. Transaction participants need to lock parts of datasources when they commit, and the transaction manager needs to wait to hear back from each transaction participant before it can direct them all whether to commit or roll back. Hardware or network failures can cause resources to be locked indefinitely.
	</div><div class="para">
		Transaction timeouts can be associated with transactions in order to control their lifecycle. If a timeout threshold passes before the transaction commits or rolls back, the timeout causes the transaction to be rolled back automatically.
	</div><div class="para">
		You can configure default timeout values for the entire transaction subsystem, or you disable default timeout values, and specify timeouts on a per-transaction basis.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4378-591665+%5BLatest%5D&comment=Title%3A+About+Transaction+Timeouts%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4378-591665+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="Configure_the_Transaction_Manager1">
      ⁠</a>11.7.8.2.&nbsp;Configure the Transaction Manager</h4></div></div></div><div class="para">
		You can configure the Transaction Manager (TM) using the web-based Management Console or the command-line Management CLI. For each command or option given, the assumption is made that you are running JBoss EAP 6 as a Managed Domain. If you use a Standalone Server or you want to modify a different profile than <code class="code">default</code>, you may need to modify the steps and commands in the following ways.
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><p class="title"><strong>Notes about the Example Commands</strong></p><ul><li class="listitem"><div class="para">
				For the Management Console, the <code class="code">default</code> profile is the one which is selected when you first log into the console. If you need to modify the Transaction Manager's configuration in a different profile, select your profile instead of <code class="code">default</code>, in each instruction.
			</div><div class="para">
				Similarly, substitute your profile for the <code class="code">default</code> profile in the example CLI commands.
			</div></li><li class="listitem"><div class="para">
				If you use a Standalone Server, only one profile exists. Ignore any instructions to choose a specific profile. In CLI commands, remove the <code class="code">/profile=default</code> portion of the sample commands.
			</div></li></ul></div><div xmlns:d="http://docbook.org/ns/docbook" class="note"><div class="admonition_header"><p><strong>Note</strong></p></div><div class="admonition"><div class="para">
			In order for the TM options to be visible in the Management Console or Management CLI, the <code class="code">transactions</code> subsystem must be enabled. It is enabled by default, and required for many other subsystems to function properly, so it is very unlikely that it would be disabled.
		</div></div></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Configure the TM Using the Management Console</div>
			To configure the TM using the web-based Management Console, select the <span class="guilabel"><strong>Configuration</strong></span> tab from the top of the screen. If you use a managed domain, choose the correct profile from the <span class="guilabel"><strong>Profile</strong></span> selection box at the top left. Expand the <span class="guilabel"><strong>Container</strong></span> menu and select <span class="guilabel"><strong>Transactions</strong></span>.
		</div><div class="para">
		Most options are shown in the Transaction Manager configuration page. The <span class="guilabel"><strong>Recovery</strong></span> options are hidden by default. Click the <span class="guilabel"><strong>Recovery</strong></span> tab to see the recovery options. Click <span class="guilabel"><strong>Edit</strong></span> to edit any of the options. Changes take effect immediately.
	</div><div class="para">
		Click the <span class="guilabel"><strong>Need Help?</strong></span> label to display in-line help text.
	</div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Configure the TM using the Management CLI</div>
			In the Management CLI, you can configure the TM using a series of commands. The commands all begin with <code class="code">/profile=default/subsystem=transactions/</code> for a managed domain with profile <code class="code">default</code>, or <code class="code">/subsystem=transactions</code> for a Standalone Server.
		</div><div xmlns:d="http://docbook.org/ns/docbook" class="important"><div class="admonition_header"><p><strong>Important</strong></p></div><div class="admonition"><div class="para">
			HornetQ does not allow multiple instances to share a message log store. If you are configuring multiple instances of HornetQ, each instance must have its own message log store.
		</div></div></div><div class="table"><a id="idp21967008">
      ⁠</a><p class="title"><strong>Table&nbsp;11.13.&nbsp;TM Configuration Options</strong></p><div class="table-contents"><table xmlns:d="http://docbook.org/ns/docbook" class="lt-4-cols lt-7-rows" summary="TM Configuration Options"><colgroup><col><col><col></colgroup><thead><tr><th> Option </th><th> Description </th><th> CLI Command </th></tr></thead><tbody><tr><td> <div class="para">
						Enable Statistics
					</div>
					 </td><td> <div class="para">
						Whether to enable transaction statistics. These statistics can be viewed in the Management Console in the <span class="guilabel"><strong>Subsystem Metrics</strong></span> section of the <span class="guilabel"><strong>Runtime</strong></span> tab.
					</div>
					 </td><td> <div class="para">
						<code class="code">/profile=default/subsystem=transactions/:write-attribute(name=enable-statistics,value=true)</code>
					</div>
					 </td></tr><tr><td> <div class="para">
						Default Timeout
					</div>
					 </td><td> <div class="para">
						The default transaction timeout. This defaults to <code class="literal">300</code> seconds. You can override this programmatically, on a per-transaction basis.
					</div>
					 </td><td> <div class="para">
						<code class="code">/profile=default/subsystem=transactions/:write-attribute(name=default-timeout,value=300)</code>
					</div>
					 </td></tr><tr><td> <div class="para">
						Object Store Path
					</div>
					 </td><td> <div class="para">
						A relative or absolute filesystem path where the TM object store stores data. By default relative to the <code class="code">object-store-relative-to</code> parameter's value.
					</div>
					 </td><td> <div class="para">
						<code class="code">/profile=default/subsystem=transactions/:write-attribute(name=object-store-path,value=tx-object-store)</code>
					</div>
					 </td></tr><tr><td> <div class="para">
						Object Store Path Relative To
					</div>
					 </td><td> <div class="para">
						References a global path configuration in the domain model. The default value is the data directory for JBoss EAP 6, which is the value of the property <code class="code">jboss.server.data.dir</code>, and defaults to <code class="filename"><em class="replaceable">EAP_HOME</em>/domain/data/</code> for a Managed Domain, or <code class="filename"><em class="replaceable">EAP_HOME</em>/standalone/data/</code> for a Standalone Server instance. The value of the object store <code class="code">object-store-path</code> TM attribute is relative to this path.
					</div>
					 </td><td> <div class="para">
						<code class="code">/profile=default/subsystem=transactions/:write-attribute(name=object-store-relative-to,value=jboss.server.data.dir)</code>
					</div>
					 </td></tr><tr><td> <div class="para">
						Socket Binding
					</div>
					 </td><td> <div class="para">
						Specifies the name of the socket binding used by the Transaction Manager for recovery and generating transaction identifiers, when the socket-based mechanism is used. Refer to <code class="code">process-id-socket-max-ports</code> for more information on unique identifier generation. Socket bindings are specified per server group in the <span class="guilabel"><strong>Server</strong></span> tab of the Management Console.
					</div>
					 </td><td> <div class="para">
						<code class="code">/profile=default/subsystem=transactions/:write-attribute(name=socket-binding,value=txn-recovery-environment)</code>
					</div>
					 </td></tr><tr><td> <div class="para">
						Recovery Listener
					</div>
					 </td><td> <div class="para">
						Whether or not the Transaction Recovery process should listen on a network socket. Defaults to <code class="literal">false</code>.
					</div>
					 </td><td> <div class="para">
						<code class="code">/profile=default/subsystem=transactions/:write-attribute(name=recovery-listener,value=false)</code>
					</div>
					 </td></tr></tbody></table></div></div><div class="para">
		The following options are for advanced use and can only be modified using the Management CLI. Be cautious when changing them from the default configuration. Contact Red Hat Global Support Services for more information.
	</div><div class="table"><a id="idp21042048">
      ⁠</a><p class="title"><strong>Table&nbsp;11.14.&nbsp;Advanced TM Configuration Options</strong></p><div class="table-contents"><table xmlns:d="http://docbook.org/ns/docbook" class="lt-4-cols lt-7-rows" summary="Advanced TM Configuration Options"><colgroup><col><col><col></colgroup><thead><tr><th> Option </th><th> Description </th><th> CLI Command </th></tr></thead><tbody><tr><td> <div class="para">
						jts
					</div>
					 </td><td> <div class="para">
						Whether to use Java Transaction Service (JTS) transactions. Defaults to <code class="literal">false</code>, which uses JTA transactions only.
					</div>
					 </td><td> <div class="para">
						<code class="code">/profile=default/subsystem=transactions/:write-attribute(name=jts,value=false)</code>
					</div>
					 </td></tr><tr><td> <div class="para">
						node-identifier
					</div>
					 </td><td> <div class="para">
						The node identifier for the Transaction Manager. This option is required in the following situations: 
						<div class="itemizedlist"><ul><li class="listitem"><div class="para">
									For JTS to JTS communications
								</div></li><li class="listitem"><div class="para">
									When two Transaction Managers access shared resource managers
								</div></li><li class="listitem"><div class="para">
									When two Transaction Managers access shared object stores
								</div></li></ul></div>
						 The <code class="literal">node-identifier</code> must be unique for each Transaction Manager as it is required to enforce data integrity during recovery. The <code class="literal">node-identifier</code> must also be unique for JTA because multiple nodes may interact with the same resource manager or share a transaction object store.
					</div>
					 </td><td> <div class="para">
						<code class="code">/profile=default/subsystem=transactions/:write-attribute(name=node-identifier,value=1)</code>
					</div>
					 </td></tr><tr><td> <div class="para">
						process-id-socket-max-ports
					</div>
					 </td><td> <div class="para">
						The Transaction Manager creates a unique identifier for each transaction log. Two different mechanisms are provided for generating unique identifiers: a socket-based mechanism and a mechanism based on the process identifier of the process.
					</div>
					 <div class="para">
						In the case of the socket-based identifier, a socket is opened and its port number is used for the identifier. If the port is already in use, the next port is probed, until a free one is found. The <code class="code">process-id-socket-max-ports</code> represents the maximum number of sockets the TM will try before failing. The default value is <code class="literal">10</code>.
					</div>
					 </td><td> <div class="para">
						<code class="code">/profile=default/subsystem=transactions/:write-attribute(name=process-id-socket-max-ports,value=10)</code>
					</div>
					 </td></tr><tr><td> <div class="para">
						process-id-uuid
					</div>
					 </td><td> <div class="para">
						Set to <code class="code">true</code> to use the process identifier to create a unique identifier for each transaction. Otherwise, the socket-based mechanism is used. Defaults to <code class="code">true</code>. Refer to <code class="code">process-id-socket-max-ports</code> for more information.
					</div>
					 </td><td> <div class="para">
						<code class="code">/profile=default/subsystem=transactions/:write-attribute(name=process-id-uuid,value=true)</code>
					</div>
					 </td></tr><tr><td> <div class="para">
						use-hornetq-store
					</div>
					 </td><td> <div class="para">
						Use HornetQ's journaled storage mechanisms instead of file-based storage, for the transaction logs. This is disabled by default, but can improve I/O performance. It is not recommended for JTS transactions on separate Transaction Managers. When changing this option, the server has to be restarted using the <code class="command">shutdown</code> command for the change to take effect.
					</div>
					 </td><td> <div class="para">
						<code class="code">/profile=default/subsystem=transactions/:write-attribute(name=use-hornetq-store,value=false)</code>
					</div>
					 </td></tr></tbody></table></div></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4310-686439+%5BLatest%5D&comment=Title%3A+Configure+the+Transaction+Manager%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4310-686439+22+Jul+2014+09%3A53+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="sect-JTA_Transaction_Error_Handling">
      ⁠</a>11.7.9.&nbsp;JTA Transaction Error Handling</h3></div></div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="Handle_Transaction_Errors">
      ⁠</a>11.7.9.1.&nbsp;Handle Transaction Errors</h4></div></div></div><div class="para">
		Transaction errors are challenging to solve because they are often dependent on timing. Here are some common errors and ideas for troubleshooting them.
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="note"><div class="admonition_header"><p><strong>Handle transaction errors</strong></p></div><div class="admonition"><div class="para">
			These guidelines do not apply to heuristic errors. If you experience heuristic errors, refer to <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Handle_a_Heuristic_Outcome_in_a_JTA_Transaction">Section&nbsp;11.7.7, “Handle a Heuristic Outcome in a Transaction”</a> and contact Red Hat Global Support Services for assistance.
		</div></div></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">The transaction timed out but the business logic thread did not notice</div>
			This type of error often manifests itself when Hibernate is unable to obtain a database connection for lazy loading. If it happens frequently, you can lengthen the timeout value. Refer to <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Configure_the_Transaction_Manager1">Section&nbsp;11.7.8.2, “Configure the Transaction Manager”</a>.
		</div><div class="para">
		If that is not feasible, you may be able to tune your external environment to perform more quickly, or restructure your code to be more efficient. Contact Red Hat Global Support Services if you still have trouble with timeouts.
	</div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">The transaction is already running on a thread, or you receive a <code class="code">NotSupportedException</code> exception</div>
			The <code class="code"> NotSupportedException</code> exception usually indicates that you attempted to nest a JTA transaction, and this is not supported. If you were not attempting to nest a transaction, it is likely that another transaction was started in a thread pool task, but finished the task without suspending or ending the transaction.
		</div><div class="para">
		Applications typically use <code class="code"> UserTransaction</code>, which handles this automatically. If so, there may be a problem with a framework.
	</div><div class="para">
		If your code does use <code class="code"> TransactionManager</code> or <code class="code"> Transaction</code> methods directly, be aware of the following behavior when committing or rolling back a transaction. If your code uses <code class="code"> TransactionManager</code> methods to control your transactions, committing or rolling back a transaction disassociates the transaction from the current thread. However, if your code uses <code class="code"> Transaction</code> methods, the transaction may not be associated with the running thread, and you need to disassociate it from its threads manually, before returning it to the thread pool.
	</div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">You are unable to enlist a second local resource</div>
			This error happens if you try to enlist a second non-XA resource into a transaction. If you need multiple resources in a transaction, they must be XA.
		</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4376-591665+%5BLatest%5D&comment=Title%3A+Handle+Transaction+Errors%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4376-591665+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="sect-ORB_Configuration">
      ⁠</a>11.8.&nbsp;ORB Configuration</h2></div></div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="CORBA">
      ⁠</a>11.8.1.&nbsp;About Common Object Request Broker Architecture (CORBA)</h3></div></div></div><div class="para">
		<em class="firstterm">Common Object Request Broker Architecture (CORBA)</em> is a standard that enables applications and services to work together even when they are written in multiple, otherwise-incompatible, languages or hosted on separate platforms. CORBA requests are brokered by a server-side component called an <em class="firstterm">Object Request Broker (ORB)</em>. JBoss EAP 6 provides an ORB instance, by means of the JacORB component.
	</div><div class="para">
		The ORB is used internally for <em class="firstterm">Java Transaction Service (JTS)</em> transactions, and is also available for use by your own applications.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4979-591675+%5BLatest%5D&comment=Title%3A+About+Common+Object+Request+Broker+Architecture+%28CORBA%29%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4979-591675+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="Configure_the_ORB_for_JTS_Transactions">
      ⁠</a>11.8.2.&nbsp;Configure the ORB for JTS Transactions</h3></div></div></div><div class="para">
		In a default installation of JBoss EAP 6, the ORB is disabled. You can enable the ORB using the command-line Management CLI.
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="note"><div class="admonition_header"><p><strong>Note</strong></p></div><div class="admonition"><div class="para">
			In a managed domain, the JacORB subsystem is available in <code class="literal">full</code> and <code class="literal">full-ha</code> profiles only. In a standalone server, it is available when you use the <code class="filename">standalone-full.xml</code> or <code class="filename">standalone-full-ha.xml</code> configurations.
		</div></div></div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idp17929536">
      ⁠</a><p class="title"><strong>Procedure&nbsp;11.6.&nbsp;Configure the ORB using the Management Console</strong></p><ol class="1"><li class="step"><p class="title"><strong>View the profile settings.</strong></p><div class="para">
				Select <span class="guilabel"><strong>Configuration</strong></span> from the top of the management console. If you use a managed domain, select either the <span class="guilabel"><strong>full</strong></span> or <span class="guilabel"><strong>full-ha</strong></span> profile from the selection box at the top left.
			</div></li><li class="step"><p class="title"><strong>Modify the <span class="guilabel"><strong>Initializers</strong></span> Settings</strong></p><div class="para">
				Expand the <span class="guilabel"><strong>Subsystems</strong></span> menu. Expand the <span class="guilabel"><strong>Container</strong></span> menu and select <span class="guilabel"><strong>JacORB</strong></span>.
			</div><div class="para">
				In the form that appears in the main screen, select the <span class="guilabel"><strong>Initializers</strong></span> tab and click the <span class="guilabel"><strong>Edit</strong></span> button.
			</div><div class="para">
				Enable the security interceptors by setting the value of <span class="guilabel"><strong>Security</strong></span> to <code class="literal">on</code>.
			</div><div class="para">
				To enable the ORB for JTS, set the <span class="guilabel"><strong>Transaction Interceptors</strong></span> value to <code class="literal">on</code>, rather than the default <code class="literal">spec</code>.
			</div><div class="para">
				Refer to the <span class="guilabel"><strong>Need Help?</strong></span> link in the form for detailed explanations about these values. Click <span class="guilabel"><strong>Save</strong></span> when you have finished editing the values.
			</div></li><li class="step"><p class="title"><strong>Advanced ORB Configuration</strong></p><div class="para">
				Refer to the other sections of the form for advanced configuration options. Each section includes a <span class="guilabel"><strong>Need Help?</strong></span> link with detailed information about the parameters.
			</div></li></ol></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Configure the ORB using the Management CLI</div>
			You can configure each aspect of the ORB using the Management CLI. The following commands configure the initializers to the same values as the procedure above, for the Management Console. This is the minimum configuration for the ORB to be used with JTS.
		</div><div class="para">
		These commands are configured for a managed domain using the <span class="guilabel"><strong>full</strong></span> profile. If necessary, change the profile to suit the one you need to configure. If you use a standalone server, omit the <code class="literal">/profile=full</code> portion of the commands.
	</div><div class="example"><a id="idp940480">
      ⁠</a><p class="title"><strong>Example&nbsp;11.4.&nbsp;Enable the Security Interceptors</strong></p><div class="example-contents"><pre class="screen">/profile=<em class="replaceable">full</em>/subsystem=jacorb/:write-attribute(name=security,value=on)</pre></div></div><div class="example"><a id="idp8867536">
      ⁠</a><p class="title"><strong>Example&nbsp;11.5.&nbsp;Enable Transactions in the JacORB Subsystem</strong></p><div class="example-contents"><pre class="screen">/profile=<em class="replaceable">full</em>/subsystem=jacorb/:write-attribute(name=transactions,value=on)</pre></div></div><div class="example"><a id="idp17849072">
      ⁠</a><p class="title"><strong>Example&nbsp;11.6.&nbsp;Enable JTS in the Transaction Subsystem</strong></p><div class="example-contents"><pre class="screen">/profile=<em class="replaceable">full</em>/subsystem=transactions:write-attribute(name=jts,value=true)</pre></div></div><div xmlns:d="http://docbook.org/ns/docbook" class="note"><div class="admonition_header"><p><strong>Note</strong></p></div><div class="admonition"><div class="para">
			For JTS activation, the server must be restarted as reload is not enough.
		</div></div></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4981-665628+%5BLatest%5D&comment=Title%3A+Configure+the+ORB+for+JTS+Transactions%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4981-665628+10+Jun+2014+16%3A25+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="sect-Transaction_References">
      ⁠</a>11.9.&nbsp;Transaction References</h2></div></div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="JBoss_Transactions_Errors_and_Exceptions1">
      ⁠</a>11.9.1.&nbsp;JBoss Transactions Errors and Exceptions</h3></div></div></div><div class="para">
		For details about exceptions thrown by methods of the <code class="classname">UserTransaction</code> class, see the <em class="citetitle">UserTransaction API</em> specification at <a href="http://docs.oracle.com/javaee/6/api/javax/transaction/UserTransaction.html">http://docs.oracle.com/javaee/6/api/javax/transaction/UserTransaction.html</a>.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4299-689191+%5BLatest%5D&comment=Title%3A+JBoss+Transactions+Errors+and+Exceptions%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4299-689191+30+Jul+2014+16%3A47+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="JTA_Clustering_Limitations1">
      ⁠</a>11.9.2.&nbsp;Limitations on JTA Transactions</h3></div></div></div><div class="para">
		JTA transactions cannot be distribution aware across multiple instances of JBoss EAP 6. For this behavior, use JTS transactions.
	</div><div class="para">
		To use JTS transactions, you need to configure the ORB, which includes enabling transactions in the JacORB subsystem, then configure the JTS subsystem.
	</div><div class="para">
		<div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
					<a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Configure_the_ORB_for_JTS_Transactions">Section&nbsp;11.8.2, “Configure the ORB for JTS Transactions”</a>
				</div></li></ul></div>

	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4316-606317+%5BLatest%5D&comment=Title%3A+Limitations+on+JTA+Transactions%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4316-606317+26+Feb+2014+14%3A04+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="JTA_Transaction_Example">
      ⁠</a>11.9.3.&nbsp;JTA Transaction Example</h3></div></div></div><div class="para">
		This example illustrates how to begin, commit, and roll back a JTA transaction. You need to adjust the connection and datasource parameters to suit your environment, and set up two test tables in your database.
	</div><div class="example"><a id="idp38582112">
      ⁠</a><p class="title"><strong>Example&nbsp;11.7.&nbsp;JTA Transaction example</strong></p><div class="example-contents"><pre class="programlisting JAVA"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_Keyword">class</span> JDBCExample {
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_DataType">static</span> <span xmlns="" class="perl_DataType">void</span> <span xmlns="" class="perl_Function">main</span> (String[] args) {
<span xmlns="" class="line">​</span>        Context ctx = <span xmlns="" class="perl_Keyword">new</span> InitialContext();
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Comment">// Change these two lines to suit your environment.</span>
<span xmlns="" class="line">​</span>        DataSource ds = (DataSource)ctx.<span xmlns="" class="perl_Function">lookup</span>(<span xmlns="" class="perl_String">"jdbc/ExampleDS"</span>);
<span xmlns="" class="line">​</span>        Connection conn = ds.<span xmlns="" class="perl_Function">getConnection</span>(<span xmlns="" class="perl_String">"testuser"</span>, <span xmlns="" class="perl_String">"testpwd"</span>);
<span xmlns="" class="line">​</span>        Statement stmt = <span xmlns="" class="perl_Keyword">null</span>; <span xmlns="" class="perl_Comment">// Non-transactional statement</span>
<span xmlns="" class="line">​</span>        Statement stmtx = <span xmlns="" class="perl_Keyword">null</span>; <span xmlns="" class="perl_Comment">// Transactional statement</span>
<span xmlns="" class="line">​</span>        Properties dbProperties = <span xmlns="" class="perl_Keyword">new</span> Properties();
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Comment">// Get a UserTransaction</span>
<span xmlns="" class="line">​</span>        UserTransaction txn = <span xmlns="" class="perl_Keyword">new</span> InitialContext().<span xmlns="" class="perl_Function">lookup</span>(<span xmlns="" class="perl_String">"java:comp/UserTransaction"</span>);
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">try</span> {
<span xmlns="" class="line">​</span>            stmt = conn.<span xmlns="" class="perl_Function">createStatement</span>();  <span xmlns="" class="perl_Comment">// non-tx statement</span>
<span xmlns="" class="line">​</span>            
<span xmlns="" class="line">​</span>            <span xmlns="" class="perl_Comment">// Check the database connection.</span>
<span xmlns="" class="line">​</span>            <span xmlns="" class="perl_Keyword">try</span> {
<span xmlns="" class="line">​</span>                stmt.<span xmlns="" class="perl_Function">executeUpdate</span>(<span xmlns="" class="perl_String">"DROP TABLE test_table"</span>);
<span xmlns="" class="line">​</span>                stmt.<span xmlns="" class="perl_Function">executeUpdate</span>(<span xmlns="" class="perl_String">"DROP TABLE test_table2"</span>);
<span xmlns="" class="line">​</span>            }
<span xmlns="" class="line">​</span>            <span xmlns="" class="perl_Keyword">catch</span> (Exception e) {
<span xmlns="" class="line">​</span>                <span xmlns="" class="perl_Comment">// assume not in database.</span>
<span xmlns="" class="line">​</span>            }
<span xmlns="" class="line">​</span>            
<span xmlns="" class="line">​</span>            <span xmlns="" class="perl_Keyword">try</span> {
<span xmlns="" class="line">​</span>                stmt.<span xmlns="" class="perl_Function">executeUpdate</span>(<span xmlns="" class="perl_String">"CREATE TABLE test_table (a INTEGER,b INTEGER)"</span>);
<span xmlns="" class="line">​</span>                stmt.<span xmlns="" class="perl_Function">executeUpdate</span>(<span xmlns="" class="perl_String">"CREATE TABLE test_table2 (a INTEGER,b INTEGER)"</span>);
<span xmlns="" class="line">​</span>            }
<span xmlns="" class="line">​</span>            <span xmlns="" class="perl_Keyword">catch</span> (Exception e) {
<span xmlns="" class="line">​</span>            }
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>            <span xmlns="" class="perl_Keyword">try</span> {
<span xmlns="" class="line">​</span>                System.<span xmlns="" class="perl_Function">out</span>.<span xmlns="" class="perl_Function">println</span>(<span xmlns="" class="perl_String">"Starting top-level transaction."</span>);
<span xmlns="" class="line">​</span>                
<span xmlns="" class="line">​</span>                txn.<span xmlns="" class="perl_Function">begin</span>();
<span xmlns="" class="line">​</span>                
<span xmlns="" class="line">​</span>                stmtx = conn.<span xmlns="" class="perl_Function">createStatement</span>(); <span xmlns="" class="perl_Comment">// will be a tx-statement</span>
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>                <span xmlns="" class="perl_Comment">// First, we try to roll back changes</span>
<span xmlns="" class="line">​</span>                
<span xmlns="" class="line">​</span>                System.<span xmlns="" class="perl_Function">out</span>.<span xmlns="" class="perl_Function">println</span>(<span xmlns="" class="perl_String">"</span><span xmlns="" class="perl_Char">\n</span><span xmlns="" class="perl_String">Adding entries to table 1."</span>);
<span xmlns="" class="line">​</span>                
<span xmlns="" class="line">​</span>                stmtx.<span xmlns="" class="perl_Function">executeUpdate</span>(<span xmlns="" class="perl_String">"INSERT INTO test_table (a, b) VALUES (1,2)"</span>);
<span xmlns="" class="line">​</span>                
<span xmlns="" class="line">​</span>                ResultSet res1 = <span xmlns="" class="perl_Keyword">null</span>;
<span xmlns="" class="line">​</span>                
<span xmlns="" class="line">​</span>                System.<span xmlns="" class="perl_Function">out</span>.<span xmlns="" class="perl_Function">println</span>(<span xmlns="" class="perl_String">"</span><span xmlns="" class="perl_Char">\n</span><span xmlns="" class="perl_String">Inspecting table 1."</span>);
<span xmlns="" class="line">​</span>                
<span xmlns="" class="line">​</span>                res1 = stmtx.<span xmlns="" class="perl_Function">executeQuery</span>(<span xmlns="" class="perl_String">"SELECT * FROM test_table"</span>);
<span xmlns="" class="line">​</span>                
<span xmlns="" class="line">​</span>                <span xmlns="" class="perl_Keyword">while</span> (res1.<span xmlns="" class="perl_Function">next</span>()) {
<span xmlns="" class="line">​</span>                    System.<span xmlns="" class="perl_Function">out</span>.<span xmlns="" class="perl_Function">println</span>(<span xmlns="" class="perl_String">"Column 1: "</span>+res1.<span xmlns="" class="perl_Function">getInt</span>(<span xmlns="" class="perl_Float">1</span>));
<span xmlns="" class="line">​</span>                    System.<span xmlns="" class="perl_Function">out</span>.<span xmlns="" class="perl_Function">println</span>(<span xmlns="" class="perl_String">"Column 2: "</span>+res1.<span xmlns="" class="perl_Function">getInt</span>(<span xmlns="" class="perl_Float">2</span>));
<span xmlns="" class="line">​</span>                }
<span xmlns="" class="line">​</span>                System.<span xmlns="" class="perl_Function">out</span>.<span xmlns="" class="perl_Function">println</span>(<span xmlns="" class="perl_String">"</span><span xmlns="" class="perl_Char">\n</span><span xmlns="" class="perl_String">Adding entries to table 2."</span>);
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>                stmtx.<span xmlns="" class="perl_Function">executeUpdate</span>(<span xmlns="" class="perl_String">"INSERT INTO test_table2 (a, b) VALUES (3,4)"</span>);
<span xmlns="" class="line">​</span>                res1 = stmtx.<span xmlns="" class="perl_Function">executeQuery</span>(<span xmlns="" class="perl_String">"SELECT * FROM test_table2"</span>);
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>                System.<span xmlns="" class="perl_Function">out</span>.<span xmlns="" class="perl_Function">println</span>(<span xmlns="" class="perl_String">"</span><span xmlns="" class="perl_Char">\n</span><span xmlns="" class="perl_String">Inspecting table 2."</span>);
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>                <span xmlns="" class="perl_Keyword">while</span> (res1.<span xmlns="" class="perl_Function">next</span>()) {
<span xmlns="" class="line">​</span>                    System.<span xmlns="" class="perl_Function">out</span>.<span xmlns="" class="perl_Function">println</span>(<span xmlns="" class="perl_String">"Column 1: "</span>+res1.<span xmlns="" class="perl_Function">getInt</span>(<span xmlns="" class="perl_Float">1</span>));
<span xmlns="" class="line">​</span>                    System.<span xmlns="" class="perl_Function">out</span>.<span xmlns="" class="perl_Function">println</span>(<span xmlns="" class="perl_String">"Column 2: "</span>+res1.<span xmlns="" class="perl_Function">getInt</span>(<span xmlns="" class="perl_Float">2</span>));
<span xmlns="" class="line">​</span>                }
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>                System.<span xmlns="" class="perl_Function">out</span>.<span xmlns="" class="perl_Function">print</span>(<span xmlns="" class="perl_String">"</span><span xmlns="" class="perl_Char">\n</span><span xmlns="" class="perl_String">Now attempting to rollback changes."</span>);
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>                txn.<span xmlns="" class="perl_Function">rollback</span>();
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>                <span xmlns="" class="perl_Comment">// Next, we try to commit changes</span>
<span xmlns="" class="line">​</span>                txn.<span xmlns="" class="perl_Function">begin</span>();
<span xmlns="" class="line">​</span>                stmtx = conn.<span xmlns="" class="perl_Function">createStatement</span>();
<span xmlns="" class="line">​</span>                ResultSet res2 = <span xmlns="" class="perl_Keyword">null</span>;
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>                System.<span xmlns="" class="perl_Function">out</span>.<span xmlns="" class="perl_Function">println</span>(<span xmlns="" class="perl_String">"</span><span xmlns="" class="perl_Char">\n</span><span xmlns="" class="perl_String">Now checking state of table 1."</span>);
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>                res2 = stmtx.<span xmlns="" class="perl_Function">executeQuery</span>(<span xmlns="" class="perl_String">"SELECT * FROM test_table"</span>);
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>                <span xmlns="" class="perl_Keyword">while</span> (res2.<span xmlns="" class="perl_Function">next</span>()) {
<span xmlns="" class="line">​</span>                    System.<span xmlns="" class="perl_Function">out</span>.<span xmlns="" class="perl_Function">println</span>(<span xmlns="" class="perl_String">"Column 1: "</span>+res2.<span xmlns="" class="perl_Function">getInt</span>(<span xmlns="" class="perl_Float">1</span>));
<span xmlns="" class="line">​</span>                    System.<span xmlns="" class="perl_Function">out</span>.<span xmlns="" class="perl_Function">println</span>(<span xmlns="" class="perl_String">"Column 2: "</span>+res2.<span xmlns="" class="perl_Function">getInt</span>(<span xmlns="" class="perl_Float">2</span>));
<span xmlns="" class="line">​</span>                }
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>                System.<span xmlns="" class="perl_Function">out</span>.<span xmlns="" class="perl_Function">println</span>(<span xmlns="" class="perl_String">"</span><span xmlns="" class="perl_Char">\n</span><span xmlns="" class="perl_String">Now checking state of table 2."</span>);
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>                stmtx = conn.<span xmlns="" class="perl_Function">createStatement</span>();
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>                res2 = stmtx.<span xmlns="" class="perl_Function">executeQuery</span>(<span xmlns="" class="perl_String">"SELECT * FROM test_table2"</span>);
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>                <span xmlns="" class="perl_Keyword">while</span> (res2.<span xmlns="" class="perl_Function">next</span>()) {
<span xmlns="" class="line">​</span>                    System.<span xmlns="" class="perl_Function">out</span>.<span xmlns="" class="perl_Function">println</span>(<span xmlns="" class="perl_String">"Column 1: "</span>+res2.<span xmlns="" class="perl_Function">getInt</span>(<span xmlns="" class="perl_Float">1</span>));
<span xmlns="" class="line">​</span>                    System.<span xmlns="" class="perl_Function">out</span>.<span xmlns="" class="perl_Function">println</span>(<span xmlns="" class="perl_String">"Column 2: "</span>+res2.<span xmlns="" class="perl_Function">getInt</span>(<span xmlns="" class="perl_Float">2</span>));
<span xmlns="" class="line">​</span>                }
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>                txn.<span xmlns="" class="perl_Function">commit</span>();
<span xmlns="" class="line">​</span>            }
<span xmlns="" class="line">​</span>            <span xmlns="" class="perl_Keyword">catch</span> (Exception ex) {
<span xmlns="" class="line">​</span>                ex.<span xmlns="" class="perl_Function">printStackTrace</span>();
<span xmlns="" class="line">​</span>                System.<span xmlns="" class="perl_Function">exit</span>(<span xmlns="" class="perl_Float">0</span>);
<span xmlns="" class="line">​</span>            }
<span xmlns="" class="line">​</span>        }
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">catch</span> (Exception sysEx) {
<span xmlns="" class="line">​</span>            sysEx.<span xmlns="" class="perl_Function">printStackTrace</span>();
<span xmlns="" class="line">​</span>            System.<span xmlns="" class="perl_Function">exit</span>(<span xmlns="" class="perl_Float">0</span>);
<span xmlns="" class="line">​</span>        }
<span xmlns="" class="line">​</span>    }      
<span xmlns="" class="line">​</span>}
</pre></div></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4314-591659+%5BLatest%5D&comment=Title%3A+JTA+Transaction+Example%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4314-591659+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="API_Documentation_for_JBoss_Transactions_JTA">
      ⁠</a>11.9.4.&nbsp;API Documentation for JBoss Transactions JTA</h3></div></div></div><div class="para">
		The API documentation for the Transaction subsystem of JBoss EAP 6 is available at the following location:
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
				UserTransaction - <a href="http://docs.oracle.com/javaee/6/api/javax/transaction/UserTransaction.html">http://docs.oracle.com/javaee/6/api/javax/transaction/UserTransaction.html</a>
			</div></li></ul></div><div class="para">
		If you use Red Hat JBoss Developer Studio to develop your applications, the API documentation is included in the <span class="guilabel"><strong>Help</strong></span> menu.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4315-689193+%5BLatest%5D&comment=Title%3A+API+Documentation+for+JBoss+Transactions+JTA%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4315-689193+30+Jul+2014+16%3A52+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="Limitations_of_the_XA_Recovery_Process">
      ⁠</a>11.9.5.&nbsp;Limitations of the XA Recovery Process</h3></div></div></div><div class="para">
		XA recovery has the following limitations.
	</div><div class="variablelist"><dl class="variablelist"><dt><span class="term">The transaction log may not be cleared from a successfully committed transaction.</span></dt><dd><div class="para">
					If the JBoss EAP server crashes after an <code class="classname">XAResource</code> commit method successfully completes and commits the transaction, but before the coordinator can update the log, you may see the following warning message in the log when you restart the server: 
<pre class="screen">ARJUNA016037: Could not find new XAResource to use for recovering non-serializable XAResource XAResourceRecord</pre>
					 This is because upon recovery, the JBoss Transaction Manager sees the transaction participants in the log and attempts to retry the commit. Eventually the JBoss Transaction Manager assumes the resources are committed and no longer retries the commit. In this situation, can safely ignore this warning as the transaction is committed and there is no loss of data.
				</div><div class="para">
					To prevent the warning, set the <span class="property">com.arjuna.ats.jta.xaAssumeRecoveryComplete</span> property value to <code class="literal">true</code> . This property is checked whenever a new <code class="classname">XAResource</code> instance cannot be located from any registered <code class="classname">XAResourceRecovery</code> instance. When set to <code class="literal">true</code>, the recovery assumes that a previous commit attempt succeeded and the instance can be removed from the log with no further recovery attempts. This property must be used with care because it is global and when used incorrectly could result in <code class="classname">XAResource</code> instances remaining in an uncommitted state.
				</div></dd><dt><span class="term">Rollback is not called for JTS transaction when a server crashes at the end of XAResource.prepare().</span></dt><dd><div class="para">
					If the JBoss EAP server crashes after the completion of an <code class="classname">XAResource</code> <code class="code">prepare()</code> method call, all of the participating XAResources are locked in the prepared state and remain that way upon server restart, The transaction is not rolled back and the resources remain locked until the transaction times out or a DBA manually rolls back the resources and clears the transaction log.
				</div></dd><dt><span class="term">Periodic recovery can occur on committed transactions.</span></dt><dd><div class="para">
					When the server is under excessive load, the server log may contain the following warning message, followed by a stacktrace: 
<pre class="screen">ARJUNA016027: Local XARecoveryModule.xaRecovery got XA exception XAException.XAER_NOTA: javax.transaction.xa.XAException</pre>

				</div><div class="para">
					Under heavy load, the processing time taken by a transaction can overlap with the timing of the periodic recovery process’s activity. The periodic recovery process detects the transaction still in progress and attempts to initiate a rollback but in fact the transaction continues to completion. At the time the periodic recovery attempts but fails the rollback, it records the rollback failure in the server log. The underlying cause of this issue will be addressed in a future release, but in the meantime a workaround is available.
				</div><div class="para">
					Increase the interval between the two phases of the recovery process by setting the <span class="property">com.arjuna.ats.jta.orphanSafetyInterval</span> property to a value higher than the default value of 10000 milliseconds. A value of 40000 milliseconds is recommended. Please note that this does not solve the issue, instead it decreases the probability that it will occur and that the warning message will be shown in the log.
				</div></dd></dl></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+30617-634590+%5BLatest%5D&comment=Title%3A+Limitations+of+the+XA+Recovery+Process%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=30617-634590+30+Apr+2014+10%3A23+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div></div></div><div xml:lang="en-US" class="chapter" lang="en-US"><div class="titlepage"><div><div><h1 class="title"><a id="chap-Hibernate">
      ⁠</a>Chapter&nbsp;12.&nbsp;Hibernate</h1></div></div></div><div class="toc"><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Hibernate_Core1">12.1. About Hibernate Core</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Java_Persistence_API_JPA">12.2. Java Persistence API (JPA)</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_JPA1">12.2.1. About JPA</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Hibernate_EntityManager1">12.2.2. Hibernate EntityManager</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Getting_Started">12.2.3. Getting Started</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Configuration1">12.2.4. Configuration</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Second-Level_Caches">12.2.5. Second-Level Caches</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Hibernate_Annotations">12.3. Hibernate Annotations</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Hibernate_Annotations">12.3.1. Hibernate Annotations</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Hibernate_Query_Language">12.4. Hibernate Query Language</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#HQL_and_JPQL">12.4.1. About Hibernate Query Language</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#HQL_Statements">12.4.2. HQL Statements</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_the_INSERT_Statement">12.4.3. About the INSERT Statement</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#The_FROM_Clause_in_HQL">12.4.4. About the FROM Clause</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_the_WITH_Clause">12.4.5. About the WITH Clause</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Bulk_Update_Insert_and_Delete">12.4.6. About Bulk Update, Insert and Delete</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Collection_Member_References">12.4.7. About Collection Member References</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Qualified_Path_Expressions">12.4.8. About Qualified Path Expressions</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Scalar_Functions">12.4.9. About Scalar Functions</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#HQL_Expressions">12.4.10. HQL Standardized Functions</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_the_Concatenation_Operation">12.4.11. About the Concatenation Operation</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#The_SELECT_Clause_in_HQL">12.4.12. About Dynamic Instantiation</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#HQL_Predicates">12.4.13. About HQL Predicates</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Relational_Comparisons">12.4.14. About Relational Comparisons</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_the_IN_Predicate">12.4.15. About the IN Predicate</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Ordering_in_HQL">12.4.16. About HQL Ordering</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Hibernate_Services">12.5. Hibernate Services</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Hibernate_Services">12.5.1. About Hibernate Services</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Service_Contracts">12.5.2. About Service Contracts</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Types_of_Service_Dependencies">12.5.3. Types of Service Dependencies</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-The_ServiceRegistry">12.5.4. The ServiceRegistry</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Custom_Services">12.5.5. Custom Services</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-The_Bootstrap_Registry">12.5.6. The Bootstrap Registry</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-The_SessionFactory_Registry">12.5.7. The SessionFactory Registry</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Integrators">12.5.8. Integrators</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Bean_Validation">12.6. Bean Validation</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Bean_Validation1">12.6.1. About Bean Validation</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Hibernate_Validator1">12.6.2. Hibernate Validator</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Validation_Constraints">12.6.3. Validation Constraints</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Configuration2">12.6.4. Configuration</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Envers">12.7. Envers</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Hibernate_Envers1">12.7.1. About Hibernate Envers</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Auditing_Persistent_Classes">12.7.2. About Auditing Persistent Classes</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Auditing_Strategies">12.7.3. Auditing Strategies</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Getting_Started_with_Entity_Auditing">12.7.4. Getting Started with Entity Auditing</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Configuration">12.7.5. Configuration</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Queries">12.7.6. Queries</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Performance_Tuning">12.8. Performance Tuning</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Alternative_Batch_Loading_Algorithms">12.8.1. Alternative Batch Loading Algorithms</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Second_Level_Caching_of_Object_References_for_Non-mutable_Data">12.8.2. Second Level Caching of Object References for Non-mutable Data</a></span></dt></dl></dd></dl></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="About_Hibernate_Core1">
      ⁠</a>12.1.&nbsp;About Hibernate Core</h2></div></div></div><div class="para">
		Hibernate Core is an object/relational mapping library. It provides the framework for mapping Java classes to database tables, allowing applications to avoid direct interaction with the database.
	</div><div class="para">
		For more information, refer to <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Hibernate_EntityManager1">Section&nbsp;12.2.2, “Hibernate EntityManager”</a> and the <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_JPA1">Section&nbsp;12.2.1, “About JPA”</a>.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+2252-591649+%5BLatest%5D&comment=Title%3A+About+Hibernate+Core%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=2252-591649+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="sect-Java_Persistence_API_JPA">
      ⁠</a>12.2.&nbsp;Java Persistence API (JPA)</h2></div></div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="About_JPA1">
      ⁠</a>12.2.1.&nbsp;About JPA</h3></div></div></div><div class="para">
		The Java Persistence API (JPA) is the standard for using persistence in Java projects. Java EE 6 applications use the Java Persistence 2.0 specification, documented here: <a href="http://www.jcp.org/en/jsr/detail?id=317">http://www.jcp.org/en/jsr/detail?id=317</a>.
	</div><div class="para">
		Hibernate EntityManager implements the programming interfaces and life-cycle rules defined by the specification. It provides JBoss EAP 6 with a complete Java Persistence solution.
	</div><div class="para">
		JBoss EAP 6 is 100% compliant with the Java Persistence 2.0 specification. Hibernate also provides additional features to the specification.
	</div><div class="para">
		To get started with JPA and JBoss EAP 6, refer to the <code class="literal">bean-validation</code>, <code class="literal">greeter</code>, and <code class="literal">kitchensink</code> quickstarts: <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Access_the_Java_EE_Quickstart_Examples">Section&nbsp;1.4.1.1, “Access the Quickstarts”</a>.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+1089-591647+%5BLatest%5D&comment=Title%3A+About+JPA%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=1089-591647+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="Hibernate_EntityManager1">
      ⁠</a>12.2.2.&nbsp;Hibernate EntityManager</h3></div></div></div><div class="para">
		Hibernate EntityManager implements the programming interfaces and life-cycle rules defined by the <a href="http://jcp.org/en/jsr/detail?id=317">JPA 2.0 specification</a>. It provides JBoss EAP 6 with a complete Java Persistence solution.
	</div><div class="para">
		For more information about Java Persistence or Hibernate, refer to the <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_JPA1">Section&nbsp;12.2.1, “About JPA”</a> and <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Hibernate_Core1">Section&nbsp;12.1, “About Hibernate Core”</a>.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+2246-591649+%5BLatest%5D&comment=Title%3A+Hibernate+EntityManager%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=2246-591649+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="sect-Getting_Started">
      ⁠</a>12.2.3.&nbsp;Getting Started</h3></div></div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="Create_a_JPA_project_in_JBoss_Developer_Studio1">
      ⁠</a>12.2.3.1.&nbsp;Create a JPA project in Red Hat JBoss Developer Studio</h4></div></div></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Summary</div>
			This example covers the steps required to create a JPA project in Red Hat JBoss Developer Studio.
		</div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idp11368976">
      ⁠</a><p class="title"><strong>Procedure&nbsp;12.1.&nbsp;Create a JPA project in Red Hat JBoss Developer Studio</strong></p><ol class="1"><li class="step"><div class="para">
				In the Red Hat JBoss Developer Studio window, click <span class="guimenu"><strong>File</strong></span> → <span class="guimenuitem"><strong>New</strong></span> → <span class="guimenuitem"><strong>JPA Project</strong></span>.
			</div></li><li class="step"><div class="para">
				In the project dialog, type the name of the project.
			</div><div class="mediaobject"><img src="./JBoss_6_3_files/58.png"></div></li><li class="step"><div class="para">
				Select a Target runtime from the dropdown box.
			</div></li><li class="step"><ol class="substeps a"><li class="step"><div class="para">
						If no Target runtime is available, click <span class="guibutton"><strong>New Runtime</strong></span>.
					</div></li><li class="step"><div class="para">
						Find the JBoss Community Folder in the list.
					</div></li><li class="step"><div class="para">
						Select JBoss Enterprise Application Platform 6.x Runtime
					</div><div class="mediaobject"><img src="./JBoss_6_3_files/56.png"></div></li><li class="step"><div class="para">
						Click <span class="guibutton"><strong>Next</strong></span>.
					</div></li><li class="step"><div class="para">
						In the Home Directory field, click <span class="guibutton"><strong>Browse</strong></span> to set the JBoss EAP source folder as the Home Directory.
					</div><div class="mediaobject"><img src="./JBoss_6_3_files/57.png"></div></li><li class="step"><div class="para">
						Click <span class="guibutton"><strong>Finish</strong></span>.
					</div></li></ol></li><li class="step"><div class="para">
				Click <span class="guibutton"><strong>Next</strong></span>.
			</div></li><li class="step"><div class="para">
				Leave the source folders on build path window as default, and click <span class="guibutton"><strong>Next</strong></span>.
			</div></li><li class="step"><div class="para">
				In the Platform dropdown, ensure Hibernate (JPA 2.x) is selected.
			</div></li><li class="step"><div class="para">
				Click <span class="guibutton"><strong>Finish</strong></span>.
			</div></li><li class="step"><div class="para">
				If prompted, choose whether you wish to open the JPA perspective window.
			</div></li></ol></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+5462-681246+%5BLatest%5D&comment=Title%3A+Create+a+JPA+project+in+Red+Hat+JBoss+Developer+Studio%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=5462-681246+04+Jul+2014+01%3A05+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="Create_the_Persistence_Settings_File_in_JBoss_Developer_Studio1">
      ⁠</a>12.2.3.2.&nbsp;Create the Persistence Settings File in Red Hat JBoss Developer Studio</h4></div></div></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Summary</div>
			This topic covers the process for creating the <code class="filename">persistence.xml</code> file in a Java project using Red Hat JBoss Developer Studio.
		</div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul><li class="listitem"><div class="para">
				<a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Start_JBoss_Developer_Studio">Section&nbsp;1.3.1.4, “Start Red Hat JBoss Developer Studio”</a>
			</div></li></ul></div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idp19328032">
      ⁠</a><p class="title"><strong>Procedure&nbsp;12.2.&nbsp;Create and Configure a new Persistence Settings File</strong></p><ol class="1"><li class="step"><div class="para">
				Open an EJB 3.x project in Red Hat JBoss Developer Studio.
			</div></li><li class="step"><div class="para">
				Right click the project root directory in the <span class="guilabel"><strong>Project Explorer</strong></span> panel.
			</div></li><li class="step"><div class="para">
				Select <span class="guimenu"><strong>New</strong></span> → <span class="guimenuitem"><strong>Other...</strong></span>.
			</div></li><li class="step"><div class="para">
				Select <span class="guilabel"><strong>XML File</strong></span> from the <span class="guilabel"><strong>XML</strong></span> folder and click <span class="guibutton"><strong>Next</strong></span>.
			</div></li><li class="step"><div class="para">
				Select the <code class="filename">ejbModule/META-INF</code> folder as the parent directory.
			</div></li><li class="step"><div class="para">
				Name the file <code class="filename">persistence.xml</code> and click <span class="guibutton"><strong>Next</strong></span>.
			</div></li><li class="step"><div class="para">
				Select <span class="guilabel"><strong>Create XML file from an XML schema file</strong></span> and click <span class="guibutton"><strong>Next</strong></span>.
			</div></li><li class="step"><div class="para">
				Select <span class="guilabel"><strong>http://java.sun.com/xml/ns/persistence/persistence_2.0.xsd</strong></span> from the <span class="guilabel"><strong>Select XML Catalog entry</strong></span> list and click <span class="guibutton"><strong>Next</strong></span>.
			</div><div class="mediaobject"><img src="./JBoss_6_3_files/32.png"></div></li><li class="step"><div class="para">
				Click <span class="guibutton"><strong>Finish</strong></span> to create the file.
			</div></li></ol></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">Result:</span></dt><dd><div class="para">
					The <code class="filename">persistence.xml</code> has been created in the <code class="filename">META-INF/</code> folder and is ready to be configured. An example file is available here: <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Example_Persistence_Settings_File">Section&nbsp;12.2.3.3, “Example Persistence Settings File”</a>
				</div></dd></dl></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4430-681248+%5BLatest%5D&comment=Title%3A+Create+the+Persistence+Settings+File+in+Red+Hat+JBoss+Developer+Studio%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4430-681248+04+Jul+2014+01%3A08+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="Example_Persistence_Settings_File">
      ⁠</a>12.2.3.3.&nbsp;Example Persistence Settings File</h4></div></div></div><div class="example"><a id="idp6330912">
      ⁠</a><p class="title"><strong>Example&nbsp;12.1.&nbsp;persistence.xml</strong></p><div class="example-contents"><pre class="programlisting">&lt;persistence xmlns="http://java.sun.com/xml/ns/persistence"
   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
   xsi:schemaLocation="http://java.sun.com/xml/ns/persistence http://java.sun.com/xml/ns/persistence/persistence_2_0.xsd"
   version="2.0"&gt;
   &lt;persistence-unit name="example" transaction-type="JTA"&gt;
      &lt;provider&gt;org.hibernate.ejb.HibernatePersistence&lt;/provider&gt;
      &lt;jta-data-source&gt;java:jboss/datasources/ExampleDS&lt;/jta-data-source&gt;
      &lt;mapping-file&gt;ormap.xml&lt;/mapping-file&gt;
      &lt;jar-file&gt;TestApp.jar&lt;/jar-file&gt;
      &lt;class&gt;org.test.Test&lt;/class&gt;
      &lt;shared-cache-mode&gt;NONE&lt;/shared-cache-mode&gt;
      &lt;validation-mode&gt;CALLBACK&lt;/validation-mode&gt;
      &lt;properties&gt;
         &lt;property name="hibernate.dialect" value="org.hibernate.dialect.H2Dialect"/&gt;
         &lt;property name="hibernate.hbm2ddl.auto" value="create-drop"/&gt;
      &lt;/properties&gt;
   &lt;/persistence-unit&gt;
&lt;/persistence&gt;</pre></div></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4431-591662+%5BLatest%5D&comment=Title%3A+Example+Persistence+Settings+File%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4431-591662+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="Create_the_Hibernate_Configuration_File_in_JBoss_Developer_Studio1">
      ⁠</a>12.2.3.4.&nbsp;Create the Hibernate Configuration File in Red Hat JBoss Developer Studio</h4></div></div></div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul><li class="listitem"><div class="para">
				<a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Start_JBoss_Developer_Studio">Section&nbsp;1.3.1.4, “Start Red Hat JBoss Developer Studio”</a>
			</div></li></ul></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Summary</div>
			This topic covers the process for creating the <code class="filename">hibernate.cfg.xml</code> file in a Java project using Red Hat JBoss Developer Studio.
		</div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idp41739872">
      ⁠</a><p class="title"><strong>Procedure&nbsp;12.3.&nbsp;Create a New Hibernate Configuration File</strong></p><ol class="1"><li class="step"><div class="para">
				Open a Java project in Red Hat JBoss Developer Studio.
			</div></li><li class="step"><div class="para">
				Right click the project root directory in the <span class="guilabel"><strong>Project Explorer</strong></span> panel.
			</div></li><li class="step"><div class="para">
				Select <span class="guimenu"><strong>New</strong></span> → <span class="guimenuitem"><strong>Other...</strong></span>.
			</div></li><li class="step"><div class="para">
				Select <span class="guilabel"><strong>Hibernate Configuration File</strong></span> from the <span class="guilabel"><strong>Hibernate</strong></span> folder and click <span class="guibutton"><strong>Next</strong></span>.
			</div></li><li class="step"><div class="para">
				Select the <code class="filename">src/</code> directory and click <span class="guibutton"><strong>Next</strong></span>.
			</div></li><li class="step"><div class="para">
				Configure the following:
			</div><div class="itemizedlist"><ul><li class="listitem"><div class="para">
						Session factory name
					</div></li><li class="listitem"><div class="para">
						Database dialect
					</div></li><li class="listitem"><div class="para">
						Driver class
					</div></li><li class="listitem"><div class="para">
						Connection URL
					</div></li><li class="listitem"><div class="para">
						Username
					</div></li><li class="listitem"><div class="para">
						Password
					</div></li></ul></div></li><li class="step"><div class="para">
				Click <span class="guibutton"><strong>Finish</strong></span> to create the file.
			</div></li></ol></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">Result:</span></dt><dd><div class="para">
					The <code class="filename">hibernate.cfg.xml</code> has been created in the <code class="filename">src/</code> folder. An example file is available here: <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Example_Hibernate_Configuration_File1">Section&nbsp;12.2.3.5, “Example Hibernate Configuration File”</a>.
				</div></dd></dl></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+5177-681249+%5BLatest%5D&comment=Title%3A+Create+the+Hibernate+Configuration+File+in+Red+Hat+JBoss+Developer+Studio%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=5177-681249+04+Jul+2014+01%3A09+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="Example_Hibernate_Configuration_File1">
      ⁠</a>12.2.3.5.&nbsp;Example Hibernate Configuration File</h4></div></div></div><div class="example"><a id="idp23659424">
      ⁠</a><p class="title"><strong>Example&nbsp;12.2.&nbsp;hibernate.cfg.xml</strong></p><div class="example-contents"><pre class="programlisting">&lt;?xml version='1.0' encoding='utf-8'?&gt;
&lt;!DOCTYPE hibernate-configuration PUBLIC
        "-//Hibernate/Hibernate Configuration DTD 3.0//EN"
        "http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd"&gt;

&lt;hibernate-configuration&gt;

    &lt;session-factory&gt;

        &lt;!-- Datasource Name --&gt;
        &lt;property name="connection.datasource"&gt;ExampleDS&lt;/property&gt;

        &lt;!-- SQL dialect --&gt;
        &lt;property name="dialect"&gt;org.hibernate.dialect.H2Dialect&lt;/property&gt;

        &lt;!-- Enable Hibernate's automatic session context management --&gt;
        &lt;property name="current_session_context_class"&gt;thread&lt;/property&gt;

        &lt;!-- Disable the second-level cache  --&gt;
        &lt;property name="cache.region.factory_class"&gt;org.hibernate.cache.NoCacheProvider&lt;/property&gt;

        &lt;!-- Echo all executed SQL to stdout --&gt;
        &lt;property name="show_sql"&gt;true&lt;/property&gt;

        &lt;!-- Update the database schema on startup --&gt;
        &lt;property name="hbm2ddl.auto"&gt;update&lt;/property&gt;

        &lt;mapping resource="org/hibernate/tutorial/domain/Event.hbm.xml"/&gt;

    &lt;/session-factory&gt;

&lt;/hibernate-configuration&gt;</pre></div></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4413-638622+%5BLatest%5D&comment=Title%3A+Example+Hibernate+Configuration+File%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4413-638622+07+May+2014+02%3A31+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="sect-Configuration1">
      ⁠</a>12.2.4.&nbsp;Configuration</h3></div></div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="Hibernate_Configuration_Properties1">
      ⁠</a>12.2.4.1.&nbsp;Hibernate Configuration Properties</h4></div></div></div><div class="table"><a id="idp10721504">
      ⁠</a><p class="title"><strong>Table&nbsp;12.1.&nbsp;Properties</strong></p><div class="table-contents"><table xmlns:d="http://docbook.org/ns/docbook" class="lt-4-cols gt-7-rows" summary="Properties"><colgroup><col width="50%" class="c1"><col width="50%" class="c2"></colgroup><thead><tr><th> Property Name </th><th> Description </th></tr></thead><tbody><tr><td> <span class="property">hibernate.dialect</span> </td><td> <div class="para">
						The classname of a Hibernate <code class="classname">org.hibernate.dialect.Dialect</code>. Allows Hibernate to generate SQL optimized for a particular relational database.
					</div>
					 <div class="para">
						In most cases Hibernate will be able to choose the correct <code class="classname">org.hibernate.dialect.Dialect</code> implementation, based on the <code class="literal">JDBC metadata</code> returned by the JDBC driver.
					</div>
					 </td></tr><tr><td> <span class="property">hibernate.show_sql</span> </td><td> <div class="para">
						Boolean. Writes all SQL statements to console. This is an alternative to setting the log category <code class="literal">org.hibernate.SQL</code> to <code class="literal">debug</code>.
					</div>
					 </td></tr><tr><td> <span class="property">hibernate.format_sql</span> </td><td> <div class="para">
						Boolean. Pretty print the SQL in the log and console.
					</div>
					 </td></tr><tr><td> <span class="property">hibernate.default_schema</span> </td><td> <div class="para">
						Qualify unqualified table names with the given schema/tablespace in generated SQL.
					</div>
					 </td></tr><tr><td> <span class="property">hibernate.default_catalog</span> </td><td> <div class="para">
						Qualifies unqualified table names with the given catalog in generated SQL.
					</div>
					 </td></tr><tr><td> <span class="property">hibernate.session_factory_name</span> </td><td> <div class="para">
						The <code class="interfacename">org.hibernate.SessionFactory</code> will be automatically bound to this name in JNDI after it has been created. For example, <code class="literal">jndi/composite/name</code>.
					</div>
					 </td></tr><tr><td> <span class="property">hibernate.max_fetch_depth</span> </td><td> <div class="para">
						Sets a maximum "depth" for the outer join fetch tree for single-ended associations (one-to-one, many-to-one). A <code class="literal">0</code> disables default outer join fetching. The recommended value is between <code class="literal">0</code> and <code class="literal">3</code>.
					</div>
					 </td></tr><tr><td> <span class="property">hibernate.default_batch_fetch_size</span> </td><td> <div class="para">
						Sets a default size for Hibernate batch fetching of associations. The recommended values are <code class="literal">4</code>, <code class="literal">8</code>, and <code class="literal">16</code>.
					</div>
					 </td></tr><tr><td> <span class="property">hibernate.default_entity_mode</span> </td><td> <div class="para">
						Sets a default mode for entity representation for all sessions opened from this <code class="literal">SessionFactory</code>. Values include: <code class="literal">dynamic-map</code>, <code class="literal">dom4j</code>, <code class="literal">pojo</code>.
					</div>
					 </td></tr><tr><td> <span class="property">hibernate.order_updates</span> </td><td> <div class="para">
						Boolean. Forces Hibernate to order SQL updates by the primary key value of the items being updated. This will result in fewer transaction deadlocks in highly concurrent systems.
					</div>
					 </td></tr><tr><td> <span class="property">hibernate.generate_statistics</span> </td><td> <div class="para">
						Boolean. If enabled, Hibernate will collect statistics useful for performance tuning.
					</div>
					 </td></tr><tr><td> <span class="property">hibernate.use_identifier_rollback</span> </td><td> <div class="para">
						Boolean. If enabled, generated identifier properties will be reset to default values when objects are deleted.
					</div>
					 </td></tr><tr><td> <span class="property">hibernate.use_sql_comments</span> </td><td> <div class="para">
						Boolean. If turned on, Hibernate will generate comments inside the SQL, for easier debugging. Default value is <code class="literal">false</code>.
					</div>
					 </td></tr><tr><td> <span class="property">hibernate.id.new_generator_mappings</span> </td><td> <div class="para">
						Boolean. This property is relevant when using <code class="classname">@GeneratedValue</code>. It indicates whether or not the new <code class="classname">IdentifierGenerator</code> implementations are used for <code class="classname">javax.persistence.GenerationType.AUTO</code>, <code class="classname">javax.persistence.GenerationType.TABLE</code> and <code class="classname">javax.persistence.GenerationType.SEQUENCE</code>. Default value is <code class="literal">true</code>.
					</div>
					 </td></tr></tbody></table></div></div><div xmlns:d="http://docbook.org/ns/docbook" class="important"><div class="admonition_header"><p><strong>Important</strong></p></div><div class="admonition"><div class="para">
			For <code class="code">hibernate.id.new_generator_mappings</code>, new applications should keep the default value of <code class="literal">true</code>. Existing applications that used Hibernate 3.3.x may need to change it to <code class="literal">false</code> to continue using a sequence object or table based generator, and maintain backward compatibility.
		</div></div></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+7447-591790+%5BLatest%5D&comment=Title%3A+Hibernate+Configuration+Properties%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=7447-591790+24+Feb+2014+07%3A55+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="Hibernate_JDBC_and_Connection_Properties">
      ⁠</a>12.2.4.2.&nbsp;Hibernate JDBC and Connection Properties</h4></div></div></div><div class="table"><a id="idp15858592">
      ⁠</a><p class="title"><strong>Table&nbsp;12.2.&nbsp;Properties</strong></p><div class="table-contents"><table xmlns:d="http://docbook.org/ns/docbook" class="lt-4-cols gt-7-rows" summary="Properties"><colgroup><col width="50%" class="c1"><col width="50%" class="c2"></colgroup><thead><tr><th> Property Name </th><th> Description </th></tr></thead><tbody><tr><td> <span class="property"> hibernate.jdbc.fetch_size</span> </td><td> <div class="para">
						A non-zero value that determines the JDBC fetch size (calls <code class="literal">Statement.setFetchSize()</code>).
					</div>
					 </td></tr><tr><td> <span class="property"> hibernate.jdbc.batch_size</span> </td><td> <div class="para">
						A non-zero value enables use of JDBC2 batch updates by Hibernate. The recommended values are between <code class="literal">5</code> and <code class="literal">30</code>.
					</div>
					 </td></tr><tr><td> <span class="property"> hibernate.jdbc.batch_versioned_data</span> </td><td> <div class="para">
						Boolean. Set this property to <code class="literal">true</code> if the JDBC driver returns correct row counts from <code class="literal">executeBatch()</code>. Hibernate will then use batched DML for automatically versioned data. Default value is to <code class="literal">false</code>.
					</div>
					 </td></tr><tr><td> <span class="property"> hibernate.jdbc.factory_class</span> </td><td> <div class="para">
						Select a custom <code class="interfacename"> org.hibernate.jdbc.Batcher</code>. Most applications will not need this configuration property.
					</div>
					 </td></tr><tr><td> <span class="property"> hibernate.jdbc.use_scrollable_resultset</span> </td><td> <div class="para">
						Boolean. Enables use of JDBC2 scrollable resultsets by Hibernate. This property is only necessary when using user-supplied JDBC connections. Hibernate uses connection metadata otherwise.
					</div>
					 </td></tr><tr><td> <span class="property"> hibernate.jdbc.use_streams_for_binary</span> </td><td> <div class="para">
						Boolean. This is a system-level property. Use streams when writing/reading <code class="literal">binary</code> or <code class="literal">serializable</code> types to/from JDBC.
					</div>
					 </td></tr><tr><td> <span class="property"> hibernate.jdbc.use_get_generated_keys</span> </td><td> <div class="para">
						Boolean. Enables use of JDBC3 <code class="literal">PreparedStatement.getGeneratedKeys()</code> to retrieve natively generated keys after insert. Requires JDBC3+ driver and JRE1.4+. Set to false if JDBC driver has problems with the Hibernate identifier generators. By default, it tries to determine the driver capabilities using connection metadata.
					</div>
					 </td></tr><tr><td> <span class="property"> hibernate.connection.provider_class</span> </td><td> <div class="para">
						The classname of a custom <code class="interfacename"> org.hibernate.connection.ConnectionProvider</code> which provides JDBC connections to Hibernate.
					</div>
					 </td></tr><tr><td> <span class="property"> hibernate.connection.isolation</span> </td><td> <div class="para">
						Sets the JDBC transaction isolation level. Check <code class="interfacename"> java.sql.Connection</code> for meaningful values, but note that most databases do not support all isolation levels and some define additional, non-standard isolations. Standard values are <code class="literal">1, 2, 4, 8</code>.
					</div>
					 </td></tr><tr><td> <span class="property"> hibernate.connection.autocommit</span> </td><td> <div class="para">
						Boolean. This property is not recommended for use. Enables autocommit for JDBC pooled connections.
					</div>
					 </td></tr><tr><td> <span class="property"> hibernate.connection.release_mode</span> </td><td> <div class="para">
						Specifies when Hibernate should release JDBC connections. By default, a JDBC connection is held until the session is explicitly closed or disconnected. The default value <code class="literal">auto</code> will choose <code class="literal">after_statement</code> for the JTA and CMT transaction strategies, and <code class="literal">after_transaction</code> for the JDBC transaction strategy.
					</div>
					 <div class="para">
						Available values are <code class="literal">auto</code> (default) | <code class="literal">on_close</code> | <code class="literal">after_transaction</code> | <code class="literal">after_statement</code>.
					</div>
					  <div class="para">
						This setting only affects <code class="literal">Session</code>s returned from <code class="literal">SessionFactory.openSession</code>. For <code class="literal">Session</code>s obtained through <code class="literal">SessionFactory.getCurrentSession</code>, the <code class="literal">CurrentSessionContext</code> implementation configured for use controls the connection release mode for those <code class="literal">Session</code>s.
					</div>
					 </td></tr><tr><td> <span class="property"> hibernate.connection.</span><span class="emphasis"><em>&lt;propertyName&gt;</em></span> </td><td> <div class="para">
						Pass the JDBC property <span class="emphasis"><em>&lt;propertyName&gt;</em></span> to <code class="literal">DriverManager.getConnection()</code>.
					</div>
					 </td></tr><tr><td> <span class="property"> hibernate.jndi.</span><span class="emphasis"><em>&lt;propertyName&gt;</em></span> </td><td> <div class="para">
						Pass the property <span class="emphasis"><em>&lt;propertyName&gt;</em></span> to the JNDI <code class="literal">InitialContextFactory</code>.
					</div>
					 </td></tr></tbody></table></div></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+7448-591790+%5BLatest%5D&comment=Title%3A+Hibernate+JDBC+and+Connection+Properties%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=7448-591790+24+Feb+2014+07%3A55+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="Hibernate_Cache_Properties">
      ⁠</a>12.2.4.3.&nbsp;Hibernate Cache Properties</h4></div></div></div><div class="table"><a id="idp24516144">
      ⁠</a><p class="title"><strong>Table&nbsp;12.3.&nbsp;Properties</strong></p><div class="table-contents"><table xmlns:d="http://docbook.org/ns/docbook" class="lt-4-cols gt-7-rows" summary="Properties"><colgroup><col width="50%" class="c1"><col width="50%" class="c2"></colgroup><thead><tr><th> Property Name </th><th> Description </th></tr></thead><tbody><tr><td> <code class="literal">hibernate.cache.region.factory_class</code> </td><td> <div class="para">
						The classname of a custom <code class="literal">CacheProvider</code>.
					</div>
					 </td></tr><tr><td> <code class="literal">hibernate.cache.use_minimal_puts</code> </td><td> <div class="para">
						Boolean. Optimizes second-level cache operation to minimize writes, at the cost of more frequent reads. This setting is most useful for clustered caches and, in Hibernate3, is enabled by default for clustered cache implementations.
					</div>
					 </td></tr><tr><td> <code class="literal">hibernate.cache.use_query_cache</code> </td><td> <div class="para">
						Boolean. Enables the query cache. Individual queries still have to be set cacheable.
					</div>
					 </td></tr><tr><td> <code class="literal">hibernate.cache.use_second_level_cache</code> </td><td> <div class="para">
						Boolean. Used to completely disable the second level cache, which is enabled by default for classes that specify a <code class="literal">&lt;cache&gt;</code> mapping.
					</div>
					 </td></tr><tr><td> <code class="literal">hibernate.cache.query_cache_factory</code> </td><td> <div class="para">
						The classname of a custom <code class="literal">QueryCache</code> interface. The default value is the built-in <code class="literal">StandardQueryCache</code>.
					</div>
					 </td></tr><tr><td> <code class="literal">hibernate.cache.region_prefix</code> </td><td> <div class="para">
						A prefix to use for second-level cache region names.
					</div>
					 </td></tr><tr><td> <code class="literal">hibernate.cache.use_structured_entries</code> </td><td> <div class="para">
						Boolean. Forces Hibernate to store data in the second-level cache in a more human-friendly format.
					</div>
					 </td></tr><tr><td> <code class="literal">hibernate.cache.default_cache_concurrency_strategy</code> </td><td> <div class="para">
						Setting used to give the name of the default <code class="classname">org.hibernate.annotations.CacheConcurrencyStrategy</code> to use when either <code class="classname">@Cacheable</code> or <code class="classname">@Cache</code> is used. <code class="code">@Cache(strategy="..")</code> is used to override this default.
					</div>
					 </td></tr></tbody></table></div></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+7449-606745+%5BLatest%5D&comment=Title%3A+Hibernate+Cache+Properties%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=7449-606745+28+Feb+2014+03%3A41+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="Hibernate_Transaction_Properties">
      ⁠</a>12.2.4.4.&nbsp;Hibernate Transaction Properties</h4></div></div></div><div class="table"><a id="idp1258608">
      ⁠</a><p class="title"><strong>Table&nbsp;12.4.&nbsp;Properties</strong></p><div class="table-contents"><table xmlns:d="http://docbook.org/ns/docbook" class="lt-4-cols lt-7-rows" summary="Properties"><colgroup><col width="50%" class="c1"><col width="50%" class="c2"></colgroup><thead><tr><th> Property Name </th><th> Description </th></tr></thead><tbody><tr><td> <code class="literal">hibernate.transaction.factory_class</code> </td><td> <div class="para">
						The classname of a <code class="literal">TransactionFactory</code> to use with Hibernate <code class="literal">Transaction</code> API. Defaults to <code class="literal">JDBCTransactionFactory</code>).
					</div>
					 </td></tr><tr><td> <code class="literal">jta.UserTransaction</code> </td><td> <div class="para">
						A JNDI name used by <code class="literal">JTATransactionFactory</code> to obtain the JTA <code class="literal">UserTransaction</code> from the application server.
					</div>
					 </td></tr><tr><td> <code class="literal">hibernate.transaction.manager_lookup_class</code> </td><td> <div class="para">
						The classname of a <code class="literal">TransactionManagerLookup</code>. It is required when JVM-level caching is enabled or when using hilo generator in a JTA environment.
					</div>
					 </td></tr><tr><td> <code class="literal">hibernate.transaction.flush_before_completion</code> </td><td> <div class="para">
						Boolean. If enabled, the session will be automatically flushed during the before completion phase of the transaction. Built-in and automatic session context management is preferred.
					</div>
					 </td></tr><tr><td> <code class="literal">hibernate.transaction.auto_close_session</code> </td><td> <div class="para">
						Boolean. If enabled, the session will be automatically closed during the after completion phase of the transaction. Built-in and automatic session context management is preferred.
					</div>
					 </td></tr></tbody></table></div></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+7450-591790+%5BLatest%5D&comment=Title%3A+Hibernate+Transaction+Properties%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=7450-591790+24+Feb+2014+07%3A55+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="Miscellaneous_Hibernate_Properties1">
      ⁠</a>12.2.4.5.&nbsp;Miscellaneous Hibernate Properties</h4></div></div></div><div class="table"><a id="idp4115040">
      ⁠</a><p class="title"><strong>Table&nbsp;12.5.&nbsp;Properties</strong></p><div class="table-contents"><table xmlns:d="http://docbook.org/ns/docbook" class="lt-4-cols gt-7-rows" summary="Properties"><colgroup><col width="50%" class="c1"><col width="50%" class="c2"></colgroup><thead><tr><th> Property Name </th><th> Description </th></tr></thead><tbody><tr><td> <code class="literal">hibernate.current_session_context_class</code> </td><td> <div class="para">
						Supply a custom strategy for the scoping of the "current" <code class="literal">Session</code>. Values include <code class="literal">jta</code> | <code class="literal">thread</code> | <code class="literal">managed</code> | <code class="literal">custom.Class</code>.
					</div>
					 </td></tr><tr><td> <code class="literal">hibernate.query.factory_class</code> </td><td> <div class="para">
						Chooses the HQL parser implementation: <code class="literal">org.hibernate.hql.internal.ast.ASTQueryTranslatorFactory</code> or <code class="literal">org.hibernate.hql.internal.classic.ClassicQueryTranslatorFactory</code>.
					</div>
					 </td></tr><tr><td> <code class="literal">hibernate.query.substitutions</code> </td><td> <div class="para">
						Used to map from tokens in Hibernate queries to SQL tokens (tokens might be function or literal names). For example, <code class="literal">hqlLiteral=SQL_LITERAL, hqlFunction=SQLFUNC</code>.
					</div>
					 </td></tr><tr><td> <code class="literal">hibernate.hbm2ddl.auto</code> </td><td> <div class="para">
						Automatically validates or exports schema DDL to the database when the <code class="literal">SessionFactory</code> is created. With <code class="literal">create-drop</code>, the database schema will be dropped when the <code class="literal">SessionFactory</code> is closed explicitly. Property value options are <code class="literal">validate</code> | <code class="literal">update</code> | <code class="literal">create</code> | <code class="literal">create-drop</code>
					</div>
					 </td></tr><tr><td> <code class="literal">hibernate.hbm2ddl.import_files</code> </td><td> <div class="para">
						Comma-separated names of the optional files containing SQL DML statements executed during the <code class="classname">SessionFactory</code> creation. This is useful for testing or demonstrating. For example, by adding INSERT statements, the database can be populated with a minimal set of data when it is deployed. An example value is <code class="literal">/humans.sql,/dogs.sql</code>.
					</div>
					 <div class="para">
						File order matters, as the statements of a given file are executed before the statements of the following files. These statements are only executed if the schema is created (i.e. if <code class="literal">hibernate.hbm2ddl.auto</code> is set to <code class="literal">create</code> or <code class="literal">create-drop</code>).
					</div>
					 </td></tr><tr><td> <code class="literal">hibernate.hbm2ddl.import_files_sql_extractor</code> </td><td> <div class="para">
						The classname of a custom <code class="interfacename"> ImportSqlCommandExtractor</code>. Defaults to the built-in <code class="classname">SingleLineSqlCommandExtractor</code>. This is useful for implementing a dedicated parser that extracts a single SQL statement from each import file. Hibernate also provides <code class="classname">MultipleLinesSqlCommandExtractor</code>, which supports instructions/comments and quoted strings spread over multiple lines (mandatory semicolon at the end of each statement).
					</div>
					 </td></tr><tr><td> <code class="literal">hibernate.bytecode.use_reflection_optimizer</code> </td><td> <div class="para">
						Boolean. This is a system-level property, which cannot be set in the <code class="filename">hibernate.cfg.xml</code> file. Enables the use of bytecode manipulation instead of runtime reflection. Reflection can sometimes be useful when troubleshooting. Hibernate always requires either CGLIB or javassist even if the optimizer is turned off.
					</div>
					 </td></tr><tr><td> <code class="literal">hibernate.bytecode.provider</code> </td><td> <div class="para">
						Both javassist or cglib can be used as byte manipulation engines. The default is <code class="literal">javassist</code>. Property value is either <code class="literal">javassist</code> or <code class="literal">cglib</code>
					</div>
					 </td></tr></tbody></table></div></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+7451-591790+%5BLatest%5D&comment=Title%3A+Miscellaneous+Hibernate+Properties%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=7451-591790+24+Feb+2014+07%3A55+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="Hibernate_SQL_Dialects1">
      ⁠</a>12.2.4.6.&nbsp;Hibernate SQL Dialects</h4></div></div></div><div xmlns:d="http://docbook.org/ns/docbook" class="important"><div class="admonition_header"><p><strong>Important</strong></p></div><div class="admonition"><div class="para">
			The <code class="literal">hibernate.dialect</code> property should be set to the correct <code class="literal">org.hibernate.dialect.Dialect</code> subclass for the application database. If a dialect is specified, Hibernate will use sensible defaults for some of the other properties. This means that they do not have to be specified manually.
		</div></div></div><div class="table"><a id="idp19262368">
      ⁠</a><p class="title"><strong>Table&nbsp;12.6.&nbsp;SQL Dialects (<code class="literal">hibernate.dialect</code>)</strong></p><div class="table-contents"><table xmlns:d="http://docbook.org/ns/docbook" class="lt-4-cols gt-14-rows" summary="SQL Dialects (hibernate.dialect)"><colgroup><col><col></colgroup><thead><tr><th> RDBMS </th><th> Dialect </th></tr></thead><tbody><tr><td> DB2 </td><td> <code class="literal">org.hibernate.dialect.DB2Dialect</code> </td></tr><tr><td> DB2 AS/400 </td><td> <code class="literal">org.hibernate.dialect.DB2400Dialect</code> </td></tr><tr><td> DB2 OS390 </td><td> <code class="literal">org.hibernate.dialect.DB2390Dialect</code> </td></tr><tr><td> Firebird </td><td> <code class="literal">org.hibernate.dialect.FirebirdDialect</code> </td></tr><tr><td> FrontBase </td><td> <code class="literal">org.hibernate.dialect.FrontbaseDialect</code> </td></tr><tr><td> H2 Database </td><td> <code class="literal">org.hibernate.dialect.H2Dialect</code> </td></tr><tr><td> HypersonicSQL </td><td> <code class="literal">org.hibernate.dialect.HSQLDialect</code> </td></tr><tr><td> Informix </td><td> <code class="literal">org.hibernate.dialect.InformixDialect</code> </td></tr><tr><td> Ingres </td><td> <code class="literal">org.hibernate.dialect.IngresDialect</code> </td></tr><tr><td> Interbase </td><td> <code class="literal">org.hibernate.dialect.InterbaseDialect</code> </td></tr><tr><td> Mckoi SQL </td><td> <code class="literal">org.hibernate.dialect.MckoiDialect</code> </td></tr><tr><td> Microsoft SQL Server 2000 </td><td> <code class="literal">org.hibernate.dialect.SQLServerDialect</code> </td></tr><tr><td> Microsoft SQL Server 2005 </td><td> <code class="literal">org.hibernate.dialect.SQLServer2005Dialect</code> </td></tr><tr><td> Microsoft SQL Server 2008 </td><td> <code class="literal">org.hibernate.dialect.SQLServer2008Dialect</code> </td></tr><tr><td> Microsoft SQL Server 2012 </td><td> <code class="literal">org.hibernate.dialect.SQLServer2008Dialect</code> </td></tr><tr><td> MySQL5 </td><td> <code class="literal">org.hibernate.dialect.MySQL5Dialect</code> </td></tr><tr><td> MySQL5 with InnoDB </td><td> <code class="literal">org.hibernate.dialect.MySQL5InnoDBDialect</code> </td></tr><tr><td> MySQL with MyISAM </td><td> <code class="literal">org.hibernate.dialect.MySQLMyISAMDialect</code> </td></tr><tr><td> Oracle (any version) </td><td> <code class="literal">org.hibernate.dialect.OracleDialect</code> </td></tr><tr><td> Oracle 9i </td><td> <code class="literal">org.hibernate.dialect.Oracle9iDialect</code> </td></tr><tr><td> Oracle 10g </td><td> <code class="literal">org.hibernate.dialect.Oracle10gDialect</code> </td></tr><tr><td> Oracle 11g </td><td> <code class="literal">org.hibernate.dialect.Oracle10gDialect</code> </td></tr><tr><td> Pointbase </td><td> <code class="literal">org.hibernate.dialect.PointbaseDialect</code> </td></tr><tr><td> PostgreSQL </td><td> <code class="literal">org.hibernate.dialect.PostgreSQLDialect</code> </td></tr><tr><td> PostgreSQL 9.2 </td><td> <code class="literal">org.hibernate.dialect.PostgreSQL82Dialect</code> </td></tr><tr><td> Postgres Plus Advanced Server </td><td> <code class="literal">org.hibernate.dialect.PostgresPlusDialect</code> </td></tr><tr><td> Progress </td><td> <code class="literal">org.hibernate.dialect.ProgressDialect</code> </td></tr><tr><td> SAP DB </td><td> <code class="literal">org.hibernate.dialect.SAPDBDialect</code> </td></tr><tr><td> Sybase </td><td> <code class="literal">org.hibernate.dialect.SybaseASE15Dialect</code> </td></tr><tr><td> Sybase 15.7 </td><td> <code class="literal">org.hibernate.dialect.SybaseASE157Dialect</code> </td></tr><tr><td> Sybase Anywhere </td><td> <code class="literal">org.hibernate.dialect.SybaseAnywhereDialect</code> </td></tr></tbody></table></div></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+7452-591790+%5BLatest%5D&comment=Title%3A+Hibernate+SQL+Dialects%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=7452-591790+24+Feb+2014+07%3A55+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="sect-Second-Level_Caches">
      ⁠</a>12.2.5.&nbsp;Second-Level Caches</h3></div></div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="About_Second-Level_Caches">
      ⁠</a>12.2.5.1.&nbsp;About Second-Level Caches</h4></div></div></div><div class="para">
		A second-level cache is a local data store that holds information persisted outside the application session. The cache is managed by the persistence provider, improving run-time by keeping the data separate from the application.
	</div><div class="para">
		JBoss EAP 6 supports caching for the following purposes:
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
				Web Session Clustering
			</div></li><li class="listitem"><div class="para">
				Stateful Session Bean Clustering
			</div></li><li class="listitem"><div class="para">
				SSO Clustering
			</div></li><li class="listitem"><div class="para">
				Hibernate Second Level Cache
			</div></li></ul></div><div class="para">
		Each cache container defines a "repl" and a "dist" cache. These caches should not be used directly by user applications.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+1411-591647+%5BLatest%5D&comment=Title%3A+About+Second-Level+Caches%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=1411-591647+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="Configure_a_Second_Level_Cache_for_Hibernate">
      ⁠</a>12.2.5.2.&nbsp;Configure a Second Level Cache for Hibernate</h4></div></div></div><div class="para">
		This topic covers the configuration requirements for enabling Infinispan to act as the second level cache for Hibernate.
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idm1336784">
      ⁠</a><p class="title"><strong>Procedure&nbsp;12.4.&nbsp;Create and Edit the <code class="filename">hibernate.cfg.xml</code> file</strong></p><ol class="1"><li class="step"><p class="title"><strong>Create the hibernate.cfg.xml file</strong></p><div class="para">
				Create the <code class="filename">hibernate.cfg.xml</code> in the deployment's classpath. For specifics, refer to <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Create_the_Hibernate_Configuration_File_in_JBoss_Developer_Studio1">Section&nbsp;12.2.3.4, “Create the Hibernate Configuration File in Red Hat JBoss Developer Studio”</a> .
			</div></li><li class="step"><div class="para">
				Add these lines of XML to the <code class="filename">hibernate.cfg.xml</code> file in your application. The XML needs to be inside the &lt;session-factory&gt; tags:
			</div><pre class="programlisting">&lt;property name="hibernate.cache.use_second_level_cache"&gt;true&lt;/property&gt;
&lt;property name="hibernate.cache.use_query_cache"&gt;true&lt;/property&gt;</pre></li><li class="step"><div class="para">
				Add one of the following to the &lt;session-factory&gt; section of the <code class="filename">hibernate.cfg.xml</code> file:
			</div><ul class="stepalternatives">
				<li class="step"><p class="title"><strong>If the Infinispan CacheManager is bound to JNDI:</strong></p><pre class="programlisting">&lt;property name="hibernate.cache.region.factory_class"&gt;
    org.hibernate.cache.infinispan.JndiInfinispanRegionFactory
&lt;/property&gt;
&lt;property name="hibernate.cache.infinispan.cachemanager"&gt;
    java:CacheManager
&lt;/property&gt;</pre></li>
				 <li class="step"><p class="title"><strong>If the Infinispan CacheManager is standalone:</strong></p><pre class="programlisting">&lt;property name="hibernate.cache.region.factory_class"&gt;
    org.hibernate.cache.infinispan.InfinispanRegionFactory
&lt;/property&gt;</pre></li>

			</ul></li></ol></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Result</div>
			Infinispan is configured as the Second Level Cache for Hibernate.
		</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4362-591660+%5BLatest%5D&comment=Title%3A+Configure+a+Second+Level+Cache+for+Hibernate%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4362-591660+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="sect-Hibernate_Annotations">
      ⁠</a>12.3.&nbsp;Hibernate Annotations</h2></div></div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="Hibernate_Annotations">
      ⁠</a>12.3.1.&nbsp;Hibernate Annotations</h3></div></div></div><div class="table"><a id="idp1592352">
      ⁠</a><p class="title"><strong>Table&nbsp;12.7.&nbsp;Hibernate Defined Annotations</strong></p><div class="table-contents"><table xmlns:d="http://docbook.org/ns/docbook" class="lt-4-cols gt-14-rows" summary="Hibernate Defined Annotations"><colgroup><col width="50%" align="left" class="c1"><col width="50%" align="left" class="c2"></colgroup><thead><tr><th align="left"> Annotation </th><th align="left"> Description </th></tr></thead><tbody><tr><td align="left"> AccessType </td><td align="left"> Property Access type. </td></tr><tr><td align="left"> Any </td><td align="left"> Defines a ToOne association pointing to several entity types. Matching the according entity type is done through a metadata discriminator column. This kind of mapping should be only marginal. </td></tr><tr><td align="left"> AnyMetaDef </td><td align="left"> Defines @Any and @manyToAny metadata. </td></tr><tr><td align="left"> AnyMedaDefs </td><td align="left"> Defines @Any and @ManyToAny set of metadata. Can be defined at the entity level or the package level. </td></tr><tr><td align="left"> BatchSize </td><td align="left"> Batch size for SQL loading. </td></tr><tr><td align="left"> Cache </td><td align="left"> Add caching strategy to a root entity or a collection. </td></tr><tr><td align="left"> Cascade </td><td align="left"> Apply a cascade strategy on an association. </td></tr><tr><td align="left"> Check </td><td align="left"> Arbitrary SQL check constraints which can be defined at the class, property or collection level. </td></tr><tr><td align="left"> Columns </td><td align="left"> Support an array of columns. Useful for component user type mappings. </td></tr><tr><td align="left"> ColumnTransformer </td><td align="left"> Custom SQL expression used to read the value from and write a value to a column. Use for direct object loading/saving as well as queries. The write expression must contain exactly one '?' placeholder for the value. </td></tr><tr><td align="left"> ColumnTransformers </td><td align="left"> Plural annotation for @ColumnTransformer. Useful when more than one column is using this behavior. </td></tr><tr><td align="left"> DiscriminatorFormula </td><td align="left"> Discriminator formula to be placed at the root entity. </td></tr><tr><td align="left"> DiscriminatorOptions </td><td align="left"> Optional annotation to express Hibernate specific discriminator properties. </td></tr><tr><td align="left"> Entity </td><td align="left"> Extends Entity with Hibernate features. </td></tr><tr><td align="left"> Fetch </td><td align="left"> Defines the fetching strategy used for the given association. </td></tr><tr><td align="left"> FetchProfile </td><td align="left"> Defines the fetching strategy profile. </td></tr><tr><td align="left"> FetchProfiles </td><td align="left"> Plural annotation for @FetchProfile. </td></tr><tr><td align="left"> Filter </td><td align="left"> Adds filters to an entity or a target entity of a collection. </td></tr><tr><td align="left"> FilterDef </td><td align="left"> Filter definition. </td></tr><tr><td align="left"> FilterDefs </td><td align="left"> Array of filter definitions. </td></tr><tr><td align="left"> FilterJoinTable </td><td align="left"> Adds filters to a join table collection. </td></tr><tr><td align="left"> FilterJoinTables </td><td align="left"> Adds multiple @FilterJoinTable to a collection. </td></tr><tr><td align="left"> Filters </td><td align="left"> Adds multiple @Filters. </td></tr><tr><td align="left"> Formula </td><td align="left"> To be used as a replacement for @Column in most places. The formula has to be a valid SQL fragment. </td></tr><tr><td align="left"> Generated </td><td align="left"> This annotated property is generated by the database. </td></tr><tr><td align="left"> GenericGenerator </td><td align="left"> Generator annotation describing any kind of Hibernate generator in a detyped manner. </td></tr><tr><td align="left"> GenericGenerators </td><td align="left"> Array of generic generator definitions. </td></tr><tr><td align="left"> Immutable </td><td align="left"> <div class="para">
						Mark an Entity or a Collection as immutable. No annotation means the element is mutable.
					</div>
					 <div class="para">
						An immutable entity may not be updated by the application. Updates to an immutable entity will be ignored, but no exception is thrown.
					</div>
					 <div class="para">
						@Immutable placed on a collection makes the collection immutable, meaning additions and deletions to and from the collection are not allowed. A HibernateException is thrown in this case.
					</div>
					 </td></tr><tr><td align="left"> Index </td><td align="left"> Defines a database index. </td></tr><tr><td align="left"> JoinFormula </td><td align="left"> To be used as a replacement for @JoinColumn in most places. The formula has to be a valid SQL fragment. </td></tr><tr><td align="left"> LazyCollection </td><td align="left"> Defines the lazy status of a collection. </td></tr><tr><td align="left"> LazyToOne </td><td align="left"> Defines the lazy status of a ToOne association (i.e. OneToOne or ManyToOne). </td></tr><tr><td align="left"> Loader </td><td align="left"> Overwrites Hibernate default FIND method. </td></tr><tr><td align="left"> ManyToAny </td><td align="left"> Defines a ToMany association pointing to different entity types. Matching the according entity type is done through a metadata discriminator column. This kind of mapping should be only marginal. </td></tr><tr><td align="left"> MapKeyType </td><td align="left"> Defines the type of key of a persistent map. </td></tr><tr><td align="left"> MetaValue </td><td align="left"> Represents a discriminator value associated to a given entity type. </td></tr><tr><td align="left"> NamedNativeQueries </td><td align="left"> Extends NamedNativeQueries to hold Hibernate NamedNativeQuery objects. </td></tr><tr><td align="left"> NamedNativeQuery </td><td align="left"> Extends NamedNativeQuery with Hibernate features. </td></tr><tr><td align="left"> NamedQueries </td><td align="left"> Extends NamedQueries to hold Hibernate NamedQuery objects. </td></tr><tr><td align="left"> NamedQuery </td><td align="left"> Extends NamedQuery with Hibernate features. </td></tr><tr><td align="left"> NaturalId </td><td align="left"> Specifies that a property is part of the natural id of the entity. </td></tr><tr><td align="left"> NotFound </td><td align="left"> Action to do when an element is not found on an association. </td></tr><tr><td align="left"> OnDelete </td><td align="left"> Strategy to use on collections, arrays and on joined subclasses delete. OnDelete of secondary tables is currently not supported. </td></tr><tr><td align="left"> OptimisticLock </td><td align="left"> Whether or not a change of the annotated property will trigger an entity version increment. If the annotation is not present, the property is involved in the optimistic lock strategy (default). </td></tr><tr><td align="left"> OptimisticLocking </td><td align="left"> Used to define the style of optimistic locking to be applied to an entity. In a hierarchy, only valid on the root entity. </td></tr><tr><td align="left"> OrderBy </td><td align="left"> Order a collection using SQL ordering (not HQL ordering). </td></tr><tr><td align="left"> ParamDef </td><td align="left"> A parameter definition. </td></tr><tr><td align="left"> Parameter </td><td align="left"> Key/value pattern. </td></tr><tr><td align="left"> Parent </td><td align="left"> Reference the property as a pointer back to the owner (generally the owning entity). </td></tr><tr><td align="left"> Persister </td><td align="left"> Specify a custom persister. </td></tr><tr><td align="left"> Polymorphism </td><td align="left"> Used to define the type of polymorphism Hibernate will apply to entity hierarchies. </td></tr><tr><td align="left"> Proxy </td><td align="left"> Lazy and proxy configuration of a particular class. </td></tr><tr><td align="left"> RowId </td><td align="left"> Support for ROWID mapping feature of Hibernate. </td></tr><tr><td align="left"> Sort </td><td align="left"> Collection sort (Java level sorting). </td></tr><tr><td align="left"> Source </td><td align="left"> Optional annotation in conjunction with Version and timestamp version properties. The annotation value decides where the timestamp is generated. </td></tr><tr><td align="left"> SQLDelete </td><td align="left"> Overwrites the Hibernate default DELETE method. </td></tr><tr><td align="left"> SQLDeleteAll </td><td align="left"> Overwrites the Hibernate default DELETE ALL method. </td></tr><tr><td align="left"> SQLInsert </td><td align="left"> Overwrites the Hibernate default INSERT INTO method. </td></tr><tr><td align="left"> SQLUpdate </td><td align="left"> Overwrites the Hibernate default UPDATE method. </td></tr><tr><td align="left"> Subselect </td><td align="left"> Maps an immutable and read-only entity to a given SQL subselect expression. </td></tr><tr><td align="left"> Synchronize </td><td align="left"> Ensures that auto-flush happens correctly and that queries against the derived entity do not return stale data. Mostly used with Subselect. </td></tr><tr><td align="left"> Table </td><td align="left"> Complementary information to a table either primary or secondary. </td></tr><tr><td align="left"> Tables </td><td align="left"> Plural annotation of Table. </td></tr><tr><td align="left"> Target </td><td align="left"> Defines an explicit target, avoiding reflection and generics resolving. </td></tr><tr><td align="left"> Tuplizer </td><td align="left"> Defines a tuplizer for an entity or a component. </td></tr><tr><td align="left"> Tuplizers </td><td align="left"> Defines a set of tuplizers for an entity or a component. </td></tr><tr><td align="left"> Type </td><td align="left"> Hibernate Type. </td></tr><tr><td align="left"> TypeDef </td><td align="left"> Hibernate Type definition. </td></tr><tr><td align="left"> TypeDefs </td><td align="left"> Hibernate Type definition array. </td></tr><tr><td align="left"> Where </td><td align="left"> Where clause to add to the element Entity or target entity of a collection. The clause is written in SQL. </td></tr><tr><td align="left"> WhereJoinTable </td><td align="left"> Where clause to add to the collection join table. The clause is written in SQL. </td></tr></tbody></table></div></div><div xmlns:d="http://docbook.org/ns/docbook" class="note"><div class="admonition_header"><p><strong>Note</strong></p></div><div class="admonition"><div class="para">
			The annotation "Entity" is deprecated and scheduled for removal in future releases.
		</div></div></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+7345-623523+%5BLatest%5D&comment=Title%3A+Hibernate+Annotations%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=7345-623523+24+Mar+2014+16%3A50+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="sect-Hibernate_Query_Language">
      ⁠</a>12.4.&nbsp;Hibernate Query Language</h2></div></div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="HQL_and_JPQL">
      ⁠</a>12.4.1.&nbsp;About Hibernate Query Language</h3></div></div></div><div class="para">
		The Hibernate Query Language (HQL) and Java Persistence Query Language (JPQL) are both object model focused query languages similar in nature to SQL. HQL is a superset of JPQL. A HQL query is not always a valid JPQL query, but a JPQL query is always a valid HQL query.
	</div><div class="para">
		Both HQL and JPQL are non-type-safe ways to perform query operations. Criteria queries offer a type-safe approach to querying.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+11474-591978+%5BLatest%5D&comment=Title%3A+About+Hibernate+Query+Language%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=11474-591978+24+Feb+2014+07%3A56+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="HQL_Statements">
      ⁠</a>12.4.2.&nbsp;HQL Statements</h3></div></div></div><div class="para">
		HQL allows <code class="literal">SELECT</code>, <code class="literal">UPDATE</code>, <code class="literal">DELETE</code>, and <code class="literal">INSERT</code> statements. The HQL <code class="literal">INSERT</code> statement has no equivalent in JPQL.
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="important"><div class="admonition_header"><p><strong>Important</strong></p></div><div class="admonition"><div class="para">
			Care should be taken as to when an <code class="literal">UPDATE</code> or <code class="literal">DELETE</code> statement is executed.
		</div></div></div><div class="table"><a id="idp31560464">
      ⁠</a><p class="title"><strong>Table&nbsp;12.8.&nbsp;HQL Statements</strong></p><div class="table-contents"><table xmlns:d="http://docbook.org/ns/docbook" class="lt-4-cols lt-7-rows" summary="HQL Statements"><colgroup><col width="50%" align="left" class="c1"><col width="50%" align="left" class="c2"></colgroup><thead><tr><th align="left"> Statement </th><th align="left"> Description </th></tr></thead><tbody><tr><td align="left"> <code class="code">SELECT</code> </td><td align="left"> <div class="para">
						The BNF for <code class="literal">SELECT</code> statements in HQL is:
					</div>
					 
<pre class="programlisting">select_statement :: =
        [select_clause]
        from_clause
        [where_clause]
        [groupby_clause]
        [having_clause]
        [orderby_clause]
</pre>
					 <div class="para">
						The simplest possible HQL <code class="literal">SELECT</code> statement is of the form:
					</div>
					 
<pre class="programlisting">from com.acme.Cat</pre>
					 </td></tr><tr><td align="left"> <code class="code">UDPATE</code> </td><td align="left"> The BNF for UPDATE statement in HQL is the same as it is in JPQL </td></tr><tr><td align="left"> <code class="code">DELETE</code> </td><td align="left"> The BNF for DELETE statements in HQL is the same as it is in JPQL </td></tr></tbody></table></div></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+11476-591978+%5BLatest%5D&comment=Title%3A+HQL+Statements%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=11476-591978+24+Feb+2014+07%3A56+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="About_the_INSERT_Statement">
      ⁠</a>12.4.3.&nbsp;About the INSERT Statement</h3></div></div></div><div class="para">
		HQL adds the ability to define <code class="literal">INSERT</code> statements. There is no JPQL equivalent to this. The BNF for an HQL <code class="literal">INSERT</code> statement is:
	</div><pre class="programlisting JAVA">insert_statement ::= insert_clause select_statement

insert_clause ::= INSERT INTO entity_name (attribute_list)

attribute_list ::= state_field[, state_field ]*
</pre><div class="para">
		The <code class="literal">attribute_list</code> is analogous to the <code class="literal">column specification</code> in the SQL <code class="literal">INSERT</code> statement. For entities involved in mapped inheritance, only attributes directly defined on the named entity can be used in the <code class="literal">attribute_list</code>. Superclass properties are not allowed and subclass properties do not make sense. In other words, <code class="literal">INSERT</code> statements are inherently non-polymorphic.
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="warning"><div class="admonition_header"><p><strong>Warning</strong></p></div><div class="admonition"><div class="para">
			<code class="literal">select_statement</code> can be any valid HQL select query, with the caveat that the return types must match the types expected by the insert. Currently, this is checked during query compilation rather than allowing the check to relegate to the database. This may cause problems between Hibernate Types which are <span class="emphasis"><em>equivalent</em></span> as opposed to <span class="emphasis"><em>equal</em></span>. For example, this might cause lead to issues with mismatches between an attribute mapped as a <code class="classname">org.hibernate.type.DateType</code> and an attribute defined as a <code class="classname">org.hibernate.type.TimestampType</code>, even though the database might not make a distinction or might be able to handle the conversion.
		</div></div></div><div class="para">
		For the id attribute, the insert statement gives you two options. You can either explicitly specify the id property in the <code class="literal">attribute_list</code>, in which case its value is taken from the corresponding select expression, or omit it from the <code class="literal">attribute_list</code> in which case a generated value is used. This latter option is only available when using id generators that operate "in the database"; attempting to use this option with any "in memory" type generators will cause an exception during parsing.
	</div><div class="para">
		For optimistic locking attributes, the insert statement again gives you two options. You can either specify the attribute in the <code class="literal">attribute_list</code> in which case its value is taken from the corresponding select expressions, or omit it from the <code class="literal">attribute_list</code> in which case the <code class="literal">seed value</code> defined by the corresponding <code class="interfacename">org.hibernate.type.VersionType</code> is used.
	</div><div class="example"><a id="idp4181520">
      ⁠</a><p class="title"><strong>Example&nbsp;12.3.&nbsp;Example INSERT Query Statements</strong></p><div class="example-contents"><pre class="programlisting JAVA">String hqlInsert = "insert into DelinquentAccount (id, name) select c.id, c.name from Customer c where ...";
int createdEntities = s.createQuery( hqlInsert ).executeUpdate();
</pre></div></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+11618-591984+%5BLatest%5D&comment=Title%3A+About+the+INSERT+Statement%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=11618-591984+24+Feb+2014+07%3A56+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="The_FROM_Clause_in_HQL">
      ⁠</a>12.4.4.&nbsp;About the FROM Clause</h3></div></div></div><div class="para">
		The <code class="literal">FROM</code> clause is responsible defining the scope of object model types available to the rest of the query. It also is responsible for defining all the "identification variables" available to the rest of the query.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+11478-591978+%5BLatest%5D&comment=Title%3A+About+the+FROM+Clause%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=11478-591978+24+Feb+2014+07%3A56+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="About_the_WITH_Clause">
      ⁠</a>12.4.5.&nbsp;About the WITH Clause</h3></div></div></div><div class="para">
		HQL defines a <code class="literal">WITH</code> clause to qualify the join conditions. This is specific to HQL; JPQL does not define this feature.
	</div><div class="example"><a id="idp374272">
      ⁠</a><p class="title"><strong>Example&nbsp;12.4.&nbsp;with-clause Join Example</strong></p><div class="example-contents"><pre class="programlisting JAVA">select distinct c
from Customer c
    left join c.orders o
        with o.value &gt; 5000.00
</pre></div></div><div class="para">
		The important distinction is that in the generated SQL the conditions of the <code class="literal">with clause</code> are made part of the <code class="literal">on clause</code> in the generated SQL as opposed to the other queries in this section where the HQL/JPQL conditions are made part of the <code class="literal">where clause</code> in the generated SQL. The distinction in this specific example is probably not that significant. The <code class="literal">with clause</code> is sometimes necessary in more complicated queries.
	</div><div class="para">
		Explicit joins may reference association or component/embedded attributes. In the case of component/embedded attributes, the join is simply logical and does not correlate to a physical (SQL) join.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+11736-591991+%5BLatest%5D&comment=Title%3A+About+the+WITH+Clause%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=11736-591991+24+Feb+2014+07%3A56+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="About_Bulk_Update_Insert_and_Delete">
      ⁠</a>12.4.6.&nbsp;About Bulk Update, Insert and Delete</h3></div></div></div><div class="para">
		Hibernate allows the use of Data Manipulation Language (DML) to bulk insert, update and delete data directly in the mapped database through the Hibernate Query Language.
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="warning"><div class="admonition_header"><p><strong>Warning</strong></p></div><div class="admonition"><div class="para">
			Using DML may violate the object/relational mapping and may affect object state. Object state stays in memory and by using DML, the state of an in-memory object is not affected depending on the operation that is performed on the underlying database. In-memory data must be used with care if DML is used.
		</div></div></div><div class="para">
		The pseudo-syntax for UPDATE and DELETE statements is: <code class="command">( UPDATE | DELETE ) FROM? EntityName (WHERE where_conditions)?</code>.
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="note"><div class="admonition_header"><p><strong>Note</strong></p></div><div class="admonition"><div class="para">
			The <code class="literal">FROM</code> keyword and the <code class="literal">WHERE Clause</code> are optional.
		</div></div></div><div class="para">
		The result of execution of a UPDATE or DELETE statement is the number of rows that are actually affected (updated or deleted).
	</div><div class="example"><a id="idp18146784">
      ⁠</a><p class="title"><strong>Example&nbsp;12.5.&nbsp;Example of a Bulk Update Statement</strong></p><div class="example-contents"><pre class="programlisting">Session session = sessionFactory.openSession();
Transaction tx = session.beginTransaction();

String hqlUpdate = "update Company set name = :newName where name = :oldName";
int updatedEntities = s.createQuery( hqlUpdate )
        .setString( "newName", newName )
        .setString( "oldName", oldName )
        .executeUpdate();
tx.commit();
session.close();
</pre></div></div><div class="example"><a id="idp1435568">
      ⁠</a><p class="title"><strong>Example&nbsp;12.6.&nbsp;Example of a Bulk Delete statement</strong></p><div class="example-contents"><pre class="programlisting">Session session = sessionFactory.openSession();
Transaction tx = session.beginTransaction();

String hqlDelete = "delete Company where name = :oldName";
int deletedEntities = s.createQuery( hqlDelete )
        .setString( "oldName", oldName )
        .executeUpdate();
tx.commit();
session.close();
</pre></div></div><div class="para">
		The <code class="literal">int</code> value returned by the <code class="command">Query.executeUpdate()</code> method indicates the number of entities within the database that were affected by the operation.
	</div><div class="para">
		Internally, the database might use multiple SQL statements to execute the operation in response to a DML Update or Delete request. This might be because of relationships that exist between tables and the join tables that may need to be updated or deleted.
	</div><div class="para">
		For example, issuing a delete statement (as in the example above) may actually result in deletes being executed against not just the <code class="literal">Company</code> table for companies that are named with <code class="literal">oldName</code>, but also against joined tables. Thus, a Company table in a BiDirectional ManyToMany relationship with an Employee table, would lose rows from the corresponding join table <code class="literal">Company_Employee</code> as a result of the successful execution of the previous example.
	</div><div class="para">
		The <code class="literal">int deletedEntries</code> value above will contain a count of all the rows affected due to this operation, including the rows in the join tables.
	</div><div class="para">
		The pseudo-syntax for INSERT statements is: <code class="command">INSERT INTO EntityName properties_list select_statement</code>.
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="note"><div class="admonition_header"><p><strong>Note</strong></p></div><div class="admonition"><div class="para">
			Only the INSERT INTO ... SELECT ... form is supported; not the INSERT INTO ... VALUES ... form.
		</div></div></div><div class="example"><a id="idm564256">
      ⁠</a><p class="title"><strong>Example&nbsp;12.7.&nbsp;Example of a Bulk Insert statement</strong></p><div class="example-contents"><pre class="programlisting">Session session = sessionFactory.openSession();
Transaction tx = session.beginTransaction();

String hqlInsert = "insert into Account (id, name) select c.id, c.name from Customer c where ...";
int createdEntities = s.createQuery( hqlInsert )
        .executeUpdate();
tx.commit();
session.close();
</pre></div></div><div class="para">
		If you do not supply the value for the <code class="literal">id</code> attribute via the SELECT statement, an ID is generated for you, as long as the underlying database supports auto-generated keys. The return value of this bulk insert operation is the number of entries actually created in the database.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+14122-592102+%5BLatest%5D&comment=Title%3A+About+Bulk+Update%2C+Insert+and+Delete%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=14122-592102+24+Feb+2014+07%3A57+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="About_Collection_Member_References">
      ⁠</a>12.4.7.&nbsp;About Collection Member References</h3></div></div></div><div class="para">
		References to collection-valued associations actually refer to the <span class="emphasis"><em>values</em></span> of that collection.
	</div><div class="example"><a id="idp6311328">
      ⁠</a><p class="title"><strong>Example&nbsp;12.8.&nbsp;Collection References Example</strong></p><div class="example-contents"><pre class="programlisting">select c
from Customer c
    join c.orders o
    join o.lineItems l
    join l.product p
where o.status = 'pending'
  and p.status = 'backorder'

// alternate syntax
select c
from Customer c,
    in(c.orders) o,
    in(o.lineItems) l
    join l.product p
where o.status = 'pending'
  and p.status = 'backorder'
</pre></div></div><div class="para">
		In the example, the identification variable <code class="literal">o</code> actually refers to the object model type <code class="classname">Order</code> which is the type of the elements of the <code class="methodname">Customer#orders</code> association.
	</div><div class="para">
		The example also shows the alternate syntax for specifying collection association joins using the <code class="literal">IN</code> syntax. Both forms are equivalent. Which form an application chooses to use is simply a matter of taste.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+11737-591991+%5BLatest%5D&comment=Title%3A+About+Collection+Member+References%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=11737-591991+24+Feb+2014+07%3A56+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="About_Qualified_Path_Expressions">
      ⁠</a>12.4.8.&nbsp;About Qualified Path Expressions</h3></div></div></div><div class="para">
		It was previously stated that collection-valued associations actually refer to the <span class="emphasis"><em>values</em></span> of that collection. Based on the type of collection, there are also available a set of explicit qualification expressions.
	</div><div class="table"><a id="idp13552096">
      ⁠</a><p class="title"><strong>Table&nbsp;12.9.&nbsp;Qualified Path Expressions</strong></p><div class="table-contents"><table xmlns:d="http://docbook.org/ns/docbook" class="lt-4-cols lt-7-rows" summary="Qualified Path Expressions"><colgroup><col width="50%" align="left" class="c1"><col width="50%" align="left" class="c2"></colgroup><thead><tr><th align="left"> Expression </th><th align="left"> Description </th></tr></thead><tbody><tr><td align="left"> <code class="code">VALUE</code> </td><td align="left"> <div class="para">
						Refers to the collection value. Same as not specifying a qualifier. Useful to explicitly show intent. Valid for any type of collection-valued reference.
					</div>
					 </td></tr><tr><td align="left"> <code class="code">INDEX</code> </td><td align="left"> <div class="para">
						According to HQL rules, this is valid for both Maps and Lists which specify a <code class="interfacename">javax.persistence.OrderColumn</code> annotation to refer to the Map key or the List position (aka the OrderColumn value). JPQL however, reserves this for use in the List case and adds <code class="literal">KEY</code> for the MAP case. Applications interested in JPA provider portability should be aware of this distinction.
					</div>
					 </td></tr><tr><td align="left"> <code class="code">KEY</code> </td><td align="left"> <div class="para">
						Valid only for Maps. Refers to the map's key. If the key is itself an entity, can be further navigated.
					</div>
					 </td></tr><tr><td align="left"> <code class="code">ENTRY</code> </td><td align="left"> <div class="para">
						Only valid only for Maps. Refers to the Map's logical <code class="interfacename">java.util.Map.Entry</code> tuple (the combination of its key and value). <code class="literal">ENTRY</code> is only valid as a terminal path and only valid in the select clause.
					</div>
					 </td></tr></tbody></table></div></div><div class="example"><a id="idp25361344">
      ⁠</a><p class="title"><strong>Example&nbsp;12.9.&nbsp;Qualified Collection References Example</strong></p><div class="example-contents"><pre class="programlisting">// Product.images is a Map&lt;String,String&gt; : key = a name, value = file path

// select all the image file paths (the map value) for Product#123
select i
from Product p
    join p.images i
where p.id = 123

// same as above
select value(i)
from Product p
    join p.images i
where p.id = 123

// select all the image names (the map key) for Product#123
select key(i)
from Product p
    join p.images i
where p.id = 123

// select all the image names and file paths (the 'Map.Entry') for Product#123
select entry(i)
from Product p
    join p.images i
where p.id = 123

// total the value of the initial line items for all orders for a customer
select sum( li.amount )
from Customer c
        join c.orders o
        join o.lineItems li
where c.id = 123
  and index(li) = 1</pre></div></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+11738-591991+%5BLatest%5D&comment=Title%3A+About+Qualified+Path+Expressions%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=11738-591991+24+Feb+2014+07%3A56+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="About_Scalar_Functions">
      ⁠</a>12.4.9.&nbsp;About Scalar Functions</h3></div></div></div><div class="para">
		HQL defines some standard functions that are available regardless of the underlying database in use. HQL can also understand additional functions defined by the Dialect as well as the application.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+11780-591990+%5BLatest%5D&comment=Title%3A+About+Scalar+Functions%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=11780-591990+24+Feb+2014+07%3A56+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="HQL_Expressions">
      ⁠</a>12.4.10.&nbsp;HQL Standardized Functions</h3></div></div></div><div class="para">
		The following functions are available in HQL regardless of the underlying database in use.
	</div><div class="table"><a id="idp4180896">
      ⁠</a><p class="title"><strong>Table&nbsp;12.10.&nbsp;HQL Standardized Functions</strong></p><div class="table-contents"><table xmlns:d="http://docbook.org/ns/docbook" class="lt-4-cols gt-7-rows" summary="HQL Standardized Functions"><colgroup><col width="50%" align="left" class="c1"><col width="50%" align="left" class="c2"></colgroup><thead><tr><th align="left"> Function </th><th align="left"> Description </th></tr></thead><tbody><tr><td align="left"> <code class="code">BIT_LENGTH</code> </td><td align="left"> <div class="para">
						Returns the length of binary data.
					</div>
					 </td></tr><tr><td align="left"> <code class="code">CAST</code> </td><td align="left"> <div class="para">
						Performs a SQL cast. The cast target should name the Hibernate mapping type to use. See the chapter on data types for more information.
					</div>
					 </td></tr><tr><td align="left"> <code class="code">EXTRACT</code> </td><td align="left"> <div class="para">
						Performs a SQL extraction on datetime values. An extraction extracts parts of the datetime (the year, for example). See the abbreviated forms below.
					</div>
					 </td></tr><tr><td align="left"> <code class="code">SECOND</code> </td><td align="left"> <div class="para">
						Abbreviated extract form for extracting the second.
					</div>
					 </td></tr><tr><td align="left"> <code class="code">MINUTE</code> </td><td align="left"> <div class="para">
						Abbreviated extract form for extracting the minute.
					</div>
					 </td></tr><tr><td align="left"> <code class="code">HOUR</code> </td><td align="left"> <div class="para">
						Abbreviated extract form for extracting the hour.
					</div>
					 </td></tr><tr><td align="left"> <code class="code">DAY</code> </td><td align="left"> <div class="para">
						Abbreviated extract form for extracting the day.
					</div>
					 </td></tr><tr><td align="left"> <code class="code">MONTH</code> </td><td align="left"> <div class="para">
						Abbreviated extract form for extracting the month.
					</div>
					 </td></tr><tr><td align="left"> <code class="code">YEAR</code> </td><td align="left"> <div class="para">
						Abbreviated extract form for extracting the year.
					</div>
					 </td></tr><tr><td align="left"> <code class="code">STR</code> </td><td align="left"> <div class="para">
						Abbreviated form for casting a value as character data.
					</div>
					 </td></tr></tbody></table></div></div><div class="para">
		Application developers can also supply their own set of functions. This would usually represent either custom SQL functions or aliases for snippets of SQL. Such function declarations are made by using the <code class="methodname">addSqlFunction</code> method of <code class="classname">org.hibernate.cfg.Configuration</code>
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+11479-591978+%5BLatest%5D&comment=Title%3A+HQL+Standardized+Functions%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=11479-591978+24+Feb+2014+07%3A56+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="About_the_Concatenation_Operation">
      ⁠</a>12.4.11.&nbsp;About the Concatenation Operation</h3></div></div></div><div class="para">
		HQL defines a concatenation operator in addition to supporting the concatenation (<code class="literal">CONCAT</code>) function. This is not defined by JPQL, so portable applications should avoid using it. The concatenation operator is taken from the SQL concatenation operator - <code class="literal">||</code>.
	</div><div class="example"><a id="idp31200192">
      ⁠</a><p class="title"><strong>Example&nbsp;12.10.&nbsp;Concatenation Operation Example</strong></p><div class="example-contents"><pre class="programlisting JAVA">select 'Mr. ' || c.name.first || ' ' || c.name.last
from Customer c
where c.gender = Gender.MALE
</pre></div></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+11783-591992+%5BLatest%5D&comment=Title%3A+About+the+Concatenation+Operation%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=11783-591992+24+Feb+2014+07%3A56+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="The_SELECT_Clause_in_HQL">
      ⁠</a>12.4.12.&nbsp;About Dynamic Instantiation</h3></div></div></div><div class="para">
		There is a particular expression type that is only valid in the select clause. Hibernate calls this "dynamic instantiation". JPQL supports some of this feature and calls it a "constructor expression".
	</div><div class="example"><a id="idp41934224">
      ⁠</a><p class="title"><strong>Example&nbsp;12.11.&nbsp;Dynamic Instantiation Example - Constructor</strong></p><div class="example-contents"><pre class="programlisting">select new Family( mother, mate, offspr )
from DomesticCat as mother
    join mother.mate as mate
    left join mother.kittens as offspr
</pre></div></div><div class="para">
		So rather than dealing with the Object[] here we are wrapping the values in a type-safe java object that will be returned as the results of the query. The class reference must be fully qualified and it must have a matching constructor.
	</div><div class="para">
		The class here need not be mapped. If it does represent an entity, the resulting instances are returned in the NEW state (not managed!).
	</div><div class="para">
		This is the part JPQL supports as well. HQL supports additional "dynamic instantiation" features. First, the query can specify to return a List rather than an Object[] for scalar results:
	</div><div class="example"><a id="idp37870336">
      ⁠</a><p class="title"><strong>Example&nbsp;12.12.&nbsp;Dynamic Instantiation Example - List</strong></p><div class="example-contents"><pre class="programlisting">select new list(mother, offspr, mate.name)
from DomesticCat as mother
    inner join mother.mate as mate
    left outer join mother.kittens as offspr
</pre></div></div><div class="para">
		The results from this query will be a List&lt;List&gt; as opposed to a List&lt;Object[]&gt;
	</div><div class="para">
		HQL also supports wrapping the scalar results in a Map.
	</div><div class="example"><a id="idp194253968">
      ⁠</a><p class="title"><strong>Example&nbsp;12.13.&nbsp;Dynamic Instantiation Example - Map</strong></p><div class="example-contents"><pre class="programlisting">select new map( mother as mother, offspr as offspr, mate as mate )
from DomesticCat as mother
    inner join mother.mate as mate
    left outer join mother.kittens as offspr

select new map( max(c.bodyWeight) as max, min(c.bodyWeight) as min, count(*) as n )
from Cat cxt"/&gt;
</pre></div></div><div class="para">
		The results from this query will be a List&lt;Map&lt;String,Object&gt;&gt; as opposed to a List&lt;Object[]&gt;. The keys of the map are defined by the aliases given to the select expressions.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+11480-591978+%5BLatest%5D&comment=Title%3A+About+Dynamic+Instantiation%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=11480-591978+24+Feb+2014+07%3A56+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="HQL_Predicates">
      ⁠</a>12.4.13.&nbsp;About HQL Predicates</h3></div></div></div><div class="para">
		Predicates form the basis of the where clause, the having clause and searched case expressions. They are expressions which resolve to a truth value, generally <code class="literal">TRUE</code> or <code class="literal">FALSE</code>, although boolean comparisons involving NULLs generally resolve to <code class="literal">UNKNOWN</code>.
	</div><div class="variablelist"><p class="title"><strong>HQL Predicates</strong></p><dl class="variablelist"><dt><span class="term">Nullness Predicate</span></dt><dd><div class="para">
					Check a value for nullness. Can be applied to basic attribute references, entity references and parameters. HQL additionally allows it to be applied to component/embeddable types.
				</div><div class="example"><a id="idp13961536">
      ⁠</a><p class="title"><strong>Example&nbsp;12.14.&nbsp;Nullness Checking Examples</strong></p><div class="example-contents"><pre class="programlisting">// select everyone with an associated address
select p
from Person p
where p.address is not null

// select everyone without an associated address
select p
from Person p
where p.address is null
</pre></div></div></dd><dt><span class="term">Like Predicate</span></dt><dd><div class="para">
					Performs a like comparison on string values. The syntax is:
				</div><pre class="programlisting">like_expression ::=
   string_expression
   [NOT] LIKE pattern_value
   [ESCAPE escape_character]
</pre><div class="para">
					The semantics follow that of the SQL like expression. The <code class="literal">pattern_value</code> is the pattern to attempt to match in the <code class="literal">string_expression</code>. Just like SQL, <code class="literal">pattern_value</code> can use "_" and "%" as wildcards. The meanings are the same. "_" matches any single character. "%" matches any number of characters.
				</div><div class="para">
					The optional <code class="literal">escape_character</code> is used to specify an escape character used to escape the special meaning of "_" and "%" in the <code class="literal">pattern_value</code>. This is useful when needing to search on patterns including either "_" or "%".
				</div><div class="example"><a id="idp42019072">
      ⁠</a><p class="title"><strong>Example&nbsp;12.15.&nbsp;Like Predicate Examples</strong></p><div class="example-contents"><pre class="programlisting">select p
from Person p
where p.name like '%Schmidt'

select p
from Person p
where p.name not like 'Jingleheimmer%'

// find any with name starting with "sp_"
select sp
from StoredProcedureMetadata sp
where sp.name like 'sp|_%' escape '|'
</pre></div></div></dd><dt><span class="term">Between Predicate</span></dt><dd><div class="para">
					Analogous to the SQL <code class="literal">BETWEEN</code> expression. Perform a evaluation that a value is within the range of 2 other values. All the operands should have comparable types.
				</div><div class="example"><a id="idm2218000">
      ⁠</a><p class="title"><strong>Example&nbsp;12.16.&nbsp;Between Predicate Examples</strong></p><div class="example-contents"><pre class="programlisting">select p
from Customer c
    join c.paymentHistory p
where c.id = 123
  and index(p) between 0 and 9

select c
from Customer c
where c.president.dateOfBirth
        between {d '1945-01-01'}
            and {d '1965-01-01'}

select o
from Order o
where o.total between 500 and 5000

select p
from Person p
where p.name between 'A' and 'E'
</pre></div></div></dd></dl></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+11481-591978+%5BLatest%5D&comment=Title%3A+About+HQL+Predicates%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=11481-591978+24+Feb+2014+07%3A56+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="About_Relational_Comparisons">
      ⁠</a>12.4.14.&nbsp;About Relational Comparisons</h3></div></div></div><div class="para">
		Comparisons involve one of the comparison operators - =, &gt;, &gt;=, &lt;, &lt;=, &lt;&gt;. HQL also defines != as a comparison operator synonymous with &lt;&gt;. The operands should be of the same type.
	</div><div class="example"><a id="idp23245664">
      ⁠</a><p class="title"><strong>Example&nbsp;12.17.&nbsp;Relational Comparison Examples</strong></p><div class="example-contents"><pre class="programlisting">// numeric comparison
select c
from Customer c
where c.chiefExecutive.age &lt; 30

// string comparison
select c
from Customer c
where c.name = 'Acme'

// datetime comparison
select c
from Customer c
where c.inceptionDate &lt; {d '2000-01-01'}

// enum comparison
select c
from Customer c
where c.chiefExecutive.gender = com.acme.Gender.MALE

// boolean comparison
select c
from Customer c
where c.sendEmail = true

// entity type comparison
select p
from Payment p
where type(p) = WireTransferPayment

// entity value comparison
select c
from Customer c
where c.chiefExecutive = c.chiefTechnologist</pre></div></div><div class="para">
		Comparisons can also involve subquery qualifiers - <code class="literal">ALL</code>, <code class="literal">ANY</code>, <code class="literal">SOME</code>. <code class="literal">SOME</code> and <code class="literal">ANY</code> are synonymous.
	</div><div class="para">
		The <code class="literal">ALL</code> qualifier resolves to true if the comparison is true for all of the values in the result of the subquery. It resolves to false if the subquery result is empty.
	</div><div class="example"><a id="idp22238224">
      ⁠</a><p class="title"><strong>Example&nbsp;12.18.&nbsp;ALL Subquery Comparison Qualifier Example</strong></p><div class="example-contents"><pre class="programlisting">// select all players that scored at least 3 points
// in every game.
select p
from Player p
where 3 &gt; all (
   select spg.points
   from StatsPerGame spg
   where spg.player = p
)
</pre></div></div><div class="para">
		The <code class="literal">ANY</code>/<code class="literal">SOME</code> qualifier resolves to true if the comparison is true for some of (at least one of) the values in the result of the subquery. It resolves to false if the subquery result is empty.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+11784-706658+%5BLatest%5D&comment=Title%3A+About+Relational+Comparisons%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=11784-706658+05+Sep+2014+11%3A27+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="About_the_IN_Predicate">
      ⁠</a>12.4.15.&nbsp;About the IN Predicate</h3></div></div></div><div class="para">
		The <code class="literal">IN</code> predicate performs a check that a particular value is in a list of values. Its syntax is:
	</div><pre class="programlisting">in_expression ::= single_valued_expression
            [NOT] IN single_valued_list

single_valued_list ::= constructor_expression |
            (subquery) |
            collection_valued_input_parameter

constructor_expression ::= (expression[, expression]*)
</pre><div class="para">
		The types of the <code class="literal">single_valued_expression</code> and the individual values in the <code class="literal">single_valued_list</code> must be consistent. JPQL limits the valid types here to string, numeric, date, time, timestamp, and enum types. In JPQL, <code class="literal">single_valued_expression</code> can only refer to:
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
				"state fields", which is its term for simple attributes. Specifically this excludes association and component/embedded attributes.
			</div></li><li class="listitem"><div class="para">
				entity type expressions.
			</div></li></ul></div><div class="para">
		In HQL, <code class="literal">single_valued_expression</code> can refer to a far more broad set of expression types. Single-valued association are allowed. So are component/embedded attributes, although that feature depends on the level of support for tuple or "row value constructor syntax" in the underlying database. Additionally, HQL does not limit the value type in any way, though application developers should be aware that different types may incur limited support based on the underlying database vendor. This is largely the reason for the JPQL limitations.
	</div><div class="para">
		The list of values can come from a number of different sources. In the <code class="literal">constructor_expression</code> and <code class="literal">collection_valued_input_parameter</code>, the list of values must not be empty; it must contain at least one value.
	</div><div class="example"><a id="idp16292848">
      ⁠</a><p class="title"><strong>Example&nbsp;12.19.&nbsp;In Predicate Examples</strong></p><div class="example-contents"><pre class="programlisting">select p
from Payment p
where type(p) in (CreditCardPayment, WireTransferPayment)

select c
from Customer c
where c.hqAddress.state in ('TX', 'OK', 'LA', 'NM')

select c
from Customer c
where c.hqAddress.state in ?

select c
from Customer c
where c.hqAddress.state in (
    select dm.state
    from DeliveryMetadata dm
    where dm.salesTax is not null
)

// Not JPQL compliant!
select c
from Customer c
where c.name in (
    ('John','Doe'),
    ('Jane','Doe')
)

// Not JPQL compliant!
select c
from Customer c
where c.chiefExecutive in (
    select p
    from Person p
    where ...
)
</pre></div></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+11785-591992+%5BLatest%5D&comment=Title%3A+About+the+IN+Predicate%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=11785-591992+24+Feb+2014+07%3A56+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="Ordering_in_HQL">
      ⁠</a>12.4.16.&nbsp;About HQL Ordering</h3></div></div></div><div class="para">
		The results of the query can also be ordered. The <code class="literal">ORDER BY</code> clause is used to specify the selected values to be used to order the result. The types of expressions considered valid as part of the order-by clause include:
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
				state fields
			</div></li><li class="listitem"><div class="para">
				component/embeddable attributes
			</div></li><li class="listitem"><div class="para">
				scalar expressions such as arithmetic operations, functions, etc.
			</div></li><li class="listitem"><div class="para">
				identification variable declared in the select clause for any of the previous expression types
			</div></li></ul></div><div class="para">
		HQL does not mandate that all values referenced in the order-by clause must be named in the select clause, but it is required by JPQL. Applications desiring database portability should be aware that not all databases support referencing values in the order-by clause that are not referenced in the select clause.
	</div><div class="para">
		Individual expressions in the order-by can be qualified with either <code class="literal">ASC</code> (ascending) or <code class="literal">DESC</code> (descending) to indicated the desired ordering direction.
	</div><div class="example"><a id="idp13523136">
      ⁠</a><p class="title"><strong>Example&nbsp;12.20.&nbsp;Order-by Examples</strong></p><div class="example-contents"><pre class="programlisting">// legal because p.name is implicitly part of p
select p
from Person p
order by p.name

select c.id, sum( o.total ) as t
from Order o
    inner join o.customer c
group by c.id
order by t
</pre></div></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+11482-591978+%5BLatest%5D&comment=Title%3A+About+HQL+Ordering%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=11482-591978+24+Feb+2014+07%3A56+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="sect-Hibernate_Services">
      ⁠</a>12.5.&nbsp;Hibernate Services</h2></div></div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="About_Hibernate_Services">
      ⁠</a>12.5.1.&nbsp;About Hibernate Services</h3></div></div></div><div class="para">
		Services are classes that provide Hibernate with pluggable implementations of various types of functionality. Specifically they are implementations of certain service contract interfaces. The interface is known as the service role; the implementation class is know as the service implementation. Generally speaking, users can plug in alternate implementations of all standard service roles (overriding); they can also define additional services beyond the base set of service roles (extending).
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+9992-591906+%5BLatest%5D&comment=Title%3A+About+Hibernate+Services%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=9992-591906+24+Feb+2014+07%3A55+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="About_Service_Contracts">
      ⁠</a>12.5.2.&nbsp;About Service Contracts</h3></div></div></div><div class="para">
		The basic requirement for a service is to implement the marker interface <code class="classname">org.hibernate.service.Service</code>. Hibernate uses this internally for some basic type safety.
	</div><div class="para">
		Optionally, the service can also implement the <code class="classname">org.hibernate.service.spi.Startable</code> and <code class="classname">org.hibernate.service.spi.Stoppable</code> interfaces to receive notifications of being started and stopped. Another optional service contract is <code class="classname">org.hibernate.service.spi.Manageable</code> which marks the service as manageable in JMX provided the JMX integration is enabled.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+9993-591906+%5BLatest%5D&comment=Title%3A+About+Service+Contracts%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=9993-591906+24+Feb+2014+07%3A55+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="Types_of_Service_Dependencies">
      ⁠</a>12.5.3.&nbsp;Types of Service Dependencies</h3></div></div></div><div class="para">
		Services are allowed to declare dependencies on other services using either of 2 approaches:
	</div><div class="variablelist"><dl class="variablelist"><dt><span class="term">@<code class="classname">org.hibernate.service.spi.InjectService</code></span></dt><dd><div class="para">
					Any method on the service implementation class accepting a single parameter and annotated with @<code class="classname">InjectService</code> is considered requesting injection of another service.
				</div><div class="para">
					By default the type of the method parameter is expected to be the service role to be injected. If the parameter type is different than the service role, the <code class="classname">serviceRole</code> attribute of the <code class="classname">InjectService</code> should be used to explicitly name the role.
				</div><div class="para">
					By default injected services are considered required, that is the start up will fail if a named dependent service is missing. If the service to be injected is optional, the <code class="classname">required</code> attribute of the <code class="classname">InjectService</code> should be declared as <code class="literal">false</code> (default is <code class="literal">true</code>).
				</div></dd><dt><span class="term"><code class="classname">org.hibernate.service.spi.ServiceRegistryAwareService</code></span></dt><dd><div class="para">
					The second approach is a pull approach where the service implements the optional service interface <code class="classname">org.hibernate.service.spi.ServiceRegistryAwareService</code> which declares a single <code class="classname">injectServices</code> method.
				</div><div class="para">
					During startup, Hibernate will inject the <code class="classname">org.hibernate.service.ServiceRegistry</code> itself into services which implement this interface. The service can then use the <code class="classname">ServiceRegistry</code> reference to locate any additional services it needs.
				</div></dd></dl></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+9994-591907+%5BLatest%5D&comment=Title%3A+Types+of+Service+Dependencies%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=9994-591907+24+Feb+2014+07%3A55+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="sect-The_ServiceRegistry">
      ⁠</a>12.5.4.&nbsp;The ServiceRegistry</h3></div></div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="About_the_ServiceRegistry">
      ⁠</a>12.5.4.1.&nbsp;About the ServiceRegistry</h4></div></div></div><div class="para">
		The central service API, aside from the services themselves, is the <code class="classname">org.hibernate.service.ServiceRegistry</code> interface. The main purpose of a service registry is to hold, manage and provide access to services.
	</div><div class="para">
		Service registries are hierarchical. Services in one registry can depend on and utilize services in that same registry as well as any parent registries.
	</div><div class="para">
		Use <code class="classname">org.hibernate.service.ServiceRegistryBuilder</code> to build a <code class="classname">org.hibernate.service.ServiceRegistry</code> instance.
	</div><div class="example"><a id="idp12085984">
      ⁠</a><p class="title"><strong>Example&nbsp;12.21.&nbsp;Use ServiceRegistryBuilder to create a ServiceRegistry</strong></p><div class="example-contents"><pre class="programlisting JAVA">ServiceRegistryBuilder registryBuilder = new ServiceRegistryBuilder( bootstrapServiceRegistry );
    ServiceRegistry serviceRegistry = registryBuilder.buildServiceRegistry();
</pre></div></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+9995-591907+%5BLatest%5D&comment=Title%3A+About+the+ServiceRegistry%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=9995-591907+24+Feb+2014+07%3A55+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="sect-Custom_Services">
      ⁠</a>12.5.5.&nbsp;Custom Services</h3></div></div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="About_Custom_Services">
      ⁠</a>12.5.5.1.&nbsp;About Custom Services</h4></div></div></div><div class="para">
		Once a <code class="classname">org.hibernate.service.ServiceRegistry</code> is built it is considered immutable; the services themselves might accept re-configuration, but immutability here means adding/replacing services. So another role provided by the <code class="classname">org.hibernate.service.ServiceRegistryBuilder</code> is to allow tweaking of the services that will be contained in the <code class="classname">org.hibernate.service.ServiceRegistry</code> generated from it.
	</div><div class="para">
		There are two means to tell a <code class="classname">org.hibernate.service.ServiceRegistryBuilder</code> about custom services.
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
				Implement a <code class="classname">org.hibernate.service.spi.BasicServiceInitiator</code> class to control on-demand construction of the service class and add it to the <code class="classname">org.hibernate.service.ServiceRegistryBuilder</code> via its <code class="methodname">addInitiator</code> method.
			</div></li><li class="listitem"><div class="para">
				Just instantiate the service class and add it to the <code class="classname">org.hibernate.service.ServiceRegistryBuilder</code> via its <code class="methodname">addService</code> method.
			</div></li></ul></div><div class="para">
		Either approach the adding a service approach or the adding an initiator approach are valid for extending a registry (adding new service roles) and overriding services (replacing service implementations).
	</div><div class="example"><a id="idp19006832">
      ⁠</a><p class="title"><strong>Example&nbsp;12.22.&nbsp;Use ServiceRegistryBuilder to Replace an Existing Service with a Custom Service</strong></p><div class="example-contents"><pre class="programlisting JAVA">   ServiceRegistryBuilder registryBuilder = new ServiceRegistryBuilder( bootstrapServiceRegistry );
   registryBuilder.addService( JdbcServices.class, new FakeJdbcService() ); 
   ServiceRegistry serviceRegistry = registryBuilder.buildServiceRegistry();


   public class FakeJdbcService implements JdbcServices{

       @Override
       public ConnectionProvider getConnectionProvider() {
           return null;
       }

       @Override
       public Dialect getDialect() {
           return null;
       }

       @Override
       public SqlStatementLogger getSqlStatementLogger() {
           return null;
       }

       @Override
       public SqlExceptionHelper getSqlExceptionHelper() {
           return null;
       }

       @Override
       public ExtractedDatabaseMetaData getExtractedMetaDataSupport() {
           return null;
       }

       @Override
       public LobCreator getLobCreator(LobCreationContext lobCreationContext) {
           return null;
       }

       @Override
       public ResultSetWrapper getResultSetWrapper() {
           return null;
       }
   }
</pre></div></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+9997-707094+%5BLatest%5D&comment=Title%3A+About+Custom+Services%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=9997-707094+08+Sep+2014+14%3A12+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="sect-The_Bootstrap_Registry">
      ⁠</a>12.5.6.&nbsp;The Bootstrap Registry</h3></div></div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="About_the_Boot-strap_Registry">
      ⁠</a>12.5.6.1.&nbsp;About the Boot-strap Registry</h4></div></div></div><div class="para">
		The boot-strap registry holds services that absolutely have to be available for most things to work. The main service here is the <code class="classname">ClassLoaderService</code> which is a perfect example. Even resolving configuration files needs access to class loading services (resource look ups). This is the root registry (no parent) in normal use.
	</div><div class="para">
		Instances of boot-strap registries are built using the <code class="classname">org.hibernate.service.BootstrapServiceRegistryBuilder</code> class.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+9998-591907+%5BLatest%5D&comment=Title%3A+About+the+Boot-strap+Registry%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=9998-591907+24+Feb+2014+07%3A55+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="Using_BootstrapServiceRegistryBuilder">
      ⁠</a>12.5.6.2.&nbsp;Using BootstrapServiceRegistryBuilder</h4></div></div></div><div class="example"><a id="idp38055408">
      ⁠</a><p class="title"><strong>Example&nbsp;12.23.&nbsp;Using BootstrapServiceRegistryBuilder</strong></p><div class="example-contents"><pre class="programlisting JAVA">BootstrapServiceRegistry bootstrapServiceRegistry = new BootstrapServiceRegistryBuilder()
        // pass in org.hibernate.integrator.spi.Integrator instances which are not
        // auto-discovered (for whatever reason) but which should be included
        .with( anExplicitIntegrator )
        // pass in a class-loader Hibernate should use to load application classes
        .with( anExplicitClassLoaderForApplicationClasses )
        // pass in a class-loader Hibernate should use to load resources
        .with( anExplicitClassLoaderForResources )
        // see BootstrapServiceRegistryBuilder for rest of available methods
        ...
        // finally, build the bootstrap registry with all the above options
        .build();
</pre></div></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+9999-675497+%5BLatest%5D&comment=Title%3A+Using+BootstrapServiceRegistryBuilder%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=9999-675497+24+Jun+2014+05%3A01+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="BootstrapRegistry_Services">
      ⁠</a>12.5.6.3.&nbsp;BootstrapRegistry Services</h4></div></div></div><div class="para">
		<code class="classname">org.hibernate.service.classloading.spi.ClassLoaderService</code>
	</div><div class="para">
		Hibernate needs to interact with ClassLoaders. However, the manner in which Hibernate (or any library) should interact with ClassLoaders varies based on the runtime environment which is hosting the application. Application servers, OSGi containers, and other modular class loading systems impose very specific class-loading requirements. This service is provides Hibernate an abstraction from this environmental complexity. And just as importantly, it does so in a single-swappable-component manner.
	</div><div class="para">
		In terms of interacting with a ClassLoader, Hibernate needs the following capabilities: 
		<div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
					the ability to locate application classes
				</div></li><li class="listitem"><div class="para">
					the ability to locate integration classes
				</div></li><li class="listitem"><div class="para">
					the ability to locate resources (properties files, xml files, etc)
				</div></li><li class="listitem"><div class="para">
					the ability to load <code class="classname">java.util.ServiceLoader</code>
				</div></li></ul></div>

	</div><div xmlns:d="http://docbook.org/ns/docbook" class="note"><div class="admonition_header"><p><strong>Note</strong></p></div><div class="admonition"><div class="para">
			Currently, the ability to load application classes and the ability to load integration classes are combined into a single "load class" capability on the service. That may change in a later release.
		</div></div></div><div class="para">
		<code class="interfacename">org.hibernate.integrator.spi.IntegratorService</code>
	</div><div class="para">
		Applications, add-ons and others all need to integrate with Hibernate which used to require something, usually the application, to coordinate registering the pieces of each integration needed on behalf of each integrator. The intent of this service is to allow those integrators to be discovered and to have them integrate themselves with Hibernate.
	</div><div class="para">
		This service focuses on the discovery aspect. It leverages the standard Java <code class="classname">java.util.ServiceLoader</code> capability provided by the <code class="interfacename">org.hibernate.service.classloading.spi.ClassLoaderService</code> in order to discover implementations of the <code class="interfacename">org.hibernate.integrator.spi.Integrator</code> contract.
	</div><div class="para">
		Integrators would simply define a file named <code class="filename">/META-INF/services/org.hibernate.integrator.spi.Integrator</code> and make it available on the classpath. <code class="classname">java.util.ServiceLoader</code> covers the format of this file in detail, but essentially it list classes by FQN that implement the <code class="interfacename">org.hibernate.integrator.spi.Integrator</code> one per line.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+10000-591907+%5BLatest%5D&comment=Title%3A+BootstrapRegistry+Services%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=10000-591907+24+Feb+2014+07%3A55+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="sect-The_SessionFactory_Registry">
      ⁠</a>12.5.7.&nbsp;The SessionFactory Registry</h3></div></div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="SessionFactory_Registry">
      ⁠</a>12.5.7.1.&nbsp;SessionFactory Registry</h4></div></div></div><div class="para">
		While it is best practice to treat instances of all the registry types as targeting a given <code class="interfacename">org.hibernate.SessionFactory</code>, the instances of services in this group explicitly belong to a single <code class="interfacename">org.hibernate.SessionFactory</code>.
	</div><div class="para">
		The difference is a matter of timing in when they need to be initiated. Generally they need access to the <code class="interfacename">org.hibernate.SessionFactory</code> to be initiated. This special registry is <code class="interfacename">org.hibernate.service.spi.SessionFactoryServiceRegistry</code>
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+10001-591907+%5BLatest%5D&comment=Title%3A+SessionFactory+Registry%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=10001-591907+24+Feb+2014+07%3A55+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="SessionFactory_Services">
      ⁠</a>12.5.7.2.&nbsp;SessionFactory Services</h4></div></div></div><div class="variablelist"><p class="title"><strong><code class="interfacename">org.hibernate.event.service.spi.EventListenerRegistry</code></strong></p><dl class="variablelist"><dt><span class="term">Description</span></dt><dd><div class="para">
					Service for managing event listeners.
				</div></dd><dt><span class="term">Initiator</span></dt><dd><div class="para">
					<code class="classname">org.hibernate.event.service.internal.EventListenerServiceInitiator</code>
				</div></dd><dt><span class="term">Implementations</span></dt><dd><div class="para">
					<code class="classname">org.hibernate.event.service.internal.EventListenerRegistryImpl</code>
				</div></dd></dl></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+10002-591907+%5BLatest%5D&comment=Title%3A+SessionFactory+Services%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=10002-591907+24+Feb+2014+07%3A55+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="sect-Integrators">
      ⁠</a>12.5.8.&nbsp;Integrators</h3></div></div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="Integrators">
      ⁠</a>12.5.8.1.&nbsp;Integrators</h4></div></div></div><div class="para">
		The <code class="interfacename">org.hibernate.integrator.spi.Integrator</code> is intended to provide a simple means for allowing developers to hook into the process of building a functioning SessionFactory. The <code class="interfacename">org.hibernate.integrator.spi.Integrator</code> interface defines 2 methods of interest: <code class="methodname">integrate</code> allows us to hook into the building process; <code class="methodname">disintegrate</code> allows us to hook into a SessionFactory shutting down.
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="note"><div class="admonition_header"><p><strong>Note</strong></p></div><div class="admonition"><div class="para">
			There is a 3rd method defined on <code class="interfacename">org.hibernate.integrator.spi.Integrator</code>, an overloaded form of <code class="methodname">integrate</code> accepting a <code class="interfacename">org.hibernate.metamodel.source.MetadataImplementor</code> instead of <code class="classname">org.hibernate.cfg.Configuration</code>. This form is intended for use with the new metamodel code scheduled for completion in 5.0.
		</div></div></div><div class="para">
		In addition to the discovery approach provided by the IntegratorService, applications can manually register Integrator implementations when building the BootstrapServiceRegistry.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+10004-591907+%5BLatest%5D&comment=Title%3A+Integrators%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=10004-591907+24+Feb+2014+07%3A55+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="Integrator_use-cases">
      ⁠</a>12.5.8.2.&nbsp;Integrator use-cases</h4></div></div></div><div class="para">
		The main use cases for an <code class="interfacename">org.hibernate.integrator.spi.Integrator</code> right now are registering event listeners and providing services (see <code class="interfacename">org.hibernate.integrator.spi.ServiceContributingIntegrator</code>). With 5.0 we plan on expanding that to allow altering the metamodel describing the mapping between object and relational models.
	</div><div class="example"><a id="idp20444448">
      ⁠</a><p class="title"><strong>Example&nbsp;12.24.&nbsp;Registering event listeners</strong></p><div class="example-contents"><pre class="programlisting JAVA">public class MyIntegrator implements org.hibernate.integrator.spi.Integrator {

    public void integrate(
            Configuration configuration,
            SessionFactoryImplementor sessionFactory,
            SessionFactoryServiceRegistry serviceRegistry) {
        // As you might expect, an EventListenerRegistry is the thing with which event listeners are registered  It is a
        // service so we look it up using the service registry
        final EventListenerRegistry eventListenerRegistry = serviceRegistry.getService( EventListenerRegistry.class );

        // If you wish to have custom determination and handling of "duplicate" listeners, you would have to add an
        // implementation of the org.hibernate.event.service.spi.DuplicationStrategy contract like this
        eventListenerRegistry.addDuplicationStrategy( myDuplicationStrategy );

        // EventListenerRegistry defines 3 ways to register listeners:
        //     1) This form overrides any existing registrations with
        eventListenerRegistry.setListeners( EventType.AUTO_FLUSH, myCompleteSetOfListeners );
        //     2) This form adds the specified listener(s) to the beginning of the listener chain
        eventListenerRegistry.prependListeners( EventType.AUTO_FLUSH, myListenersToBeCalledFirst );
		//     3) This form adds the specified listener(s) to the end of the listener chain
        eventListenerRegistry.appendListeners( EventType.AUTO_FLUSH, myListenersToBeCalledLast ); 
    }
}
</pre></div></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+10267-591920+%5BLatest%5D&comment=Title%3A+Integrator+use-cases%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=10267-591920+24+Feb+2014+07%3A55+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="sect-Bean_Validation">
      ⁠</a>12.6.&nbsp;Bean Validation</h2></div></div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="About_Bean_Validation1">
      ⁠</a>12.6.1.&nbsp;About Bean Validation</h3></div></div></div><div class="para">
		Bean Validation, or JavaBeans Validation, is a model for validating data in Java objects. The model uses built-in and custom annotation constraints to ensure the integrity of application data. The specification is documented here: <a href="http://jcp.org/en/jsr/detail?id=303">http://jcp.org/en/jsr/detail?id=303</a>.
	</div><div class="para">
		Hibernate Validator is the JBoss EAP 6 implementation of Bean Validation. It is also the reference implementation of the JSR.
	</div><div class="para">
		JBoss EAP 6 is 100% compliant with JSR 303 - Bean Validation. Hibernate Validator also provides additional features to the specification.
	</div><div class="para">
		To get started with Bean Validation, refer to the <code class="code">bean-validation</code> quickstart example: <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Access_the_Java_EE_Quickstart_Examples">Section&nbsp;1.4.1.1, “Access the Quickstarts”</a>.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+2243-591649+%5BLatest%5D&comment=Title%3A+About+Bean+Validation%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=2243-591649+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="Hibernate_Validator1">
      ⁠</a>12.6.2.&nbsp;Hibernate Validator</h3></div></div></div><div class="para">
		Hibernate Validator is the reference implementation of <a href="http://jcp.org/en/jsr/detail?id=303">JSR 303 - Bean Validation</a>.
	</div><div class="para">
		Bean Validation provides users with a model for validating Java object data. For more information, refer to <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Bean_Validation1">Section&nbsp;12.6.1, “About Bean Validation”</a> and <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Validation_Constraints1">Section&nbsp;12.6.3.1, “About Validation Constraints”</a>.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4416-591662+%5BLatest%5D&comment=Title%3A+Hibernate+Validator%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4416-591662+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="sect-Validation_Constraints">
      ⁠</a>12.6.3.&nbsp;Validation Constraints</h3></div></div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="About_Validation_Constraints1">
      ⁠</a>12.6.3.1.&nbsp;About Validation Constraints</h4></div></div></div><div class="para">
		Validation constraints are rules applied to a java element, such as a field, property or bean. A constraint will usually have a set of attributes used to set its limits. There are predefined constraints, and custom ones can be created. Each constraint is expressed in the form of an annotation.
	</div><div class="para">
		The built-in validation constraints for Hibernate Validator are listed here: <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Hibernate_Validator_Constraints1">Section&nbsp;12.6.3.4, “Hibernate Validator Constraints”</a>
	</div><div class="para">
		For more information, refer to <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Hibernate_Validator1">Section&nbsp;12.6.2, “Hibernate Validator”</a> and <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Bean_Validation1">Section&nbsp;12.6.1, “About Bean Validation”</a>.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+2396-591649+%5BLatest%5D&comment=Title%3A+About+Validation+Constraints%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=2396-591649+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="Create_a_Constraint_Annotation_in_the_JBoss_Developer_Studio1">
      ⁠</a>12.6.3.2.&nbsp;Create a Constraint Annotation in Red Hat JBoss Developer Studio</h4></div></div></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Summary</div>
			This task covers the process of creating a constraint annotation in Red Hat JBoss Developer Studio, for use within a Java application.
		</div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul><li class="listitem"><div class="para">
				<a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Start_JBoss_Developer_Studio">Section&nbsp;1.3.1.4, “Start Red Hat JBoss Developer Studio”</a>
			</div></li></ul></div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idp28028992">
      ⁠</a><p class="title"><strong>Procedure&nbsp;12.5.&nbsp;Create a Constraint Annotation</strong></p><ol class="1"><li class="step"><div class="para">
				Open a Java project in Red Hat JBoss Developer Studio.
			</div></li><li class="step"><p class="title"><strong>Create a Data Set</strong></p><div class="para">
				A constraint annotation requires a data set that defines the acceptable values.
			</div><ol class="substeps a"><li class="step"><div class="para">
						Right click on the project root folder in the <span class="guilabel"><strong>Project Explorer</strong></span> panel.
					</div></li><li class="step"><div class="para">
						Select <span class="guimenu"><strong>New</strong></span> → <span class="guimenuitem"><strong>Enum</strong></span>.
					</div></li><li class="step"><div class="para">
						Configure the following elements:
					</div><div class="itemizedlist"><ul><li class="listitem"><div class="para">
								<span class="guilabel"><strong>Package:</strong></span>
							</div></li><li class="listitem"><div class="para">
								<span class="guilabel"><strong>Name:</strong></span>
							</div></li></ul></div></li><li class="step"><div class="para">
						Click the <span class="guibutton"><strong>Add...</strong></span> button to add any required interfaces.
					</div></li><li class="step"><div class="para">
						Click <span class="guibutton"><strong>Finish</strong></span> to create the file.
					</div></li><li class="step"><div class="para">
						Add a set of values to the data set and click <span class="guibutton"><strong>Save</strong></span>.
					</div></li></ol><div class="example"><a id="idp28115760">
      ⁠</a><p class="title"><strong>Example&nbsp;12.25.&nbsp;Example Data Set</strong></p><div class="example-contents"><pre class="programlisting">package com.example;

public enum CaseMode {
    UPPER,
    LOWER;
}
</pre></div></div></li><li class="step"><p class="title"><strong>Create the Annotation File</strong></p><div class="para">
				Create a new Java class. For more information, refer to <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Create_a_New_Java_Class_in_the_JBoss_Developer_Studio1">Section&nbsp;12.6.3.3, “Create a New Java Class in Red Hat JBoss Developer Studio”</a>.
			</div></li><li class="step"><div class="para">
				Configure the constraint annotation and click <span class="guibutton"><strong>Save</strong></span>.
			</div><div class="example"><a id="idp244912">
      ⁠</a><p class="title"><strong>Example&nbsp;12.26.&nbsp;Example Constraint Annotation File</strong></p><div class="example-contents"><pre class="programlisting">package com.mycompany;

import static java.lang.annotation.ElementType.*;
import static java.lang.annotation.RetentionPolicy.*;

import java.lang.annotation.Documented;
import java.lang.annotation.Retention;
import java.lang.annotation.Target;

import javax.validation.Constraint;
import javax.validation.Payload;

@Target( { METHOD, FIELD, ANNOTATION_TYPE })
@Retention(RUNTIME)
@Constraint(validatedBy = CheckCaseValidator.class)
@Documented
public @interface CheckCase {

    String message() default "{com.mycompany.constraints.checkcase}";

    Class&lt;?&gt;[] groups() default {};

    Class&lt;? extends Payload&gt;[] payload() default {};
    
    CaseMode value();

}</pre></div></div></li></ol></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">Result</span></dt><dd><div class="para">
					A custom constraint annotation with a set of possible values has been created, ready to be used in the Java project.
				</div></dd></dl></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+2448-681250+%5BLatest%5D&comment=Title%3A+Create+a+Constraint+Annotation+in+Red+Hat+JBoss+Developer+Studio%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=2448-681250+04+Jul+2014+01%3A11+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="Create_a_New_Java_Class_in_the_JBoss_Developer_Studio1">
      ⁠</a>12.6.3.3.&nbsp;Create a New Java Class in Red Hat JBoss Developer Studio</h4></div></div></div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul><li class="listitem"><div class="para">
				<a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Start_JBoss_Developer_Studio">Section&nbsp;1.3.1.4, “Start Red Hat JBoss Developer Studio”</a>
			</div></li></ul></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Summary</div>
			This topic covers the process of creating a Java class for an existing Java project, using Red Hat JBoss Developer Studio.
		</div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idp28316048">
      ⁠</a><p class="title"><strong>Procedure&nbsp;12.6.&nbsp;Create a New Java Class</strong></p><ol class="1"><li class="step"><div class="para">
				Right click on the project root folder in the <span class="guilabel"><strong>Project Explorer</strong></span> panel.
			</div></li><li class="step"><div class="para">
				Select <span class="guimenu"><strong>New</strong></span> → <span class="guimenuitem"><strong>Class</strong></span>.
			</div></li><li class="step"><div class="para">
				Configure the following elements:
			</div><div class="itemizedlist"><ul><li class="listitem"><div class="para">
						<span class="guilabel"><strong>Package:</strong></span>
					</div></li><li class="listitem"><div class="para">
						<span class="guilabel"><strong>Name:</strong></span>
					</div></li></ul></div></li><li class="step"><p class="title"><strong>Optional: Add an Interface</strong></p><ol class="substeps a"><li class="step"><div class="para">
						Click <span class="guibutton"><strong>Add...</strong></span>
					</div></li><li class="step"><div class="para">
						Search for the interface name
					</div></li><li class="step"><div class="para">
						Select the correct interface
					</div></li><li class="step"><div class="para">
						Repeat steps 2 and 3 for each required interface
					</div></li><li class="step"><div class="para">
						Click <span class="guibutton"><strong>Add</strong></span>.
					</div></li></ol></li><li class="step"><div class="para">
				Click <span class="guibutton"><strong>Finish</strong></span> to create the file.
			</div></li></ol></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">Result</span></dt><dd><div class="para">
					A new Java class has been created within the project, ready for configuration.
				</div></dd></dl></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+5176-681251+%5BLatest%5D&comment=Title%3A+Create+a+New+Java+Class+in+Red+Hat+JBoss+Developer+Studio%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=5176-681251+04+Jul+2014+01%3A13+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="Hibernate_Validator_Constraints1">
      ⁠</a>12.6.3.4.&nbsp;Hibernate Validator Constraints</h4></div></div></div><div class="table"><a id="idp8975760">
      ⁠</a><p class="title"><strong>Table&nbsp;12.11.&nbsp;Built-in Constraints</strong></p><div class="table-contents"><table xmlns:d="http://docbook.org/ns/docbook" class="gt-4-cols gt-14-rows" summary="Built-in Constraints"><colgroup><col width="25%" align="left" class="c1"><col width="25%" align="left" class="c2"><col width="25%" align="left" class="c3"><col width="25%" align="left" class="c4"></colgroup><thead><tr><th align="left"> Annotation </th><th align="left"> Apply on </th><th align="left"> Runtime checking </th><th align="left"> Hibernate Metadata impact </th></tr></thead><tbody><tr><td align="left"> @Length(min=, max=) </td><td align="left"> property (String) </td><td align="left"> Check if the string length matches the range. </td><td align="left"> Column length will be set to max. </td></tr><tr><td align="left"> @Max(value=) </td><td align="left"> property (numeric or string representation of a numeric) </td><td align="left"> Check if the value is less than or equal to max. </td><td align="left"> Add a check constraint on the column. </td></tr><tr><td align="left"> @Min(value=) </td><td align="left"> property (numeric or string representation of a numeric) </td><td align="left"> Check if the value is more than or equal to Min. </td><td align="left"> Add a check constraint on the column. </td></tr><tr><td align="left"> @NotNull </td><td align="left"> property </td><td align="left"> Check if the value is not null. </td><td align="left"> Column(s) are not null. </td></tr><tr><td align="left"> @NotEmpty </td><td align="left"> property </td><td align="left"> Check if the string is not null nor empty. Check if the connection is not null nor empty. </td><td align="left"> Column(s) are not null (for String). </td></tr><tr><td align="left"> @Past </td><td align="left"> property (date or calendar) </td><td align="left"> Check if the date is in the past. </td><td align="left"> Add a check constraint on the column. </td></tr><tr><td align="left"> @Future </td><td align="left"> property (date or calendar) </td><td align="left"> Check if the date is in the future. </td><td align="left"> None. </td></tr><tr><td align="left"> @Pattern(regex="regexp", flag=) or @Patterns( {@Pattern(...)} ) </td><td align="left"> property (string) </td><td align="left"> Check if the property matches the regular expression given a match flag (see <code class="classname">java.util.regex.Pattern</code>). </td><td align="left"> None. </td></tr><tr><td align="left"> @Range(min=, max=) </td><td align="left"> property (numeric or string representation of a numeric) </td><td align="left"> Check if the value is between min and max (included). </td><td align="left"> Add a check constraint on the column. </td></tr><tr><td align="left"> @Size(min=, max=) </td><td align="left"> property (array, collection, map) </td><td align="left"> Check if the element size is between min and max (included). </td><td align="left"> None. </td></tr><tr><td align="left"> @AssertFalse </td><td align="left"> property </td><td align="left"> Check that the method evaluates to false (useful for constraints expressed in code rather than annotations). </td><td align="left"> None. </td></tr><tr><td align="left"> @AssertTrue </td><td align="left"> property </td><td align="left"> Check that the method evaluates to true (useful for constraints expressed in code rather than annotations). </td><td align="left"> None. </td></tr><tr><td align="left"> @Valid </td><td align="left"> property (object) </td><td align="left"> Perform validation recursively on the associated object. If the object is a Collection or an array, the elements are validated recursively. If the object is a Map, the value elements are validated recursively. </td><td align="left"> None. </td></tr><tr><td align="left"> @Email </td><td align="left"> property (String) </td><td align="left"> Check whether the string is conform to the e-mail address specification. </td><td align="left"> None. </td></tr><tr><td align="left"> @CreditCardNumber </td><td align="left"> property (String) </td><td align="left"> Check whether the string is a well formatted credit card number (derivative of the Luhn algorithm). </td><td align="left"> None. </td></tr><tr><td align="left"> @Digits(integerDigits=1) </td><td align="left"> property (numeric or string representation of a numeric) </td><td align="left"> Check whether the property is a number having up to <code class="literal">integerDigits</code> integer digits and <code class="literal">fractionalDigits</code> fractional digits. </td><td align="left"> Define column precision and scale. </td></tr><tr><td align="left"> @EAN </td><td align="left"> property (string) </td><td align="left"> Check whether the string is a properly formatted EAN or UPC-A code. </td><td align="left"> None. </td></tr></tbody></table></div></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+2432-591649+%5BLatest%5D&comment=Title%3A+Hibernate+Validator+Constraints%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=2432-591649+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="sect-Configuration2">
      ⁠</a>12.6.4.&nbsp;Configuration</h3></div></div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="Example_Validation_Configuration_File">
      ⁠</a>12.6.4.1.&nbsp;Example Validation Configuration File</h4></div></div></div><div class="example"><a id="idp3178496">
      ⁠</a><p class="title"><strong>Example&nbsp;12.27.&nbsp;validation.xml</strong></p><div class="example-contents"><pre class="programlisting">&lt;validation-config xmlns="http://jboss.org/xml/ns/javax/validation/configuration"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://jboss.org/xml/ns/javax/validation/configuration"&gt;

    &lt;default-provider&gt;
        org.hibernate.validator.HibernateValidator
    &lt;/default-provider&gt;
    &lt;message-interpolator&gt;
        org.hibernate.validator.messageinterpolation.ResourceBundleMessageInterpolator
    &lt;/message-interpolator&gt;
    &lt;constraint-validator-factory&gt;
        org.hibernate.validator.engine.ConstraintValidatorFactoryImpl
    &lt;/constraint-validator-factory&gt;
    
    &lt;constraint-mapping&gt;
        /constraints-example.xml
    &lt;/constraint-mapping&gt;
    
    &lt;property name="prop1"&gt;value1&lt;/property&gt;
    &lt;property name="prop2"&gt;value2&lt;/property&gt;
&lt;/validation-config&gt;</pre></div></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4623-591670+%5BLatest%5D&comment=Title%3A+Example+Validation+Configuration+File%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4623-591670+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="sect-Envers">
      ⁠</a>12.7.&nbsp;Envers</h2></div></div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="About_Hibernate_Envers1">
      ⁠</a>12.7.1.&nbsp;About Hibernate Envers</h3></div></div></div><div class="para">
		Hibernate Envers is an auditing and versioning system, providing JBoss EAP 6 with a means to track historical changes to persistent classes. Audit tables are created for entities annotated with <code class="code">@Audited</code>, which store the history of changes made to the entity. The data can then be retrieved and queried.
	</div><div class="para">
		Envers allows developers to:
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
				audit all mappings defined by the JPA specification,
			</div></li><li class="listitem"><div class="para">
				audit all hibernate mappings that extend the JPA specification,
			</div></li><li class="listitem"><div class="para">
				audit entities mapped by or using the native Hibernate API
			</div></li><li class="listitem"><div class="para">
				log data for each revision using a revision entity, and
			</div></li><li class="listitem"><div class="para">
				query historical data.
			</div></li></ul></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+5010-591675+%5BLatest%5D&comment=Title%3A+About+Hibernate+Envers%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=5010-591675+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="About_Auditing_Persistent_Classes">
      ⁠</a>12.7.2.&nbsp;About Auditing Persistent Classes</h3></div></div></div><div class="para">
		Auditing of persistent classes is done in JBoss EAP 6 through Hibernate Envers and the <code class="code">@Audited</code> annotation. When the annotation is applied to a class, a table is created, which stores the revision history of the entity.
	</div><div class="para">
		Each time a change is made to the class, an entry is added to the audit table. The entry contains the changes to the class, and is given a revision number. This means that changes can be rolled back, or previous revisions can be viewed.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+5011-591675+%5BLatest%5D&comment=Title%3A+About+Auditing+Persistent+Classes%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=5011-591675+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="sect-Auditing_Strategies">
      ⁠</a>12.7.3.&nbsp;Auditing Strategies</h3></div></div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="About_Auditing_Strategies">
      ⁠</a>12.7.3.1.&nbsp;About Auditing Strategies</h4></div></div></div><div class="para">
		Auditing strategies define how audit information is persisted, queried and stored. There are currently two audit strategies available with Hibernate Envers:
	</div><div class="variablelist"><dl class="variablelist"><dt><span class="term">Default Audit Strategy</span></dt><dd><div class="para">
					This strategy persists the audit data together with a start revision. For each row that is inserted, updated or deleted in an audited table, one or more rows are inserted in the audit tables, along with the start revision of its validity.
				</div><div class="para">
					Rows in the audit tables are never updated after insertion. Queries of audit information use subqueries to select the applicable rows in the audit tables, which are slow and difficult to index.
				</div></dd><dt><span class="term">Validity Audit Strategy</span></dt><dd><div class="para">
					This strategy stores the start revision, as well as the end revision of the audit information. For each row that is inserted, updated or deleted in an audited table, one or more rows are inserted in the audit tables, along with the start revision of its validity.
				</div><div class="para">
					At the same time, the end revision field of the previous audit rows (if available) is set to this revision. Queries on the audit information can then use <span class="emphasis"><em> between <em class="replaceable">start</em> and <em class="replaceable">end</em> revision</em></span>, instead of subqueries. This means that persisting audit information is a little slower because of the extra updates, but retrieving audit information is a lot faster.
				</div><div class="para">
					This can also be improved by adding extra indexes.
				</div></dd></dl></div><div class="para">
		For more information on auditing, refer to <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Auditing_Persistent_Classes">Section&nbsp;12.7.2, “About Auditing Persistent Classes”</a>. To set the auditing strategy for the application, refer here: <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Set_the_Auditing_Strategy">Section&nbsp;12.7.3.2, “Set the Auditing Strategy”</a>.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+5028-591680+%5BLatest%5D&comment=Title%3A+About+Auditing+Strategies%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=5028-591680+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="Set_the_Auditing_Strategy">
      ⁠</a>12.7.3.2.&nbsp;Set the Auditing Strategy</h4></div></div></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Summary</div>
			There are two audit strategies supported by JBoss EAP 6: the default and validity audit strategies. This task covers the steps required to define the auditing strategy for an application.
		</div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idp14619328">
      ⁠</a><p class="title"><strong>Procedure&nbsp;12.7.&nbsp;Define a Auditing Strategy</strong></p><ul><li class="step"><div class="para">
				Configure the <code class="code">org.hibernate.envers.audit_strategy</code> property in the <code class="filename">persistence.xml</code> file of the application. If the property is not set in the <code class="filename">persistence.xml</code> file, then the default audit strategy is used.
			</div><div class="example"><a id="idp18037632">
      ⁠</a><p class="title"><strong>Example&nbsp;12.28.&nbsp;Set the Default Audit Strategy</strong></p><div class="example-contents"><pre class="programlisting">&lt;property name="org.hibernate.envers.audit_strategy" value="org.hibernate.envers.strategy.DefaultAuditStrategy"/&gt;</pre></div></div><div class="example"><a id="idp21164320">
      ⁠</a><p class="title"><strong>Example&nbsp;12.29.&nbsp;Set the Validity Audit Strategy</strong></p><div class="example-contents"><pre class="programlisting">&lt;property name="org.hibernate.envers.audit_strategy" value="org.hibernate.envers.strategy.ValidityAuditStrategy"/&gt;</pre></div></div></li></ul></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+5014-591680+%5BLatest%5D&comment=Title%3A+Set+the+Auditing+Strategy%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=5014-591680+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="sect-Getting_Started_with_Entity_Auditing">
      ⁠</a>12.7.4.&nbsp;Getting Started with Entity Auditing</h3></div></div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="Add_Auditing_Support_to_a_JPA_Entity">
      ⁠</a>12.7.4.1.&nbsp;Add Auditing Support to a JPA Entity</h4></div></div></div><div class="para">
		JBoss EAP 6 uses entity auditing, through <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Hibernate_Envers1">Section&nbsp;12.7.1, “About Hibernate Envers”</a>, to track the historical changes of a persistent class. This topic covers adding auditing support for a JPA entity.
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idp16743232">
      ⁠</a><p class="title"><strong>Procedure&nbsp;12.8.&nbsp;Add Auditing Support to a JPA Entity</strong></p><ol class="1"><li class="step"><div class="para">
				Configure the available auditing parameters to suit the deployment: <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Configure_Envers_Parameters1">Section&nbsp;12.7.5.1, “Configure Envers Parameters”</a>.
			</div></li><li class="step"><div class="para">
				Open the JPA entity to be audited.
			</div></li><li class="step"><div class="para">
				Import the <code class="methodname">org.hibernate.envers.Audited</code> interface.
			</div></li><li class="step"><div class="para">
				Apply the <code class="code">@Audited</code> annotation to each field or property to be audited, or apply it once to the whole class.
			</div><div class="example"><a id="idp33458992">
      ⁠</a><p class="title"><strong>Example&nbsp;12.30.&nbsp;Audit Two Fields</strong></p><div class="example-contents"><pre class="programlisting">import org.hibernate.envers.Audited;

import javax.persistence.Entity;
import javax.persistence.Id;
import javax.persistence.GeneratedValue;
import javax.persistence.Column;

@Entity
public class Person {
    @Id
    @GeneratedValue
    private int id;

    @Audited
    private String name;

    private String surname;

    @ManyToOne
    @Audited
    private Address address;

    // add getters, setters, constructors, equals and hashCode here
}
</pre></div></div><div class="example"><a id="idp92182368">
      ⁠</a><p class="title"><strong>Example&nbsp;12.31.&nbsp;Audit an entire Class</strong></p><div class="example-contents"><pre class="programlisting">import org.hibernate.envers.Audited;

import javax.persistence.Entity;
import javax.persistence.Id;
import javax.persistence.GeneratedValue;
import javax.persistence.Column;

@Entity
@Audited
public class Person {
    @Id
    @GeneratedValue
    private int id;

    private String name;

    private String surname;

    @ManyToOne
    private Address address;

    // add getters, setters, constructors, equals and hashCode here
}
</pre></div></div></li></ol></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Result</div>
			The JPA entity has been configured for auditing. A table called <code class="filename"><em class="replaceable">Entity</em>_AUD</code> will be created to store the historical changes.
		</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+5016-591680+%5BLatest%5D&comment=Title%3A+Add+Auditing+Support+to+a+JPA+Entity%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=5016-591680+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="sect-Configuration">
      ⁠</a>12.7.5.&nbsp;Configuration</h3></div></div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="Configure_Envers_Parameters1">
      ⁠</a>12.7.5.1.&nbsp;Configure Envers Parameters</h4></div></div></div><div class="para">
		JBoss EAP 6 uses entity auditing, through Hibernate Envers, to track the historical changes of a persistent class. This topic covers configuring the available Envers parameters.
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idp37441728">
      ⁠</a><p class="title"><strong>Procedure&nbsp;12.9.&nbsp;Configure Envers Parameters</strong></p><ol class="1"><li class="step"><div class="para">
				Open the <code class="filename">persistence.xml</code> file for the application.
			</div></li><li class="step"><div class="para">
				Add, remove or configure Envers properties as required. For a list of available properties, refer to <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Envers_Configuration_Properties">Section&nbsp;12.7.5.4, “Envers Configuration Properties”</a>.
			</div></li></ol></div><div class="example"><a id="idp19356368">
      ⁠</a><p class="title"><strong>Example&nbsp;12.32.&nbsp;Example Envers Parameters</strong></p><div class="example-contents"><pre class="programlisting">&lt;persistence-unit name="mypc"&gt;
  &lt;description&gt;Persistence Unit.&lt;/description&gt;
  &lt;jta-data-source&gt;java:jboss/datasources/ExampleDS&lt;/jta-data-source&gt;
  &lt;shared-cache-mode&gt;ENABLE_SELECTIVE&lt;/shared-cache-mode&gt;
  &lt;properties&gt;
    &lt;property name="hibernate.hbm2ddl.auto" value="create-drop" /&gt;
    &lt;property name="hibernate.show_sql" value="true" /&gt;
    &lt;property name="hibernate.cache.use_second_level_cache"	value="true" /&gt;
    &lt;property name="hibernate.cache.use_query_cache" value="true" /&gt;
    &lt;property name="hibernate.generate_statistics" value="true" /&gt;
    &lt;property name="org.hibernate.envers.versionsTableSuffix" value="_V" /&gt;
    &lt;property name="org.hibernate.envers.revisionFieldName" value="ver_rev" /&gt;
  &lt;/properties&gt;
&lt;/persistence-unit&gt;</pre></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">Result</span></dt><dd><div class="para">
					Auditing has been configured for all JPA entities in the application.
				</div></dd></dl></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+5013-591675+%5BLatest%5D&comment=Title%3A+Configure+Envers+Parameters%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=5013-591675+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="Enable_or_Disable_Auditing_at_Runtime1">
      ⁠</a>12.7.5.2.&nbsp;Enable or Disable Auditing at Runtime</h4></div></div></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Summary</div>
			This task covers the configuration steps required to enable/disable entity version auditing at runtime.
		</div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idp38377792">
      ⁠</a><p class="title"><strong>Procedure&nbsp;12.10.&nbsp;Enable/Disable Auditing</strong></p><ol class="1"><li class="step"><div class="para">
				Subclass the <code class="classname">AuditEventListener</code> class.
			</div></li><li class="step"><div class="para">
				Override the following methods that are called on Hibernate events:
			</div><div class="itemizedlist"><ul><li class="listitem"><div class="para">
						onPostInsert
					</div></li><li class="listitem"><div class="para">
						onPostUpdate
					</div></li><li class="listitem"><div class="para">
						onPostDelete
					</div></li><li class="listitem"><div class="para">
						onPreUpdateCollection
					</div></li><li class="listitem"><div class="para">
						onPreRemoveCollection
					</div></li><li class="listitem"><div class="para">
						onPostRecreateCollection
					</div></li></ul></div></li><li class="step"><div class="para">
				Specify the subclass as the listener for the events.
			</div></li><li class="step"><div class="para">
				Determine if the change should be audited.
			</div></li><li class="step optional"><div class="para">
				Pass the call to the superclass if the change should be audited.
			</div></li></ol></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+5025-591680+%5BLatest%5D&comment=Title%3A+Enable+or+Disable+Auditing+at+Runtime%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=5025-591680+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="Configure_Conditional_Auditing">
      ⁠</a>12.7.5.3.&nbsp;Configure Conditional Auditing</h4></div></div></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Summary</div>
			Hibernate Envers persists audit data in reaction to various Hibernate events, using a series of event listeners. These listeners are registered automatically if the Envers jar is in the class path. This task covers the steps required to implement conditional auditing, by overriding some of the Envers event listeners.
		</div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idp569904">
      ⁠</a><p class="title"><strong>Procedure&nbsp;12.11.&nbsp;Implement Conditional Auditing</strong></p><ol class="1"><li class="step"><div class="para">
				Set the <code class="classname">hibernate.listeners.envers.autoRegister</code> Hibernate property to false in the <code class="filename">persistence.xml</code> file.
			</div></li><li class="step"><div class="para">
				Subclass each event listener to be overridden. Place the conditional auditing logic in the subclass, and call the super method if auditing should be performed.
			</div></li><li class="step"><div class="para">
				Create a custom implementation of <code class="classname">org.hibernate.integrator.spi.Integrator</code>, similar to <code class="classname">org.hibernate.envers.event.EnversIntegrator</code>. Use the event listener subclasses created in step two, rather than the default classes.
			</div></li><li class="step"><div class="para">
				Add a <code class="filename">META-INF/services/org.hibernate.integrator.spi.Integrator</code> file to the jar. This file should contain the fully qualified name of the class implementing the interface.
			</div></li></ol></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Result</div>
			Conditional auditing has been configured, overriding the default Envers event listeners.
		</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+5023-591680+%5BLatest%5D&comment=Title%3A+Configure+Conditional+Auditing%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=5023-591680+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="Envers_Configuration_Properties">
      ⁠</a>12.7.5.4.&nbsp;Envers Configuration Properties</h4></div></div></div><div class="table"><a id="idp18368432">
      ⁠</a><p class="title"><strong>Table&nbsp;12.12.&nbsp;Entity Data Versioning Configuration Parameters</strong></p><div class="table-contents"><table xmlns:d="http://docbook.org/ns/docbook" class="lt-4-cols gt-7-rows" summary="Entity Data Versioning Configuration Parameters"><colgroup><col width="33%" class="c1"><col width="33%" class="c2"><col width="33%" class="c2"></colgroup><thead><tr><th> Property Name </th><th> Default Value </th><th> Description </th></tr></thead><tbody><tr><td> <div class="para">
						<span class="property"> org.hibernate.envers.audit_table_prefix</span>
					</div>
					 </td><td> <div class="para">

					</div>
					 </td><td> <div class="para">
						A string that is prepended to the name of an audited entity, to create the name of the entity that will hold the audit information.
					</div>
					 </td></tr><tr><td> <div class="para">
						<span class="property"> org.hibernate.envers.audit_table_suffix</span>
					</div>
					 </td><td> <div class="para">
						_AUD
					</div>
					 </td><td> <div class="para">
						A string that is appended to the name of an audited entity to create the name of the entity that will hold the audit information. For example, if an entity with a table name of <code class="literal">Person</code> is audited, Envers will generate a table called <code class="literal">Person_AUD</code> to store the historical data.
					</div>
					 </td></tr><tr><td> <div class="para">
						<span class="property"> org.hibernate.envers.revision_field_name</span>
					</div>
					 </td><td> <div class="para">
						REV
					</div>
					 </td><td> <div class="para">
						The name of the field in the audit entity that holds the revision number.
					</div>
					 </td></tr><tr><td> <div class="para">
						<span class="property"> org.hibernate.envers.revision_type_field_name</span>
					</div>
					 </td><td> <div class="para">
						REVTYPE
					</div>
					 </td><td> <div class="para">
						The name of the field in the audit entity that holds the type of revision. The current types of revisions possible are: <code class="literal">add</code>, <code class="literal">mod</code> and <code class="literal">del</code>.
					</div>
					 </td></tr><tr><td> <div class="para">
						<span class="property"> org.hibernate.envers.revision_on_collection_change</span>
					</div>
					 </td><td> <div class="para">
						true
					</div>
					 </td><td> <div class="para">
						This property determines if a revision should be generated if a relation field that is not owned changes. This can either be a collection in a one-to-many relation, or the field using the <code class="code">mappedBy</code> attribute in a one-to-one relation.
					</div>
					 </td></tr><tr><td> <div class="para">
						<span class="property"> org.hibernate.envers.do_not_audit_optimistic_locking_field</span>
					</div>
					 </td><td> <div class="para">
						true
					</div>
					 </td><td> <div class="para">
						When true, properties used for optimistic locking (annotated with <code class="code">@Version</code>) will automatically be excluded from auditing.
					</div>
					 </td></tr><tr><td> <div class="para">
						<span class="property"> org.hibernate.envers.store_data_at_delete</span>
					</div>
					 </td><td> <div class="para">
						false
					</div>
					 </td><td> <div class="para">
						This property defines whether or not entity data should be stored in the revision when the entity is deleted, instead of only the ID, with all other properties marked as null. This is not usually necessary, as the data is present in the last-but-one revision. Sometimes, however, it is easier and more efficient to access it in the last revision. However, this means the data the entity contained before deletion is stored twice.
					</div>
					 </td></tr><tr><td> <div class="para">
						<span class="property"> org.hibernate.envers.default_schema</span>
					</div>
					 </td><td> <div class="para">
						null (same as normal tables)
					</div>
					 </td><td> <div class="para">
						The default schema name used for audit tables. Can be overridden using the <code class="literal">@AuditTable(schema="...")</code> annotation. If not present, the schema will be the same as the schema of the normal tables.
					</div>
					 </td></tr><tr><td> <div class="para">
						<span class="property"> org.hibernate.envers.default_catalog</span>
					</div>
					 </td><td> <div class="para">
						null (same as normal tables)
					</div>
					 </td><td> <div class="para">
						The default catalog name that should be used for audit tables. Can be overridden using the <code class="literal">@AuditTable(catalog="...")</code> annotation. If not present, the catalog will be the same as the catalog of the normal tables.
					</div>
					 </td></tr><tr><td> <div class="para">
						<span class="property"> org.hibernate.envers.audit_strategy</span>
					</div>
					 </td><td> <div class="para">
						org.hibernate.envers.strategy.DefaultAuditStrategy
					</div>
					 </td><td> <div class="para">
						This property defines the audit strategy that should be used when persisting audit data. By default, only the revision where an entity was modified is stored. Alternatively, <code class="literal">org.hibernate.envers.strategy.ValidityAuditStrategy</code> stores both the start revision and the end revision. Together, these define when an audit row was valid.
					</div>
					 </td></tr><tr><td> <div class="para">
						<span class="property"> org.hibernate.envers.audit_strategy_validity_end_rev_field_name</span>
					</div>
					 </td><td> <div class="para">
						REVEND
					</div>
					 </td><td> <div class="para">
						The column name that will hold the end revision number in audit entities. This property is only valid if the validity audit strategy is used.
					</div>
					 </td></tr><tr><td> <div class="para">
						<span class="property"> org.hibernate.envers.audit_strategy_validity_store_revend_timestamp</span>
					</div>
					 </td><td> <div class="para">
						false
					</div>
					 </td><td> <div class="para">
						This property defines whether the timestamp of the end revision, where the data was last valid, should be stored in addition to the end revision itself. This is useful to be able to purge old audit records out of a relational database by using table partitioning. Partitioning requires a column that exists within the table. This property is only evaluated if the <code class="literal">ValidityAuditStrategy</code> is used.
					</div>
					 </td></tr><tr><td> <div class="para">
						<span class="property"> org.hibernate.envers.audit_strategy_validity_revend_timestamp_field_name</span>
					</div>
					 </td><td> <div class="para">
						REVEND_TSTMP
					</div>
					 </td><td> <div class="para">
						Column name of the timestamp of the end revision at which point the data was still valid. Only used if the <code class="literal">ValidityAuditStrategy</code> is used, and <code class="methodname"> org.hibernate.envers.audit_strategy_validity_store_revend_timestamp</code> evaluates to true.
					</div>
					 </td></tr></tbody></table></div></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+5015-591680+%5BLatest%5D&comment=Title%3A+Envers+Configuration+Properties%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=5015-591680+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="sect-Queries">
      ⁠</a>12.7.6.&nbsp;Queries</h3></div></div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="Retrieve_Auditing_Information">
      ⁠</a>12.7.6.1.&nbsp;Retrieve Auditing Information</h4></div></div></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Summary</div>
			Hibernate Envers provides the functionality to retrieve audit information through queries. This topic provides examples of those queries.
		</div><div xmlns:d="http://docbook.org/ns/docbook" class="note"><div class="admonition_header"><p><strong>Note</strong></p></div><div class="admonition"><div class="para">
			Queries on the audited data will be, in many cases, much slower than corresponding queries on <code class="literal">live</code> data, as they involve correlated subselects.
		</div></div></div><div class="example"><a id="idp25564384">
      ⁠</a><p class="title"><strong>Example&nbsp;12.33.&nbsp;Querying for Entities of a Class at a Given Revision</strong></p><div class="example-contents"><div class="para">
			The entry point for this type of query is:
		</div><pre class="programlisting">AuditQuery query = getAuditReader()
    .createQuery()
    .forEntitiesAtRevision(MyEntity.class, revisionNumber);</pre><div class="para">
			Constraints can then be specified, using the <code class="literal">AuditEntity</code> factory class. The query below only selects entities where the <code class="literal">name</code> property is equal to <code class="literal">John</code>:
		</div><pre class="programlisting">query.add(AuditEntity.property("name").eq("John"));</pre><div class="para">
			The queries below only select entities that are related to a given entity:
		</div><pre class="programlisting">query.add(AuditEntity.property("address").eq(relatedEntityInstance));
// or
query.add(AuditEntity.relatedId("address").eq(relatedEntityId));</pre><div class="para">
			The results can then be ordered, limited, and have aggregations and projections (except grouping) set. The example below is a full query.
		</div><pre class="programlisting">List personsAtAddress = getAuditReader().createQuery()
    .forEntitiesAtRevision(Person.class, 12)
    .addOrder(AuditEntity.property("surname").desc())
    .add(AuditEntity.relatedId("address").eq(addressId))
    .setFirstResult(4)
    .setMaxResults(2)
    .getResultList();</pre></div></div><div class="example"><a id="idp33144816">
      ⁠</a><p class="title"><strong>Example&nbsp;12.34.&nbsp;Query Revisions where Entities of a Given Class Changed</strong></p><div class="example-contents"><div class="para">
			The entry point for this type of query is:
		</div><pre class="programlisting">AuditQuery query = getAuditReader().createQuery()
    .forRevisionsOfEntity(MyEntity.class, false, true);</pre><div class="para">
			Constraints can be added to this query in the same way as the previous example. There are additional possibilities for this query:
		</div><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">AuditEntity.revisionNumber()</code></span></dt><dd><div class="para">
						Specify constraints, projections and order on the revision number in which the audited entity was modified.
					</div></dd><dt><span class="term"><code class="literal">AuditEntity.revisionProperty(propertyName)</code></span></dt><dd><div class="para">
						Specify constraints, projections and order on a property of the revision entity, corresponding to the revision in which the audited entity was modified.
					</div></dd><dt><span class="term"><code class="literal">AuditEntity.revisionType()</code></span></dt><dd><div class="para">
						Provides accesses to the type of the revision (ADD, MOD, DEL).
					</div></dd></dl></div><div class="para">
			The query results can then be adjusted as necessary. The query below selects the smallest revision number at which the entity of the <code class="code">MyEntity</code> class, with the <code class="code">entityId</code> ID has changed, after revision number 42:
		</div><pre class="programlisting">Number revision = (Number) getAuditReader().createQuery()
    .forRevisionsOfEntity(MyEntity.class, false, true)
    .setProjection(AuditEntity.revisionNumber().min())
    .add(AuditEntity.id().eq(entityId))
    .add(AuditEntity.revisionNumber().gt(42))
    .getSingleResult();</pre><div class="para">
			Queries for revisions can also minimize/maximize a property. The query below selects the revision at which the value of the <code class="literal">actualDate</code> for a given entity was larger than a given value, but as small as possible:
		</div><pre class="programlisting">Number revision = (Number) getAuditReader().createQuery()
    .forRevisionsOfEntity(MyEntity.class, false, true)
    // We are only interested in the first revision
    .setProjection(AuditEntity.revisionNumber().min())
    .add(AuditEntity.property("actualDate").minimize()
        .add(AuditEntity.property("actualDate").ge(givenDate))
        .add(AuditEntity.id().eq(givenEntityId)))
    .getSingleResult();</pre><div class="para">
			The <code class="literal">minimize()</code> and <code class="literal">maximize()</code> methods return a criteria, to which constraints can be added, which must be met by the entities with the maximized/minimized properties.
		</div><div class="para">
			There are two boolean parameters passed when creating the query.
		</div><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">selectEntitiesOnly</code></span></dt><dd><div class="para">
						This parameter is only valid when an explicit projection is not set.
					</div><div class="para">
						If true, the result of the query will be a list of entities that changed at revisions satisfying the specified constraints.
					</div><div class="para">
						If false, the result will be a list of three element arrays. The first element will be the changed entity instance. The second will be an entity containing revision data. If no custom entity is used, this will be an instance of <code class="literal">DefaultRevisionEntity</code>. The third element array will be the type of the revision (ADD, MOD, DEL).
					</div></dd><dt><span class="term"><code class="literal">selectDeletedEntities</code></span></dt><dd><div class="para">
						This parameter specified if revisions in which the entity was deleted should be included in the results. If true, the entities will have the revision type <code class="literal">DEL</code>, and all fields, except id, will have the value <code class="literal">null</code>.
					</div></dd></dl></div></div></div><div class="example"><a id="idm387104">
      ⁠</a><p class="title"><strong>Example&nbsp;12.35.&nbsp;Query Revisions of an Entity that Modified a Given Property</strong></p><div class="example-contents"><div class="para">
			The query below will return all revisions of <code class="code">MyEntity</code> with a given id, where the <code class="code">actualDate</code> property has been changed.
		</div><pre class="programlisting">AuditQuery query = getAuditReader().createQuery()
  .forRevisionsOfEntity(MyEntity.class, false, true)
  .add(AuditEntity.id().eq(id));
  .add(AuditEntity.property("actualDate").hasChanged())</pre><div class="para">
			The <code class="code">hasChanged</code> condition can be combined with additional criteria. The query below will return a horizontal slice for <code class="code">MyEntity</code> at the time the <em class="replaceable">revisionNumber</em> was generated. It will be limited to the revisions that modified <code class="code">prop1</code>, but not <code class="code">prop2</code>.
		</div><pre class="programlisting">AuditQuery query = getAuditReader().createQuery()
  .forEntitiesAtRevision(MyEntity.class, revisionNumber)
  .add(AuditEntity.property("prop1").hasChanged())
  .add(AuditEntity.property("prop2").hasNotChanged());</pre><div class="para">
			The result set will also contain revisions with numbers lower than the <em class="replaceable">revisionNumber</em>. This means that this query cannot be read as "Return all <code class="code">MyEntities</code> changed in <em class="replaceable">revisionNumber</em> with <code class="code">prop1</code> modified and <code class="code">prop2</code> untouched."
		</div><div class="para">
			The query below shows how this result can be returned, using the <code class="code">forEntitiesModifiedAtRevision</code> query:
		</div><pre class="programlisting">AuditQuery query = getAuditReader().createQuery()
  .forEntitiesModifiedAtRevision(MyEntity.class, revisionNumber)
  .add(AuditEntity.property("prop1").hasChanged())
  .add(AuditEntity.property("prop2").hasNotChanged());</pre></div></div><div class="example"><a id="idp9794720">
      ⁠</a><p class="title"><strong>Example&nbsp;12.36.&nbsp;Query Entities Modified in a Given Revision</strong></p><div class="example-contents"><div class="para">
			The example below shows the basic query for entities modified in a given revision. It allows entity names and corresponding Java classes changed in a specified revision to be retrieved:
		</div><pre class="programlisting">Set&lt;Pair&lt;String, Class&gt;&gt; modifiedEntityTypes = getAuditReader()
    .getCrossTypeRevisionChangesReader().findEntityTypes(revisionNumber);</pre><div class="para">
			There are a number of other queries that are also accessible from <code class="interfacename"> org.hibernate.envers.CrossTypeRevisionChangesReader</code>:
		</div><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="methodname">List&lt;Object&gt; findEntities(Number)</code></span></dt><dd><div class="para">
						Returns snapshots of all audited entities changed (added, updated and removed) in a given revision.Executes <code class="literal">n+1</code> SQL queries, where <code class="literal">n</code> is a number of different entity classes modified within the specified revision.
					</div></dd><dt><span class="term"><code class="methodname">List&lt;Object&gt; findEntities(Number, RevisionType)</code></span></dt><dd><div class="para">
						Returns snapshots of all audited entities changed (added, updated or removed) in a given revision filtered by modification type. Executes <code class="literal">n+1</code> SQL queries, where <code class="literal">n</code> is a number of different entity classes modified within specified revision.
					</div></dd><dt><span class="term"><code class="methodname">Map&lt;RevisionType, List&lt;Object&gt;&gt; findEntitiesGroupByRevisionType(Number)</code></span></dt><dd><div class="para">
						Returns a map containing lists of entity snapshots grouped by modification operation (e.g. addition, update and removal). Executes <code class="literal">3n+1</code> SQL queries, where <code class="literal">n</code> is a number of different entity classes modified within specified revision.
					</div></dd></dl></div></div></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+5017-591680+%5BLatest%5D&comment=Title%3A+Retrieve+Auditing+Information%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=5017-591680+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="sect-Performance_Tuning">
      ⁠</a>12.8.&nbsp;Performance Tuning</h2></div></div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="Alternative_Batch_Loading_Algorithms">
      ⁠</a>12.8.1.&nbsp;Alternative Batch Loading Algorithms</h3></div></div></div><div class="para">
		Hibernate allows you to load data for associations using one of four fetching strategies: join, select, subselect and batch. Out of these four strategies, batch loading allows for the biggest performance gains as it is an optimization strategy for select fetching. In this strategy, Hibernate retrieves a batch of entity instances or collections in a single SELECT statement by specifying a list of primary or foreign keys. Batch fetching is an optimization of the lazy select fetching strategy.
	</div><div class="para">
		There are two ways to configure batch fetching: per-class level or per-collection level.
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
				Per-Class Level
			</div><div class="para">
				When Hibernate loads data on a per-class level, it requires the batch size of the association to pre-load when queried. For example, consider that at runtime you have 30 instances of a <code class="literal">car</code> object loaded in session. Each <code class="literal">car</code> object belongs to an <code class="literal">owner</code> object. If you were to iterate through all the <code class="literal">car</code> objects and request their owners, with <code class="literal">lazy</code> loading, Hibernate will issue 30 select statements - one for each owner. This is a performance bottleneck.
			</div><div class="para">
				You can instead, tell Hiberante to pre-load the data for the next batch of owners before they have been sought via a query. When an <code class="code">owner</code> object has been queried, Hibernate will query many more of these objects in the same SELECT statement.
			</div><div class="para">
				The number of <code class="code">owner</code> objects to query in advance depends upon the <em class="parameter"><code>batch-size</code></em> parameter specified at configuration time: 
<pre class="programlisting">&lt;class name="owner" batch-size="10"&gt;&lt;/class&gt;</pre>

			</div><div class="para">
				This tells Hibernate to query at least 10 more <code class="code">owner</code> objects in expectation of them being needed in the near future. When a user queries the <code class="code">owner</code> of <code class="code">car A</code>, the <code class="code">owner</code> of <code class="code">car B</code> may already have been loaded as part of batch loading. When the user actually needs the <code class="code">owner</code> of <code class="code">car B</code>, instead of going to the database (and issuing a SELECT statement), the value can be retrieved from the current session.
			</div><div class="para">
				In addition to the <code class="code">batch-size</code> parameter, Hibernate 4.2.0 has introduced a new configuration item to improve in batch loading performance. The configuration item is called <code class="code">Batch Fetch Style</code> configuration and specified by the <em class="parameter"><code>hibernate.batch_fetch_style</code></em> parameter.
			</div><div class="para">
				Three different batch fetch styles are supported: LEGACY, PADDED and DYNAMIC. To specify which style to use, use <code class="code">org.hibernate.cfg.AvailableSettings#BATCH_FETCH_STYLE</code>.
			</div><div class="itemizedlist"><ul><li class="listitem"><div class="para">
						LEGACY: In the legacy style of loading, a set of pre-built batch sizes based on <code class="code">ArrayHelper.getBatchSizes(int)</code> are utilized. Batches are loaded using the next-smaller pre-built batch size from the number of existing batchable identifiers.
					</div><div class="para">
						Continuing with the above example, with a <code class="code">batch-size</code> setting of 30, the pre-built batch sizes would be [30, 15, 10, 9, 8, 7, .., 1]. An attempt to batch load 29 identifiers would result in batches of 15, 10, and 4. There will be 3 corresponding SQL queries, each loading 15, 10 and 4 owners from the database.
					</div></li><li class="listitem"><div class="para">
						PADDED - Padded is similar to LEGACY style of batch loading. It still utilizes pre-built batch sizes, but uses the next-bigger batch size and pads the extra identifier placeholders.
					</div><div class="para">
						As with the example above, if 30 owner objects are to be initialized, there will only be one query executed against the database.
					</div><div class="para">
						However, if 29 owner objects are to be initialized, Hibernate will still execute only 1 SQL select statement of batch size 30, with the extra space padded with a repeated identifier.
					</div></li><li class="listitem"><div class="para">
						Dynamic - While still conforming to batch-size restrictions, this style of batch loading dynamically builds its SQL SELECT statement using the actual number of objects to be loaded.
					</div><div class="para">
						For example, for 30 owner objects, and a maximum batch size of 30, a call to retrieve 30 owner objects will result in one SQL SELECT statement. A call to retrieve 35 will result in two SQL statements, of batch sizes 30 and 5 respectively. Hibernate will dynamically alter the second SQL statement to keep at 5, the required number, while still remaining under the restriction of 30 as the batch-size. This is different to the PADDED version, as the second SQL will not get PADDED, and unlike the LEGACY style, there is no fixed size for the second SQL statement - the second SQL is created dynamically.
					</div><div class="para">
						For a query of less than 30 identifiers, this style will dynamically only load the number of identifiers requested.
					</div></li></ul></div></li><li class="listitem"><div class="para">
				Per-Collection Level
			</div><div class="para">
				Hibernate can also batch load collections honoring the batch fetch size and styles as listed in the per-class section above.
			</div><div class="para">
				To reverse the example used in the previous section, consider that you need to load all the <code class="code">car</code> objects owned by each <code class="code">owner</code> object. If 10 <code class="code">owner</code> objects are loaded in the current session iterating through all owners will generate 10 SELECT statements, one for every call to <code class="code">getCars()</code> method. If you enable batch fetching for the cars collection in the mapping of Owner, Hibernate can pre-fetch these collections, as shown below.
			</div><pre class="programlisting">&lt;class name="Owner"&gt;&lt;set name="cars" batch-size="5"&gt;&lt;/set&gt;&lt;/class&gt;</pre><div class="para">
				Thus, with a <code class="code">batch-size</code> of 5 and using legacy batch style, Hibernate will load 5, 5 collections in two SELECT statements.
			</div></li></ul></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+21769-592431+%5BLatest%5D&comment=Title%3A+Alternative+Batch+Loading+Algorithms%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=21769-592431+24+Feb+2014+07%3A58+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="Second_Level_Caching_of_Object_References_for_Non-mutable_Data">
      ⁠</a>12.8.2.&nbsp;Second Level Caching of Object References for Non-mutable Data</h3></div></div></div><div class="para">
		Hibernate automatically caches data within memory for improved performance. This is accomplished by an in-memory cache which reduces the number of times that database lookups are required, especially for data that rarely changes.
	</div><div class="para">
		Hibernate maintains two types of caches. The primary cache (also called the first-level cache) is mandatory. This cache is associated with the current session and all requests must pass through it. The secondary cache (also called the second-level cache) is optional, and is only consulted after the primary cache has been consulted first.
	</div><div class="para">
		Data is stored in the second-level cache by first disassembling it into a state array. This array is deep copied, and that deep copy is put into the cache. The reverse is done for reading from the cache. This works well for data that does not change (mutable data), but is inefficient for immutable data.
	</div><div class="para">
		Deep copying data is an expensive operation in terms of memory usage and processing speed. For large data sets, memory and processing speed become a performance-limiting factor. Hibernate allows you to specify that immutable data be referenced rather than copied. Instead of copying entire data sets, Hibernate can now store the reference to the data in the cache.
	</div><div class="para">
		This can be done by changing the value of the configuration setting <code class="code">hibernate.cache.use_reference_entries</code> to <code class="code">true</code>. By default, <code class="code">hibernate.cache.use_reference_entries</code> is set to <code class="code">false</code>.
	</div><div class="para">
		When <code class="code">hibernate.cache.use_reference_entries</code> is set to <code class="code">true</code>, an immutable data object that does not have any associations is not copied into the second-level cache, and only a reference to it is stored.
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="warning"><div class="admonition_header"><p><strong>Warning</strong></p></div><div class="admonition"><div class="para">
			When <code class="code">hibernate.cache.use_reference_entries</code> is set to <code class="code">true</code>, immutable data objects with associations are still deep copied into the second-level cache.
		</div></div></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+20657-592378+%5BLatest%5D&comment=Title%3A+Second+Level+Caching+of+Object+References+for+Non-mutable+Data%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=20657-592378+24+Feb+2014+07%3A58+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div></div></div><div xml:lang="en-US" class="chapter" lang="en-US"><div class="titlepage"><div><div><h1 class="title"><a id="chap-JAX-RS_Web_Services">
      ⁠</a>Chapter&nbsp;13.&nbsp;JAX-RS Web Services</h1></div></div></div><div class="toc"><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_JAX-RS">13.1. About JAX-RS</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_RESTEasy">13.2. About RESTEasy</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_RESTful_Web_Services">13.3. About RESTful Web Services</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#RESTEasy_Defined_Annotations">13.4. RESTEasy Defined Annotations</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-RESTEasy_Configuration">13.5. RESTEasy Configuration</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#RESTEasy_Configuration_Parameters">13.5.1. RESTEasy Configuration Parameters</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-JAX-RS_Web_Service_Security">13.6. JAX-RS Web Service Security</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Enable_Role-Based_Security_for_a_RESTEasy_JAX-RS_Web_Service1">13.6.1. Enable Role-Based Security for a RESTEasy JAX-RS Web Service</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Secure_a_JAX-RS_Web_Service_using_Annotations1">13.6.2. Secure a JAX-RS Web Service using Annotations</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-RESTEasy_Logging">13.7. RESTEasy Logging</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_JAX-RS_Web_Service_Logging">13.7.1. About JAX-RS Web Service Logging</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Logging_Categories_Defined_in_RESTEasy">13.7.2. Logging Categories Defined in RESTEasy</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Exception_Handling">13.8. Exception Handling</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Create_an_Exception_Mapper">13.8.1. Create an Exception Mapper</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#RESTEasy_Internally_Thrown_Exceptions">13.8.2. RESTEasy Internally Thrown Exceptions</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-RESTEasy_Interceptors">13.9. RESTEasy Interceptors</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Intercept_JAX-RS_Invocations">13.9.1. Intercept JAX-RS Invocations</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Bind_an_Interceptor_to_a_JAX-RS_Method">13.9.2. Bind an Interceptor to a JAX-RS Method</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Register_an_Interceptor">13.9.3. Register an Interceptor</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Interceptor_Precedence_Families">13.9.4. Interceptor Precedence Families</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-String_Based_Annotations">13.10. String Based Annotations</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Convert_String_Based_Param_Annotations_to_Objects">13.10.1. Convert String Based @*Param Annotations to Objects</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Configure_File_Extensions">13.11. Configure File Extensions</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Map_File_Extensions_to_Media_Types_in_the_webxml_File">13.11.1. Map File Extensions to Media Types in the web.xml File</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Map_File_Extensions_to_Languages_in_the_webxml_File">13.11.2. Map File Extensions to Languages in the web.xml File</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#RESTEasy_Supported_Media_Types">13.11.3. RESTEasy Supported Media Types</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-RESTEasy_JavaScript_API">13.12. RESTEasy JavaScript API</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_the_RESTEasy_JavaScript_API">13.12.1. About the RESTEasy JavaScript API</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Enable_the_RESTEasy_JavaScript_API_Servlet">13.12.2. Enable the RESTEasy JavaScript API Servlet</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#RESTEasy_Javascript_API_Parameters">13.12.3. RESTEasy Javascript API Parameters</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Build_AJAX_Queries_with_the_JavaScript_API">13.12.4. Build AJAX Queries with the JavaScript API</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#RESTRequest_Class_Members">13.12.5. REST.Request Class Members</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-RESTEasy_Asynchronous_Job_Service">13.13. RESTEasy Asynchronous Job Service</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_the_RESTEasy_Asynchronous_Job_Service">13.13.1. About the RESTEasy Asynchronous Job Service</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Enable_the_Asynchronous_Job_Service">13.13.2. Enable the Asynchronous Job Service</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Configure_Asynchronous_Jobs_for_RESTEasy">13.13.3. Configure Asynchronous Jobs for RESTEasy</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Asynchronous_Job_Service_Configuration_Parameters">13.13.4. Asynchronous Job Service Configuration Parameters</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-RESTEasy_JAXB">13.14. RESTEasy JAXB</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Create_a_JAXB_Decorator">13.14.1. Create a JAXB Decorator</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-RESTEasy_Atom_Support">13.15. RESTEasy Atom Support</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_the_Atom_API_and_Provider">13.15.1. About the Atom API and Provider</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-RESTEasySpring_Integration">13.16. RESTEasy/Spring Integration</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#RESTeasySpring_integration">13.16.1. RESTEasy/Spring integration</a></span></dt></dl></dd></dl></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="About_JAX-RS">
      ⁠</a>13.1.&nbsp;About JAX-RS</h2></div></div></div><div class="para">
		JAX-RS is the Java API for RESTful web services. It provides support for building web services using REST, through the use of annotations. These annotations simplify the process of mapping Java objects to web resources. The specification is defined here: <a href="http://www.jcp.org/en/jsr/detail?id=311">http://www.jcp.org/en/jsr/detail?id=311</a>.
	</div><div class="para">
		RESTEasy is the JBoss EAP 6 implementation of JAX-RS. It also provides additional features to the specification.
	</div><div class="para">
		JBoss EAP 6 is compliant with JSR 311 - JAX-RS.
	</div><div class="para">
		To get started with JAX-RS and JBoss EAP 6, refer to the <code class="code">helloworld-rs</code>, <code class="code">jax-rs-client</code>, and <code class="code">kitchensink</code> quickstart: <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Access_the_Java_EE_Quickstart_Examples">Section&nbsp;1.4.1.1, “Access the Quickstarts”</a>.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+1759-591647+%5BLatest%5D&comment=Title%3A+About+JAX-RS%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=1759-591647+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="About_RESTEasy">
      ⁠</a>13.2.&nbsp;About RESTEasy</h2></div></div></div><div class="para">
		RESTEasy is a portable implementation of the JAX-RS Java API. It also provides additional features, including a client side framework (the RESTEasy JAX-RS Client Framework) for mapping outgoing requests to remote servers, allowing JAX-RS to operate as a client or server-side specification.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+1760-591647+%5BLatest%5D&comment=Title%3A+About+RESTEasy%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=1760-591647+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="About_RESTful_Web_Services">
      ⁠</a>13.3.&nbsp;About RESTful Web Services</h2></div></div></div><div class="para">
		RESTful web services are designed to expose APIs on the web. They aim to provide better performance, scalability, and flexibility than traditional web services by allowing clients to access data and resources using predictable URLs.
	</div><div class="para">
		The Java Enterprise Edition 6 specification for RESTful services is JAX-RS. For more information about JAX-RS, refer to <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_JAX-RS">Section&nbsp;13.1, “About JAX-RS”</a> and <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_RESTEasy">Section&nbsp;13.2, “About RESTEasy”</a>.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+1758-591647+%5BLatest%5D&comment=Title%3A+About+RESTful+Web+Services%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=1758-591647+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="RESTEasy_Defined_Annotations">
      ⁠</a>13.4.&nbsp;RESTEasy Defined Annotations</h2></div></div></div><div class="table"><a id="idp20861792">
      ⁠</a><p class="title"><strong>Table&nbsp;13.1.&nbsp;JAX-RS/RESTEasy Annotations</strong></p><div class="table-contents"><table xmlns:d="http://docbook.org/ns/docbook" class="lt-4-cols gt-14-rows" summary="JAX-RS/RESTEasy Annotations"><colgroup><col width="50%" align="left" class="c1"><col width="50%" align="left" class="c2"></colgroup><thead><tr><th align="left"> Annotation </th><th align="left"> Usage </th></tr></thead><tbody><tr><td align="left"> <code class="code">ClientResponseType</code> </td><td align="left"> This is an annotation that you can add to a RESTEasy client interface that has a return type of Response. </td></tr><tr><td align="left"> <code class="code">ContentEncoding</code> </td><td align="left"> Meta annotation that specifies a Content-Encoding to be applied via the annotated annotation. </td></tr><tr><td align="left"> <code class="code">DecorateTypes</code> </td><td align="left"> Must be placed on a DecoratorProcessor class to specify the supported types. </td></tr><tr><td align="left"> <code class="code">Decorator</code> </td><td align="left"> Meta-annotation to be placed on another annotation that triggers decoration. </td></tr><tr><td align="left"> <code class="code">Form</code> </td><td align="left"> This can be used as a value object for incoming/outgoing request/responses. </td></tr><tr><td align="left"> <code class="code">StringParameterUnmarshallerBinder</code> </td><td align="left"> Meta-annotation to be placed on another annotation that triggers a StringParameterUnmarshaller to be applied to a string based annotation injector. </td></tr><tr><td align="left"> <code class="code">Cache</code> </td><td align="left"> Set response Cache-Control header automatically. </td></tr><tr><td align="left"> <code class="code">NoCache</code> </td><td align="left"> Set Cache-Control response header of "nocache". </td></tr><tr><td align="left"> <code class="code">ServerCached</code> </td><td align="left"> Specifies that the response to this jax-rs method should be cached on the server. </td></tr><tr><td align="left"> <code class="code">ClientInterceptor</code> </td><td align="left"> Identifies an interceptor as a client-side interceptor. </td></tr><tr><td align="left"> <code class="code">DecoderPrecedence</code> </td><td align="left"> This interceptor is an Content-Encoding decoder. </td></tr><tr><td align="left"> <code class="code">EncoderPrecedence</code> </td><td align="left"> This interceptor is an Content-Encoding encoder. </td></tr><tr><td align="left"> <code class="code">HeaderDecoratorPrecedence</code> </td><td align="left"> HeaderDecoratorPrecedence interceptors should always come first as they decorate a response (on the server), or an outgoing request (on the client) with special, user-defined, headers. </td></tr><tr><td align="left"> <code class="code">RedirectPrecedence</code> </td><td align="left"> Should be placed on a PreProcessInterceptor. </td></tr><tr><td align="left"> <code class="code">SecurityPrecedence</code> </td><td align="left"> Should be placed on a PreProcessInterceptor. </td></tr><tr><td align="left"> <code class="code">ServerInterceptor</code> </td><td align="left"> Identifies an interceptor as a server-side interceptor. </td></tr><tr><td align="left"> <code class="code">NoJackson</code> </td><td align="left"> Placed on class, parameter, field or method when you don't want the Jackson provider to be triggered. </td></tr><tr><td align="left"> <code class="code">ImageWriterParams</code> </td><td align="left"> An annotation that a resource class can use to pass parameters to the IIOImageProvider. </td></tr><tr><td align="left"> <code class="code">DoNotUseJAXBProvider</code> </td><td align="left"> Put this on a class or parameter when you do not want the JAXB MessageBodyReader/Writer used but instead have a more specific provider you want to use to marshall the type. </td></tr><tr><td align="left"> <code class="code">Formatted</code> </td><td align="left"> Format XML output with indentations and newlines. This is a JAXB Decorator. </td></tr><tr><td align="left"> <code class="code">IgnoreMediaTypes</code> </td><td align="left"> Placed on a type, method, parameter, or field to tell JAXRS not to use JAXB provider for a certain media type </td></tr><tr><td align="left"> <code class="code">Stylesheet</code> </td><td align="left"> Specifies an XML stylesheet header. </td></tr><tr><td align="left"> <code class="code">Wrapped</code> </td><td align="left"> Put this on a method or parameter when you want to marshal or unmarshal a collection or array of JAXB objects. </td></tr><tr><td align="left"> <code class="code">WrappedMap</code> </td><td align="left"> Put this on a method or parameter when you want to marshal or unmarshal a map of JAXB objects. </td></tr><tr><td align="left"> <code class="code">XmlHeader</code> </td><td align="left"> Sets an XML header for the returned document. </td></tr><tr><td align="left"> <code class="code">BadgerFish</code> </td><td align="left"> A JSONConfig. </td></tr><tr><td align="left"> <code class="code">Mapped</code> </td><td align="left"> A JSONConfig. </td></tr><tr><td align="left"> <code class="code">XmlNsMap</code> </td><td align="left"> A JSONToXml. </td></tr><tr><td align="left"> <code class="code">MultipartForm</code> </td><td align="left"> This can be used as a value object for incoming/outgoing request/responses of the multipart/form-data mime type. </td></tr><tr><td align="left"> <code class="code">PartType</code> </td><td align="left"> Must be used in conjunction with Multipart providers when writing out a List or Map as a multipart/* type. </td></tr><tr><td align="left"> <code class="code">XopWithMultipartRelated</code> </td><td align="left"> This annotation can be used to process/produce incoming/outgoing XOP messages (packaged as multipart/related) to/from JAXB annotated objects. </td></tr><tr><td align="left"> <code class="code">After</code> </td><td align="left"> Used to add an expiration attribute when signing or as a stale check for verification. </td></tr><tr><td align="left"> <code class="code">Signed</code> </td><td align="left"> Convenience annotation that triggers the signing of a request or response using the DOSETA specification. </td></tr><tr><td align="left"> <code class="code">Verify</code> </td><td align="left"> Verification of input signature specified in a signature header. </td></tr></tbody></table></div></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+5368-591693+%5BLatest%5D&comment=Title%3A+RESTEasy+Defined+Annotations%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=5368-591693+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="sect-RESTEasy_Configuration">
      ⁠</a>13.5.&nbsp;RESTEasy Configuration</h2></div></div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="RESTEasy_Configuration_Parameters">
      ⁠</a>13.5.1.&nbsp;RESTEasy Configuration Parameters</h3></div></div></div><div class="table"><a id="idp22827520">
      ⁠</a><p class="title"><strong>Table&nbsp;13.2.&nbsp;Elements</strong></p><div class="table-contents"><table xmlns:d="http://docbook.org/ns/docbook" class="lt-4-cols gt-7-rows" summary="Elements"><colgroup><col width="40%" align="left" class="c1"><col width="20%" align="left" class="c2"><col width="40%" align="left" class="c3"></colgroup><thead><tr><th align="left"> Option Name </th><th align="left"> Default Value </th><th align="left"> Description </th></tr></thead><tbody><tr><td align="left"> resteasy.servlet.mapping.prefix </td><td align="left"> No default </td><td align="left"> If the url-pattern for the Resteasy servlet-mapping is not /*. </td></tr><tr><td align="left"> resteasy.scan </td><td align="left"> false </td><td align="left"> Automatically scan WEB-INF/lib jars and WEB-INF/classes directory for both @Provider and JAX-RS resource classes (@Path, @GET, @POST etc..) and register them. </td></tr><tr><td align="left"> resteasy.scan.providers </td><td align="left"> false </td><td align="left"> Scan for @Provider classes and register them. </td></tr><tr><td align="left"> resteasy.scan.resources </td><td align="left"> false </td><td align="left"> Scan for JAX-RS resource classes. </td></tr><tr><td align="left"> resteasy.providers </td><td align="left"> no default </td><td align="left"> A comma delimited list of fully qualified @Provider class names you want to register. </td></tr><tr><td align="left"> resteasy.use.builtin.providers </td><td align="left"> true </td><td align="left"> Whether or not to register default, built-in @Provider classes. </td></tr><tr><td align="left"> resteasy.resources </td><td align="left"> No default </td><td align="left"> A comma delimited list of fully qualified JAX-RS resource class names you want to register. </td></tr><tr><td align="left"> resteasy.jndi.resources </td><td align="left"> No default </td><td align="left"> A comma delimited list of JNDI names which reference objects you want to register as JAX-RS resources. </td></tr><tr><td align="left"> javax.ws.rs.Application </td><td align="left"> No default </td><td align="left"> Fully qualified name of Application class to bootstrap in a spec portable way. </td></tr><tr><td align="left"> resteasy.media.type.mappings </td><td align="left"> No default </td><td align="left"> Replaces the need for an Accept header by mapping file name extensions (like .xml or .txt) to a media type. Used when the client is unable to use a Accept header to choose a representation (i.e. a browser). </td></tr><tr><td align="left"> resteasy.language.mappings </td><td align="left"> No default </td><td align="left"> Replaces the need for an Accept-Language header by mapping file name extensions (like .en or .fr) to a language. Used when the client is unable to use a Accept-Language header to choose a language (i.e. a browser). </td></tr><tr><td align="left"> resteasy.document.expand.entity.references </td><td align="left"> false </td><td align="left"> Whether to expand external entities or replace them with an empty string. In JBoss EAP 6.3, this parameter defaults to <code class="literal">false</code>, so it replaces them with an empty string. </td></tr></tbody></table></div></div><div xmlns:d="http://docbook.org/ns/docbook" class="important"><div class="admonition_header"><p><strong>Important</strong></p></div><div class="admonition"><div class="para">
			In a Servlet 3.0 container, the <code class="code">resteasy.scan.*</code> configurations in the <code class="filename">web.xml</code> file are ignored, and all JAX-RS annotated components will be automatically scanned.
		</div></div></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+5555-667856+%5BLatest%5D&comment=Title%3A+RESTEasy+Configuration+Parameters%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=5555-667856+11+Jun+2014+23%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="sect-JAX-RS_Web_Service_Security">
      ⁠</a>13.6.&nbsp;JAX-RS Web Service Security</h2></div></div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="Enable_Role-Based_Security_for_a_RESTEasy_JAX-RS_Web_Service1">
      ⁠</a>13.6.1.&nbsp;Enable Role-Based Security for a RESTEasy JAX-RS Web Service</h3></div></div></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Summary</div>
			RESTEasy supports the @RolesAllowed, @PermitAll, and @DenyAll annotations on JAX-RS methods. However, it does not recognize these annotations by default. Follow these steps to configure the <code class="filename">web.xml</code> file and enable role-based security.
		</div><div xmlns:d="http://docbook.org/ns/docbook" class="warning"><div class="admonition_header"><p><strong>Warning</strong></p></div><div class="admonition"><div class="para">
			Do not activate role-based security if the application uses EJBs. The EJB container will provide the functionality, instead of RESTEasy.
		</div></div></div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idp31570864">
      ⁠</a><p class="title"><strong>Procedure&nbsp;13.1.&nbsp;Enable Role-Based Security for a RESTEasy JAX-RS Web Service</strong></p><ol class="1"><li class="step"><div class="para">
				Open the <code class="filename">web.xml</code> file for the application in a text editor.
			</div></li><li class="step"><div class="para">
				Add the following &lt;context-param&gt; to the file, within the <code class="code">web-app</code> tags:
			</div><pre class="screen">&lt;context-param&gt;
    &lt;param-name&gt;resteasy.role.based.security&lt;/param-name&gt;
    &lt;param-value&gt;true&lt;/param-value&gt;
&lt;/context-param&gt;</pre></li><li class="step"><div class="para">
				Declare all roles used within the RESTEasy JAX-RS WAR file, using the &lt;security-role&gt; tags:
			</div><pre class="screen">&lt;security-role&gt;
    &lt;role-name&gt;<em class="replaceable">ROLE_NAME</em>&lt;/role-name&gt;
&lt;/security-role&gt;
&lt;security-role&gt;
    &lt;role-name&gt;<em class="replaceable">ROLE_NAME</em>&lt;/role-name&gt;
&lt;/security-role&gt;</pre></li><li class="step"><div class="para">
				Authorize access to all URLs handled by the JAX-RS runtime for all roles:
			</div><pre class="screen">&lt;security-constraint&gt;
    &lt;web-resource-collection&gt;
	&lt;web-resource-name&gt;Resteasy&lt;/web-resource-name&gt;
	&lt;url-pattern&gt;/<em class="replaceable">PATH</em>&lt;/url-pattern&gt;
    &lt;/web-resource-collection&gt;
    &lt;auth-constraint&gt;
	&lt;role-name&gt;<em class="replaceable">ROLE_NAME</em>&lt;/role-name&gt;
	&lt;role-name&gt;<em class="replaceable">ROLE_NAME</em>&lt;/role-name&gt;
    &lt;/auth-constraint&gt;
&lt;/security-constraint&gt;</pre></li></ol></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Result</div>
			Role-based security has been enabled within the application, with a set of defined roles.
		</div><div class="example"><a id="idp1293120">
      ⁠</a><p class="title"><strong>Example&nbsp;13.1.&nbsp;Example Role-Based Security Configuration</strong></p><div class="example-contents"><pre class="programlisting">&lt;web-app&gt;

    &lt;context-param&gt;
	&lt;param-name&gt;resteasy.role.based.security&lt;/param-name&gt;
	&lt;param-value&gt;true&lt;/param-value&gt;
    &lt;/context-param&gt;

    &lt;servlet-mapping&gt;
	&lt;servlet-name&gt;Resteasy&lt;/servlet-name&gt;
	&lt;url-pattern&gt;/*&lt;/url-pattern&gt;
    &lt;/servlet-mapping&gt;

    &lt;security-constraint&gt;
	&lt;web-resource-collection&gt;
	    &lt;web-resource-name&gt;Resteasy&lt;/web-resource-name&gt;
	    &lt;url-pattern&gt;/security&lt;/url-pattern&gt;
	&lt;/web-resource-collection&gt;
	&lt;auth-constraint&gt;
	    &lt;role-name&gt;admin&lt;/role-name&gt;
	    &lt;role-name&gt;user&lt;/role-name&gt;
	&lt;/auth-constraint&gt;
    &lt;/security-constraint&gt;

    &lt;security-role&gt;
	&lt;role-name&gt;admin&lt;/role-name&gt;
    &lt;/security-role&gt;
    &lt;security-role&gt;
	&lt;role-name&gt;user&lt;/role-name&gt;
    &lt;/security-role&gt;
    
&lt;/web-app&gt;</pre></div></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+5945-591719+%5BLatest%5D&comment=Title%3A+Enable+Role-Based+Security+for+a+RESTEasy+JAX-RS+Web+Service%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=5945-591719+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="Secure_a_JAX-RS_Web_Service_using_Annotations1">
      ⁠</a>13.6.2.&nbsp;Secure a JAX-RS Web Service using Annotations</h3></div></div></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Summary</div>
			This topic covers the steps to secure a JAX-RS web service using the supported security annotations
		</div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idp24365472">
      ⁠</a><p class="title"><strong>Procedure&nbsp;13.2.&nbsp;Secure a JAX-RS Web Service using Supported Security Annotations</strong></p><ol class="1"><li class="step"><div class="para">
				Enable role-based security. For more information, refer to: <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Enable_Role-Based_Security_for_a_RESTEasy_JAX-RS_Web_Service1">Section&nbsp;13.6.1, “Enable Role-Based Security for a RESTEasy JAX-RS Web Service”</a>
			</div></li><li class="step"><div class="para">
				Add security annotations to the JAX-RS web service. RESTEasy supports the following annotations:
			</div><div class="variablelist"><dl class="variablelist"><dt><span class="term">@RolesAllowed</span></dt><dd><div class="para">
							Defines which roles can access the method. All roles should be defined in the <code class="filename">web.xml</code> file.
						</div></dd><dt><span class="term">@PermitAll</span></dt><dd><div class="para">
							Allows all roles defined in the <code class="filename">web.xml</code> file to access the method.
						</div></dd><dt><span class="term">@DenyAll</span></dt><dd><div class="para">
							Denies all access to the method.
						</div></dd></dl></div></li></ol></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+6095-591722+%5BLatest%5D&comment=Title%3A+Secure+a+JAX-RS+Web+Service+using+Annotations%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=6095-591722+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="sect-RESTEasy_Logging">
      ⁠</a>13.7.&nbsp;RESTEasy Logging</h2></div></div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="About_JAX-RS_Web_Service_Logging">
      ⁠</a>13.7.1.&nbsp;About JAX-RS Web Service Logging</h3></div></div></div><div class="para">
		RESTEasy supports logging via java.util.logging, log4j, and slf4j. The framework is chosen via the following algorithm:
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="orderedlist"><ol><li class="listitem"><div class="para">
				If log4j is in the application's classpath, log4j will be used.
			</div></li><li class="listitem"><div class="para">
				If slf4j is in the application's classpath, slf4j will be used.
			</div></li><li class="listitem"><div class="para">
				java.util.logging is the default if neither log4j or slf4j is in the classpath.
			</div></li><li class="listitem"><div class="para">
				If the servlet context param resteasy.logger.type is set to java.util.logging, log4j, or slf4j will override this default behavior
			</div></li></ol></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+6096-591722+%5BLatest%5D&comment=Title%3A+About+JAX-RS+Web+Service+Logging%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=6096-591722+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="Logging_Categories_Defined_in_RESTEasy">
      ⁠</a>13.7.2.&nbsp;Logging Categories Defined in RESTEasy</h3></div></div></div><div class="table"><a id="table-RESTEasy_Logging_Categories">
      ⁠</a><p class="title"><strong>Table&nbsp;13.3.&nbsp;Categories</strong></p><div class="table-contents"><table xmlns:d="http://docbook.org/ns/docbook" class="lt-4-cols lt-7-rows" summary="Categories"><colgroup><col width="50%" align="left" class="c1"><col width="50%" align="left" class="c2"></colgroup><thead><tr><th align="left"> Category </th><th align="left"> Function </th></tr></thead><tbody><tr><td align="left"> <code class="code">org.jboss.resteasy.core</code> </td><td align="left"> Logs all activity by the core RESTEasy implementation. </td></tr><tr><td align="left"> <code class="code">org.jboss.resteasy.plugins.providers</code> </td><td align="left"> Logs all activity by RESTEasy entity providers. </td></tr><tr><td align="left"> <code class="code">org.jboss.resteasy.plugins.server</code> </td><td align="left"> Logs all activity by the RESTEasy server implementation. </td></tr><tr><td align="left"> <code class="code">org.jboss.resteasy.specimpl</code> </td><td align="left"> Logs all activity by JAX-RS implementing classes. </td></tr><tr><td align="left"> <code class="code">org.jboss.resteasy.mock</code> </td><td align="left"> Logs all activity by the RESTEasy mock framework. </td></tr></tbody></table></div></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+1772-591647+%5BLatest%5D&comment=Title%3A+Logging+Categories+Defined+in+RESTEasy%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=1772-591647+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="sect-Exception_Handling">
      ⁠</a>13.8.&nbsp;Exception Handling</h2></div></div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="Create_an_Exception_Mapper">
      ⁠</a>13.8.1.&nbsp;Create an Exception Mapper</h3></div></div></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Summary</div>
			Exception mappers are custom, application provided components that catch thrown exceptions and write specific HTTP responses.
		</div><div class="example"><a id="idp37487584">
      ⁠</a><p class="title"><strong>Example&nbsp;13.2.&nbsp;Exception Mapper</strong></p><div class="example-contents"><div class="para">
			An exception mapper is a class that is annotated with the @Provider annotation, and implements the <code class="methodname">ExceptionMapper</code> interface.
		</div><div class="para">
			An example exception mapper is shown below.
		</div><pre class="programlisting"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>@Provider
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_Keyword">class</span> EJBExceptionMapper <span xmlns="" class="perl_Keyword">implements</span> ExceptionMapper&lt;javax.<span xmlns="" class="perl_Function">ejb</span>.<span xmlns="" class="perl_Function">EJBException</span>&gt;
<span xmlns="" class="line">​</span>    {
<span xmlns="" class="line">​</span>    Response <span xmlns="" class="perl_Function">toResponse</span>(EJBException exception) {
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">return</span> Response.<span xmlns="" class="perl_Function">status</span>(<span xmlns="" class="perl_Float">500</span>).<span xmlns="" class="perl_Function">build</span>();
<span xmlns="" class="line">​</span>    }
<span xmlns="" class="line">​</span>}
</pre></div></div><div class="para">
		To register an exception mapper, list it in the <code class="filename">web.xml</code> file under the <code class="code">resteasy.providers</code> context-param, or register it programmatically through the <code class="code">ResteasyProviderFactory</code> class.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+6097-591722+%5BLatest%5D&comment=Title%3A+Create+an+Exception+Mapper%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=6097-591722+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="RESTEasy_Internally_Thrown_Exceptions">
      ⁠</a>13.8.2.&nbsp;RESTEasy Internally Thrown Exceptions</h3></div></div></div><div class="table"><a id="idp38360816">
      ⁠</a><p class="title"><strong>Table&nbsp;13.4.&nbsp;Exception List</strong></p><div class="table-contents"><table xmlns:d="http://docbook.org/ns/docbook" class="lt-4-cols gt-7-rows" summary="Exception List"><colgroup><col width="33%" align="left" class="c1"><col width="33%" align="left" class="c2"><col width="33%" align="left" class="c3"></colgroup><thead><tr><th align="left"> Exception </th><th align="left"> HTTP Code </th><th align="left"> Description </th></tr></thead><tbody><tr><td align="left"> BadRequestException </td><td align="left"> 400 </td><td align="left"> Bad Request. The request was not formatted correctly, or there was a problem processing the request input. </td></tr><tr><td align="left"> UnauthorizedException </td><td align="left"> 401 </td><td align="left"> Unauthorized. Security exception thrown if you are using RESTEasy's annotation-based role-based security. </td></tr><tr><td align="left"> InternalServerErrorException </td><td align="left"> 500 </td><td align="left"> Internal Server Error. </td></tr><tr><td align="left"> MethodNotAllowedException </td><td align="left"> 405 </td><td align="left"> There is no JAX-RS method for the resource that can handle the invoked HTTP operation. </td></tr><tr><td align="left"> NotAcceptableException </td><td align="left"> 406 </td><td align="left"> There is no JAX-RS method that can produce the media types listed in the Accept header. </td></tr><tr><td align="left"> NotFoundException </td><td align="left"> 404 </td><td align="left"> There is no JAX-RS method that serves the request path/resource. </td></tr><tr><td align="left"> ReaderException </td><td align="left"> 400 </td><td align="left"> All exceptions thrown from <code class="methodname">MessageBodyReaders</code> are wrapped within this exception. If there is no <code class="methodname">ExceptionMapper</code> for the wrapped exception, or if the exception is not a <code class="methodname">WebApplicationException</code>, then RESTEasy will return a 400 code by default. </td></tr><tr><td align="left"> WriterException </td><td align="left"> 500 </td><td align="left"> All exceptions thrown from <code class="methodname">MessageBodyWriters</code> are wrapped within this exception. If there is no <code class="methodname">ExceptionMapper</code> for the wrapped exception, or if the exception is not a <code class="methodname">WebApplicationException</code>, then RESTEasy will return a 400 code by default. </td></tr><tr><td align="left"> JAXBUnmarshalException </td><td align="left"> 400 </td><td align="left"> The JAXB providers (XML and Jettison) throw this exception on reads. They may be wrapping JAXBExceptions. This class extends <code class="methodname">ReaderException</code>. </td></tr><tr><td align="left"> JAXBMarshalException </td><td align="left"> 500 </td><td align="left"> The JAXB providers (XML and Jettison) throw this exception on writes. They may be wrapping JAXBExceptions. This class extends <code class="methodname">WriterException</code>. </td></tr><tr><td align="left"> ApplicationException </td><td align="left"> N/A </td><td align="left"> Wraps all exceptions thrown from application code. It functions in the same way as <code class="methodname">InvocationTargetException</code>. If there is an ExceptionMapper for wrapped exception, then that is used to handle the request. </td></tr><tr><td align="left"> Failure </td><td align="left"> N/A </td><td align="left"> Internal RESTEasy error. Not logged. </td></tr><tr><td align="left"> LoggableFailure </td><td align="left"> N/A </td><td align="left"> Internal RESTEasy error. Logged. </td></tr><tr><td align="left"> DefaultOptionsMethodException </td><td align="left"> N/A </td><td align="left"> If the user invokes <code class="literal">HTTP OPTIONS</code> and no JAX-RS method for it, RESTEasy provides a default behavior by throwing this exception. </td></tr></tbody></table></div></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+2811-591651+%5BLatest%5D&comment=Title%3A+RESTEasy+Internally+Thrown+Exceptions%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=2811-591651+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="sect-RESTEasy_Interceptors">
      ⁠</a>13.9.&nbsp;RESTEasy Interceptors</h2></div></div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="Intercept_JAX-RS_Invocations">
      ⁠</a>13.9.1.&nbsp;Intercept JAX-RS Invocations</h3></div></div></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Summary</div>
			RESTEasy can intercept JAX-RS invocations and route them through listener-like objects called interceptors. This topic covers descriptions of the four types of interceptors.
		</div><div class="example"><a id="idp29284656">
      ⁠</a><p class="title"><strong>Example&nbsp;13.3.&nbsp;MessageBodyReader/Writer Interceptors</strong></p><div class="example-contents"><div class="para">
			MessageBodyReaderInterceptors and MessageBodyWriterInterceptors can be used on the either the server or client side. They are annotated with <code class="code">@Provider</code>, as well as either <code class="code">@ServerInterceptor</code> or <code class="code">@ClientInterceptor</code> so that RESTEasy knows whether or not to add them to the interceptor list.
		</div><div class="para">
			These interceptors wrap around the invocation of <code class="code">MessageBodyReader.readFrom()</code> or <code class="code">MessageBodyWriter.writeTo()</code>. They can be used to wrap the Output or Input streams.
		</div><div class="para">
			RESTEasy GZIP support has interceptors that create and override the default Output and Input streams with a GzipOutputStream or GzipInputStream so that gzip encoding can work. They can also be used to append headers to the response, or the outgoing request on the client side.
		</div><pre class="programlisting">public interface MessageBodyReaderInterceptor
  {
     Object read(MessageBodyReaderContext context) throws IOException, WebApplicationException;

  }

public interface MessageBodyWriterInterceptor
  {
     void write(MessageBodyWriterContext context) throws IOException, WebApplicationException;

  }</pre><div class="para">
			The interceptors and the MessageBodyReader or Writer is invoked in one big Java call stack. <code class="code">MessageBodyReaderContext.proceed()</code> or <code class="code">MessageBodyWriterContext.proceed()</code> is called in order to go to the next interceptor or, if there are no more interceptors to invoke, the <code class="code">readFrom()</code> or <code class="code">writeTo()</code> method of the MessageBodyReader or MessageBodyWriter. This wrapping allows objects to be modified before they get to the Reader or Writer, and then cleaned up after <code class="code">proceed()</code> returns.
		</div><div class="para">
			The example below is a server side interceptor, that adds a header value to the response.
		</div><pre class="programlisting">@Provider
@ServerInterceptor
public class MyHeaderDecorator implements MessageBodyWriterInterceptor {

    public void write(MessageBodyWriterContext context) throws IOException, WebApplicationException
    {
       context.getHeaders().add("My-Header", "custom");
       context.proceed();
    }
}</pre></div></div><div class="example"><a id="idp41756288">
      ⁠</a><p class="title"><strong>Example&nbsp;13.4.&nbsp;PreProcessInterceptor</strong></p><div class="example-contents"><div class="para">
			PreProcessInterceptors run after a JAX-RS resource method is found to invoke on, but before the actual invocation happens. They are annotated with @ServerInterceptor, and run in sequence.
		</div><div class="para">
			These interfaces are only usable on the server. They can be used to implement security features, or to handle the Java request. The RESTEasy security implementation uses this type of interceptor to abort requests before they occur if the user does not pass authorization. The RESTEasy caching framework also uses this to return cached responses to avoid invoking methods again.
		</div><pre class="programlisting">public interface PreProcessInterceptor
    {
       ServerResponse preProcess(HttpRequest request, ResourceMethod method) throws Failure, WebApplicationException;
    }</pre><div class="para">
			If the <code class="code">preProcess()</code> method returns a ServerResponse then the underlying JAX-RS method will not get invoked, and the runtime will process the response and return to the client. If the <code class="code">preProcess()</code> method does not return a ServerResponse, the underlying JAX-RS method will be invoked.
		</div></div></div><div class="example"><a id="idp30868304">
      ⁠</a><p class="title"><strong>Example&nbsp;13.5.&nbsp;PostProcessInterceptors</strong></p><div class="example-contents"><div class="para">
			PostProcessInterceptors run after the JAX-RS method was invoked, but before MessageBodyWriters are invoked. They are used if a response header needs to be set when a MessageBodyWriter may not be invoked.
		</div><div class="para">
			They can only be used on the server side. They do not wrap anything, and are invoked in sequence.
		</div><pre class="programlisting">public interface PostProcessInterceptor
  {
    void postProcess(ServerResponse response);
  }</pre></div></div><div class="example"><a id="idp22055728">
      ⁠</a><p class="title"><strong>Example&nbsp;13.6.&nbsp;ClientExecutionInterceptors</strong></p><div class="example-contents"><div class="para">
			ClientExecutionInterceptors are only usable on the client side. They wrap around the HTTP invocation that goes to the server. They must be annotated with <code class="code">@ClientInterceptor</code> and <code class="code">@Provider</code>. These interceptors run after the MessageBodyWriter, and after the ClientRequest has been built on the client side.
		</div><div class="para">
			RESTEasy GZIP support uses ClientExecutionInterceptors to set the Accept header to contain "gzip, deflate" before the request goes out. The RESTEasy client cache uses it to check to see if its cache contains the resource before going over the wire.
		</div><pre class="programlisting">public interface ClientExecutionInterceptor
{
  ClientResponse execute(ClientExecutionContext ctx) throws Exception;
}

public interface ClientExecutionContext
{
  ClientRequest getRequest();

  ClientResponse proceed() throws Exception;
}</pre></div></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+2924-591651+%5BLatest%5D&comment=Title%3A+Intercept+JAX-RS+Invocations%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=2924-591651+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="Bind_an_Interceptor_to_a_JAX-RS_Method">
      ⁠</a>13.9.2.&nbsp;Bind an Interceptor to a JAX-RS Method</h3></div></div></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Summary</div>
			All registered interceptors are invoked for every request by default. The <code class="methodname"> AcceptedByMethod</code> interface can be implemented to fine tune this behavior.
		</div><div class="example"><a id="idp6763456">
      ⁠</a><p class="title"><strong>Example&nbsp;13.7.&nbsp;Binding Interceptors Example</strong></p><div class="example-contents"><div class="para">
			RESTEasy will call the <code class="methodname"> accept()</code> method for interceptors that implement the <code class="methodname"> AcceptedByMethod</code> interface. If the method returns true, the interceptor will be added to the JAX-RS method's call chain; otherwise it will be ignored for that method.
		</div><div class="para">
			In the example below, <code class="methodname"> accept()</code> determines if the @GET annotation is present on the JAX-RS method. If it is, the interceptor will be applied to the method's call chain.
		</div><pre class="programlisting">@Provider
@ServerInterceptor
public class MyHeaderDecorator implements MessageBodyWriterInterceptor, AcceptedByMethod {

    public boolean accept(Class declaring, Method method) {
       return method.isAnnotationPresent(GET.class);
    }

   public void write(MessageBodyWriterContext context) throws IOException, WebApplicationException
   {
      context.getHeaders().add("My-Header", "custom");
      context.proceed();
   }
}
</pre></div></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+2927-591651+%5BLatest%5D&comment=Title%3A+Bind+an+Interceptor+to+a+JAX-RS+Method%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=2927-591651+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="Register_an_Interceptor">
      ⁠</a>13.9.3.&nbsp;Register an Interceptor</h3></div></div></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Summary</div>
			This topic covers how to register a RESTEasy JAX-RS interceptor in an application.
		</div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idp22768224">
      ⁠</a><p class="title"><strong>Procedure&nbsp;13.3.&nbsp;Register an Interceptor</strong></p><ul><li class="step"><div class="para">
				To register an interceptor, list it in the <code class="filename">web.xml</code> file under the <code class="code">resteasy.providers</code> context-param, or return it as a class or as an object in the <code class="code">Application.getClasses()</code> or <code class="code">Application.getSingletons()</code> method.
			</div></li></ul></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+2935-591651+%5BLatest%5D&comment=Title%3A+Register+an+Interceptor%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=2935-591651+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="sect-Interceptor_Precedence_Families">
      ⁠</a>13.9.4.&nbsp;Interceptor Precedence Families</h3></div></div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="About_Interceptor_Precedence_Families">
      ⁠</a>13.9.4.1.&nbsp;About Interceptor Precedence Families</h4></div></div></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Summary</div>
			Interceptors can be sensitive to the order they are invoked. RESTEasy groups interceptors in families to make ordering them simpler. This reference topic covers the built-in interceptor precedence families and the interceptors associated with each.
		</div><div class="para">
		There are five predefined families. They are invoked in the following order:
	</div><div class="variablelist"><dl class="variablelist"><dt><span class="term">SECURITY</span></dt><dd><div class="para">
					SECURITY interceptors are usually PreProcessInterceptors. They are invoked first because as little as possible should be done before the invocation is authorized.
				</div></dd><dt><span class="term">HEADER_DECORATOR</span></dt><dd><div class="para">
					HEADER_DECORATOR interceptors add headers to a response or an outgoing request. They follow the security interceptors as the added headers may affect the behavior of other interceptor families.
				</div></dd><dt><span class="term">ENCODER</span></dt><dd><div class="para">
					ENCODER interceptors change the OutputStream. For example, the GZIP interceptor creates a GZIPOutputStream to wrap the real OutputStream for compression.
				</div></dd><dt><span class="term">REDIRECT</span></dt><dd><div class="para">
					REDIRECT interceptors are usually used in PreProcessInterceptors, as they may reroute the request and totally bypass the JAX-RS method.
				</div></dd><dt><span class="term">DECODER</span></dt><dd><div class="para">
					DECODER interceptors wrap the InputStream. For example, the GZIP interceptor decoder wraps the InputStream in a GzipInputStream instance.
				</div></dd></dl></div><div class="para">
		Interceptors that are not associated with a precedence family are invoked after all others. To assign an interceptor to a precedence family, use the @Precedence annotation, referred to in <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#RESTEasy_Defined_Annotations">Section&nbsp;13.4, “RESTEasy Defined Annotations”</a>.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+6092-591722+%5BLatest%5D&comment=Title%3A+About+Interceptor+Precedence+Families%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=6092-591722+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="Define_a_Custom_Interceptor_Precedence_Family">
      ⁠</a>13.9.4.2.&nbsp;Define a Custom Interceptor Precedence Family</h4></div></div></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Summary</div>
			Custom precedence families can be created and registered in the <code class="filename">web.xml</code> file. This topic covers examples of the context params available for defining interceptor precedence families.
		</div><div class="para">
		There are three context params that can be used to define a new precedence family.
	</div><div class="example"><a id="idp540080">
      ⁠</a><p class="title"><strong>Example&nbsp;13.8.&nbsp;resteasy.append.interceptor.precedence</strong></p><div class="example-contents"><div class="para">
			The <code class="code">resteasy.append.interceptor.precedence</code> context param appends the new precedence family to the default precedence family list.
		</div><pre class="programlisting">&lt;context-param&gt;
    &lt;param-name&gt;resteasy.append.interceptor.precedence&lt;/param-name&gt;
    &lt;param-value&gt;CUSTOM_PRECEDENCE_FAMILY&lt;/param-value&gt;
&lt;/context-param&gt;</pre></div></div><div class="example"><a id="idp12158272">
      ⁠</a><p class="title"><strong>Example&nbsp;13.9.&nbsp;resteasy.interceptor.before.precedence</strong></p><div class="example-contents"><div class="para">
			The <code class="code">resteasy.interceptor.before.precedence</code> context param defines the default precedence family that the custom family is executed before. The parameter value takes the form <em class="replaceable">DEFAULT_PRECEDENCE_FAMILY</em>/<em class="replaceable">CUSTOM_PRECEDENCE_FAMILY</em>, delimited by a ':'.
		</div><pre class="programlisting">&lt;context-param&gt;
    &lt;param-name&gt;resteasy.interceptor.before.precedence&lt;/param-name&gt;
    &lt;param-value&gt;DEFAULT_PRECEDENCE_FAMILY : CUSTOM_PRECEDENCE_FAMILY&lt;/param-value&gt;
&lt;/context-param&gt;</pre></div></div><div class="example"><a id="idp21188064">
      ⁠</a><p class="title"><strong>Example&nbsp;13.10.&nbsp;resteasy.interceptor.after.precedence</strong></p><div class="example-contents"><div class="para">
			The <code class="code">resteasy.interceptor.after.precedence</code> context param defines the default precedence family that the custom family is executed after. The parameter value takes the form <em class="replaceable">DEFAULT_PRECEDENCE_FAMILY</em>/<em class="replaceable">CUSTOM_PRECEDENCE_FAMILY</em>, delimited by a <code class="literal">:</code>.
		</div><pre class="programlisting">&lt;context-param&gt;
    &lt;param-name&gt;resteasy.interceptor.after.precedence&lt;/param-name&gt;
    &lt;param-value&gt;DEFAULT_PRECEDENCE_FAMILY : CUSTOM_PRECEDENCE_FAMILY&lt;/param-value&gt;
&lt;/context-param&gt;</pre></div></div><div class="para">
		Precedence families are applied to interceptors using the @Precedence annotation. For the default precedence family list, refer to: <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Interceptor_Precedence_Families">Section&nbsp;13.9.4.1, “About Interceptor Precedence Families”</a>.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+2939-591651+%5BLatest%5D&comment=Title%3A+Define+a+Custom+Interceptor+Precedence+Family%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=2939-591651+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="sect-String_Based_Annotations">
      ⁠</a>13.10.&nbsp;String Based Annotations</h2></div></div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="Convert_String_Based_Param_Annotations_to_Objects">
      ⁠</a>13.10.1.&nbsp;Convert String Based @*Param Annotations to Objects</h3></div></div></div><div class="para">
		JAX-RS <code class="code">@*Param</code> annotations, including @PathParam and @FormParam, are represented as strings in a raw HTTP request. These types of injected parameters can be converted to objects if these objects have a valueOf(String) static method or a constructor that takes one String parameter.
	</div><div class="para">
		RESTEasy provides two proprietary <code class="code">@Provider</code> interfaces to handle this conversion for classes that don't have either a <code class="code">valueOf(String)</code> static method, or a string constructor.
	</div><div class="example"><a id="idp9865968">
      ⁠</a><p class="title"><strong>Example&nbsp;13.11.&nbsp;StringConverter</strong></p><div class="example-contents"><div class="para">
			The StringConverter interface is implemented to provide custom string marshalling. It is registered under the resteasy.providers context-param in the web.xml file. It can also be registered manually by calling the ResteasyProviderFactory.addStringConverter() method.
		</div><div class="para">
			The example below is a simple example of using StringConverter.
		</div><pre class="programlisting">import org.jboss.resteasy.client.ProxyFactory;
import org.jboss.resteasy.spi.StringConverter;
import org.jboss.resteasy.test.BaseResourceTest;
import org.junit.Assert;
import org.junit.Before;
import org.junit.Test;

import javax.ws.rs.HeaderParam;
import javax.ws.rs.MatrixParam;
import javax.ws.rs.PUT;
import javax.ws.rs.Path;
import javax.ws.rs.PathParam;
import javax.ws.rs.QueryParam;
import javax.ws.rs.ext.Provider;

public class StringConverterTest extends BaseResourceTest
{
  public static class POJO
  {
     private String name;

     public String getName()
     {
	return name;
     }

     public void setName(String name)
     {
	this.name = name;
     }
  }

  @Provider
  public static class POJOConverter implements StringConverter&lt;POJO&gt;
  {
     public POJO fromString(String str)
     {
	System.out.println("FROM STRNG: " + str);
	POJO pojo = new POJO();
	pojo.setName(str);
	return pojo;
     }

     public String toString(POJO value)
     {
	return value.getName();
     }
  }

  @Path("/")
  public static class MyResource
  {
     @Path("{pojo}")
     @PUT
     public void put(@QueryParam("pojo")POJO q, @PathParam("pojo")POJO pp,
		     @MatrixParam("pojo")POJO mp, @HeaderParam("pojo")POJO hp)
     {
	Assert.assertEquals(q.getName(), "pojo");
	Assert.assertEquals(pp.getName(), "pojo");
	Assert.assertEquals(mp.getName(), "pojo");
	Assert.assertEquals(hp.getName(), "pojo");
     }
  }

  @Before
  public void setUp() throws Exception
  {
     dispatcher.getProviderFactory().addStringConverter(POJOConverter.class);
     dispatcher.getRegistry().addPerRequestResource(MyResource.class);
  }

  @Path("/")
  public static interface MyClient
  {
     @Path("{pojo}")
     @PUT
     void put(@QueryParam("pojo")POJO q, @PathParam("pojo")POJO pp,
	      @MatrixParam("pojo")POJO mp, @HeaderParam("pojo")POJO hp);
  }

  @Test
  public void testIt() throws Exception
  {
     MyClient client = ProxyFactory.create(MyClient.class, "http://localhost:8081");
     POJO pojo = new POJO();
     pojo.setName("pojo");
     client.put(pojo, pojo, pojo, pojo);
  }
}</pre></div></div><div class="example"><a id="idp19486112">
      ⁠</a><p class="title"><strong>Example&nbsp;13.12.&nbsp;StringParameterUnmarshaller</strong></p><div class="example-contents"><div class="para">
			The <code class="code">StringParameterUnmarshaller</code> interface is sensitive to the annotations placed on the parameter or field you are injecting into. It is created per injector. The setAnnotations() method is called by resteasy to initialize the unmarshaller.
		</div><div class="para">
			This interface can be added by creating and registering a provider that implements the interface. It can also be bound using a meta-annotation called <code class="code"> org.jboss.resteasy.annotations.StringsParameterUnmarshallerBinder</code>.
		</div><div class="para">
			The example below formats a <code class="code">java.util.Date</code> based @PathParam.
		</div><pre class="programlisting">public class StringParamUnmarshallerTest extends BaseResourceTest
{
   @Retention(RetentionPolicy.RUNTIME)
   @StringParameterUnmarshallerBinder(DateFormatter.class)
   public @interface DateFormat
   {
      String value();
   }

   public static class DateFormatter implements StringParameterUnmarshaller&lt;Date&gt;
   {
      private SimpleDateFormat formatter;

      public void setAnnotations(Annotation[] annotations)
      {
         DateFormat format = FindAnnotation.findAnnotation(annotations, DateFormat.class);
         formatter = new SimpleDateFormat(format.value());
      }

      public Date fromString(String str)
      {
         try
         {
            return formatter.parse(str);
         }
         catch (ParseException e)
         {
            throw new RuntimeException(e);
         }
      }
   }

   @Path("/datetest")
   public static class Service
   {
      @GET
      @Produces("text/plain")
      @Path("/{date}")
      public String get(@PathParam("date") @DateFormat("MM-dd-yyyy") Date date)
      {
         System.out.println(date);
         Calendar c = Calendar.getInstance();
         c.setTime(date);
         Assert.assertEquals(3, c.get(Calendar.MONTH));
         Assert.assertEquals(23, c.get(Calendar.DAY_OF_MONTH));
         Assert.assertEquals(1977, c.get(Calendar.YEAR));
         return date.toString();
      }
   }

   @BeforeClass
   public static void setup() throws Exception
   {
      addPerRequestResource(Service.class);
   }

   @Test
   public void testMe() throws Exception
   {
      ClientRequest request = new ClientRequest(generateURL("/datetest/04-23-1977"));
      System.out.println(request.getTarget(String.class));
   }
}</pre><div class="para">
			It defines a new annotation called @DateFormat. The annotation is annotated with the meta-annotation StringParameterUnmarshallerBinder with a reference to the DateFormater classes.
		</div><div class="para">
			The Service.get() method has a @PathParam parameter that is also annotated with @DateFormat. The application of @DateFormat triggers the binding of the DateFormatter. The DateFormatter will now be run to unmarshal the path parameter into the date paramter of the get() method.
		</div></div></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+2792-591649+%5BLatest%5D&comment=Title%3A+Convert+String+Based+%40*Param+Annotations+to+Objects%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=2792-591649+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="sect-Configure_File_Extensions">
      ⁠</a>13.11.&nbsp;Configure File Extensions</h2></div></div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="Map_File_Extensions_to_Media_Types_in_the_webxml_File">
      ⁠</a>13.11.1.&nbsp;Map File Extensions to Media Types in the web.xml File</h3></div></div></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Summary</div>
			Some clients, like browsers, cannot use the Accept and Accept-Language headers to negotiate the representation's media type or language. RESTEasy can map file name suffixes to media types and languages to deal with this issue. Follow these steps to map media types to file extensions, in the <code class="filename">web.xml</code> file.
		</div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idp6043904">
      ⁠</a><p class="title"><strong>Procedure&nbsp;13.4.&nbsp;Map Media Types to File Extensions</strong></p><ol class="1"><li class="step"><div class="para">
				Open the <code class="filename">web.xml</code> file for the application in a text editor.
			</div></li><li class="step"><div class="para">
				Add the context-param <code class="code">resteasy.media.type.mappings</code> to the file, inside the <code class="code">web-app</code> tags:
			</div><pre class="screen">&lt;context-param&gt;
    &lt;param-name&gt;resteasy.media.type.mappings&lt;/param-name&gt;
&lt;/context-param&gt;</pre></li><li class="step"><div class="para">
				Configure the parameter values. The mappings form a comma delimited list. Each mapping is delimited by a <code class="code">:</code>:
			</div><div class="example"><a id="idp4388736">
      ⁠</a><p class="title"><strong>Example&nbsp;13.13.&nbsp;Example Mapping</strong></p><div class="example-contents"><pre class="programlisting">&lt;context-param&gt;
    &lt;param-name&gt;resteasy.media.type.mappings&lt;/param-name&gt;
    &lt;param-value&gt;html : text/html, json : application/json, xml : application/xml&lt;/param-value&gt;
&lt;/context-param&gt;</pre></div></div></li></ol></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+5416-591696+%5BLatest%5D&comment=Title%3A+Map+File+Extensions+to+Media+Types+in+the+web.xml+File%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=5416-591696+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="Map_File_Extensions_to_Languages_in_the_webxml_File">
      ⁠</a>13.11.2.&nbsp;Map File Extensions to Languages in the web.xml File</h3></div></div></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Summary</div>
			Some clients, like browsers, cannot use the Accept and Accept-Language headers to negotiate the representation's media type or language. RESTEasy can map file name suffixes to media types and languages to deal with this issue. Follow these steps to map languages to file extensions, in the <code class="filename">web.xml</code> file.
		</div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idp33072720">
      ⁠</a><p class="title"><strong>Procedure&nbsp;13.5.&nbsp;Map File Extensions to Languages in the web.xml File</strong></p><ol class="1"><li class="step"><div class="para">
				Open the <code class="filename">web.xml</code> file for the application in a text editor.
			</div></li><li class="step"><div class="para">
				Add the context-param <code class="code">resteasy.language.mappings</code> to the file, inside the <code class="code">web-app</code> tags:
			</div><pre class="screen">&lt;context-param&gt;
    &lt;param-name&gt;resteasy.language.mappings&lt;/param-name&gt;
&lt;/context-param&gt;</pre></li><li class="step"><div class="para">
				Configure the parameter values. The mappings form a comma delimited list. Each mapping is delimited by a <code class="code">:</code>:
			</div><div class="example"><a id="idp31249856">
      ⁠</a><p class="title"><strong>Example&nbsp;13.14.&nbsp;Example Mapping</strong></p><div class="example-contents"><pre class="programlisting">&lt;context-param&gt;
    &lt;param-name&gt;resteasy.language.mappings&lt;/param-name&gt;
    &lt;param-value&gt; en : en-US, es : es, fr : fr&lt;/param-name&gt;
&lt;/context-param&gt;</pre></div></div></li></ol></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+5944-591719+%5BLatest%5D&comment=Title%3A+Map+File+Extensions+to+Languages+in+the+web.xml+File%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=5944-591719+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="RESTEasy_Supported_Media_Types">
      ⁠</a>13.11.3.&nbsp;RESTEasy Supported Media Types</h3></div></div></div><div class="table"><a id="idp31135520">
      ⁠</a><p class="title"><strong>Table&nbsp;13.5.&nbsp;Media Types</strong></p><div class="table-contents"><table xmlns:d="http://docbook.org/ns/docbook" class="lt-4-cols gt-7-rows" summary="Media Types"><colgroup><col width="50%" align="left" class="c1"><col width="50%" align="left" class="c2"></colgroup><thead><tr><th align="left"> Media Type </th><th align="left"> Java Type </th></tr></thead><tbody><tr><td align="left"> application/*+xml, text/*+xml, application/*+json, application/*+fastinfoset, application/atom+* </td><td align="left"> JaxB annotated classes </td></tr><tr><td align="left"> application/*+xml, text/*+xml </td><td align="left"> org.w3c.dom.Document </td></tr><tr><td align="left"> */* </td><td align="left"> java.lang.String </td></tr><tr><td align="left"> */* </td><td align="left"> java.io.InputStream </td></tr><tr><td align="left"> text/plain </td><td align="left"> primitives, java.lang.String, or any type that has a String constructor, or static valueOf(String) method for input, toString() for output </td></tr><tr><td align="left"> */* </td><td align="left"> javax.activation.DataSource </td></tr><tr><td align="left"> */* </td><td align="left"> byte[] </td></tr><tr><td align="left"> */* </td><td align="left"> java.io.File </td></tr><tr><td align="left"> application/x-www-form-urlencoded </td><td align="left"> javax.ws.rs.core.MultivaluedMap </td></tr></tbody></table></div></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+1822-591649+%5BLatest%5D&comment=Title%3A+RESTEasy+Supported+Media+Types%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=1822-591649+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="sect-RESTEasy_JavaScript_API">
      ⁠</a>13.12.&nbsp;RESTEasy JavaScript API</h2></div></div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="About_the_RESTEasy_JavaScript_API">
      ⁠</a>13.12.1.&nbsp;About the RESTEasy JavaScript API</h3></div></div></div><div class="para">
		RESTEasy can generate a JavaScript API that uses AJAX calls to invoke JAX-RS operations. Each JAX-RS resource class will generate a JavaScript object of the same name as the declaring class or interface. The JavaScript object contains each JAX-RS method as properties.
	</div><div class="example"><a id="idp42469440">
      ⁠</a><p class="title"><strong>Example&nbsp;13.15.&nbsp;Simple JAX-RS JavaScript API Example</strong></p><div class="example-contents"><pre class="programlisting">@Path("/")
public interface X{
 @GET
 public String Y();
 @PUT
 public void Z(String entity);
}</pre><div class="para">
			The interface above defines the methods Y and Z, which become properties in the JavaScript API, shown below:
		</div><pre class="programlisting">var X = {
 Y : function(params){...},
 Z : function(params){...}
};</pre></div></div><div class="para">
		Each JavaScript API method takes an optional object as single parameter where each property is a cookie, header, path, query or form parameter as identified by their name, or the API parameter properties. The properties are available here: <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#RESTEasy_Javascript_API_Parameters">Section&nbsp;13.12.3, “RESTEasy Javascript API Parameters”</a>.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+6102-591723+%5BLatest%5D&comment=Title%3A+About+the+RESTEasy+JavaScript+API%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=6102-591723+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="Enable_the_RESTEasy_JavaScript_API_Servlet">
      ⁠</a>13.12.2.&nbsp;Enable the RESTEasy JavaScript API Servlet</h3></div></div></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Summary</div>
			The RESTEasy JavaScript API is not enabled by default. Follow these steps to enable it using the <code class="filename">web.xml</code> file.
		</div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idp19063792">
      ⁠</a><p class="title"><strong>Procedure&nbsp;13.6.&nbsp;Edit web.xml to enable RESTEasy JavaScript API</strong></p><ol class="1"><li class="step"><div class="para">
				Open the <code class="filename">web.xml</code> file of the application in a text editor.
			</div></li><li class="step"><div class="para">
				Add the following configuration to the file, inside the <code class="code">web-app</code> tags:
			</div><pre class="screen">&lt;servlet&gt;
    &lt;servlet-name&gt;RESTEasy JSAPI&lt;/servlet-name&gt;
    &lt;servlet-class&gt;org.jboss.resteasy.jsapi.JSAPIServlet&lt;/servlet-class&gt;
&lt;/servlet&gt;

&lt;servlet-mapping&gt;
    &lt;servlet-name&gt;RESTEasy JSAPI&lt;/servlet-name&gt;
    &lt;url-pattern&gt;/<em class="replaceable">URL</em>&lt;/url-pattern&gt;
&lt;/servlet-mapping&gt;</pre></li></ol></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4921-591678+%5BLatest%5D&comment=Title%3A+Enable+the+RESTEasy+JavaScript+API+Servlet%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4921-591678+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="RESTEasy_Javascript_API_Parameters">
      ⁠</a>13.12.3.&nbsp;RESTEasy Javascript API Parameters</h3></div></div></div><div class="table"><a id="idp29113120">
      ⁠</a><p class="title"><strong>Table&nbsp;13.6.&nbsp;Parameter Properties</strong></p><div class="table-contents"><table xmlns:d="http://docbook.org/ns/docbook" class="lt-4-cols gt-7-rows" summary="Parameter Properties"><colgroup><col width="33%" align="left" class="c1"><col width="33%" align="left" class="c2"><col width="33%" align="left" class="c3"></colgroup><thead><tr><th align="left"> Property </th><th align="left"> Default Value </th><th align="left"> Description </th></tr></thead><tbody><tr><td align="left"> $entity </td><td align="left">&nbsp;</td><td align="left"> The entity to send as a PUT, POST request. </td></tr><tr><td align="left"> $contentType </td><td align="left">&nbsp;</td><td align="left"> The MIME type of the body entity sent as the Content-Type header. Determined by the @Consumes annotation. </td></tr><tr><td align="left"> $accepts </td><td align="left"> */* </td><td align="left"> The accepted MIME types sent as the Accept header. Determined by the @Provides annotation. </td></tr><tr><td align="left"> $callback </td><td align="left">&nbsp;</td><td align="left"> Set to a function (httpCode, xmlHttpRequest, value) for an asynchronous call. If not present, the call will be synchronous and return the value. </td></tr><tr><td align="left"> $apiURL </td><td align="left">&nbsp;</td><td align="left"> Set to the base URI of the JAX-RS endpoint, not including the last slash. </td></tr><tr><td align="left"> $username </td><td align="left">&nbsp;</td><td align="left"> If username and password are set, they will be used for credentials for the request. </td></tr><tr><td align="left"> $password </td><td align="left">&nbsp;</td><td align="left"> If username and password are set, they will be used for credentials for the request. </td></tr></tbody></table></div></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4922-591678+%5BLatest%5D&comment=Title%3A+RESTEasy+Javascript+API+Parameters%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4922-591678+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="Build_AJAX_Queries_with_the_JavaScript_API">
      ⁠</a>13.12.4.&nbsp;Build AJAX Queries with the JavaScript API</h3></div></div></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Summary</div>
			The RESTEasy JavaScript API can be used to manually construct requests. This topic covers examples of this behavior.
		</div><div class="example"><a id="idp17840656">
      ⁠</a><p class="title"><strong>Example&nbsp;13.16.&nbsp;The REST Object</strong></p><div class="example-contents"><div class="para">
			The REST object can be used to override RESTEasy JavaScript API client behavior:
		</div><pre class="programlisting">// Change the base URL used by the API:
REST.apiURL = "http://api.service.com";

// log everything in a div element
REST.log = function(text){
 jQuery("#log-div").append(text);
};</pre><div class="para">
			The REST object contains the following read-write properties:
		</div><div class="variablelist"><dl class="variablelist"><dt><span class="term">apiURL</span></dt><dd><div class="para">
						Set by default to the JAX-RS root URL. Used by every JavaScript client API functions when constructing the requests.
					</div></dd><dt><span class="term">log</span></dt><dd><div class="para">
						Set to a function(string) in order to receive RESTEasy client API logs. This is useful if you want to debug your client API and place the logs where you can see them.
					</div></dd></dl></div></div></div><div class="example"><a id="idp13413328">
      ⁠</a><p class="title"><strong>Example&nbsp;13.17.&nbsp;The REST.Request Class</strong></p><div class="example-contents"><div class="para">
			The REST.Request class can be used to build custom requests:
		</div><pre class="programlisting">var r = new REST.Request();
r.setURI("http://api.service.com/orders/23/json");
r.setMethod("PUT");
r.setContentType("application/json");
r.setEntity({id: "23"});
r.addMatrixParameter("JSESSIONID", "12309812378123");
r.execute(function(status, request, entity){
 log("Response is "+status);
});</pre></div></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+5415-591697+%5BLatest%5D&comment=Title%3A+Build+AJAX+Queries+with+the+JavaScript+API%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=5415-591697+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="RESTRequest_Class_Members">
      ⁠</a>13.12.5.&nbsp;REST.Request Class Members</h3></div></div></div><div class="table"><a id="idp6365056">
      ⁠</a><p class="title"><strong>Table&nbsp;13.7.&nbsp;REST.Request Class</strong></p><div class="table-contents"><table xmlns:d="http://docbook.org/ns/docbook" class="lt-4-cols gt-7-rows" summary="REST.Request Class"><colgroup><col width="50%" align="left" class="c1"><col width="50%" align="left" class="c2"></colgroup><thead><tr><th align="left"> Member </th><th align="left"> Description </th></tr></thead><tbody><tr><td align="left"> execute(callback) </td><td align="left"> Executes the request with all the information set in the current object. The value is passed to the optional argument callback, not returned. </td></tr><tr><td align="left"> setAccepts(acceptHeader) </td><td align="left"> Sets the Accept request header. Defaults to */*. </td></tr><tr><td align="left"> setCredentials(username, password) </td><td align="left"> Sets the request credentials. </td></tr><tr><td align="left"> setEntity(entity) </td><td align="left"> Sets the request entity. </td></tr><tr><td align="left"> setContentType(contentTypeHeader) </td><td align="left"> Sets the Content-Type request header. </td></tr><tr><td align="left"> setURI(uri) </td><td align="left"> Sets the request URI. This should be an absolute URI. </td></tr><tr><td align="left"> setMethod(method) </td><td align="left"> Sets the request method. Defaults to GET. </td></tr><tr><td align="left"> setAsync(async) </td><td align="left"> Controls whether the request should be asynchronous. Defaults to true. </td></tr><tr><td align="left"> addCookie(name, value) </td><td align="left"> Sets the given cookie in the current document when executing the request. This will be persistent in the browser. </td></tr><tr><td align="left"> addQueryParameter(name, value) </td><td align="left"> Adds a query parameter to the URI query part. </td></tr><tr><td align="left"> addMatrixParameter(name, value) </td><td align="left"> Adds a matrix parameter (path parameter) to the last path segment of the request URI. </td></tr><tr><td align="left"> addHeader(name, value) </td><td align="left"> Adds a request header. </td></tr></tbody></table></div></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+5435-591696+%5BLatest%5D&comment=Title%3A+REST.Request+Class+Members%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=5435-591696+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="sect-RESTEasy_Asynchronous_Job_Service">
      ⁠</a>13.13.&nbsp;RESTEasy Asynchronous Job Service</h2></div></div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="About_the_RESTEasy_Asynchronous_Job_Service">
      ⁠</a>13.13.1.&nbsp;About the RESTEasy Asynchronous Job Service</h3></div></div></div><div class="para">
		The RESTEasy Asynchronous Job Service is designed to add asynchronous behavior to the HTTP protocol. While HTTP is a synchronous protocol it does have a faint idea of asynchronous invocations. The HTTP 1.1 response code 202, "Accepted" means that the server has received and accepted the response for processing, but the processing has not yet been completed. The Asynchronous Job Service builds around this.
	</div><div class="para">
		To enable the service, refer to: <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Enable_the_Asynchronous_Job_Service">Section&nbsp;13.13.2, “Enable the Asynchronous Job Service”</a>. For examples of how the service works, refer to <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Configure_Asynchronous_Jobs_for_RESTEasy">Section&nbsp;13.13.3, “Configure Asynchronous Jobs for RESTEasy”</a>.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+6103-591723+%5BLatest%5D&comment=Title%3A+About+the+RESTEasy+Asynchronous+Job+Service%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=6103-591723+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="Enable_the_Asynchronous_Job_Service">
      ⁠</a>13.13.2.&nbsp;Enable the Asynchronous Job Service</h3></div></div></div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idp33414912">
      ⁠</a><p class="title"><strong>Procedure&nbsp;13.7.&nbsp;Modify the web.xml file</strong></p><ul><li class="step"><div class="para">
				Enable the asynchronous job service in the <code class="filename">web.xml</code> file:
			</div><pre class="programlisting">&lt;context-param&gt;
    &lt;param-name&gt;resteasy.async.job.service.enabled&lt;/param-name&gt;
    &lt;param-value&gt;true&lt;/param-value&gt;
&lt;/context-param&gt;</pre></li></ul></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Result</div>
			The asynchronous job service has been enabled. For configuration options, refer to: <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Asynchronous_Job_Service_Configuration_Parameters">Section&nbsp;13.13.4, “Asynchronous Job Service Configuration Parameters”</a>.
		</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+2968-591651+%5BLatest%5D&comment=Title%3A+Enable+the+Asynchronous+Job+Service%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=2968-591651+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="Configure_Asynchronous_Jobs_for_RESTEasy">
      ⁠</a>13.13.3.&nbsp;Configure Asynchronous Jobs for RESTEasy</h3></div></div></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Summary</div>
			This topic covers examples of the query parameters for asynchronous jobs with RESTEasy.
		</div><div xmlns:d="http://docbook.org/ns/docbook" class="warning"><div class="admonition_header"><p><strong>Warning</strong></p></div><div class="admonition"><div class="para">
			Role based security does not work with the Asynchronous Job Service, as it cannot be implemented portably. If the Asynchronous Job Service is used, application security must be done through XML declarations in the <code class="filename">web.xml</code> file instead.
		</div></div></div><div xmlns:d="http://docbook.org/ns/docbook" class="important"><div class="admonition_header"><p><strong>Important</strong></p></div><div class="admonition"><div class="para">
			While GET, DELETE, and PUT methods can be invoked asynchronously, this breaks the HTTP 1.1 contract of these methods. While these invocations may not change the state of the resource if invoked more than once, they do change the state of the server as new Job entries with each invocation. 
		</div></div></div><div class="example"><a id="idp7436512">
      ⁠</a><p class="title"><strong>Example&nbsp;13.18.&nbsp;The Asynch Parameter</strong></p><div class="example-contents"><div class="para">
			The <code class="code">asynch</code> query parameter is used to run invocations in the background. A 202 Accepted response is returned, as well as a Location header with a URL pointing to where the response of the background method is located.
		</div><pre class="screen">POST http://example.com/myservice?asynch=true</pre><div class="para">
			The example above will return a 202 Accepted response. It will also return a Location header with a URL pointing to where the response of the background method is located. An example of the location header is shown below:
		</div><pre class="screen">HTTP/1.1 202 Accepted
Location: http://example.com/asynch/jobs/3332334
</pre><div class="para">
			The URI will take the form of:
		</div><pre class="screen">/asynch/jobs/{job-id}?wait={millisconds}|nowait=true</pre><div class="para">
			GET, POST and DELETE operations can be performed on this URL.
		</div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
					GET returns the JAX-RS resource method invoked as a response if the job was completed. If the job has not been completed, this GET will return a 202 Accepted response code. Invoking GET does not remove the job, so it can be called multiple times.
				</div></li><li class="listitem"><div class="para">
					POST does a read of the job response and removes the job if it has been completed.
				</div></li><li class="listitem"><div class="para">
					DELETE is called to manually clean up the job queue.
				</div><div class="note"><div class="admonition_header"><p><strong>Note</strong></p></div><div class="admonition"><div class="para">
						When the Job queue is full, it will evict the earliest job from memory automatically, without needing to call DELETE.
					</div></div></div></li></ul></div></div></div><div class="example"><a id="idp12381216">
      ⁠</a><p class="title"><strong>Example&nbsp;13.19.&nbsp;Wait / Nowait</strong></p><div class="example-contents"><div class="para">
			The GET and POST operations allow for the maximum wait time to be defined, using the <code class="code">wait</code> and <code class="code">nowait</code> query parameters. If the <code class="code">wait</code> parameter is not specified, the operation will default to <code class="code">nowait=true</code>, and will not wait at all if the job is not complete. The <code class="code">wait</code> parameter is defined in milliseconds.
		</div><pre class="screen">POST http://example.com/asynch/jobs/122?wait=3000</pre></div></div><div class="example"><a id="idp552272">
      ⁠</a><p class="title"><strong>Example&nbsp;13.20.&nbsp;The Oneway Parameter</strong></p><div class="example-contents"><div class="para">
			RESTEasy supports fire and forget jobs, using the <code class="code">oneway</code> query parameter.
		</div><pre class="screen">POST http://example.com/myservice?oneway=true</pre><div class="para">
			The example above will return a 202 Accepted response, but no job will be created.
		</div></div></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+2965-715960+%5BLatest%5D&comment=Title%3A+Configure+Asynchronous+Jobs+for+RESTEasy%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=2965-715960+10+Oct+2014+14%3A55+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="Asynchronous_Job_Service_Configuration_Parameters">
      ⁠</a>13.13.4.&nbsp;Asynchronous Job Service Configuration Parameters</h3></div></div></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Summary</div>
			The table below details the configurable context-params for the Asynchronous Job Service. These parameters can be configured in the <code class="filename">web.xml</code> file.
		</div><div class="table"><a id="idm411536">
      ⁠</a><p class="title"><strong>Table&nbsp;13.8.&nbsp;Configuration Parameters</strong></p><div class="table-contents"><table xmlns:d="http://docbook.org/ns/docbook" class="lt-4-cols lt-7-rows" summary="Configuration Parameters"><colgroup><col width="50%" align="left" class="c1"><col width="50%" align="left" class="c2"></colgroup><thead><tr><th align="left"> Parameter </th><th align="left"> Description </th></tr></thead><tbody><tr><td align="left"> resteasy.async.job.service.max.job.results </td><td align="left"> Number of job results that can be held in the memory at any one time. Default value is 100. </td></tr><tr><td align="left"> resteasy.async.job.service.max.wait </td><td align="left"> Maximum wait time on a job when a client is querying for it. Default value is 300000. </td></tr><tr><td align="left"> resteasy.async.job.service.thread.pool.size </td><td align="left"> Thread pool size of the background threads that run the job. Default value is 100. </td></tr><tr><td align="left"> resteasy.async.job.service.base.path </td><td align="left"> Sets the base path for the job URIs. Default value is /asynch/jobs </td></tr></tbody></table></div></div><div class="example"><a id="idp20529744">
      ⁠</a><p class="title"><strong>Example&nbsp;13.21.&nbsp;Example Asynchronous Jobs Configuration</strong></p><div class="example-contents"><pre class="programlisting">&lt;web-app&gt;
    &lt;context-param&gt;
        &lt;param-name&gt;resteasy.async.job.service.enabled&lt;/param-name&gt;
        &lt;param-value&gt;true&lt;/param-value&gt;
    &lt;/context-param&gt;

    &lt;context-param&gt;
        &lt;param-name&gt;resteasy.async.job.service.max.job.results&lt;/param-name&gt;
        &lt;param-value&gt;100&lt;/param-value&gt;
    &lt;/context-param&gt;
    &lt;context-param&gt;
        &lt;param-name&gt;resteasy.async.job.service.max.wait&lt;/param-name&gt;
        &lt;param-value&gt;300000&lt;/param-value&gt;
    &lt;/context-param&gt;
    &lt;context-param&gt;
        &lt;param-name&gt;resteasy.async.job.service.thread.pool.size&lt;/param-name&gt;
        &lt;param-value&gt;100&lt;/param-value&gt;
    &lt;/context-param&gt;
    &lt;context-param&gt;
        &lt;param-name&gt;resteasy.async.job.service.base.path&lt;/param-name&gt;
        &lt;param-value&gt;/asynch/jobs&lt;/param-value&gt;
    &lt;/context-param&gt;

    &lt;listener&gt;
        &lt;listener-class&gt;
            org.jboss.resteasy.plugins.server.servlet.ResteasyBootstrap
        &lt;/listener-class&gt;
    &lt;/listener&gt;

    &lt;servlet&gt;
        &lt;servlet-name&gt;Resteasy&lt;/servlet-name&gt;
        &lt;servlet-class&gt;
            org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher
        &lt;/servlet-class&gt;
    &lt;/servlet&gt;

    &lt;servlet-mapping&gt;
        &lt;servlet-name&gt;Resteasy&lt;/servlet-name&gt;
        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;
    &lt;/servlet-mapping&gt;

&lt;/web-app&gt;</pre></div></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+6614-591747+%5BLatest%5D&comment=Title%3A+Asynchronous+Job+Service+Configuration+Parameters%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=6614-591747+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="sect-RESTEasy_JAXB">
      ⁠</a>13.14.&nbsp;RESTEasy JAXB</h2></div></div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="Create_a_JAXB_Decorator">
      ⁠</a>13.14.1.&nbsp;Create a JAXB Decorator</h3></div></div></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Summary</div>
			RESTEasy's JAXB providers have a pluggable way to decorate Marshaller and Unmarshaller instances. An annotation is created that can trigger either a Marshaller or Unmarshaller instance. This topic covers the steps to create a JAXB decorator with RESTEasy.
		</div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idp1114128">
      ⁠</a><p class="title"><strong>Procedure&nbsp;13.8.&nbsp;Create a JAXB Decorator with RESTEasy</strong></p><ol class="1"><li class="step"><p class="title"><strong>Create the Processor Class</strong></p><ol class="substeps a"><li class="step"><div class="para">
						Create a class that implements DecoratorProcessor&lt;Target, Annotation&gt;. The target is either the JAXB Marshaller or Unmarshaller class. The annotation is created in step two.
					</div></li><li class="step"><div class="para">
						Annotate the class with @DecorateTypes, and declare the MIME Types the decorator should decorate.
					</div></li><li class="step"><div class="para">
						Set properties or values within the <code class="methodname"> decorate</code> function.
					</div></li></ol><div class="example"><a id="idp8345200">
      ⁠</a><p class="title"><strong>Example&nbsp;13.22.&nbsp;Example Processor Class</strong></p><div class="example-contents"><pre class="programlisting"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">import org.jboss.resteasy.core.interception.DecoratorProcessor;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">import org.jboss.resteasy.annotations.DecorateTypes;</span>
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">import javax.xml.bind.Marshaller;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">import javax.xml.bind.PropertyException;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">import javax.ws.rs.core.MediaType;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">import javax.ws.rs.Produces;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">import java.lang.annotation.Annotation;</span>
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>@<span xmlns="" class="perl_Function">DecorateTypes</span>({<span xmlns="" class="perl_String">"text/*+xml"</span>, <span xmlns="" class="perl_String">"application/*+xml"</span>})
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_Keyword">class</span> PrettyProcessor <span xmlns="" class="perl_Keyword">implements</span> DecoratorProcessor&lt;Marshaller, Pretty&gt;
<span xmlns="" class="line">​</span>{
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">public</span> Marshaller <span xmlns="" class="perl_Function">decorate</span>(Marshaller target, Pretty annotation,
<span xmlns="" class="line">​</span>	  <span xmlns="" class="perl_Keyword">Class</span> type, Annotation[] annotations, MediaType mediaType)
<span xmlns="" class="line">​</span>    {
<span xmlns="" class="line">​</span>	target.<span xmlns="" class="perl_Function">setProperty</span>(Marshaller.<span xmlns="" class="perl_Function">JAXB_FORMATTED_OUTPUT</span>, <span xmlns="" class="perl_DataType">Boolean</span>.<span xmlns="" class="perl_Function">TRUE</span>);
<span xmlns="" class="line">​</span>    }
<span xmlns="" class="line">​</span>}</pre></div></div></li><li class="step"><p class="title"><strong>Create the Annotation</strong></p><ol class="substeps a"><li class="step"><div class="para">
						Create a custom interface that is annotated with the @Decorator annotation.
					</div></li><li class="step"><div class="para">
						Declare the processor and target for the @Decorator annotation. The processor is created in step one. The target is either the JAXB Marshaller or Unmarshaller class.
					</div></li></ol><div class="example"><a id="idm1435776">
      ⁠</a><p class="title"><strong>Example&nbsp;13.23.&nbsp;Example Annotation</strong></p><div class="example-contents"><pre class="programlisting"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">import org.jboss.resteasy.annotations.Decorator;</span>
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>@<span xmlns="" class="perl_Function">Target</span>({ElementType.<span xmlns="" class="perl_Function">TYPE</span>, ElementType.<span xmlns="" class="perl_Function">METHOD</span>, ElementType.<span xmlns="" class="perl_Function">PARAMETER</span>, ElementType.<span xmlns="" class="perl_Function">FIELD</span>})
<span xmlns="" class="line">​</span>@<span xmlns="" class="perl_Function">Retention</span>(RetentionPolicy.<span xmlns="" class="perl_Function">RUNTIME</span>)
<span xmlns="" class="line">​</span>@<span xmlns="" class="perl_Function">Decorator</span>(processor = PrettyProcessor.<span xmlns="" class="perl_Function">class</span>, target = Marshaller.<span xmlns="" class="perl_Function">class</span>)
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_Keyword">@interface</span> Pretty {}</pre></div></div></li><li class="step"><div class="para">
				Add the annotation created in step two to a function so that either the input or output is decorated when it is marshalled.
			</div></li></ol></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Result</div>
			The JAXB decorator has been created and applied within the JAX-RS web service.
		</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+6099-591723+%5BLatest%5D&comment=Title%3A+Create+a+JAXB+Decorator%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=6099-591723+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="sect-RESTEasy_Atom_Support">
      ⁠</a>13.15.&nbsp;RESTEasy Atom Support</h2></div></div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="About_the_Atom_API_and_Provider">
      ⁠</a>13.15.1.&nbsp;About the Atom API and Provider</h3></div></div></div><div class="para">
		The RESTEasy Atom API and Provider is a simple object model that RESTEasy defines to represent Atom. The main classes for the API are in the <code class="classname">org.jboss.resteasy.plugins.providers.atom</code> package. RESTEasy uses JAXB to marshal and unmarshal the API. The provider is JAXB based, and is not limited to sending atom objects using XML. All JAXB providers that RESTEasy has can be reused by the Atom API and provider, including JSON. Refer to the javadocs for more information on the API.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+6849-591759+%5BLatest%5D&comment=Title%3A+About+the+Atom+API+and+Provider%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=6849-591759+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="sect-RESTEasySpring_Integration">
      ⁠</a>13.16.&nbsp;RESTEasy/Spring Integration</h2></div></div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="RESTeasySpring_integration">
      ⁠</a>13.16.1.&nbsp;RESTEasy/Spring integration</h3></div></div></div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul><li class="listitem"><div class="para">
				Your application must have an existing JAX-WS service and client configuration.
			</div></li></ul></div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idp31248768">
      ⁠</a><p class="title"><strong>Procedure&nbsp;13.9.&nbsp;Enable the RESTEasy/Spring integration functionality</strong></p><ul><li class="step"><div class="para">
				RESTEasy integrates with Spring 3.0.x.
			</div><div class="para">
				Maven users must use the resteasy-spring artifact. Alternatively, the jar is available as a module in JBoss EAP 6.
			</div><div class="para">
				RESTEasy comes with its own Spring ContextLoaderListener that registers a RESTEasy specific BeanPostProcessor that processes JAX-RS annotations when a bean is created by a BeanFactory.This means that RESTEasy will automatically scan for @Provider and JAX-RS resource annotations on your bean class and register them as JAX-RS resources.
			</div><div class="example"><a id="idp10398608">
      ⁠</a><p class="title"><strong>Example&nbsp;13.24.&nbsp;Edit web.xml</strong></p><div class="example-contents"><div class="para">
					Add the following to your web.xml file to enable the RESTEasy/Spring integration functionality:
				</div><pre class="programlisting XML"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;web-app&gt;</span>
<span xmlns="" class="line">​</span>	<span xmlns="" class="perl_Keyword">&lt;display-name&gt;</span>
<span xmlns="" class="line">​</span>			Archetype Created Web Application
<span xmlns="" class="line">​</span>	<span xmlns="" class="perl_Keyword">&lt;/display-name&gt;</span>
<span xmlns="" class="line">​</span>	<span xmlns="" class="perl_Keyword">&lt;listener&gt;</span>
<span xmlns="" class="line">​</span>   	<span xmlns="" class="perl_Keyword">&lt;listener-class&gt;</span>
<span xmlns="" class="line">​</span>   		org.jboss.resteasy.plugins.server.servlet.ResteasyBootstrap
<span xmlns="" class="line">​</span>  	<span xmlns="" class="perl_Keyword">&lt;/listener-class&gt;</span>
<span xmlns="" class="line">​</span>	<span xmlns="" class="perl_Keyword">&lt;/listener&gt;</span>
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>	<span xmlns="" class="perl_Keyword">&lt;listener&gt;</span>
<span xmlns="" class="line">​</span>	  <span xmlns="" class="perl_Keyword">&lt;listener-class&gt;</span>
<span xmlns="" class="line">​</span>  	 		org.jboss.resteasy.plugins.spring.SpringContextLoaderListener
<span xmlns="" class="line">​</span>   	<span xmlns="" class="perl_Keyword">&lt;/listener-class&gt;</span>
<span xmlns="" class="line">​</span>	<span xmlns="" class="perl_Keyword">&lt;/listener&gt;</span>
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>	<span xmlns="" class="perl_Keyword">&lt;servlet&gt;</span>
<span xmlns="" class="line">​</span>  	<span xmlns="" class="perl_Keyword">&lt;servlet-name&gt;</span>Resteasy
<span xmlns="" class="line">​</span>  	<span xmlns="" class="perl_Keyword">&lt;/servlet-name&gt;</span>
<span xmlns="" class="line">​</span>  		<span xmlns="" class="perl_Keyword">&lt;servlet-class&gt;</span>
<span xmlns="" class="line">​</span>  			org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher
<span xmlns="" class="line">​</span>  		<span xmlns="" class="perl_Keyword">&lt;/servlet-class&gt;</span>
<span xmlns="" class="line">​</span>	<span xmlns="" class="perl_Keyword">&lt;/servlet&gt;</span>
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>	<span xmlns="" class="perl_Keyword">&lt;servlet-mapping&gt;</span>
<span xmlns="" class="line">​</span>  	<span xmlns="" class="perl_Keyword">&lt;servlet-name&gt;</span>
<span xmlns="" class="line">​</span>  		Resteasy
<span xmlns="" class="line">​</span>  	<span xmlns="" class="perl_Keyword">&lt;/servlet-name&gt;</span>
<span xmlns="" class="line">​</span>  	<span xmlns="" class="perl_Keyword">&lt;url-pattern&gt;</span>/*<span xmlns="" class="perl_Keyword">&lt;/url-pattern&gt;</span>
<span xmlns="" class="line">​</span>	<span xmlns="" class="perl_Keyword">&lt;/servlet-mapping&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;/web-app&gt;</span>
<span xmlns="" class="line">​</span>
</pre></div></div><div class="para">
				The SpringContextLoaderListener must be declared after ResteasyBootstrap as it uses ServletContext attributes initialized by it.
			</div></li></ul></div><div class="para">
		For more information regarding RestEasy and Spring integration, see <a href="http://docs.jboss.org/resteasy/docs/2.3.7.Final/userguide/html_single/">http://docs.jboss.org/resteasy/docs/2.3.7.Final/userguide/html_single/</a>
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+30885-642312+%5BLatest%5D&comment=Title%3A+RESTEasy%2FSpring+integration%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=30885-642312+22+May+2014+01%3A36+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div></div></div><div xml:lang="en-US" class="chapter" lang="en-US"><div class="titlepage"><div><div><h1 class="title"><a id="chap-JAX-WS_Web_Services">
      ⁠</a>Chapter&nbsp;14.&nbsp;JAX-WS Web Services</h1></div></div></div><div class="toc"><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_JAX-WS_Web_Services">14.1. About JAX-WS Web Services</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Configure_the_literalwebservicesliteral_Subsystem">14.2. Configure the webservices Subsystem</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-JAX-WS_Web_Service_Endpoints">14.3. JAX-WS Web Service Endpoints</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_JAX-WS_Web_Service_Endpoints">14.3.1. About JAX-WS Web Service Endpoints</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Write_and_Deploy_a_JAX-WS_Web_Service_Endpoint">14.3.2. Write and Deploy a JAX-WS Web Service Endpoint</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-JAX-WS_Web_service_Clients">14.4. JAX-WS Web service Clients</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Consume_and_Access_a_JAX-WS_Web_Service">14.4.1. Consume and Access a JAX-WS Web Service</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Develop_a_JAX-WS_Client_Application">14.4.2. Develop a JAX-WS Client Application</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-JAX-WS_Development_Reference">14.5. JAX-WS Development Reference</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Enable_Web_Services_Addressing_WS-Addressing">14.5.1. Enable Web Services Addressing (WS-Addressing)</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#JAX-WS_Common_API_Reference">14.5.2. JAX-WS Common API Reference</a></span></dt></dl></dd></dl></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="About_JAX-WS_Web_Services">
      ⁠</a>14.1.&nbsp;About JAX-WS Web Services</h2></div></div></div><div class="para">
		Java API for XML Web Services (JAX-WS) is an API included in the Java Enterprise Edition (EE) platform, and is used to create Web Services. Web Services are applications designed to communicate with each other over a network, typically exchanging information in XML or other structured text formats. Web Services are platform-independent. A typical JAX-WS application uses a client/server model. The server component is called a <em class="firstterm">Web Service Endpoint</em>.
	</div><div class="para">
		JAX-WS has a counterpart for smaller and simpler Web Services, which use a protocol called JAX-RS. JAX-RS is a protocol for <em class="firstterm">Representational State Transfer</em>, or <acronym class="acronym">REST</acronym>. JAX-RS applications are typically light-weight, and rely only on the HTTP protocol itself for communication. JAX-WS makes it easier to support various Web Service oriented protocols, such as <code class="code">WS-Notification</code>, <code class="code">WS-Addressing</code>, <code class="code">WS-Policy</code>, <code class="code">WS-Security</code>, and <code class="code">WS-Trust</code>. They communicate using a specialized XML language called <em class="firstterm">Simple Object Access Protocol (SOAP)</em>, which defines a message architecture and message formats.
	</div><div class="para">
		A JAX-WS Web Service also includes a machine-readable description of the operations it provides, written in <em class="firstterm">Web Services Description Language (WSDL)</em>, which is a specialized XML document type.
	</div><div class="para">
		A Web Service Endpoint consists of a class which implements <code class="code">WebService</code> and <code class="code">WebMethod</code> interfaces.
	</div><div class="para">
		A Web Service Client consists of a client which depends upon several classes called <em class="firstterm">stubs</em>, which are generated from the WSDL definition. JBoss EAP 6 includes the tools to generate the classes from WSDL.
	</div><div class="para">
		In a JAX-WS Web service, a formal contract is established to describe the interface that the Web Service offers. The contract is typically written in WSDL, but may be written in SOAP messages. The architecture of the Web Service typically addresses business requirements, such as transactions, security, messaging, and coordination. JBoss EAP 6 provides mechanisms for handling these business concerns.
	</div><div class="para">
		<em class="firstterm">Web Services Description Language (WSDL)</em> is an XML-based language used to describe Web Services and how to access them. The Web Service itself is written in Java or another programming language. The WSDL definition consists of references to the interface, port definitions, and instructions for how other Web Services should interact with it over a network. Web Services communicate with each other using <em class="firstterm">Simple Object Access Protocol (SOAP)</em>. This type of Web Service contrasts with <em class="firstterm">RESTful Web Services</em>, built using <em class="firstterm">Representative State Transfer (REST)</em> design principles. These RESTful Web Services do not require the use of WSDL or SOAP, but rely on the structure of the HTTP protocol itself to define how other services interact with them.
	</div><div class="para">
		JBoss EAP 6 includes support for deploying JAX-WS Web Service endpoints. This support is provided by JBossWS. Configuration of the Web Services subsystem, such as endpoint configuration, handler chains, and handlers, is provided through the <code class="literal">webservices</code> subsystem.
	</div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Working Examples</div>
			The JBoss EAP Quickstarts include several fully-functioning JAX-WS Web Service applications. These examples include:
		</div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
				wsat-simple
			</div></li><li class="listitem"><div class="para">
				wsba-coordinator-completion-simple
			</div></li><li class="listitem"><div class="para">
				wsba-participant-completion-simple
			</div></li></ul></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+8420-679140+%5BLatest%5D&comment=Title%3A+About+JAX-WS+Web+Services%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=8420-679140+25+Jun+2014+21%3A22+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="Configure_the_literalwebservicesliteral_Subsystem">
      ⁠</a>14.2.&nbsp;Configure the webservices Subsystem</h2></div></div></div><div class="para">
		Many configuration options are available for the <code class="literal">webservices</code> subsystem, which controls the behavior of Web Services deployed into JBoss EAP 6. The command to modify each element in the Management CLI script (<code class="filename"><em class="replaceable">EAP_HOME</em>/bin/jboss-cli.sh</code> or <code class="filename"><em class="replaceable">EAP_HOME</em>/bin/jboss-cli.bat</code>) is provided. Remove the <code class="literal">/profile=default</code> portion of the command for a standalone server, or replace <code class="literal">default</code> with the name of profile to configure.
	</div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Published Endpoint Address</div>
			You can rewrite the <code class="sgmltag-element">&lt;soap:address&gt;</code> element in endpoint-published WSDL contracts. This ability can be used to control the server address that is advertised to clients for each endpoint. Each of the following optional elements can be modified to suit your needs. Modification of any of these elements requires a server restart.
		</div><div class="table"><a id="idp36694464">
      ⁠</a><p class="title"><strong>Table&nbsp;14.1.&nbsp;Configuration Elements for Published Endpoint Addresses</strong></p><div class="table-contents"><table xmlns:d="http://docbook.org/ns/docbook" class="lt-4-cols lt-7-rows" summary="Configuration Elements for Published Endpoint Addresses"><colgroup><col><col><col></colgroup><thead><tr><th> Element </th><th> Description </th><th> CLI Command </th></tr></thead><tbody><tr><td> modify-wsdl-address </td><td> <div class="para">
						Whether to always modify the WSDL address. If true, the content of <code class="sgmltag-element">&lt;soap:address&gt;</code> will always be overwritten. If false, the content of <code class="sgmltag-element">&lt;soap:address&gt;</code> will only be overwritten if it is not a valid URL. The values used will be the <code class="literal">wsdl-host</code>, <code class="literal">wsdl-port</code>, and <code class="literal">wsdl-secure-port</code> described below.
					</div>
					 </td><td> <div class="para">
						<code class="command">/profile=default/subsystem=webservices/:write-attribute(name=modify-wsdl-address,value=true)</code>
					</div>
					 </td></tr><tr><td> wsdl-host </td><td> <div class="para">
						The hostname / IP address to be used for rewriting <code class="sgmltag-element">&lt;soap:address&gt;</code>. If <code class="literal">wsdl-host</code> is set to the string <code class="literal">jbossws.undefined.host</code>, the requester's host is used when rewriting the <code class="sgmltag-element">&lt;soap:address&gt;</code>.
					</div>
					 </td><td> <code class="command">/profile=default/subsystem=webservices/:write-attribute(name=wsdl-host,value=10.1.1.1)</code> </td></tr><tr><td> wsdl-port </td><td> An integer which explicitly defines the HTTP port that will be used for rewriting the SOAP address. If undefined, the HTTP port is identified by querying the list of installed HTTP connectors. </td><td> <div class="para">
						<code class="code">/profile=default/subsystem=webservices/:write-attribute(name=wsdl-port,value=8080)</code>
					</div>
					 </td></tr><tr><td> wsdl-secure-port </td><td> An integer which explicitly defines the HTTPS port that will be used for rewriting the SOAP address. If undefined, the HTTPS port is identified by querying the list of installed HTTPS connectors. </td><td> <div class="para">
						<code class="code">/profile=default/subsystem=webservices/:write-attribute(name=wsdl-secure-port,value=8443)</code>
					</div>
					 </td></tr></tbody></table></div></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Predefined Endpoint Configurations</div>
			You can define endpoint configurations which can be referenced by endpoint implementations. One way this might be used is to add a given handler to any WS endpoint that is marked with a given endpoint configuration with the annotation <code class="code">@org.jboss.ws.api.annotation.EndpointConfig</code>.
		</div><div class="para">
		JBoss EAP 6 includes a default <code class="code">Standard-Endpoint-Config</code>. An example of a custom configuration, <code class="code">Recording-Endpoint-Config</code>, is also included. This provides an example of a recording handler. The <code class="code">Standard-Endpoint-Config</code> is automatically used for any endpoint which is not associated with any other configuration.
	</div><div class="para">
		To read the <code class="code">Standard-Endpoint-Config</code> using the Management CLI, use the following command:
	</div><pre class="screen">/profile=default/subsystem=webservices/endpoint-config=Standard-Endpoint-Config/:read-resource(recursive=true,proxies=false,include-runtime=false,include-defaults=true)</pre><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Endpoint Configurations</div>
			An endpoint configuration, referred to as an <code class="literal">endpoint-config</code> in the Management API, includes a <code class="literal">pre-handler-chain</code>, <code class="literal">post-handler-chain</code> and some properties, which are applied to a particular endpoint. The following commands read and add and endpoint config.
		</div><div class="example"><a id="idp27431152">
      ⁠</a><p class="title"><strong>Example&nbsp;14.1.&nbsp;Read an Endpoint Config</strong></p><div class="example-contents"><pre class="screen">/profile=default/subsystem=webservices/endpoint-config=Recording-Endpoint-Config:read-resource</pre></div></div><div class="example"><a id="idp28337536">
      ⁠</a><p class="title"><strong>Example&nbsp;14.2.&nbsp;Add an Endpoint Config</strong></p><div class="example-contents"><pre class="screen">/profile=default/subsystem=webservices/endpoint-config=My-Endpoint-Config:add</pre></div></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Handler Chains</div>
			Each endpoint config may be associated with <code class="literal">PRE</code> and <code class="literal">POST</code> handler chains. Each handler chain may include JAXWS-compliant handlers. For outbound messages, PRE handler chain handlers are executed before any handler attached to the endpoints using standard JAXWS means, such as the <code class="code">@HandlerChain</code> annotation. POST handler chain handlers are executed after usual endpoint handlers. For inbound messages, the opposite applies. JAX-WS is a standard API for XML-based web services, and is documented at <a href="http://jcp.org/en/jsr/detail?id=224">http://jcp.org/en/jsr/detail?id=224</a>.
		</div><div class="para">
		A handler chain may also include a <code class="literal">protocol-bindings</code> attribute, which sets the protocols which trigger the chain to start.
	</div><div class="example"><a id="idp95076688">
      ⁠</a><p class="title"><strong>Example&nbsp;14.3.&nbsp;Read a Handler Chain</strong></p><div class="example-contents"><pre class="screen">/profile=default/subsystem=webservices/endpoint-config=Recording-Endpoint-Config/pre-handler-chain=recording-handlers:read-resource</pre></div></div><div class="example"><a id="idp30227424">
      ⁠</a><p class="title"><strong>Example&nbsp;14.4.&nbsp;Add a Handler Chain</strong></p><div class="example-contents"><pre class="screen">/profile=default/subsystem=webservices/endpoint-config=My-Endpoint-Config/post-handler-chain=my-handlers:add(protocol-bindings="##SOAP11_HTTP")</pre></div></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Handlers</div>
			A JAXWS handler is a child element <code class="literal">handler</code> within a handler chain. The handler takes a <code class="literal">class</code> attribute, which is the fully-qualified classname of the handler class. When the endpoint is deployed, an instance of that class is created for each referencing deployment. Either the deployment classloader or the classloader for module <code class="code">org.jboss.as.webservices.server.integration</code> must be able to load the handler class.
		</div><div class="example"><a id="idp745648">
      ⁠</a><p class="title"><strong>Example&nbsp;14.5.&nbsp;Read a Handler</strong></p><div class="example-contents"><pre class="screen">/profile=default/subsystem=webservices/endpoint-config=Recording-Endpoint-Config/pre-handler-chain=recording-handlers/handler=RecordingHandler:read-resource</pre></div></div><div class="example"><a id="idp19009648">
      ⁠</a><p class="title"><strong>Example&nbsp;14.6.&nbsp;Add a Handler</strong></p><div class="example-contents"><pre class="screen">/profile=default/subsystem=webservices/endpoint-config=My-Endpoint-Config/post-handler-chain=my-handlers/handler=foo-handler:add(class="org.jboss.ws.common.invocation.RecordingServerHandler")</pre></div></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Web Services Runtime Information</div>
			You can view runtime information about Web Services, such as the web context and the WSDL URL, by querying the endpoints themselves. You can use the <code class="literal">*</code> character to query all endpoints at once. The following examples show the command for a both a server in a managed domain and for a standalone server.
		</div><div class="example"><a id="idm3813120">
      ⁠</a><p class="title"><strong>Example&nbsp;14.7.&nbsp;View Runtime Information about All Web Service Endpoints on A Server in a Managed Domain</strong></p><div class="example-contents"><div class="para">
			This command displays information about all endpoints on a server named <code class="literal">server-one</code>, which is hosted on physical host <code class="literal">master</code> and running in a managed domain.
		</div><pre class="screen">/host=master/server=server-one/deployment="*"/subsystem=webservices/endpoint="*":read-resource</pre></div></div><div class="example"><a id="idp28040624">
      ⁠</a><p class="title"><strong>Example&nbsp;14.8.&nbsp;View Runtime Information about All Web Service Endpoints on a Standalone Server</strong></p><div class="example-contents"><div class="para">
			This command displays information about all Web Service endpoints on a standalone server.
		</div><pre class="screen">/deployment="*"/subsystem=webservices/endpoint="*":read-resource</pre></div></div><div class="example"><a id="idp29088560">
      ⁠</a><p class="title"><strong>Example&nbsp;14.9.&nbsp;Example Endpoint Information</strong></p><div class="example-contents"><div class="para">
			The following is an example displaying hypothetical output.
		</div><pre class="screen">{
   "outcome" =&gt; "success",
   "result" =&gt; [{
       "address" =&gt; [
           ("deployment" =&gt; "jaxws-samples-handlerchain.war"),
           ("subsystem" =&gt; "webservices"),
           ("endpoint" =&gt; "jaxws-samples-handlerchain:TestService")
       ],
       "outcome" =&gt; "success",
       "result" =&gt; {
           "class" =&gt; "org.jboss.test.ws.jaxws.samples.handlerchain.EndpointImpl",
           "context" =&gt; "jaxws-samples-handlerchain",
           "name" =&gt; "TestService",
           "type" =&gt; "JAXWS_JSE",
           "wsdl-url" =&gt; "http://localhost:8080/jaxws-samples-handlerchain?wsdl"
       }
   }]
}
</pre></div></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+8421-665416+%5BLatest%5D&comment=Title%3A+Configure+the+webservices+Subsystem%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=8421-665416+09+Jun+2014+22%3A38+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="sect-JAX-WS_Web_Service_Endpoints">
      ⁠</a>14.3.&nbsp;JAX-WS Web Service Endpoints</h2></div></div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="About_JAX-WS_Web_Service_Endpoints">
      ⁠</a>14.3.1.&nbsp;About JAX-WS Web Service Endpoints</h3></div></div></div><div class="para">
		This topic is an overview of JAX-WS web service endpoints and accompanying concepts. A JAX-WS Web Service endpoint is the server component of a Web Service. Clients and other Web Services communicate it over the HTTP protocol using an XML language called <em class="firstterm">Simple Object Access Protocol (SOAP)</em>. The endpoint itself is deployed into the JBoss EAP 6 container.
	</div><div class="para">
		WSDL descriptors can be created in one of two ways:
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="orderedlist"><ol><li class="listitem"><div class="para">
				You can write WSDL descriptors manually.
			</div></li><li class="listitem"><div class="para">
				You can use JAX-WS annotations that create the WSDL descriptors automatically for you. This is the most common method for creating WSDL descriptors.
			</div></li></ol></div><div class="para">
		An endpoint implementation bean is annotated with JAX-WS annotations and deployed to the server. The server automatically generates and publishes the abstract contract in WSDL format for client consumption. All marshalling and unmarshalling is delegated to the <em class="firstterm">Java Architecture for XML Binding (JAXB)</em> service.
	</div><div class="para">
		The endpoint itself may be a POJO (Plain Old Java Object) or a Java EE Web Application. You can also expose endpoints using an EJB3 stateless session bean. It is packaged into a Web Archive (WAR) file. The specification for packaging the endpoint, called a <em class="firstterm">Java Service Endpoint (JSE)</em> is defined in JSR-181, which can be found at <a href="http://jcp.org/aboutJava/communityprocess/mrel/jsr181/index2.html">http://jcp.org/aboutJava/communityprocess/mrel/jsr181/index2.html</a>.
	</div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Development Requirements</div>
			A Web Service must fulfill the requirements of the JAX-WS API and the Web Services metadata specification at <a href="http://www.jcp.org/en/jsr/summary?id=181">http://www.jcp.org/en/jsr/summary?id=181</a>. A valid implementation meets the following requirements:
		</div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
				It contains a <code class="code">javax.jws.WebService</code> annotation.
			</div></li><li class="listitem"><div class="para">
				All method parameters and return types are compatible with the JAXB 2.0 specification, JSR-222. Refer to <a href="http://www.jcp.org/en/jsr/summary?id=222">http://www.jcp.org/en/jsr/summary?id=222</a> for more information.
			</div></li></ul></div><div class="example"><a id="idp18346960">
      ⁠</a><p class="title"><strong>Example&nbsp;14.10.&nbsp;Example POJO Endpoint</strong></p><div class="example-contents"><pre class="programlisting JAVA"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>@WebService
<span xmlns="" class="line">​</span>@<span xmlns="" class="perl_Function">SOAPBinding</span>(style = SOAPBinding.<span xmlns="" class="perl_Function">Style</span>.<span xmlns="" class="perl_Function">RPC</span>)
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_Keyword">class</span> JSEBean01
<span xmlns="" class="line">​</span>{
<span xmlns="" class="line">​</span>   @WebMethod
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">public</span> String <span xmlns="" class="perl_Function">echo</span>(String input)
<span xmlns="" class="line">​</span>   {
<span xmlns="" class="line">​</span>      ...
<span xmlns="" class="line">​</span>   }
<span xmlns="" class="line">​</span>}
</pre></div></div><div class="example"><a id="idp13829296">
      ⁠</a><p class="title"><strong>Example&nbsp;14.11.&nbsp;Example Web Services Endpoint</strong></p><div class="example-contents"><pre class="programlisting XML"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;web-app</span> <span xmlns="" class="perl_Error">...</span><span xmlns="" class="perl_Keyword">&gt;</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">&lt;servlet&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;servlet-name&gt;</span>TestService<span xmlns="" class="perl_Keyword">&lt;/servlet-name&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;servlet-class&gt;</span>org.jboss.test.ws.jaxws.samples.jsr181pojo.JSEBean01<span xmlns="" class="perl_Keyword">&lt;/servlet-class&gt;</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">&lt;/servlet&gt;</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">&lt;servlet-mapping&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;servlet-name&gt;</span>TestService<span xmlns="" class="perl_Keyword">&lt;/servlet-name&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;url-pattern&gt;</span>/*<span xmlns="" class="perl_Keyword">&lt;/url-pattern&gt;</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">&lt;/servlet-mapping&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;/web-app&gt;</span>
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>		</pre></div></div><div class="example"><a id="idp21811904">
      ⁠</a><p class="title"><strong>Example&nbsp;14.12.&nbsp;Exposing an Endpoint in an EJB</strong></p><div class="example-contents"><div class="para">
			This EJB3 stateless session bean exposes the same method on the remote interface and as an endpoint operation.
		</div><pre class="programlisting JAVA"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>@Stateless
<span xmlns="" class="line">​</span>@<span xmlns="" class="perl_Function">Remote</span>(EJB3RemoteInterface.<span xmlns="" class="perl_Function">class</span>)
<span xmlns="" class="line">​</span>@<span xmlns="" class="perl_Function">RemoteBinding</span>(jndiBinding = <span xmlns="" class="perl_String">"/ejb3/EJB3EndpointInterface"</span>)
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>@WebService
<span xmlns="" class="line">​</span>@<span xmlns="" class="perl_Function">SOAPBinding</span>(style = SOAPBinding.<span xmlns="" class="perl_Function">Style</span>.<span xmlns="" class="perl_Function">RPC</span>)
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_Keyword">class</span> EJB3Bean01 <span xmlns="" class="perl_Keyword">implements</span> EJB3RemoteInterface
<span xmlns="" class="line">​</span>{
<span xmlns="" class="line">​</span>   @WebMethod
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">public</span> String <span xmlns="" class="perl_Function">echo</span>(String input)
<span xmlns="" class="line">​</span>   {
<span xmlns="" class="line">​</span>      ...
<span xmlns="" class="line">​</span>   }
<span xmlns="" class="line">​</span>}
<span xmlns="" class="line">​</span>
</pre></div></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Endpoint Providers</div>
			JAX-WS services typically implement a Java service endpoint interface (SEI), which may be mapped from a WSDL port type, either directly or using annotations. This SEI provides a high-level abstraction which hides the details between Java objects and their XML representations. However, in some cases, services need the ability to operate at the XML message level. The endpoint <code class="code">Provider</code> interface provides this functionality to Web Services which implement it.
		</div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Consuming and Accessing the Endpoint</div>
			After you deploy your Web Service, you can consume the WSDL to create the component stubs which will be the basis for your application. Your application can then access the endpoint to do its work.
		</div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Working Examples</div>
			The JBoss EAP Quickstarts include several fully-functioning JAX-WS Web Service applications. These examples include:
		</div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
				wsat-simple
			</div></li><li class="listitem"><div class="para">
				wsba-coordinator-completion-simple
			</div></li><li class="listitem"><div class="para">
				wsba-participant-completion-simple
			</div></li></ul></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+8793-679964+%5BLatest%5D&comment=Title%3A+About+JAX-WS+Web+Service+Endpoints%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=8793-679964+27+Jun+2014+23%3A43+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="Write_and_Deploy_a_JAX-WS_Web_Service_Endpoint">
      ⁠</a>14.3.2.&nbsp;Write and Deploy a JAX-WS Web Service Endpoint</h3></div></div></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Introduction</div>
			This topic discusses the development of a simple JAX-WS service endpoint, which is the server-side component, which responds to requests from JAX-WS clients and publishes the WSDL definition for itself. For more in-depth information about JAX-WS service endpoints, refer to <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#JAX-WS_Common_API_Reference">Section&nbsp;14.5.2, “JAX-WS Common API Reference”</a> and the API documentation bundle in Javadoc format, distributed with JBoss EAP 6.
		</div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Development Requirements</div>
			A Web Service must fulfill the requirements of the JAXWS API and the Web Services meta data specification at <a href="http://www.jcp.org/en/jsr/summary?id=181">http://www.jcp.org/en/jsr/summary?id=181</a>. A valid implementation meets the following requirements:
		</div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
				It contains a <code class="code">javax.jws.WebService</code> annotation.
			</div></li><li class="listitem"><div class="para">
				All method parameters and return types are compatible with the JAXB 2.0 specification, JSR-222. Refer to <a href="http://www.jcp.org/en/jsr/summary?id=222">http://www.jcp.org/en/jsr/summary?id=222</a> for more information.
			</div></li></ul></div><div class="example"><a id="idp32903792">
      ⁠</a><p class="title"><strong>Example&nbsp;14.13.&nbsp;Example Service Implementation</strong></p><div class="example-contents"><pre class="programlisting JAVA"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>package org.<span xmlns="" class="perl_Function">jboss</span>.<span xmlns="" class="perl_Function">test</span>.<span xmlns="" class="perl_Function">ws</span>.<span xmlns="" class="perl_Function">jaxws</span>.<span xmlns="" class="perl_Function">samples</span>.<span xmlns="" class="perl_Function">retail</span>.<span xmlns="" class="perl_Function">profile</span>;
<span xmlns="" class="line">​</span> 
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">import javax.ejb.Stateless;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">import javax.jws.WebService;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">import javax.jws.WebMethod;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">import javax.jws.soap.SOAPBinding;</span>
<span xmlns="" class="line">​</span> 
<span xmlns="" class="line">​</span>@Stateless                                                             
<span xmlns="" class="line">​</span>@<span xmlns="" class="perl_Function">WebService</span>(                                                           
<span xmlns="" class="line">​</span>   name=<span xmlns="" class="perl_String">"ProfileMgmt"</span>,
<span xmlns="" class="line">​</span>   targetNamespace = <span xmlns="" class="perl_String">"http://org.jboss.ws/samples/retail/profile"</span>,
<span xmlns="" class="line">​</span>   serviceName = <span xmlns="" class="perl_String">"ProfileMgmtService"</span>)
<span xmlns="" class="line">​</span>@<span xmlns="" class="perl_Function">SOAPBinding</span>(parameterStyle = SOAPBinding.<span xmlns="" class="perl_Function">ParameterStyle</span>.<span xmlns="" class="perl_Function">BARE</span>)         
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_Keyword">class</span> ProfileMgmtBean {
<span xmlns="" class="line">​</span> 
<span xmlns="" class="line">​</span>   @WebMethod                                                          
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">public</span> DiscountResponse <span xmlns="" class="perl_Function">getCustomerDiscount</span>(DiscountRequest request) {
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">return</span> <span xmlns="" class="perl_Keyword">new</span> <span xmlns="" class="perl_Function">DiscountResponse</span>(request.<span xmlns="" class="perl_Function">getCustomer</span>(), <span xmlns="" class="perl_Float">10.00</span>);
<span xmlns="" class="line">​</span>   }
<span xmlns="" class="line">​</span>}
</pre></div></div><div class="example"><a id="idp30174096">
      ⁠</a><p class="title"><strong>Example&nbsp;14.14.&nbsp;Example XML Payload</strong></p><div class="example-contents"><div class="para">
			The following is an example of the <code class="code">DiscountRequest</code> class which is used by the <code class="code">ProfileMgmtBean</code> bean in the previous example. The annotations are included for verbosity. Typically, the JAXB defaults are reasonable and do not need to be specified.
		</div><pre class="programlisting JAVA"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>package org.<span xmlns="" class="perl_Function">jboss</span>.<span xmlns="" class="perl_Function">test</span>.<span xmlns="" class="perl_Function">ws</span>.<span xmlns="" class="perl_Function">jaxws</span>.<span xmlns="" class="perl_Function">samples</span>.<span xmlns="" class="perl_Function">retail</span>.<span xmlns="" class="perl_Function">profile</span>;
<span xmlns="" class="line">​</span> 
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">import javax.xml.bind.annotation.XmlAccessType;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">import javax.xml.bind.annotation.XmlAccessorType;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">import javax.xml.bind.annotation.XmlType;</span>
<span xmlns="" class="line">​</span> 
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">import org.jboss.test.ws.jaxws.samples.retail.Customer;</span>
<span xmlns="" class="line">​</span> 
<span xmlns="" class="line">​</span>@<span xmlns="" class="perl_Function">XmlAccessorType</span>(XmlAccessType.<span xmlns="" class="perl_Function">FIELD</span>)
<span xmlns="" class="line">​</span>@<span xmlns="" class="perl_Function">XmlType</span>(                                                  (<span xmlns="" class="perl_Float">1</span>)
<span xmlns="" class="line">​</span>  name = <span xmlns="" class="perl_String">"discountRequest"</span>,
<span xmlns="" class="line">​</span>  namespace=<span xmlns="" class="perl_String">"http://org.jboss.ws/samples/retail/profile"</span>,
<span xmlns="" class="line">​</span>  propOrder = { <span xmlns="" class="perl_String">"customer"</span> }
<span xmlns="" class="line">​</span>)
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_Keyword">class</span> DiscountRequest {
<span xmlns="" class="line">​</span> 
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">protected</span> Customer customer;
<span xmlns="" class="line">​</span> 
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_Function">DiscountRequest</span>() {
<span xmlns="" class="line">​</span>   }
<span xmlns="" class="line">​</span> 
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_Function">DiscountRequest</span>(Customer customer) {
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">this</span>.<span xmlns="" class="perl_Function">customer</span> = customer;
<span xmlns="" class="line">​</span>   }
<span xmlns="" class="line">​</span> 
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">public</span> Customer <span xmlns="" class="perl_Function">getCustomer</span>() {
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">return</span> customer;
<span xmlns="" class="line">​</span>   }
<span xmlns="" class="line">​</span> 
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_DataType">void</span> <span xmlns="" class="perl_Function">setCustomer</span>(Customer value) {
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">this</span>.<span xmlns="" class="perl_Function">customer</span> = value;
<span xmlns="" class="line">​</span>   }
<span xmlns="" class="line">​</span> 
<span xmlns="" class="line">​</span>}
</pre><div class="para">
			More complex mappings are possible. Refer to the JAXB API specification at <a href="https://jaxb.java.net/">https://jaxb.java.net/</a> for more information.
		</div></div></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Package Your Deployment</div>
			The implementation class is wrapped in a <code class="filename">JAR</code> deployment. Any metadata required for deployment is taken from the annotations on the implementation class and the service endpoint interface. Deploy the JAR using the Management CLI or the Management Interface, and the HTTP endpoint is created automatically.
		</div><div class="para">
		The following listing shows an example of the correct structure for JAR deployment of an EJB Web Service.
	</div><div class="example"><a id="idp3796672">
      ⁠</a><p class="title"><strong>Example&nbsp;14.15.&nbsp;Example JAR Structure for a Web Service Deployment</strong></p><div class="example-contents"><pre class="screen">[user@host ~]$ <code class="command">jar -tf jaxws-samples-retail.jar</code>
org/jboss/test/ws/jaxws/samples/retail/profile/DiscountRequest.class
org/jboss/test/ws/jaxws/samples/retail/profile/DiscountResponse.class
org/jboss/test/ws/jaxws/samples/retail/profile/ObjectFactory.class
org/jboss/test/ws/jaxws/samples/retail/profile/ProfileMgmt.class
org/jboss/test/ws/jaxws/samples/retail/profile/ProfileMgmtBean.class
org/jboss/test/ws/jaxws/samples/retail/profile/ProfileMgmtService.class
org/jboss/test/ws/jaxws/samples/retail/profile/package-info.class
</pre></div></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+8422-591838+%5BLatest%5D&comment=Title%3A+Write+and+Deploy+a+JAX-WS+Web+Service+Endpoint%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=8422-591838+24+Feb+2014+07%3A55+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="sect-JAX-WS_Web_service_Clients">
      ⁠</a>14.4.&nbsp;JAX-WS Web service Clients</h2></div></div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="Consume_and_Access_a_JAX-WS_Web_Service">
      ⁠</a>14.4.1.&nbsp;Consume and Access a JAX-WS Web Service</h3></div></div></div><div class="para">
		After creating a Web Service endpoint, either manually or using JAX-WS annotations, you can access its WSDL, which can be used to create the basic client application which will communicate with the Web Service. The process of generating Java code from the published WSDL is called consuming the Web service. This happens in two phases:
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="orderedlist"><ol><li class="listitem"><div class="para">
				Create the client artifacts.
			</div></li><li class="listitem"><div class="para">
				Construct a service stub.
			</div></li><li class="listitem"><div class="para">
				Access the endpoint.
			</div></li></ol></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Create the Client Artifacts</div>
			Before you can create client artifacts, you need to create your WSDL contract. The following WSDL contract is used for the examples presented in the rest of this topic.
		</div><div class="example"><a id="idp88039456">
      ⁠</a><p class="title"><strong>Example&nbsp;14.16.&nbsp;Example WSDL Contract</strong></p><div class="example-contents"><pre class="programlisting XML"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;definitions</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Others">    name=</span><span xmlns="" class="perl_String">'ProfileMgmtService'</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Others">    targetNamespace=</span><span xmlns="" class="perl_String">'http://org.jboss.ws/samples/retail/profile'</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Others">    xmlns=</span><span xmlns="" class="perl_String">'http://schemas.xmlsoap.org/wsdl/'</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Others">    xmlns:ns1=</span><span xmlns="" class="perl_String">'http://org.jboss.ws/samples/retail'</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Others">    xmlns:soap=</span><span xmlns="" class="perl_String">'http://schemas.xmlsoap.org/wsdl/soap/'</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Others">    xmlns:tns=</span><span xmlns="" class="perl_String">'http://org.jboss.ws/samples/retail/profile'</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Others">    xmlns:xsd=</span><span xmlns="" class="perl_String">'http://www.w3.org/2001/XMLSchema'</span><span xmlns="" class="perl_Keyword">&gt;</span>
<span xmlns="" class="line">​</span> 
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">&lt;types&gt;</span>
<span xmlns="" class="line">​</span> 
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;xs:schema</span><span xmlns="" class="perl_Others"> targetNamespace=</span><span xmlns="" class="perl_String">'http://org.jboss.ws/samples/retail'</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Others">                 version=</span><span xmlns="" class="perl_String">'1.0'</span><span xmlns="" class="perl_Others"> xmlns:xs=</span><span xmlns="" class="perl_String">'http://www.w3.org/2001/XMLSchema'</span><span xmlns="" class="perl_Keyword">&gt;</span>
<span xmlns="" class="line">​</span>         <span xmlns="" class="perl_Keyword">&lt;xs:complexType</span><span xmlns="" class="perl_Others"> name=</span><span xmlns="" class="perl_String">'customer'</span><span xmlns="" class="perl_Keyword">&gt;</span>
<span xmlns="" class="line">​</span>            <span xmlns="" class="perl_Keyword">&lt;xs:sequence&gt;</span>
<span xmlns="" class="line">​</span>               <span xmlns="" class="perl_Keyword">&lt;xs:element</span><span xmlns="" class="perl_Others"> minOccurs=</span><span xmlns="" class="perl_String">'0'</span><span xmlns="" class="perl_Others"> name=</span><span xmlns="" class="perl_String">'creditCardDetails'</span><span xmlns="" class="perl_Others"> type=</span><span xmlns="" class="perl_String">'xs:string'</span><span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span>               <span xmlns="" class="perl_Keyword">&lt;xs:element</span><span xmlns="" class="perl_Others"> minOccurs=</span><span xmlns="" class="perl_String">'0'</span><span xmlns="" class="perl_Others"> name=</span><span xmlns="" class="perl_String">'firstName'</span><span xmlns="" class="perl_Others"> type=</span><span xmlns="" class="perl_String">'xs:string'</span><span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span>               <span xmlns="" class="perl_Keyword">&lt;xs:element</span><span xmlns="" class="perl_Others"> minOccurs=</span><span xmlns="" class="perl_String">'0'</span><span xmlns="" class="perl_Others"> name=</span><span xmlns="" class="perl_String">'lastName'</span><span xmlns="" class="perl_Others"> type=</span><span xmlns="" class="perl_String">'xs:string'</span><span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span>            <span xmlns="" class="perl_Keyword">&lt;/xs:sequence&gt;</span>
<span xmlns="" class="line">​</span>         <span xmlns="" class="perl_Keyword">&lt;/xs:complexType&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;/xs:schema&gt;</span>
<span xmlns="" class="line">​</span> 
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;xs:schema</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Others">          targetNamespace=</span><span xmlns="" class="perl_String">'http://org.jboss.ws/samples/retail/profile'</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Others">          version=</span><span xmlns="" class="perl_String">'1.0'</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Others">          xmlns:ns1=</span><span xmlns="" class="perl_String">'http://org.jboss.ws/samples/retail'</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Others">          xmlns:tns=</span><span xmlns="" class="perl_String">'http://org.jboss.ws/samples/retail/profile'</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Others">          xmlns:xs=</span><span xmlns="" class="perl_String">'http://www.w3.org/2001/XMLSchema'</span><span xmlns="" class="perl_Keyword">&gt;</span>
<span xmlns="" class="line">​</span> 
<span xmlns="" class="line">​</span>         <span xmlns="" class="perl_Keyword">&lt;xs:import</span><span xmlns="" class="perl_Others"> namespace=</span><span xmlns="" class="perl_String">'http://org.jboss.ws/samples/retail'</span><span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span>         <span xmlns="" class="perl_Keyword">&lt;xs:element</span><span xmlns="" class="perl_Others"> name=</span><span xmlns="" class="perl_String">'getCustomerDiscount'</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Others">                     nillable=</span><span xmlns="" class="perl_String">'true'</span><span xmlns="" class="perl_Others"> type=</span><span xmlns="" class="perl_String">'tns:discountRequest'</span><span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span>         <span xmlns="" class="perl_Keyword">&lt;xs:element</span><span xmlns="" class="perl_Others"> name=</span><span xmlns="" class="perl_String">'getCustomerDiscountResponse'</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Others">                     nillable=</span><span xmlns="" class="perl_String">'true'</span><span xmlns="" class="perl_Others"> type=</span><span xmlns="" class="perl_String">'tns:discountResponse'</span><span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span>         <span xmlns="" class="perl_Keyword">&lt;xs:complexType</span><span xmlns="" class="perl_Others"> name=</span><span xmlns="" class="perl_String">'discountRequest'</span><span xmlns="" class="perl_Keyword">&gt;</span>
<span xmlns="" class="line">​</span>            <span xmlns="" class="perl_Keyword">&lt;xs:sequence&gt;</span>
<span xmlns="" class="line">​</span>               <span xmlns="" class="perl_Keyword">&lt;xs:element</span><span xmlns="" class="perl_Others"> minOccurs=</span><span xmlns="" class="perl_String">'0'</span><span xmlns="" class="perl_Others"> name=</span><span xmlns="" class="perl_String">'customer'</span><span xmlns="" class="perl_Others"> type=</span><span xmlns="" class="perl_String">'ns1:customer'</span><span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span> 
<span xmlns="" class="line">​</span>            <span xmlns="" class="perl_Keyword">&lt;/xs:sequence&gt;</span>
<span xmlns="" class="line">​</span>         <span xmlns="" class="perl_Keyword">&lt;/xs:complexType&gt;</span>
<span xmlns="" class="line">​</span>         <span xmlns="" class="perl_Keyword">&lt;xs:complexType</span><span xmlns="" class="perl_Others"> name=</span><span xmlns="" class="perl_String">'discountResponse'</span><span xmlns="" class="perl_Keyword">&gt;</span>
<span xmlns="" class="line">​</span>            <span xmlns="" class="perl_Keyword">&lt;xs:sequence&gt;</span>
<span xmlns="" class="line">​</span>               <span xmlns="" class="perl_Keyword">&lt;xs:element</span><span xmlns="" class="perl_Others"> minOccurs=</span><span xmlns="" class="perl_String">'0'</span><span xmlns="" class="perl_Others"> name=</span><span xmlns="" class="perl_String">'customer'</span><span xmlns="" class="perl_Others"> type=</span><span xmlns="" class="perl_String">'ns1:customer'</span><span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span>               <span xmlns="" class="perl_Keyword">&lt;xs:element</span><span xmlns="" class="perl_Others"> name=</span><span xmlns="" class="perl_String">'discount'</span><span xmlns="" class="perl_Others"> type=</span><span xmlns="" class="perl_String">'xs:double'</span><span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span>            <span xmlns="" class="perl_Keyword">&lt;/xs:sequence&gt;</span>
<span xmlns="" class="line">​</span>         <span xmlns="" class="perl_Keyword">&lt;/xs:complexType&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;/xs:schema&gt;</span>
<span xmlns="" class="line">​</span> 
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">&lt;/types&gt;</span>
<span xmlns="" class="line">​</span> 
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">&lt;message</span><span xmlns="" class="perl_Others"> name=</span><span xmlns="" class="perl_String">'ProfileMgmt_getCustomerDiscount'</span><span xmlns="" class="perl_Keyword">&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;part</span><span xmlns="" class="perl_Others"> element=</span><span xmlns="" class="perl_String">'tns:getCustomerDiscount'</span><span xmlns="" class="perl_Others"> name=</span><span xmlns="" class="perl_String">'getCustomerDiscount'</span><span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">&lt;/message&gt;</span>
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">&lt;message</span><span xmlns="" class="perl_Others"> name=</span><span xmlns="" class="perl_String">'ProfileMgmt_getCustomerDiscountResponse'</span><span xmlns="" class="perl_Keyword">&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;part</span><span xmlns="" class="perl_Others"> element=</span><span xmlns="" class="perl_String">'tns:getCustomerDiscountResponse'</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Others">            name=</span><span xmlns="" class="perl_String">'getCustomerDiscountResponse'</span><span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">&lt;/message&gt;</span>
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">&lt;portType</span><span xmlns="" class="perl_Others"> name=</span><span xmlns="" class="perl_String">'ProfileMgmt'</span><span xmlns="" class="perl_Keyword">&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;operation</span><span xmlns="" class="perl_Others"> name=</span><span xmlns="" class="perl_String">'getCustomerDiscount'</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Others">                 parameterOrder=</span><span xmlns="" class="perl_String">'getCustomerDiscount'</span><span xmlns="" class="perl_Keyword">&gt;</span>
<span xmlns="" class="line">​</span> 
<span xmlns="" class="line">​</span>         <span xmlns="" class="perl_Keyword">&lt;input</span><span xmlns="" class="perl_Others"> message=</span><span xmlns="" class="perl_String">'tns:ProfileMgmt_getCustomerDiscount'</span><span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span>         <span xmlns="" class="perl_Keyword">&lt;output</span><span xmlns="" class="perl_Others"> message=</span><span xmlns="" class="perl_String">'tns:ProfileMgmt_getCustomerDiscountResponse'</span><span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;/operation&gt;</span>
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">&lt;/portType&gt;</span>
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">&lt;binding</span><span xmlns="" class="perl_Others"> name=</span><span xmlns="" class="perl_String">'ProfileMgmtBinding'</span><span xmlns="" class="perl_Others"> type=</span><span xmlns="" class="perl_String">'tns:ProfileMgmt'</span><span xmlns="" class="perl_Keyword">&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;soap:binding</span><span xmlns="" class="perl_Others"> style=</span><span xmlns="" class="perl_String">'document'</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Others">                    transport=</span><span xmlns="" class="perl_String">'http://schemas.xmlsoap.org/soap/http'</span><span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;operation</span><span xmlns="" class="perl_Others"> name=</span><span xmlns="" class="perl_String">'getCustomerDiscount'</span><span xmlns="" class="perl_Keyword">&gt;</span>
<span xmlns="" class="line">​</span>         <span xmlns="" class="perl_Keyword">&lt;soap:operation</span><span xmlns="" class="perl_Others"> soapAction=</span><span xmlns="" class="perl_String">''</span><span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span>         <span xmlns="" class="perl_Keyword">&lt;input&gt;</span>
<span xmlns="" class="line">​</span> 
<span xmlns="" class="line">​</span>            <span xmlns="" class="perl_Keyword">&lt;soap:body</span><span xmlns="" class="perl_Others"> use=</span><span xmlns="" class="perl_String">'literal'</span><span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span>         <span xmlns="" class="perl_Keyword">&lt;/input&gt;</span>
<span xmlns="" class="line">​</span>         <span xmlns="" class="perl_Keyword">&lt;output&gt;</span>
<span xmlns="" class="line">​</span>            <span xmlns="" class="perl_Keyword">&lt;soap:body</span><span xmlns="" class="perl_Others"> use=</span><span xmlns="" class="perl_String">'literal'</span><span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span>         <span xmlns="" class="perl_Keyword">&lt;/output&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;/operation&gt;</span>
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">&lt;/binding&gt;</span>
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">&lt;service</span><span xmlns="" class="perl_Others"> name=</span><span xmlns="" class="perl_String">'ProfileMgmtService'</span><span xmlns="" class="perl_Keyword">&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;port</span><span xmlns="" class="perl_Others"> binding=</span><span xmlns="" class="perl_String">'tns:ProfileMgmtBinding'</span><span xmlns="" class="perl_Others"> name=</span><span xmlns="" class="perl_String">'ProfileMgmtPort'</span><span xmlns="" class="perl_Keyword">&gt;</span>
<span xmlns="" class="line">​</span> 
<span xmlns="" class="line">​</span>         <span xmlns="" class="perl_Keyword">&lt;soap:address</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Others">             location=</span><span xmlns="" class="perl_String">'SERVER:PORT/jaxws-samples-retail/ProfileMgmtBean'</span><span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;/port&gt;</span>
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">&lt;/service&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;/definitions&gt;</span>	
<span xmlns="" class="line">​</span>	</pre></div></div><div xmlns:d="http://docbook.org/ns/docbook" class="note"><div class="admonition_header"><p><strong>Note</strong></p></div><div class="admonition"><div class="para">
			If you use JAX-WS annotations to create your Web Service endpoint, the WSDL contract is generated automatically, and you only need its URL. You can get this URL from the <span class="guilabel"><strong>Webservices</strong></span> section of the <span class="guilabel"><strong>Runtime</strong></span> section of the web-based Management Console, after the endpoint is deployed.
		</div></div></div><div class="para">
		The <code class="command">wsconsume.sh</code> or <code class="command">wsconsume.bat</code> tool is used to consume the abstract contract (WSDL) and produce annotated Java classes and optional sources that define it. The command is located in the <code class="filename"><em class="replaceable">EAP_HOME</em>/bin/</code> directory of the JBoss EAP 6 installation.
	</div><div class="example"><a id="idp28716816">
      ⁠</a><p class="title"><strong>Example&nbsp;14.17.&nbsp;Syntax of the <code class="command">wsconsume.sh</code> Command</strong></p><div class="example-contents"><pre class="screen">[user@host bin]$ ./wsconsume.sh --help
WSConsumeTask is a cmd line tool that generates portable JAX-WS artifacts from a WSDL file.

usage: org.jboss.ws.tools.cmd.WSConsume [options] &lt;wsdl-url&gt;

options: 
    -h, --help                  Show this help message
    -b, --binding=&lt;file&gt;        One or more JAX-WS or JAXB binding files 
    -k, --keep                  Keep/Generate Java source
    -c  --catalog=&lt;file&gt;        Oasis XML Catalog file for entity resolution
    -p  --package=&lt;name&gt;        The target package for generated source
    -w  --wsdlLocation=&lt;loc&gt;    Value to use for @WebService.wsdlLocation
    -o, --output=&lt;directory&gt;    The directory to put generated artifacts
    -s, --source=&lt;directory&gt;    The directory to put Java source
    -t, --target=&lt;2.0|2.1|2.2&gt;  The JAX-WS specification target
    -q, --quiet                 Be somewhat more quiet
    -v, --verbose               Show full exception stack traces
    -l, --load-consumer         Load the consumer and exit (debug utility)
    -e, --extension             Enable SOAP 1.2 binding extension
    -a, --additionalHeaders     Enable processing of implicit SOAP headers
    -n, --nocompile             Do not compile generated sources
   </pre></div></div><div class="para">
		The following command generates the source <code class="filename">.java</code> files listed in the output, from the <code class="filename">ProfileMgmtService.wsdl</code> file. The sources use the directory structure of the package, which is specified with the <code class="literal">-p</code> switch.
	</div><pre class="screen">[user@host bin]$ <code class="prompt"> wsconsume.sh -k -p org.jboss.test.ws.jaxws.samples.retail.profile ProfileMgmtService.wsdl</code>
output/org/jboss/test/ws/jaxws/samples/retail/profile/Customer.java
output/org/jboss/test/ws/jaxws/samples/retail/profile/DiscountRequest.java
output/org/jboss/test/ws/jaxws/samples/retail/profile/DiscountResponse.java
output/org/jboss/test/ws/jaxws/samples/retail/profile/ObjectFactory.java
output/org/jboss/test/ws/jaxws/samples/retail/profile/ProfileMgmt.java
output/org/jboss/test/ws/jaxws/samples/retail/profile/ProfileMgmtService.java
output/org/jboss/test/ws/jaxws/samples/retail/profile/package-info.java
output/org/jboss/test/ws/jaxws/samples/retail/profile/Customer.class
output/org/jboss/test/ws/jaxws/samples/retail/profile/DiscountRequest.class
output/org/jboss/test/ws/jaxws/samples/retail/profile/DiscountResponse.class
output/org/jboss/test/ws/jaxws/samples/retail/profile/ObjectFactory.class
output/org/jboss/test/ws/jaxws/samples/retail/profile/ProfileMgmt.class
output/org/jboss/test/ws/jaxws/samples/retail/profile/ProfileMgmtService.class
output/org/jboss/test/ws/jaxws/samples/retail/profile/package-info.class
</pre><div class="para">
		Both <code class="filename">.java</code> source files and compiled <code class="filename">.class</code> files are generated into the <code class="filename">output/</code> directory within the directory where you run the command.
	</div><div class="table"><a id="idp34209184">
      ⁠</a><p class="title"><strong>Table&nbsp;14.2.&nbsp;Descriptions of Artifacts Created by <code class="command">wsconsume.sh</code></strong></p><div class="table-contents"><table xmlns:d="http://docbook.org/ns/docbook" class="lt-4-cols lt-7-rows" summary="Descriptions of Artifacts Created by wsconsume.sh"><colgroup><col><col></colgroup><thead><tr><th> File </th><th> Description </th></tr></thead><tbody><tr><td> <div class="para">
						<code class="filename">ProfileMgmt.java</code>
					</div>
					 </td><td> <div class="para">
						Service endpoint interface.
					</div>
					 </td></tr><tr><td> <div class="para">
						<code class="filename">Customer.java</code>
					</div>
					 </td><td> <div class="para">
						Custom data type.
					</div>
					 </td></tr><tr><td> <div class="para">
						<code class="filename">Discount<em class="replaceable">*</em>.java</code>
					</div>
					 </td><td> <div class="para">
						Custom data types.
					</div>
					 </td></tr><tr><td> <div class="para">
						<code class="filename">ObjectFactory.java</code>
					</div>
					 </td><td> <div class="para">
						JAXB XML registry.
					</div>
					 </td></tr><tr><td> <div class="para">
						<code class="filename">package-info.java</code>
					</div>
					 </td><td> <div class="para">
						JAXB package annotations.
					</div>
					 </td></tr><tr><td> <div class="para">
						<code class="filename">ProfileMgmtService.java</code>
					</div>
					 </td><td> <div class="para">
						Service factory.
					</div>
					 </td></tr></tbody></table></div></div><div class="para">
		The <code class="filename">wsconsume.sh</code> command generates all custom data types (JAXB annotated classes), the service endpoint interface and a service factory class. These artifacts are used the build web service client implementations.
	</div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Construct a Service Stub</div>
			Web service clients use service stubs to abstract the details of a remote web service invocation. To a client application, a WS invocation looks like an invocation of any other business component. In this case the service endpoint interface acts as the business interface, and a service factory class is not used to construct it as a service stub.
		</div><div class="example"><a id="idp12788144">
      ⁠</a><p class="title"><strong>Example&nbsp;14.18.&nbsp;Constructing a Service Stub and Accessing the Endpoint</strong></p><div class="example-contents"><div class="para">
			The following example first creates a service factory using the WSDL location and the service name. Next, it uses the service endpoint interface created by the <code class="command">wsconsume.sh</code> command to build the service stub. Finally, the stub can be used just as any other business interface would be.
		</div><div class="para">
			You can find the WSDL URL for your endpoint in the web-based Management Console. Choose the <span class="guilabel"><strong>Runtime</strong></span> menu item at the upper left, then the <span class="guilabel"><strong>Deployments</strong></span> menu item at the bottom left. Click <span class="guilabel"><strong>Webservices</strong></span>, and select your deployment to view its details.
		</div><pre class="programlisting JAVA"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">import javax.xml.ws.Service;</span>
<span xmlns="" class="line">​</span>[...]
<span xmlns="" class="line">​</span>Service service = Service.<span xmlns="" class="perl_Function">create</span>(                                 
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">new</span> URL(<span xmlns="" class="perl_String">"http://example.org/service?wsdl"</span>),
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">new</span> QName(<span xmlns="" class="perl_String">"MyService"</span>)
<span xmlns="" class="line">​</span>);
<span xmlns="" class="line">​</span>ProfileMgmt profileMgmt = service.<span xmlns="" class="perl_Function">getPort</span>(ProfileMgmt.<span xmlns="" class="perl_Function">class</span>);     
<span xmlns="" class="line">​</span> 
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">// Use the service stub in your application</span>
</pre></div></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+8423-591838+%5BLatest%5D&comment=Title%3A+Consume+and+Access+a+JAX-WS+Web+Service%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=8423-591838+24+Feb+2014+07%3A55+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="Develop_a_JAX-WS_Client_Application">
      ⁠</a>14.4.2.&nbsp;Develop a JAX-WS Client Application</h3></div></div></div><div class="para">
		This topic discusses JAX-WS Web Service clients in general. The client communicates with, and requests work from, the JAX-WS endpoint, which is deployed in the Java Enterprise Edition 6 container. For detailed information about the classes, methods, and other implementation details mentioned below, refer to <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#JAX-WS_Common_API_Reference">Section&nbsp;14.5.2, “JAX-WS Common API Reference”</a> and the relevant sections of the Javadocs bundle included with JBoss EAP 6.
	</div><div class="variablelist"><p class="title"><strong>Service</strong></p><dl class="variablelist"><dt><span class="term">Overview</span></dt><dd><div class="para">
					A <code class="code">Service</code> is an abstraction which represents a WSDL service. A WSDL service is a collection of related ports, each of which includes a port type bound to a particular protocol and a particular endpoint address.
				</div><div class="para">
					Usually, the Service is generated when the rest of the component stubs are generated from an existing WSDL contract. The WSDL contract is available via the WSDL URL of the deployed endpoint, or can be created from the endpoint source using the <code class="filename">wsprovide.sh</code> command in the <code class="filename"><em class="replaceable">EAP_HOME</em>/bin/</code> directory.
				</div><div class="para">
					This type of usage is referred to as the <em class="firstterm">static</em> use case. In this case, you create instances of the <code class="code">Service</code> class which is created as one of the component stubs.
				</div><div class="para">
					You can also create the service manually, using the <code class="code">Service.create</code> method. This is referred to as the <em class="firstterm">dynamic</em> use case.
				</div></dd><dt><span class="term">Usage</span></dt><dd><div class="variablelist"><dl class="variablelist"><dt><span class="term">Static Use Case</span></dt><dd><div class="para">
								The <em class="firstterm">static</em> use case for a JAX-WS client assumes that you already have a WSDL contract. This may be generated by an external tool or generated by using the correct JAX-WS annotations when you create your JAX-WS endpoint.
							</div><div class="para">
								To generate your component stubs, you use the <code class="code">wsconsume.sh</code> or <code class="code">wsconsume.bat</code> script which is included in <code class="filename"><em class="replaceable">EAP_HOME</em>/bin/</code>. The script takes the WSDL URL or file as a parameter, and generates multiple of files, structured in a directory tree. The source and class files representing your <code class="code">Service</code> are named <code class="code"><em class="replaceable">CLASSNAME</em>_Service.java</code> and <code class="code"><em class="replaceable">CLASSNAME</em>_Service.class</code>, respectively.
							</div><div class="para">
								The generated implementation class has two public constructors, one with no arguments and one with two arguments. The two arguments represent the WSDL location (a <code class="code">java.net.URL</code>) and the service name (a <code class="code">javax.xml.namespace.QName</code>) respectively.
							</div><div class="para">
								The no-argument constructor is the one used most often. In this case the WSDL location and service name are those found in the WSDL. These are set implicitly from the <code class="code">@WebServiceClient</code> annotation that decorates the generated class.
							</div><div class="example"><a id="idp4705440">
      ⁠</a><p class="title"><strong>Example&nbsp;14.19.&nbsp;Example Generated Service Class</strong></p><div class="example-contents"><pre class="programlisting JAVA"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>@<span xmlns="" class="perl_Function">WebServiceClient</span>(name=<span xmlns="" class="perl_String">"StockQuoteService"</span>, targetNamespace=<span xmlns="" class="perl_String">"http://example.com/stocks"</span>, wsdlLocation=<span xmlns="" class="perl_String">"http://example.com/stocks.wsdl"</span>)
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_Keyword">class</span> StockQuoteService <span xmlns="" class="perl_Keyword">extends</span> javax.<span xmlns="" class="perl_Function">xml</span>.<span xmlns="" class="perl_Function">ws</span>.<span xmlns="" class="perl_Function">Service</span>
<span xmlns="" class="line">​</span>{
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_Function">StockQuoteService</span>()
<span xmlns="" class="line">​</span>   {
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">super</span>(<span xmlns="" class="perl_Keyword">new</span> URL(<span xmlns="" class="perl_String">"http://example.com/stocks.wsdl"</span>), <span xmlns="" class="perl_Keyword">new</span> QName(<span xmlns="" class="perl_String">"http://example.com/stocks"</span>, <span xmlns="" class="perl_String">"StockQuoteService"</span>));
<span xmlns="" class="line">​</span>   }
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_Function">StockQuoteService</span>(String wsdlLocation, QName serviceName)
<span xmlns="" class="line">​</span>   {
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">super</span>(wsdlLocation, serviceName);
<span xmlns="" class="line">​</span>   }
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>   ...
<span xmlns="" class="line">​</span>}
</pre></div></div></dd><dt><span class="term">Dynamic Use Case</span></dt><dd><div class="para">
								In the dynamic case, no stubs are generated automatically. Instead, a web service client uses the <code class="code">Service.create</code> method to create <code class="code">Service</code> instances. The following code fragment illustrates this process.
							</div><div class="example"><a id="idp30290160">
      ⁠</a><p class="title"><strong>Example&nbsp;14.20.&nbsp;Creating Services Manually</strong></p><div class="example-contents"><pre class="programlisting JAVA"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>URL wsdlLocation = <span xmlns="" class="perl_Keyword">new</span> URL(<span xmlns="" class="perl_String">"http://example.org/my.wsdl"</span>);
<span xmlns="" class="line">​</span>QName serviceName = <span xmlns="" class="perl_Keyword">new</span> QName(<span xmlns="" class="perl_String">"http://example.org/sample"</span>, <span xmlns="" class="perl_String">"MyService"</span>);
<span xmlns="" class="line">​</span>Service service = Service.<span xmlns="" class="perl_Function">create</span>(wsdlLocation, serviceName);
<span xmlns="" class="line">​</span>
</pre></div></div></dd></dl></div></dd><dt><span class="term">Handler Resolver</span></dt><dd><div class="para">
					JAX-WS provides a flexible plug-in framework for message processing modules, known as <em class="firstterm">handlers</em>. These handlers extend the capabilities of a JAX-WS runtime system. A <code class="code">Service</code> instance provides access to a <code class="code">HandlerResolver</code> via a pair of <code class="code">getHandlerResolver</code> and <code class="code">setHandlerResolver</code> methods that can configure a set of handlers on a per-service, per-port or per-protocol binding basis.
				</div><div class="para">
					When a <code class="code">Service</code> instance creates a proxy or a <code class="code">Dispatch</code> instance, the handler resolver currently registered with the service creates the required handler chain. Subsequent changes to the handler resolver configured for a <code class="code">Service</code> instance do not affect the handlers on previously created proxies or <code class="code">Dispatch</code> instances.
				</div></dd><dt><span class="term">Executor</span></dt><dd><div class="para">
					<code class="code">Service</code> instances can be configured with a <code class="code">java.util.concurrent.Executor</code>. The <code class="code">Executor</code> invokes any asynchronous callbacks requested by the application. The <code class="code">setExecutor</code> and <code class="code">getExecutor</code> methods of <code class="code">Service</code> can modify and retrieve the <code class="code">Executor</code> configured for a service.
				</div></dd></dl></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Dynamic Proxy</div>
			A <em class="firstterm">dynamic proxy</em> is an instance of a client proxy using one of the <code class="code">getPort</code> methods provided in the <code class="code">Service</code>. The <code class="code">portName</code> specifies the name of the WSDL port the service uses. The <code class="code">serviceEndpointInterface</code> specifies the service endpoint interface supported by the created dynamic proxy instance.
		</div><div class="example"><a id="idp33653552">
      ⁠</a><p class="title"><strong>Example&nbsp;14.21.&nbsp;<code class="code">getPort</code> Methods</strong></p><div class="example-contents"><pre class="programlisting JAVA"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">public</span> &lt;T&gt; T <span xmlns="" class="perl_Function">getPort</span>(QName portName, <span xmlns="" class="perl_Keyword">Class</span>&lt;T&gt; serviceEndpointInterface)
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">public</span> &lt;T&gt; T <span xmlns="" class="perl_Function">getPort</span>(<span xmlns="" class="perl_Keyword">Class</span>&lt;T&gt; serviceEndpointInterface)
</pre></div></div><div class="para">
		The <em class="firstterm">Service Endpoint Interface</em> is usually generated using the <code class="code">wsconsume.sh</code> command, which parses the WSDL and creates Java classes from it.
	</div><div class="para">
		A typed method which returns a port is also provided. These methods also return dynamic proxies that implement the SEI. See the following example.
	</div><div class="example"><a id="idp3929040">
      ⁠</a><p class="title"><strong>Example&nbsp;14.22.&nbsp;Returning the Port of a Service</strong></p><div class="example-contents"><pre class="programlisting JAVA"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>@<span xmlns="" class="perl_Function">WebServiceClient</span>(name = <span xmlns="" class="perl_String">"TestEndpointService"</span>, targetNamespace = <span xmlns="" class="perl_String">"http://org.jboss.ws/wsref"</span>,
<span xmlns="" class="line">​</span>   wsdlLocation = <span xmlns="" class="perl_String">"http://localhost.localdomain:8080/jaxws-samples-webserviceref?wsdl"</span>)
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_Keyword">class</span> TestEndpointService <span xmlns="" class="perl_Keyword">extends</span> Service
<span xmlns="" class="line">​</span>{
<span xmlns="" class="line">​</span>    ...
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_Function">TestEndpointService</span>(URL wsdlLocation, QName serviceName) {
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">super</span>(wsdlLocation, serviceName);
<span xmlns="" class="line">​</span>    }
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>    @<span xmlns="" class="perl_Function">WebEndpoint</span>(name = <span xmlns="" class="perl_String">"TestEndpointPort"</span>)
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">public</span> TestEndpoint <span xmlns="" class="perl_Function">getTestEndpointPort</span>()
<span xmlns="" class="line">​</span>    {
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">return</span> (TestEndpoint)<span xmlns="" class="perl_Keyword">super</span>.<span xmlns="" class="perl_Function">getPort</span>(TESTENDPOINTPORT, TestEndpoint.<span xmlns="" class="perl_Function">class</span>);
<span xmlns="" class="line">​</span>    }
<span xmlns="" class="line">​</span>}
<span xmlns="" class="line">​</span>
</pre></div></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title"><code class="code">@WebServiceRef</code></div>
			The <code class="code">@WebServiceRef</code> annotation declares a reference to a Web Service. It follows the resource pattern shown by the <code class="code">javax.annotation.Resource</code> annotation defined in <a href="http://www.jcp.org/en/jsr/summary?id=250">http://www.jcp.org/en/jsr/summary?id=250</a>.
		</div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><p class="title"><strong>Use Cases for <code class="code">@WebServiceRef</code></strong></p><ul><li class="listitem"><div class="para">
				You can use it to define a reference whose type is a generated <code class="code">Service</code> class. In this case, the type and value element each refer to the generated <code class="code">Service</code> class type. Moreover, if the reference type can be inferred by the field or method declaration the annotation is applied to, the type and value elements may (but are not required to) have the default value of <code class="literal">Object.class</code>. If the type cannot be inferred, then at least the type element must be present with a non-default value.
			</div></li><li class="listitem"><div class="para">
				You can use it to define a reference whose type is an SEI. In this case, the type element may (but is not required to) be present with its default value if the type of the reference can be inferred from the annotated field or method declaration. However, the value element must always be present and refer to a generated service class type, which is a subtype of <code class="code">javax.xml.ws.Service</code>. The <code class="code">wsdlLocation</code> element, if present, overrides the WSDL location information specified in the <code class="code">@WebService</code> annotation of the referenced generated service class.
			</div><div class="example"><a id="idp3918208">
      ⁠</a><p class="title"><strong>Example&nbsp;14.23.&nbsp;<code class="code">@WebServiceRef</code> Examples</strong></p><div class="example-contents"><pre class="programlisting JAVA"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_Keyword">class</span> EJB3Client <span xmlns="" class="perl_Keyword">implements</span> EJB3Remote
<span xmlns="" class="line">​</span>{
<span xmlns="" class="line">​</span>   @WebServiceRef
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">public</span> TestEndpointService service4;
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>   @WebServiceRef
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">public</span> TestEndpoint port3;
</pre></div></div></li></ul></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Dispatch</div>
			XML Web Services use XML messages for communication between the endpoint, which is deployed in the Java EE container, and any clients. The XML messages use an XML language called <em class="firstterm">Simple Object Access Protocol (SOAP)</em>. The JAX-WS API provides the mechanisms for the endpoint and clients to each be able to send and receive SOAP messages. Marshalling is the process of converting a Java Object into a SOAP XML message. Unmarshalling is the process of converting the SOAP XML message back into a Java Object.
		</div><div class="para">
		In some cases, you need access to the raw SOAP messages themselves, rather than the result of the conversion. The <code class="code">Dispatch</code> class provides this functionality. <code class="code">Dispatch</code> operates in one of two usage modes, which are identified by one of the following constants.
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
				<code class="code">javax.xml.ws.Service.Mode.MESSAGE</code> - This mode directs client applications to work directly with protocol-specific message structures. When used with a SOAP protocol binding, a client application works directly with a SOAP message.
			</div></li><li class="listitem"><div class="para">
				<code class="code">javax.xml.ws.Service.Mode.PAYLOAD</code> - This mode causes the client to work with the payload itself. For instance, if it is used with a SOAP protocol binding, a client application would work with the contents of the SOAP body rather than the entire SOAP message.
			</div></li></ul></div><div class="para">
		<code class="code">Dispatch</code> is a low-level API which requires clients to structure messages or payloads as XML, with strict adherence to the standards of the individual protocol and a detailed knowledge of message or payload structure. <code class="code">Dispatch</code> is a generic class which supports input and output of messages or message payloads of any type.
	</div><div class="example"><a id="idp4332176">
      ⁠</a><p class="title"><strong>Example&nbsp;14.24.&nbsp;<code class="code">Dispatch</code> Usage</strong></p><div class="example-contents"><pre class="programlisting JAVA"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>Service service = Service.<span xmlns="" class="perl_Function">create</span>(wsdlURL, serviceName);
<span xmlns="" class="line">​</span>Dispatch dispatch = service.<span xmlns="" class="perl_Function">createDispatch</span>(portName, StreamSource.<span xmlns="" class="perl_Function">class</span>, Mode.<span xmlns="" class="perl_Function">PAYLOAD</span>);
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>String payload = <span xmlns="" class="perl_String">"&lt;ns1:ping xmlns:ns1='http://oneway.samples.jaxws.ws.test.jboss.org/'/&gt;"</span>;
<span xmlns="" class="line">​</span>dispatch.<span xmlns="" class="perl_Function">invokeOneWay</span>(<span xmlns="" class="perl_Keyword">new</span> StreamSource(<span xmlns="" class="perl_Keyword">new</span> StringReader(payload)));
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>payload = <span xmlns="" class="perl_String">"&lt;ns1:feedback xmlns:ns1='http://oneway.samples.jaxws.ws.test.jboss.org/'/&gt;"</span>;
<span xmlns="" class="line">​</span>Source retObj = (Source)dispatch.<span xmlns="" class="perl_Function">invoke</span>(<span xmlns="" class="perl_Keyword">new</span> StreamSource(<span xmlns="" class="perl_Keyword">new</span> StringReader(payload)));	</pre></div></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Asynchronous Invocations</div>
			The <code class="code">BindingProvider</code> interface represents a component that provides a protocol binding which clients can use. It is implemented by proxies and is extended by the <code class="code">Dispatch</code> interface.
		</div><div class="para">
		<code class="code">BindingProvider</code> instances may provide asynchronous operation capabilities.Asynchronous operation invocations are decoupled from the <code class="code">BindingProvider</code> instance at invocation time. The response context is not updated when the operation completes. Instead, a separate response context is made available using the <code class="code">Response</code> interface.
	</div><div class="example"><a id="idp96376912">
      ⁠</a><p class="title"><strong>Example&nbsp;14.25.&nbsp;Example Asynchronous Invocation</strong></p><div class="example-contents"><pre class="programlisting JAVA"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_DataType">void</span> <span xmlns="" class="perl_Function">testInvokeAsync</span>() <span xmlns="" class="perl_Keyword">throws</span> Exception
<span xmlns="" class="line">​</span>{
<span xmlns="" class="line">​</span>   URL wsdlURL = <span xmlns="" class="perl_Keyword">new</span> URL(<span xmlns="" class="perl_String">"http://"</span> + <span xmlns="" class="perl_Function">getServerHost</span>() + <span xmlns="" class="perl_String">":8080/jaxws-samples-asynchronous?wsdl"</span>);
<span xmlns="" class="line">​</span>   QName serviceName = <span xmlns="" class="perl_Keyword">new</span> QName(targetNS, <span xmlns="" class="perl_String">"TestEndpointService"</span>);
<span xmlns="" class="line">​</span>   Service service = Service.<span xmlns="" class="perl_Function">create</span>(wsdlURL, serviceName);
<span xmlns="" class="line">​</span>   TestEndpoint port = service.<span xmlns="" class="perl_Function">getPort</span>(TestEndpoint.<span xmlns="" class="perl_Function">class</span>);
<span xmlns="" class="line">​</span>   Response response = port.<span xmlns="" class="perl_Function">echoAsync</span>(<span xmlns="" class="perl_String">"Async"</span>);
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Comment">// access future</span>
<span xmlns="" class="line">​</span>   String retStr = (String) response.<span xmlns="" class="perl_Function">get</span>();
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Function">assertEquals</span>(<span xmlns="" class="perl_String">"Async"</span>, retStr);
<span xmlns="" class="line">​</span>}
</pre></div></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title"><code class="code">@Oneway</code> Invocations</div>
			The <code class="code">@Oneway</code> annotation indicates that the given web method takes an input message but returns no output message. Usually, a <code class="code">@Oneway</code> method returns the thread of control to the calling application before the business method is executed.
		</div><div class="example"><a id="idp95764304">
      ⁠</a><p class="title"><strong>Example&nbsp;14.26.&nbsp;Example <code class="code">@Oneway</code> Invocation</strong></p><div class="example-contents"><pre class="programlisting JAVA"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>@<span xmlns="" class="perl_Function">WebService</span> (name=<span xmlns="" class="perl_String">"PingEndpoint"</span>)
<span xmlns="" class="line">​</span>@<span xmlns="" class="perl_Function">SOAPBinding</span>(style = SOAPBinding.<span xmlns="" class="perl_Function">Style</span>.<span xmlns="" class="perl_Function">RPC</span>)
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_Keyword">class</span> PingEndpointImpl
<span xmlns="" class="line">​</span>{
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">private</span> <span xmlns="" class="perl_DataType">static</span> String feedback;
<span xmlns="" class="line">​</span>  
<span xmlns="" class="line">​</span>   @WebMethod
<span xmlns="" class="line">​</span>   @Oneway
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_DataType">void</span> <span xmlns="" class="perl_Function">ping</span>()
<span xmlns="" class="line">​</span>   {
<span xmlns="" class="line">​</span>      log.<span xmlns="" class="perl_Function">info</span>(<span xmlns="" class="perl_String">"ping"</span>);
<span xmlns="" class="line">​</span>      feedback = <span xmlns="" class="perl_String">"ok"</span>;
<span xmlns="" class="line">​</span>   }
<span xmlns="" class="line">​</span>  
<span xmlns="" class="line">​</span>   @WebMethod
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">public</span> String <span xmlns="" class="perl_Function">feedback</span>()
<span xmlns="" class="line">​</span>   {
<span xmlns="" class="line">​</span>      log.<span xmlns="" class="perl_Function">info</span>(<span xmlns="" class="perl_String">"feedback"</span>);
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">return</span> feedback;
<span xmlns="" class="line">​</span>   }
<span xmlns="" class="line">​</span>}
</pre></div></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Timeout Configuration</div>
			Two different properties control the timeout behavior of the HTTP connection and the timeout of a client which is waiting to receive a message. The first is <code class="code">javax.xml.ws.client.connectionTimeout</code> and the second is <code class="code">javax.xml.ws.client.receiveTimeout</code>. Each is expressed in milliseconds, and the correct syntax is shown below.
		</div><div class="example"><a id="idm312848">
      ⁠</a><p class="title"><strong>Example&nbsp;14.27.&nbsp;JAX-WS Timeout Configuration</strong></p><div class="example-contents"><pre class="programlisting JAVA"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_DataType">void</span> <span xmlns="" class="perl_Function">testConfigureTimeout</span>() <span xmlns="" class="perl_Keyword">throws</span> Exception
<span xmlns="" class="line">​</span>{
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Comment">//Set timeout until a connection is established</span>
<span xmlns="" class="line">​</span>   ((BindingProvider)port).<span xmlns="" class="perl_Function">getRequestContext</span>().<span xmlns="" class="perl_Function">put</span>(<span xmlns="" class="perl_String">"javax.xml.ws.client.connectionTimeout"</span>, <span xmlns="" class="perl_String">"6000"</span>);
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Comment">//Set timeout until the response is received</span>
<span xmlns="" class="line">​</span>   ((BindingProvider) port).<span xmlns="" class="perl_Function">getRequestContext</span>().<span xmlns="" class="perl_Function">put</span>(<span xmlns="" class="perl_String">"javax.xml.ws.client.receiveTimeout"</span>, <span xmlns="" class="perl_String">"1000"</span>);
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>   port.<span xmlns="" class="perl_Function">echo</span>(<span xmlns="" class="perl_String">"testTimeout"</span>);
<span xmlns="" class="line">​</span>}
</pre></div></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+8843-698206+%5BLatest%5D&comment=Title%3A+Develop+a+JAX-WS+Client+Application%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=8843-698206+15+Aug+2014+00%3A16+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="sect-JAX-WS_Development_Reference">
      ⁠</a>14.5.&nbsp;JAX-WS Development Reference</h2></div></div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="Enable_Web_Services_Addressing_WS-Addressing">
      ⁠</a>14.5.1.&nbsp;Enable Web Services Addressing (WS-Addressing)</h3></div></div></div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul><li class="listitem"><div class="para">
				Your application must have an existing JAX-WS service and client configuration.
			</div></li></ul></div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idp88310960">
      ⁠</a><p class="title"><strong>Procedure&nbsp;14.1.&nbsp;Annotate and Update client code</strong></p><ol class="1"><li class="step"><p class="title"><strong>Annotate the service endpoint</strong></p><div class="para">
				Add the <code class="code">@Addressing</code> annotation to the application's endpoint code.
			</div><div class="example"><a id="idp25905088">
      ⁠</a><p class="title"><strong>Example&nbsp;14.28.&nbsp;<code class="code">@Addressing</code> annotation</strong></p><div class="example-contents"><div class="para">
					This example demonstrates a regular JAX-WS endpoint with the <code class="code">@Addressing</code> annotation added.
				</div><pre class="programlisting JAVA"><span xmlns="" class="line">​</span>package org.<span xmlns="" class="perl_Function">jboss</span>.<span xmlns="" class="perl_Function">test</span>.<span xmlns="" class="perl_Function">ws</span>.<span xmlns="" class="perl_Function">jaxws</span>.<span xmlns="" class="perl_Function">samples</span>.<span xmlns="" class="perl_Function">wsa</span>;
<span xmlns="" class="line">​</span> 
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">import javax.jws.WebService;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">import javax.xml.ws.soap.Addressing;</span>
<span xmlns="" class="line">​</span> 
<span xmlns="" class="line">​</span>@WebService
<span xmlns="" class="line">​</span>(
<span xmlns="" class="line">​</span>   portName = <span xmlns="" class="perl_String">"AddressingServicePort"</span>,
<span xmlns="" class="line">​</span>   serviceName = <span xmlns="" class="perl_String">"AddressingService"</span>,
<span xmlns="" class="line">​</span>   wsdlLocation = <span xmlns="" class="perl_String">"WEB-INF/wsdl/AddressingService.wsdl"</span>,
<span xmlns="" class="line">​</span>   targetNamespace = <span xmlns="" class="perl_String">"http://www.jboss.org/jbossws/ws-extensions/wsaddressing"</span>,
<span xmlns="" class="line">​</span>   endpointInterface = <span xmlns="" class="perl_String">"org.jboss.test.ws.jaxws.samples.wsa.ServiceIface"</span>
<span xmlns="" class="line">​</span>)
<span xmlns="" class="line">​</span>@<span xmlns="" class="perl_Function">Addressing</span>(enabled=<span xmlns="" class="perl_Keyword">true</span>, required=<span xmlns="" class="perl_Keyword">true</span>)
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_Keyword">class</span> ServiceImpl <span xmlns="" class="perl_Keyword">implements</span> ServiceIface
<span xmlns="" class="line">​</span>{
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">public</span> String <span xmlns="" class="perl_Function">sayHello</span>()
<span xmlns="" class="line">​</span>   {
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">return</span> <span xmlns="" class="perl_String">"Hello World!"</span>;
<span xmlns="" class="line">​</span>   }
<span xmlns="" class="line">​</span>}</pre></div></div></li><li class="step"><p class="title"><strong>Update client code</strong></p><div class="para">
				Update the client code in the application so that it configures WS-Addressing.
			</div><div class="example"><a id="idp1965072">
      ⁠</a><p class="title"><strong>Example&nbsp;14.29.&nbsp;Client configuration for WS-Addressing</strong></p><div class="example-contents"><div class="para">
					This example demonstrates a regular JAX-WS client updated to configure WS-Addressing.
				</div><pre class="programlisting JAVA"><span xmlns="" class="line">​</span>package org.<span xmlns="" class="perl_Function">jboss</span>.<span xmlns="" class="perl_Function">test</span>.<span xmlns="" class="perl_Function">ws</span>.<span xmlns="" class="perl_Function">jaxws</span>.<span xmlns="" class="perl_Function">samples</span>.<span xmlns="" class="perl_Function">wsa</span>;
<span xmlns="" class="line">​</span> 
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">import java.net.URL;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">import javax.xml.namespace.QName;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">import javax.xml.ws.Service;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">import javax.xml.ws.soap.AddressingFeature;</span>
<span xmlns="" class="line">​</span> 
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_DataType">final</span> <span xmlns="" class="perl_Keyword">class</span> AddressingTestCase
<span xmlns="" class="line">​</span>{
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">private</span> <span xmlns="" class="perl_DataType">final</span> String serviceURL = 
<span xmlns="" class="line">​</span>       <span xmlns="" class="perl_String">"http://localhost:8080/jaxws-samples-wsa/AddressingService"</span>;
<span xmlns="" class="line">​</span>   
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_DataType">static</span> <span xmlns="" class="perl_DataType">void</span> <span xmlns="" class="perl_Function">main</span>(String[] args) <span xmlns="" class="perl_Keyword">throws</span> Exception
<span xmlns="" class="line">​</span>   {
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Comment">// construct proxy</span>
<span xmlns="" class="line">​</span>      QName serviceName = 
<span xmlns="" class="line">​</span>          <span xmlns="" class="perl_Keyword">new</span> QName(<span xmlns="" class="perl_String">"http://www.jboss.org/jbossws/ws-extensions/wsaddressing"</span>,
<span xmlns="" class="line">​</span>                    <span xmlns="" class="perl_String">"AddressingService"</span>);
<span xmlns="" class="line">​</span>      URL wsdlURL = <span xmlns="" class="perl_Keyword">new</span> URL(serviceURL + <span xmlns="" class="perl_String">"?wsdl"</span>);
<span xmlns="" class="line">​</span>      Service service = Service.<span xmlns="" class="perl_Function">create</span>(wsdlURL, serviceName);
<span xmlns="" class="line">​</span>      ServiceIface proxy = 
<span xmlns="" class="line">​</span>          (ServiceIface)service.<span xmlns="" class="perl_Function">getPort</span>(ServiceIface.<span xmlns="" class="perl_Function">class</span>,  
<span xmlns="" class="line">​</span>                                        <span xmlns="" class="perl_Keyword">new</span> <span xmlns="" class="perl_Function">AddressingFeature</span>());
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Comment">// invoke method</span>
<span xmlns="" class="line">​</span>      proxy.<span xmlns="" class="perl_Function">sayHello</span>();
<span xmlns="" class="line">​</span>   }
<span xmlns="" class="line">​</span>}</pre></div></div></li></ol></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Result</div>
			The client and endpoint are now communicating using WS-Addressing.
		</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+3581-591655+%5BLatest%5D&comment=Title%3A+Enable+Web+Services+Addressing+%28WS-Addressing%29%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=3581-591655+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="JAX-WS_Common_API_Reference">
      ⁠</a>14.5.2.&nbsp;JAX-WS Common API Reference</h3></div></div></div><div class="para">
		Several JAX-WS development concepts are shared between Web Service endpoints and clients. These include the handler framework, message context, and fault handling.
	</div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Handler Framework</div>
			The handler framework is implemented by a JAX-WS protocol binding in the runtime of the client and the endpoint, which is the server component. Proxies and <code class="code">Dispatch</code> instances, known collectively as <em class="firstterm">binding providers</em>, each use protocol bindings to bind their abstract functionality to specific protocols.
		</div><div class="para">
		Client and server-side handlers are organized into an ordered list known as a <em class="firstterm">handler chain</em>. The handlers within a handler chain are invoked each time a message is sent or received. Inbound messages are processed by handlers before the binding provider processes them. Outbound messages are processed by handlers after the binding provider processes them.
	</div><div class="para">
		Handlers are invoked with a message context which provides methods to access and modify inbound and outbound messages and to manage a set of properties. Message context properties facilitate communication between individual handlers, as well as between handlers and client and service implementations. Different types of handlers are invoked with different types of message contexts.
	</div><div class="variablelist"><p class="title"><strong>Types of Message Handlers</strong></p><dl class="variablelist"><dt><span class="term">Logical Handler</span></dt><dd><div class="para">
					<em class="firstterm">Logical handlers</em> only operate on message context properties and message payloads. Logical handlers are protocol-independent and cannot affect protocol-specific parts of a message. Logical handlers implement interface <code class="code">javax.xml.ws.handler.LogicalHandler</code>.
				</div></dd><dt><span class="term">Protocol Handler</span></dt><dd><div class="para">
					<em class="firstterm">Protocol handlers</em> operate on message context properties and protocol-specific messages. Protocol handlers are specific to a particular protocol and may access and change protocol-specific aspects of a message. Protocol handlers implement any interface derived from <code class="code">javax.xml.ws.handler.Handler except javax.xml.ws.handler.LogicalHandler</code>.
				</div></dd><dt><span class="term">Service Endpoint Handler</span></dt><dd><div class="para">
					On a service endpoint, handlers are defined using the <code class="code">@HandlerChain</code> annotation. The location of the handler chain file can be either an absolute <code class="code">java.net.URL</code> in <code class="code">externalForm</code> or a relative path from the source file or class file.
				</div><div class="example"><a id="idp6874784">
      ⁠</a><p class="title"><strong>Example&nbsp;14.30.&nbsp;Example Service Endpoint Handler</strong></p><div class="example-contents"><pre class="programlisting JAVA"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>@WebService
<span xmlns="" class="line">​</span>@<span xmlns="" class="perl_Function">HandlerChain</span>(file = <span xmlns="" class="perl_String">"jaxws-server-source-handlers.xml"</span>)
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_Keyword">class</span> SOAPEndpointSourceImpl
<span xmlns="" class="line">​</span>{
<span xmlns="" class="line">​</span>   ...
<span xmlns="" class="line">​</span>}
<span xmlns="" class="line">​</span>
</pre></div></div></dd><dt><span class="term">Service Client Handler</span></dt><dd><div class="para">
					On a JAX-WS client, handlers are defined either by using the <code class="code">@HandlerChain</code> annotation, as in service endpoints, or dynamically, using the JAX-WS API.
				</div><div class="example"><a id="idp22824032">
      ⁠</a><p class="title"><strong>Example&nbsp;14.31.&nbsp;Defining a Service Client Handler Using the API</strong></p><div class="example-contents"><pre class="programlisting JAVA"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>Service service = Service.<span xmlns="" class="perl_Function">create</span>(wsdlURL, serviceName);
<span xmlns="" class="line">​</span>Endpoint port = (Endpoint)service.<span xmlns="" class="perl_Function">getPort</span>(Endpoint.<span xmlns="" class="perl_Function">class</span>);
<span xmlns="" class="line">​</span>     
<span xmlns="" class="line">​</span>BindingProvider bindingProvider = (BindingProvider)port;
<span xmlns="" class="line">​</span>List&lt;Handler&gt; handlerChain = <span xmlns="" class="perl_Keyword">new</span> ArrayList&lt;Handler&gt;();
<span xmlns="" class="line">​</span>handlerChain.<span xmlns="" class="perl_Function">add</span>(<span xmlns="" class="perl_Keyword">new</span> <span xmlns="" class="perl_Function">LogHandler</span>());
<span xmlns="" class="line">​</span>handlerChain.<span xmlns="" class="perl_Function">add</span>(<span xmlns="" class="perl_Keyword">new</span> <span xmlns="" class="perl_Function">AuthorizationHandler</span>());
<span xmlns="" class="line">​</span>handlerChain.<span xmlns="" class="perl_Function">add</span>(<span xmlns="" class="perl_Keyword">new</span> <span xmlns="" class="perl_Function">RoutingHandler</span>());
<span xmlns="" class="line">​</span>bindingProvider.<span xmlns="" class="perl_Function">getBinding</span>().<span xmlns="" class="perl_Function">setHandlerChain</span>(handlerChain);					</pre><div class="para">
						The call to the <code class="code">setHandlerChain</code> method is required.
					</div></div></div></dd></dl></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Message Context</div>
			The <code class="code">MessageContext</code> interface is the super interface for all JAX-WS message contexts. It extends <code class="code">Map&lt;String,Object&gt;</code> with additional methods and constants to manage a set of properties that enable handlers in a handler chain to share processing related state. For example, a handler may use the <code class="code">put</code> method to insert a property into the message context. One or more other handlers in the handler chain may subsequently obtain the message via the <code class="code">get</code> method.
		</div><div class="para">
		Properties are scoped as either <code class="literal">APPLICATION</code> or <code class="literal">HANDLER</code>. All properties are available to all handlers for an instance of a <em class="firstterm">message exchange pattern (MEP)</em> of a particular endpoint. For instance, if a logical handler puts a property into the message context, that property is also available to any protocol handlers in the chain during the execution of an MEP instance.
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="note"><div class="admonition_header"><p><strong>Note</strong></p></div><div class="admonition"><div class="para">
			An asynchronous Message Exchange Pattern (MEP) allows for sending and receiving messages asynchronously at the HTTP connection level. You can enable it by setting additional properties in the request context.
		</div></div></div><div class="para">
		Properties scoped at the <code class="literal">APPLICATION</code> level are also made available to client applications and service endpoint implementations. The <code class="code">defaultscope</code> for a property is <code class="literal">HANDLER</code>.
	</div><div class="para">
		Logical amd SOAP messages use different contexts.
	</div><div class="variablelist"><dl class="variablelist"><dt><span class="term">Logical Message Context</span></dt><dd><div class="para">
					When logical handlers are invoked, they receive a message context of type <code class="code">LogicalMessageContext</code>. <code class="code">LogicalMessageContext</code> extends <code class="code">MessageContext</code> with methods which obtain and modify the message payload. It does not provide access to the protocol-specific aspects of a message. A protocol binding defines which components of a message are available via a logical message context. A logical handler deployed in a SOAP binding can access the contents of the SOAP body but not the SOAP headers. On the other hand, the XML/HTTP binding defines that a logical handler can access the entire XML payload of a message.
				</div></dd><dt><span class="term">SOAP Message Context</span></dt><dd><div class="para">
					When SOAP handlers are invoked, they receive a <code class="code">SOAPMessageContext</code>. <code class="code">SOAPMessageContext</code> extends <code class="code">MessageContext</code> with methods which obtain and modify the SOAP message payload.
				</div></dd></dl></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Fault Handling</div>
			An application may throw a <code class="literal">SOAPFaultException</code> or an application-specific user exception. In the case of the latter, the required fault wrapper beans are generated at run-time if they are not already part of the deployment.
		</div><div class="example"><a id="idp17947504">
      ⁠</a><p class="title"><strong>Example&nbsp;14.32.&nbsp;Fault Handling Examples</strong></p><div class="example-contents"><pre class="programlisting JAVA"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_DataType">void</span> <span xmlns="" class="perl_Function">throwSoapFaultException</span>()
<span xmlns="" class="line">​</span>{
<span xmlns="" class="line">​</span>   SOAPFactory factory = SOAPFactory.<span xmlns="" class="perl_Function">newInstance</span>();
<span xmlns="" class="line">​</span>   SOAPFault fault = factory.<span xmlns="" class="perl_Function">createFault</span>(<span xmlns="" class="perl_String">"this is a fault string!"</span>, <span xmlns="" class="perl_Keyword">new</span> QName(<span xmlns="" class="perl_String">"http://foo"</span>, <span xmlns="" class="perl_String">"FooCode"</span>));
<span xmlns="" class="line">​</span>   fault.<span xmlns="" class="perl_Function">setFaultActor</span>(<span xmlns="" class="perl_String">"mr.actor"</span>);
<span xmlns="" class="line">​</span>   fault.<span xmlns="" class="perl_Function">addDetail</span>().<span xmlns="" class="perl_Function">addChildElement</span>(<span xmlns="" class="perl_String">"test"</span>);
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">throw</span> <span xmlns="" class="perl_Keyword">new</span> <span xmlns="" class="perl_Function">SOAPFaultException</span>(fault);
<span xmlns="" class="line">​</span>}
</pre><pre class="programlisting JAVA"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_DataType">void</span> <span xmlns="" class="perl_Function">throwApplicationException</span>() <span xmlns="" class="perl_Keyword">throws</span> UserException
<span xmlns="" class="line">​</span>{
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">throw</span> <span xmlns="" class="perl_Keyword">new</span> UserException(<span xmlns="" class="perl_String">"validation"</span>, <span xmlns="" class="perl_Float">123</span>, <span xmlns="" class="perl_String">"Some validation error"</span>);
<span xmlns="" class="line">​</span>}
</pre></div></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">JAX-WS Annotations</div>
			The annotations available via the JAX-WS API are defined in JSR-224, which can be found at <a href="http://www.jcp.org/en/jsr/detail?id=224">http://www.jcp.org/en/jsr/detail?id=224</a>. These annotations are in package <code class="code">javax.xml.ws</code>.
		</div><div class="para">
		The annotations available via the JWS API are defined in JSR-181, which can be found at <a href="http://www.jcp.org/en/jsr/detail?id=181">http://www.jcp.org/en/jsr/detail?id=181</a>. These annotations are in package <code class="code">javax.jws</code>.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+8841-646560+%5BLatest%5D&comment=Title%3A+JAX-WS+Common+API+Reference%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=8841-646560+29+May+2014+04%3A42+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div></div></div><div xml:lang="en-US" class="chapter" lang="en-US"><div class="titlepage"><div><div><h1 class="title"><a id="chap-WebSockets">
      ⁠</a>Chapter&nbsp;15.&nbsp;WebSockets</h1></div></div></div><div class="toc"><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_WebSockets">15.1. About WebSockets</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Create_a_Websocket_Application">15.2. Create a WebSocket Application</a></span></dt></dl></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="About_WebSockets">
      ⁠</a>15.1.&nbsp;About WebSockets</h2></div></div></div><div class="para">
		The WebSocket protocol provides two way communication between web clients and servers. Communications between clients and the server are event-based, allowing for faster processing and smaller bandwidth compared with polling-based methods. WebSocket is available for use in web applications via a JavaScript API.
	</div><div class="para">
		A connection is first established between client and server as an HTTP connection. The client then requests a WebSocket connection using the <code class="literal">Upgrade</code> header. All communications are then full-duplex over the same TCP/IP connection, with minimal data overhead. Because each message does not include unnecessary HTTP header content, Websocket communications require smaller bandwidth. The result is a low latency communications path, suited to applications which require real-time responsiveness.
	</div><div class="para">
		The JBoss EAP 6.3 WebSocket implementation provides full dependency injection support for server endpoints, however, it does not provide CDI services for client endpoints. CDI support is limited to that required by the Java EE 6 platform, and as a result, Java EE 7 features such as interceptors on endpoints are not supported.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+30495-676175+%5BLatest%5D&comment=Title%3A+About+WebSockets%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=30495-676175+24+Jun+2014+21%3A16+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="Create_a_Websocket_Application">
      ⁠</a>15.2.&nbsp;Create a WebSocket Application</h2></div></div></div><div class="para">
		A WebSocket application requires the following components and configuration changes: 
		<div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
					A Java client or a WebSocket enabled HTML client. You can verify HTML client browser support at this location: <a href="http://caniuse.com/websockets">http://caniuse.com/websockets</a>
				</div></li><li class="listitem"><div class="para">
					A WebSocket server endpoint class.
				</div></li><li class="listitem"><div class="para">
					A <code class="filename">jboss-web.xml</code> file configured to enable WebSockets.
				</div></li><li class="listitem"><div class="para">
					Project dependencies configured to declare a dependency on the WebSocket API.
				</div></li><li class="listitem"><div class="para">
					Enable the <code class="literal">NIO2</code> connector in the <code class="literal">web</code> subsystem of the JBoss EAP server configuration file. If you installed the Native Components for your operating system with the JBoss EAP installation and have also installed Apache Portability Runtime (APR), you can instead choose to enable the <code class="literal">APR</code> connector.
				</div></li></ul></div>
		 <div xmlns:d="http://docbook.org/ns/docbook" class="note"><div class="admonition_header"><p><strong>Note</strong></p></div><div class="admonition"><div class="para">
				WebSocket applications require Java Runtime Environment version 7 or greater. Otherwise the WebSocket will not be enabled.
			</div></div></div>

	</div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idp4090480">
      ⁠</a><p class="title"><strong>Procedure&nbsp;15.1.&nbsp;Create the WebSocket Application</strong></p><div class="para">
			The following is a simple example of a WebSocket application. It provides buttons to open a connection, send a message, and close a connection. It does not implement any other functions or include any error handling, which would be required for a real world application.
		</div><ol class="1"><li class="step"><p class="title"><strong>Create the JavaScript HTML client.</strong></p><div class="para">
				The following is an example of a WebSocket client. It contains these JavaScript functions: 
				<div class="itemizedlist"><ul><li class="listitem"><div class="para">
							<code class="code">connect()</code>: This function creates the WebSocket connection passing the WebSocket URI. The resource location matches the resource defined in the server endpoint class. This function also intercepts and handles the WebSocket <code class="code">onopen</code>, <code class="code">onmessage</code>, <code class="code">onerror</code>, and <code class="code">onclose</code>.
						</div></li><li class="listitem"><div class="para">
							<code class="code">sendMessage()</code>: This function gets the name entered in the form, creates a message, and sends it using a WebSocket.send() command.
						</div></li><li class="listitem"><div class="para">
							<code class="code">disconnect()</code>: This function issues the WebSocket.close() command.
						</div></li><li class="listitem"><div class="para">
							<code class="code">displayMessage()</code>: This function sets the display message on the page to the value returned by the WebSocket endpoint method.
						</div></li><li class="listitem"><div class="para">
							<code class="code">displayStatus()</code>: This function displays the WebSocket connection status.
						</div></li></ul></div>
				 l
			</div><div class="para">
				
<pre class="programlisting"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;html</span><span xmlns="" class="perl_Others"> xmlns=</span><span xmlns="" class="perl_String">"http://www.w3.org/1999/xhtml"</span><span xmlns="" class="perl_Others"> xml:lang=</span><span xmlns="" class="perl_String">"en"</span><span xmlns="" class="perl_Keyword">&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;head&gt;</span>
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">&lt;title&gt;</span>WebSocket: Say Hello<span xmlns="" class="perl_Keyword">&lt;/title&gt;</span>
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">&lt;link</span><span xmlns="" class="perl_Others"> rel=</span><span xmlns="" class="perl_String">"stylesheet"</span><span xmlns="" class="perl_Others"> type=</span><span xmlns="" class="perl_String">"text/css"</span><span xmlns="" class="perl_Others"> href=</span><span xmlns="" class="perl_String">"resources/css/hello.css"</span> <span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">&lt;script</span><span xmlns="" class="perl_Others"> type=</span><span xmlns="" class="perl_String">"text/javascript"</span><span xmlns="" class="perl_Keyword">&gt;</span>
<span xmlns="" class="line">​</span>            var websocket = null;
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>            function connect() {
<span xmlns="" class="line">​</span>                var wsURI = 'ws://' + window.location.host + '/jboss-websocket-hello/websocket/helloName';
<span xmlns="" class="line">​</span>                websocket = new WebSocket(wsURI);
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>                websocket.onopen = function() {
<span xmlns="" class="line">​</span>                    displayStatus('Open');
<span xmlns="" class="line">​</span>                    document.getElementById('sayHello').disabled = false;
<span xmlns="" class="line">​</span>                    displayMessage('Connection is now open. Type a name and click Say Hello to send a message.');
<span xmlns="" class="line">​</span>                };
<span xmlns="" class="line">​</span>                websocket.onmessage = function(event) {
<span xmlns="" class="line">​</span>                    // log the event                
<span xmlns="" class="line">​</span>                    displayMessage('The response was received! ' + event.data, 'success');
<span xmlns="" class="line">​</span>                };
<span xmlns="" class="line">​</span>                websocket.onerror = function(event) {
<span xmlns="" class="line">​</span>                    // log the event
<span xmlns="" class="line">​</span>                    displayMessage('Error! ' + event.data, 'error');
<span xmlns="" class="line">​</span>                };
<span xmlns="" class="line">​</span>                websocket.onclose = function() {
<span xmlns="" class="line">​</span>                    displayStatus('Closed');
<span xmlns="" class="line">​</span>                    displayMessage('The connection was closed or timed out. Please click the Open Connection button to reconnect.');
<span xmlns="" class="line">​</span>                    document.getElementById('sayHello').disabled = true;
<span xmlns="" class="line">​</span>                };
<span xmlns="" class="line">​</span>            }
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>            function disconnect() {
<span xmlns="" class="line">​</span>                if (websocket !== null) {
<span xmlns="" class="line">​</span>                    websocket.close();
<span xmlns="" class="line">​</span>                    websocket = null;
<span xmlns="" class="line">​</span>                }
<span xmlns="" class="line">​</span>                message.setAttribute("class", "message");
<span xmlns="" class="line">​</span>                message.value = 'WebSocket closed.';
<span xmlns="" class="line">​</span>                // log the event
<span xmlns="" class="line">​</span>            }
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>            function sendMessage() {
<span xmlns="" class="line">​</span>                if (websocket !== null) {
<span xmlns="" class="line">​</span>                    var content = document.getElementById('name').value;
<span xmlns="" class="line">​</span>                    websocket.send(content);
<span xmlns="" class="line">​</span>                } else {
<span xmlns="" class="line">​</span>                    displayMessage('WebSocket connection is not established. Please click the Open Connection button.', 'error');
<span xmlns="" class="line">​</span>                }
<span xmlns="" class="line">​</span>            }
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>            function displayMessage(data, style) {
<span xmlns="" class="line">​</span>                var message = document.getElementById('hellomessage');
<span xmlns="" class="line">​</span>                message.setAttribute("class", style);
<span xmlns="" class="line">​</span>                message.value = data;
<span xmlns="" class="line">​</span>            }
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>            function displayStatus(status) {
<span xmlns="" class="line">​</span>                var currentStatus = document.getElementById('currentstatus');
<span xmlns="" class="line">​</span>                currentStatus.value = status;
<span xmlns="" class="line">​</span>            }
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">&lt;/script&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;/head&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;body&gt;</span>
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">&lt;div&gt;</span>
<span xmlns="" class="line">​</span>            <span xmlns="" class="perl_Keyword">&lt;h1&gt;</span>Welcome to JBoss!<span xmlns="" class="perl_Keyword">&lt;/h1&gt;</span>
<span xmlns="" class="line">​</span>            <span xmlns="" class="perl_Keyword">&lt;div&gt;</span>This is a simple example of a WebSocket implementation.<span xmlns="" class="perl_Keyword">&lt;/div&gt;</span>
<span xmlns="" class="line">​</span>            <span xmlns="" class="perl_Keyword">&lt;div</span><span xmlns="" class="perl_Others"> id=</span><span xmlns="" class="perl_String">"connect-container"</span><span xmlns="" class="perl_Keyword">&gt;</span>
<span xmlns="" class="line">​</span>                <span xmlns="" class="perl_Keyword">&lt;div&gt;</span>
<span xmlns="" class="line">​</span>                    <span xmlns="" class="perl_Keyword">&lt;fieldset&gt;</span>
<span xmlns="" class="line">​</span>                        <span xmlns="" class="perl_Keyword">&lt;legend&gt;</span>Connect or disconnect using WebSocket :<span xmlns="" class="perl_Keyword">&lt;/legend&gt;</span>
<span xmlns="" class="line">​</span>                        <span xmlns="" class="perl_Keyword">&lt;input</span><span xmlns="" class="perl_Others"> type=</span><span xmlns="" class="perl_String">"button"</span><span xmlns="" class="perl_Others"> id=</span><span xmlns="" class="perl_String">"connect"</span><span xmlns="" class="perl_Others"> onclick=</span><span xmlns="" class="perl_String">"connect();"</span><span xmlns="" class="perl_Others"> value=</span><span xmlns="" class="perl_String">"Open Connection"</span> <span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span>                        <span xmlns="" class="perl_Keyword">&lt;input</span><span xmlns="" class="perl_Others"> type=</span><span xmlns="" class="perl_String">"button"</span><span xmlns="" class="perl_Others"> id=</span><span xmlns="" class="perl_String">"disconnect"</span><span xmlns="" class="perl_Others"> onclick=</span><span xmlns="" class="perl_String">"disconnect();"</span><span xmlns="" class="perl_Others"> value=</span><span xmlns="" class="perl_String">"Close Connection"</span> <span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span>                    <span xmlns="" class="perl_Keyword">&lt;/fieldset&gt;</span>
<span xmlns="" class="line">​</span>                <span xmlns="" class="perl_Keyword">&lt;/div&gt;</span>
<span xmlns="" class="line">​</span>                <span xmlns="" class="perl_Keyword">&lt;div&gt;</span>
<span xmlns="" class="line">​</span>                    <span xmlns="" class="perl_Keyword">&lt;fieldset&gt;</span>
<span xmlns="" class="line">​</span>                        <span xmlns="" class="perl_Keyword">&lt;legend&gt;</span>Type your name below. then click the `Say Hello` button :<span xmlns="" class="perl_Keyword">&lt;/legend&gt;</span>
<span xmlns="" class="line">​</span>                        <span xmlns="" class="perl_Keyword">&lt;input</span><span xmlns="" class="perl_Others"> id=</span><span xmlns="" class="perl_String">"name"</span><span xmlns="" class="perl_Others"> type=</span><span xmlns="" class="perl_String">"text"</span><span xmlns="" class="perl_Others"> size=</span><span xmlns="" class="perl_String">"40"</span><span xmlns="" class="perl_Others"> style=</span><span xmlns="" class="perl_String">"width: 40%"</span><span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span>                        <span xmlns="" class="perl_Keyword">&lt;input</span><span xmlns="" class="perl_Others"> type=</span><span xmlns="" class="perl_String">"button"</span><span xmlns="" class="perl_Others"> id=</span><span xmlns="" class="perl_String">"sayHello"</span><span xmlns="" class="perl_Others"> onclick=</span><span xmlns="" class="perl_String">"sendMessage();"</span><span xmlns="" class="perl_Others"> value=</span><span xmlns="" class="perl_String">"Say Hello"</span><span xmlns="" class="perl_Others"> disabled=</span><span xmlns="" class="perl_String">"disabled"</span><span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span>                    <span xmlns="" class="perl_Keyword">&lt;/fieldset&gt;</span>
<span xmlns="" class="line">​</span>                <span xmlns="" class="perl_Keyword">&lt;/div&gt;</span>
<span xmlns="" class="line">​</span>                <span xmlns="" class="perl_Keyword">&lt;div&gt;</span>Current WebSocket Connection Status: <span xmlns="" class="perl_Keyword">&lt;output</span><span xmlns="" class="perl_Others"> id=</span><span xmlns="" class="perl_String">"currentstatus"</span><span xmlns="" class="perl_Others"> class=</span><span xmlns="" class="perl_String">"message"</span><span xmlns="" class="perl_Keyword">&gt;</span>Closed<span xmlns="" class="perl_Keyword">&lt;/output&gt;&lt;/div&gt;</span>
<span xmlns="" class="line">​</span>                <span xmlns="" class="perl_Keyword">&lt;div&gt;</span>
<span xmlns="" class="line">​</span>                    <span xmlns="" class="perl_Keyword">&lt;output</span><span xmlns="" class="perl_Others"> id=</span><span xmlns="" class="perl_String">"hellomessage"</span> <span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span>                <span xmlns="" class="perl_Keyword">&lt;/div&gt;</span>
<span xmlns="" class="line">​</span>            <span xmlns="" class="perl_Keyword">&lt;/div&gt;</span>
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">&lt;/div&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;/body&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;/html&gt;</span></pre>

			</div></li><li class="step"><p class="title"><strong>Create the WebSocket server endpoint.</strong></p><div class="para">
				You can create a WebSocket server endpoint using either of the following methods. 
				<div class="itemizedlist"><ul><li class="listitem"><div class="para">
							<code class="literal">Programmatic Endpoint</code>: The endpoint extends the Endpoint class.
						</div></li><li class="listitem"><div class="para">
							<code class="literal">Annotated Endpoint</code>: The endpoint class uses annotations to interact with the WebSocket events. It is simpler to code than the programmatic endpoint
						</div></li></ul></div>
				 The code example below uses the annotated endpoint approach and handles the following events. 
				<div class="itemizedlist"><ul><li class="listitem"><div class="para">
							The <code class="code">@ServerEndpoint</code> annotation identifies this class as a WebSocket server endpoint and specifies the path.
						</div></li><li class="listitem"><div class="para">
							The <code class="code">@OnOpen</code> annotation is triggered when the WebSocket connection is opened.
						</div></li><li class="listitem"><div class="para">
							The <code class="code">@OnMessage</code> annotation is triggered when a message is sent to the WebSocket connection.
						</div></li><li class="listitem"><div class="para">
							The <code class="code">@OnClose</code> annotation is triggered when the WebSocket connection is closed.
						</div></li></ul></div>

			</div><div class="para">
				
<pre class="programlisting JAVA"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>package org.<span xmlns="" class="perl_Function">jboss</span>.<span xmlns="" class="perl_Function">as</span>.<span xmlns="" class="perl_Function">quickstarts</span>.<span xmlns="" class="perl_Function">websocket_hello</span>;
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">import javax.websocket.CloseReason;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">import javax.websocket.OnClose;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">import javax.websocket.OnMessage;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">import javax.websocket.OnOpen;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">import javax.websocket.Session;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">import javax.websocket.server.ServerEndpoint;</span>
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>@<span xmlns="" class="perl_Function">ServerEndpoint</span>(<span xmlns="" class="perl_String">"/websocket/helloName"</span>)
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_Keyword">class</span> HelloName {
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>    @OnMessage
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">public</span> String <span xmlns="" class="perl_Function">sayHello</span>(String name) {
<span xmlns="" class="line">​</span>        System.<span xmlns="" class="perl_Function">out</span>.<span xmlns="" class="perl_Function">println</span>(<span xmlns="" class="perl_String">"Say hello to '"</span> + name + <span xmlns="" class="perl_String">"'"</span>);
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">return</span> (<span xmlns="" class="perl_String">"Hello"</span> + name);    
<span xmlns="" class="line">​</span>    }
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>    @OnOpen
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_DataType">void</span> <span xmlns="" class="perl_Function">helloOnOpen</span>(Session session) {
<span xmlns="" class="line">​</span>        System.<span xmlns="" class="perl_Function">out</span>.<span xmlns="" class="perl_Function">println</span>(<span xmlns="" class="perl_String">"WebSocket opened: "</span> + session.<span xmlns="" class="perl_Function">getId</span>());
<span xmlns="" class="line">​</span>    }
<span xmlns="" class="line">​</span>    
<span xmlns="" class="line">​</span>    @OnClose
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_DataType">void</span> <span xmlns="" class="perl_Function">helloOnClose</span>(CloseReason reason) {
<span xmlns="" class="line">​</span>        System.<span xmlns="" class="perl_Function">out</span>.<span xmlns="" class="perl_Function">println</span>(<span xmlns="" class="perl_String">"Closing a WebSocket due to "</span> + reason.<span xmlns="" class="perl_Function">getReasonPhrase</span>());
<span xmlns="" class="line">​</span>    }
<span xmlns="" class="line">​</span>}
</pre>

			</div></li><li class="step"><p class="title"><strong>Configure the jboss-web.xml file.</strong></p><div class="para">
				You must create the <code class="code">&lt;enable-websockets&gt;</code> element in the application <code class="filename">WEB-INF/jboss-web.xml</code> and set it to <code class="literal">true</code>. 
<pre class="programlisting"><span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;?xml</span> version="1.0" encoding="UTF-8"<span xmlns="" class="perl_Keyword">?&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">&lt;!--Enable WebSockets --&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;jboss-web&gt;</span>
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">&lt;enable-websockets&gt;</span>true<span xmlns="" class="perl_Keyword">&lt;/enable-websockets&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;/jboss-web&gt;</span></pre>

			</div></li><li class="step"><p class="title"><strong>Declare the WebSocket API dependency in your project POM file.</strong></p><div class="para">
				If you use Maven, you add the following dependency to the project <code class="filename">pom.xml</code> file. 
<pre class="programlisting"><span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;dependency&gt;</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">&lt;groupId&gt;</span>org.jboss.spec.javax.websocket<span xmlns="" class="perl_Keyword">&lt;/groupId&gt;</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">&lt;artifactId&gt;</span>jboss-websocket-api_1.0_spec<span xmlns="" class="perl_Keyword">&lt;/artifactId&gt;</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">&lt;version&gt;</span>1.0.0.Final<span xmlns="" class="perl_Keyword">&lt;/version&gt;</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">&lt;scope&gt;</span>provided<span xmlns="" class="perl_Keyword">&lt;/scope&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;/dependency&gt;</span>
</pre>

			</div></li><li class="step"><p class="title"><strong>Configure the JBoss EAP server.</strong></p><div class="para">
				Configure the <code class="literal">http</code> <code class="code">&lt;connector&gt;</code> in the <code class="literal">web</code> subsystem of the server configuration file to use the <code class="literal">NIO2</code> protocol.
			</div><ol class="substeps a"><li class="step"><div class="para">
						Start the JBoss EAP server.
					</div></li><li class="step"><div class="para">
						Launch the Management CLI using the command for your operating system.
					</div><div class="para">
						For Linux: 
<pre class="screen"><code class="command"><em class="replaceable">EAP_HOME</em>/bin/jboss-cli.sh --connect</code></pre>
						 For Windows: 
<pre class="screen"><code class="command"><em class="replaceable">EAP_HOME</em>\bin\jboss-cli.bat --connect</code></pre>

					</div></li><li class="step"><div class="para">
						Enable the <code class="literal">NIO2</code> or the <code class="literal">APR</code> connector in the <code class="literal">web</code> subsystem of the JBoss EAP server configuration file.
					</div><ul class="stepalternatives">
						<li class="step"><div class="para">
								Type the following command to use the non blocking Java <code class="literal">NIO2</code> connector protocol: 
<pre class="screen"><code class="command">/subsystem=web/connector=http/:write-attribute(name=protocol,value=org.apache.coyote.http11.Http11NioProtocol)</code></pre>

							</div></li>
						 <li class="step"><div class="para">
								If you have installed the Apache Portability Runtime (APR), you can type the following commands to use the Apache Portable Runtime <code class="literal">APR</code> native connector protocol: 
<pre class="screen"><code class="command">/subsystem=web:write-attribute(name=native,value=true)</code>
<code class="command">/subsystem=web/connector=http/:write-attribute(name=protocol,value=org.apache.coyote.http11.Http11AprProtocol)</code></pre>

							</div></li>

					</ul><div class="para">

					</div><div class="para">
						For either command, you should see the following result: 
<pre class="screen">{
    "outcome" =&gt; "success",
    "response-headers" =&gt; {
        "operation-requires-reload" =&gt; true,
        "process-state" =&gt; "reload-required"
    }
}</pre>

					</div></li><li class="step"><div class="para">
						Notify the server to reload the configuration. 
<pre class="screen"><code class="command">:reload</code></pre>

					</div><div class="para">
						You should see the following result: 
<pre class="screen">{
    "outcome" =&gt; "success",
    "result" =&gt; undefined
}
</pre>

					</div></li><li class="step"><div class="para">
						Review the changes to the JBoss EAP server configuration file. The <code class="literal">web</code> subsystem should now contain the following XML for the <code class="literal">http</code> <code class="code">&lt;connector&gt;</code>.
					</div><div class="para">
						For the <code class="literal">NIO2</code> connector configuration: 
<pre class="programlisting"><span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;subsystem</span><span xmlns="" class="perl_Others"> xmlns=</span><span xmlns="" class="perl_String">"urn:jboss:domain:web:2.1"</span><span xmlns="" class="perl_Others"> default-virtual-server=</span><span xmlns="" class="perl_String">"default-host"</span><span xmlns="" class="perl_Others"> native=</span><span xmlns="" class="perl_String">"false"</span><span xmlns="" class="perl_Keyword">&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;connector</span><span xmlns="" class="perl_Others"> name=</span><span xmlns="" class="perl_String">"http"</span><span xmlns="" class="perl_Others"> protocol=</span><span xmlns="" class="perl_String">"org.apache.coyote.http11.Http11NioProtocol"</span><span xmlns="" class="perl_Others"> scheme=</span><span xmlns="" class="perl_String">"http"</span><span xmlns="" class="perl_Others"> socket-binding=</span><span xmlns="" class="perl_String">"http"</span><span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;virtual-server</span><span xmlns="" class="perl_Others"> name=</span><span xmlns="" class="perl_String">"default-host"</span><span xmlns="" class="perl_Others"> enable-welcome-root=</span><span xmlns="" class="perl_String">"true"</span><span xmlns="" class="perl_Keyword">&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;alias</span><span xmlns="" class="perl_Others"> name=</span><span xmlns="" class="perl_String">"localhost"</span><span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">&lt;alias</span><span xmlns="" class="perl_Others"> name=</span><span xmlns="" class="perl_String">"example.com"</span><span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;/virtual-server&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;/subsystem&gt;</span></pre>

					</div><div class="para">
						For the <code class="literal">APR</code> connector configuration: 
<pre class="programlisting"><span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;subsystem</span><span xmlns="" class="perl_Others"> xmlns=</span><span xmlns="" class="perl_String">"urn:jboss:domain:web:2.1"</span><span xmlns="" class="perl_Others"> default-virtual-server=</span><span xmlns="" class="perl_String">"default-host"</span><span xmlns="" class="perl_Others"> native=</span><span xmlns="" class="perl_String">"true"</span><span xmlns="" class="perl_Keyword">&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;connector</span><span xmlns="" class="perl_Others"> name=</span><span xmlns="" class="perl_String">"http"</span><span xmlns="" class="perl_Others"> protocol=</span><span xmlns="" class="perl_String">"org.apache.coyote.http11.Http11AprProtocol"</span><span xmlns="" class="perl_Others"> scheme=</span><span xmlns="" class="perl_String">"http"</span><span xmlns="" class="perl_Others"> socket-binding=</span><span xmlns="" class="perl_String">"http"</span><span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;virtual-server</span><span xmlns="" class="perl_Others"> name=</span><span xmlns="" class="perl_String">"default-host"</span><span xmlns="" class="perl_Others"> enable-welcome-root=</span><span xmlns="" class="perl_String">"true"</span><span xmlns="" class="perl_Keyword">&gt;</span>
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">&lt;alias</span><span xmlns="" class="perl_Others"> name=</span><span xmlns="" class="perl_String">"localhost"</span><span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">&lt;alias</span><span xmlns="" class="perl_Others"> name=</span><span xmlns="" class="perl_String">"example.com"</span><span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;/virtual-server&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;/subsystem&gt;</span></pre>

					</div></li></ol></li></ol></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+30607-666424+%5BLatest%5D&comment=Title%3A+Create+a+WebSocket+Application%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=30607-666424+11+Jun+2014+01%3A06+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div></div><div xml:lang="en-US" class="chapter" lang="en-US"><div class="titlepage"><div><div><h1 class="title"><a id="chap-Identity_Within_Applications">
      ⁠</a>Chapter&nbsp;16.&nbsp;Identity Within Applications</h1></div></div></div><div class="toc"><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Foundational_Concepts">16.1. Foundational Concepts</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Encryption">16.1.1. About Encryption</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Security_Domains">16.1.2. About Security Domains</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_SSL_Encryption">16.1.3. About SSL Encryption</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Declarative_Security">16.1.4. About Declarative Security</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Role-Based_Security_in_Applications">16.2. Role-Based Security in Applications</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Application_Security">16.2.1. About Application Security</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Authentication1">16.2.2. About Authentication</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Authorization1">16.2.3. About Authorization</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Security_Auditing1">16.2.4. About Security Auditing</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Security_Mapping1">16.2.5. About Security Mapping</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Java_Authentication_and_Authorization_Service_JAAS">16.2.6. Java Authentication and Authorization Service (JAAS)</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Java_Authentication_and_Authorization_Service_JAAS">16.2.7. About Java Authentication and Authorization Service (JAAS)</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Use_a_Security_Domain_in_Your_Application">16.2.8. Use a Security Domain in Your Application</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Use_Role-Based_Security_In_Servlets">16.2.9. Use Role-Based Security In Servlets</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Use_A_Third-Party_Authentication_System_In_Your_Application">16.2.10. Use A Third-Party Authentication System In Your Application</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Security_Realms">16.3. Security Realms</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Security_Realms">16.3.1. About Security Realms</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Add_a_New_Security_Realm">16.3.2. Add a New Security Realm</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Add_a_User_to_a_Security_Realm">16.3.3. Add a User to a Security Realm</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-EJB_Application_Security">16.4. EJB Application Security</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Security_Identity">16.4.1. Security Identity</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-EJB_Method_Permissions">16.4.2. EJB Method Permissions</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-EJB_Security_Annotations">16.4.3. EJB Security Annotations</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Remote_Access_to_EJBs">16.4.4. Remote Access to EJBs</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-JAX-RS_Application_Security">16.5. JAX-RS Application Security</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Enable_Role-Based_Security_for_a_RESTEasy_JAX-RS_Web_Service">16.5.1. Enable Role-Based Security for a RESTEasy JAX-RS Web Service</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Secure_a_JAX-RS_Web_Service_using_Annotations">16.5.2. Secure a JAX-RS Web Service using Annotations</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Secure_Remote_Password_Protocol">16.6. Secure Remote Password Protocol</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Secure_Remote_Password_Protocol_SRP">16.6.1. About Secure Remote Password Protocol (SRP)</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Configure_Secure_Remote_Password_ISRP_Protocol">16.6.2. Configure Secure Remote Password (SRP) Protocol</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Password_Vaults_for_Sensitive_Strings">16.7. Password Vaults for Sensitive Strings</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Securing_Sensitive_Strings_in_Clear-Text_Files1">16.7.1. Password Vault System</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Create_a_Java_Keystore_to_Store_Sensitive_Strings">16.7.2. Create a Java Keystore to Store Sensitive Strings</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Mask_the_Keystore_Password_and_Initialize_the_Password_Vault.">16.7.3. Mask the Keystore Password and Initialize the Password Vault</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Configure_the_Enterprise_Application_Platform_to_Use_the_Password_Vault1">16.7.4. Configure JBoss EAP 6 to Use the Password Vault</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Configure_JBoss_EAP_6_to_Use_a_Custom_Implementation_of_the_Password_Vault">16.7.5. Configure JBoss EAP 6 to Use a Custom Implementation of the Password Vault</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Store_and_Retrieve_Encrypted_Sensitive_Strings_in_the_Java_Keystore">16.7.6. Store and Retrieve Encrypted Sensitive Strings in the Java Keystore</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Store_and_Resolve_Sensitive_Strings_In_Your_Applications1">16.7.7. Store and Resolve Sensitive Strings In Your Applications</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Java_Authorization_Contract_for_Containers_JACC">16.8. Java Authorization Contract for Containers (JACC)</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Java_Authorization_Contract_for_Containers_JACC">16.8.1. About Java Authorization Contract for Containers (JACC)</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Configure_Java_Authorization_Contract_for_Containers_JACC_Security">16.8.2. Configure Java Authorization Contract for Containers (JACC) Security</a></span></dt></dl></dd><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#sect-Java_Authentication_SPI_for_Containers_JASPI">16.9. Java Authentication SPI for Containers (JASPI)</a></span></dt><dd><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Java_Authentication_SPI_for_Containers_JASPI_Security1">16.9.1. About Java Authentication SPI for Containers (JASPI) Security</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Configure_Java_Authentication_SPI_for_Containers_JASPI_Security1">16.9.2. Configure Java Authentication SPI for Containers (JASPI) Security</a></span></dt></dl></dd></dl></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="sect-Foundational_Concepts">
      ⁠</a>16.1.&nbsp;Foundational Concepts</h2></div></div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="About_Encryption">
      ⁠</a>16.1.1.&nbsp;About Encryption</h3></div></div></div><div class="para">
		<em class="firstterm">Encryption</em> refers to obfuscating sensitive information by applying mathematical algorithms to it. Encryption is one of the foundations of securing your infrastructure from data breaches, system outages, and other risks.
	</div><div class="para">
		Encryption can be applied to simple string data, such as passwords. It can also be applied to data communication streams. The HTTPS protocol, for instance, encrypts all data before transferring it from one party to another. If you connect from one server to another using the Secure Shell (SSH) protocol, all of your communication is sent in an encrypted <em class="wordasword"> tunnel </em>.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4774-591672+%5BLatest%5D&comment=Title%3A+About+Encryption%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4774-591672+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="About_Security_Domains">
      ⁠</a>16.1.2.&nbsp;About Security Domains</h3></div></div></div><div class="para">
		Security domains are part of the JBoss EAP 6 security subsystem. All security configuration is now managed centrally, by the domain controller of a managed domain, or by the standalone server.
	</div><div class="para">
		A security domain consists of configurations for authentication, authorization, security mapping, and auditing. It implements <em class="firstterm">Java Authentication and Authorization Service (JAAS)</em> declarative security.
	</div><div class="para">
		Authentication refers to verifying the identity of a user. In security terminology, this user is referred to as a <em class="firstterm">principal</em>. Although authentication and authorization are different, many of the included authentication modules also handle authorization.
	</div><div class="para">
		<em class="firstterm">Authorization</em> is a process by which the server determines if an authenticated user has permission or privileges to access specific resources in the system or operation.
	</div><div class="para">
		<em class="firstterm">Security mapping</em> refers to the ability to add, modify, or delete information from a principal, role, or attribute before passing the information to your application.
	</div><div class="para">
		The auditing manager allows you to configure <em class="firstterm">provider modules</em> to control the way that security events are reported.
	</div><div class="para">
		If you use security domains, you can remove all specific security configuration from your application itself. This allows you to change security parameters centrally. One common scenario that benefits from this type of configuration structure is the process of moving applications between testing and production environments.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4721-687641+%5BLatest%5D&comment=Title%3A+About+Security+Domains%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4721-687641+24+Jul+2014+10%3A17+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="About_SSL_Encryption">
      ⁠</a>16.1.3.&nbsp;About SSL Encryption</h3></div></div></div><div class="para">
		Secure Sockets Layer (SSL) encrypts network traffic between two systems. Traffic between the two systems is encrypted using a two-way key, generated during the <em class="glossterm"> handshake</em>
		 phase of the connection and known only by those two systems.
	</div><div class="para">
		For secure exchange of the two-way encryption key, SSL makes use of Public Key Infrastructure (PKI), a method of encryption that utilizes a <em class="firstterm">key pair</em>. A <em class="firstterm">key pair</em> consists of two separate but matching cryptographic keys - a public key and a private key. The public key is shared with others and is used to encrypt data, and the private key is kept secret and is used to decrypt data that has been encrypted using the public key.
	</div><div class="para">
		When a client requests a secure connection, a handshake phase takes place before secure communication can begin. During the SSL handshake the server passes its public key to the client in the form of a certificate. The certificate contains the identity of the server (its URL), the public key of the server, and a digital signature that validates the certificate. The client then validates the certificate and makes a decision about whether the certificate is trusted or not. If the certificate is trusted, the client generates the two-way encryption key for the SSL connection, encrypts it using the public key of the server, and sends it back to the server. The server decrypts the two-way encryption key, using its private key, and further communication between the two machines over this connection is encrypted using the two-way encryption key.
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="warning"><div class="admonition_header"><p><strong>Warning</strong></p></div><div class="admonition"><div class="para">
			Red&nbsp;Hat recommends that you explicitly disable SSL in favor of TLSv1.1 or TLSv1.2 in all affected packages.
		</div></div></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4775-724692+%5BLatest%5D&comment=Title%3A+About+SSL+Encryption%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4775-724692+10+Nov+2014+14%3A42+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="About_Declarative_Security">
      ⁠</a>16.1.4.&nbsp;About Declarative Security</h3></div></div></div><div class="para">
		<em class="firstterm">Declarative security</em> is a method to separate security concerns from your application code by using the container to manage security. The container provides an authorization system based on either file permissions or users, groups, and roles. This approach is usually superior to <em class="firstterm">programmatic</em> security, which gives the application itself all of the responsibility for security.
	</div><div class="para">
		JBoss EAP 6 provides declarative security via security domains.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4766-591673+%5BLatest%5D&comment=Title%3A+About+Declarative+Security%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4766-591673+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="sect-Role-Based_Security_in_Applications">
      ⁠</a>16.2.&nbsp;Role-Based Security in Applications</h2></div></div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="About_Application_Security">
      ⁠</a>16.2.1.&nbsp;About Application Security</h3></div></div></div><div class="para">
		Securing your applications is a multi-faceted and important concern for every application developer. JBoss EAP 6 provides all the tools you need to write secure applications, including the following abilities:
	</div><div class="para">
		<div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
					<a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Authentication1">Section&nbsp;16.2.2, “About Authentication”</a>
				</div></li><li class="listitem"><div class="para">
					<a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Authorization1">Section&nbsp;16.2.3, “About Authorization”</a>
				</div></li><li class="listitem"><div class="para">
					<a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Security_Auditing1">Section&nbsp;16.2.4, “About Security Auditing”</a>
				</div></li><li class="listitem"><div class="para">
					<a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Security_Mapping1">Section&nbsp;16.2.5, “About Security Mapping”</a>
				</div></li><li class="listitem"><div class="para">
					<a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Declarative_Security">Section&nbsp;16.1.4, “About Declarative Security”</a>
				</div></li><li class="listitem"><div class="para">
					<a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_EJB_Method_Permissions">Section&nbsp;16.4.2.1, “About EJB Method Permissions”</a>
				</div></li><li class="listitem"><div class="para">
					<a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_EJB_Security_Annotations">Section&nbsp;16.4.3.1, “About EJB Security Annotations”</a>
				</div></li></ul></div>

	</div><div class="para">
		See also <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Use_a_Security_Domain_in_Your_Application">Section&nbsp;16.2.8, “Use a Security Domain in Your Application”</a>.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4771-591672+%5BLatest%5D&comment=Title%3A+About+Application+Security%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4771-591672+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="About_Authentication1">
      ⁠</a>16.2.2.&nbsp;About Authentication</h3></div></div></div><div class="para">
		Authentication refers to identifying a subject and verifying the authenticity of the identification. The most common authentication mechanism is a username and password combination. Other common authentication mechanisms use shared keys, smart cards, or fingerprints. The outcome of a successful authentication is referred to as a principal, in terms of Java Enterprise Edition declarative security.
	</div><div class="para">
		JBoss EAP 6 uses a pluggable system of authentication modules to provide flexibility and integration with the authentication systems you already use in your organization. Each security domain contains one or more configured authentication modules. Each module includes additional configuration parameters to customize its behavior. The easiest way to configure the authentication subsystem is within the web-based management console.
	</div><div class="para">
		Authentication is not the same as authorization, although they are often linked. Many of the included authentication modules can also handle authorization.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4723-591674+%5BLatest%5D&comment=Title%3A+About+Authentication%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4723-591674+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="About_Authorization1">
      ⁠</a>16.2.3.&nbsp;About Authorization</h3></div></div></div><div class="para">
		Authorization is a mechanism for granting or denying access to a resource based on identity. It is implemented as a set of declarative security roles which can be added to principals.
	</div><div class="para">
		JBoss EAP 6 uses a modular system to configure authorization. Each security domain can contain one or more authorization policies. Each policy has a basic module which defines its behavior. It is configured through specific flags and attributes. The easiest way to configure the authorization subsystem is by using the web-based management console.
	</div><div class="para">
		Authorization is different from authentication, and usually happens after authentication. Many of the authentication modules also handle authorization.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4725-687653+%5BLatest%5D&comment=Title%3A+About+Authorization%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4725-687653+24+Jul+2014+11%3A02+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="About_Security_Auditing1">
      ⁠</a>16.2.4.&nbsp;About Security Auditing</h3></div></div></div><div class="para">
		Security auditing refers to triggering events, such as writing to a log, in response to an event that happens within the security subsystem. Auditing mechanisms are configured as part of a security domain, along with authentication, authorization, and security mapping details.
	</div><div class="para">
		Auditing uses <em class="firstterm">provider modules</em>. You can use one of the included ones, or implement your own.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4727-591674+%5BLatest%5D&comment=Title%3A+About+Security+Auditing%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4727-591674+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="About_Security_Mapping1">
      ⁠</a>16.2.5.&nbsp;About Security Mapping</h3></div></div></div><div class="para">
		Security mapping allows you to combine authentication and authorization information after the authentication or authorization happens, but before the information is passed to your application.
	</div><div class="para">
		You can map principals (authentication), roles (authorization), or credentials (attributes which are not principals or roles).
	</div><div class="para">
		Role Mapping is used to add, replace, or remove roles to the subject after authentication.
	</div><div class="para">
		Principal mapping is used to modify a principal after authentication.
	</div><div class="para">
		Attribute mapping is used to convert attributes from an external system to be used by your application, and vice versa.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4729-686016+%5BLatest%5D&comment=Title%3A+About+Security+Mapping%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4729-686016+18+Jul+2014+22%3A39+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="Java_Authentication_and_Authorization_Service_JAAS">
      ⁠</a>16.2.6.&nbsp;Java Authentication and Authorization Service (JAAS)</h3></div></div></div><div class="para">
		<em class="firstterm">Java Authentication and Authorization Service (JAAS)</em> is a security API which consists of a set of Java packages designed for user authentication and authorization. The API is a Java implementation of the standard Pluggable Authentication Modules (PAM) framework. It extends the Java Enterprise Edition access control architecture to support user-based authorization.
	</div><div class="para">
		In JBoss EAP 6, JAAS only provides declarative role-based security. For more information about declarative security, refer to <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Declarative_Security">Section&nbsp;16.1.4, “About Declarative Security”</a>.
	</div><div class="para">
		JAAS is independent of any underlying authentication technologies, such as Kerberos or LDAP. You can change your underlying security structure without changing your application. You only need to change the JAAS configuration.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4769-591672+%5BLatest%5D&comment=Title%3A+Java+Authentication+and+Authorization+Service+%28JAAS%29%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4769-591672+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="About_Java_Authentication_and_Authorization_Service_JAAS">
      ⁠</a>16.2.7.&nbsp;About Java Authentication and Authorization Service (JAAS)</h3></div></div></div><div class="para">
		The security architecture of JBoss EAP 6 is comprised of the security configuration subsystem, and application-specific security configurations which are included in several configuration files within the application.
	</div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Domain, Server Group, and Server Specific Configuration</div>
			Server groups (in a managed domain) and servers (in a standalone server) include the configuration for security domains. A security domain includes information about a combination of authentication, authorization, mapping, and auditing modules, with configuration details. An application specifies which security domain it requires, by name, in its <code class="filename">jboss-web.xml</code>.
		</div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Application-specific Configuration</div>
			Application-specific configuration takes place in one or more of the following four files.
		</div><div class="table"><a id="idp8332624">
      ⁠</a><p class="title"><strong>Table&nbsp;16.1.&nbsp;Application-Specific Configuration Files</strong></p><div class="table-contents"><table xmlns:d="http://docbook.org/ns/docbook" class="lt-4-cols lt-7-rows" summary="Application-Specific Configuration Files"><colgroup><col><col></colgroup><thead><tr><th> File </th><th> Description </th></tr></thead><tbody><tr><td> ejb-jar.xml </td><td> <div class="para">
						The deployment descriptor for an Enterprise JavaBean (EJB) application, located in the <code class="filename">META-INF</code> directory of the archive. Use the <code class="filename">ejb-jar.xml</code> to specify roles and map them to principals, at the application level. You can also limit specific methods and classes to certain roles. It is also used for other EJB-specific configuration not related to security.
					</div>
					 </td></tr><tr><td> web.xml </td><td> <div class="para">
						The deployment descriptor for a Java Enterprise Edition (EE) web application. Use the <code class="filename">web.xml</code> to declare the resource and transport constraints for the application, such as limiting the type of HTTP requests that are allowed. You can also configure simple web-based authentication in this file. It is also used for other application-specific configuration not related to security. The security domain the application uses for authentication and authorization is defined in <code class="filename">jboss-web.xml</code>.
					</div>
					 </td></tr><tr><td> jboss-ejb3.xml </td><td> <div class="para">
						Contains JBoss-specific extensions to the <code class="filename">ejb-jar.xml</code> descriptor.
					</div>
					 </td></tr><tr><td> jboss-web.xml </td><td> <div class="para">
						Contains JBoss-specific extensions to the <code class="filename">web.xml</code> descriptor.
					</div>
					 </td></tr></tbody></table></div></div><div xmlns:d="http://docbook.org/ns/docbook" class="note"><div class="admonition_header"><p><strong>Note</strong></p></div><div class="admonition"><div class="para">
			The <code class="filename">ejb-jar.xml</code> and <code class="filename">web.xml</code> are defined in the Java Enterprise Edition (Java EE) specification. The <code class="filename">jboss-ejb3.xml</code> provides JBoss-specific extensions for the <code class="filename">ejb-jar.xml</code>, and the <code class="filename">jboss-web.xml</code> provides JBoss-specific extensions for the <code class="filename">web.xml</code>.
		</div></div></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4797-685271+%5BLatest%5D&comment=Title%3A+About+Java+Authentication+and+Authorization+Service+%28JAAS%29%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4797-685271+15+Jul+2014+16%3A00+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="Use_a_Security_Domain_in_Your_Application">
      ⁠</a>16.2.8.&nbsp;Use a Security Domain in Your Application</h3></div></div></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Overview</div>
			To use a security domain in your application, first you need to define the security domain in the server's configuration and then enable it for an application in the application's deployment descriptor. Then you must add the required annotations to the EJB that uses it. This topic covers the steps required to use a security domain in your application.
		</div><div xmlns:d="http://docbook.org/ns/docbook" class="warning"><div class="admonition_header"><p><strong>Warning</strong></p></div><div class="admonition"><div class="para">
			If an application is part of a security domain that uses an authentication cache, user authentications for that application will also be available to other applications in that security domain.
		</div></div></div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idp23983792">
      ⁠</a><p class="title"><strong>Procedure&nbsp;16.1.&nbsp;Configure Your Application to Use a Security Domain</strong></p><ol class="1"><li class="step"><p class="title"><strong>Define the Security Domain</strong></p><div class="para">
				You need to define the security domain in the server's configuration file, and then enable it for an application in the application's descriptor file.
			</div><ol class="substeps a"><li class="step"><p class="title"><strong>Configure the security domain in the server's configuration file</strong></p><div class="para">
						The security domain is configured in the <code class="literal">security</code> subsystem of the server's configuration file. If the JBoss EAP 6 instance is running in a managed domain, this is the <code class="filename">domain/configuration/domain.xml</code> file. If the JBoss EAP 6 instance is running as a standalone server, this is the <code class="filename">standalone/configuration/standalone.xml</code> file.
					</div><div class="para">
						The <code class="literal">other</code>, <code class="literal">jboss-web-policy</code>, and <code class="literal">jboss-ejb-policy</code> security domains are provided by default in JBoss EAP 6. The following XML example was copied from the <code class="literal">security</code> subsystem in the server's configuration file.
					</div><div class="para">
						The <code class="code">cache-type</code> attribute of a security domain specifies a cache for faster authentication checks. Allowed values are <code class="literal">default</code> to use a simple map as the cache, or <code class="literal">infinispan</code> to use an Infinispan cache. 
<pre class="programlisting XML"><span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;subsystem</span><span xmlns="" class="perl_Others"> xmlns=</span><span xmlns="" class="perl_String">"urn:jboss:domain:security:1.2"</span><span xmlns="" class="perl_Keyword">&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;security-domains&gt;</span>
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">&lt;security-domain</span><span xmlns="" class="perl_Others"> name=</span><span xmlns="" class="perl_String">"other"</span><span xmlns="" class="perl_Others"> cache-type=</span><span xmlns="" class="perl_String">"default"</span><span xmlns="" class="perl_Keyword">&gt;</span>
<span xmlns="" class="line">​</span>            <span xmlns="" class="perl_Keyword">&lt;authentication&gt;</span>
<span xmlns="" class="line">​</span>                <span xmlns="" class="perl_Keyword">&lt;login-module</span><span xmlns="" class="perl_Others"> code=</span><span xmlns="" class="perl_String">"Remoting"</span><span xmlns="" class="perl_Others"> flag=</span><span xmlns="" class="perl_String">"optional"</span><span xmlns="" class="perl_Keyword">&gt;</span>
<span xmlns="" class="line">​</span>                    <span xmlns="" class="perl_Keyword">&lt;module-option</span><span xmlns="" class="perl_Others"> name=</span><span xmlns="" class="perl_String">"password-stacking"</span><span xmlns="" class="perl_Others"> value=</span><span xmlns="" class="perl_String">"useFirstPass"</span><span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span>                <span xmlns="" class="perl_Keyword">&lt;/login-module&gt;</span>
<span xmlns="" class="line">​</span>                <span xmlns="" class="perl_Keyword">&lt;login-module</span><span xmlns="" class="perl_Others"> code=</span><span xmlns="" class="perl_String">"RealmDirect"</span><span xmlns="" class="perl_Others"> flag=</span><span xmlns="" class="perl_String">"required"</span><span xmlns="" class="perl_Keyword">&gt;</span>
<span xmlns="" class="line">​</span>                    <span xmlns="" class="perl_Keyword">&lt;module-option</span><span xmlns="" class="perl_Others"> name=</span><span xmlns="" class="perl_String">"password-stacking"</span><span xmlns="" class="perl_Others"> value=</span><span xmlns="" class="perl_String">"useFirstPass"</span><span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span>                <span xmlns="" class="perl_Keyword">&lt;/login-module&gt;</span>
<span xmlns="" class="line">​</span>            <span xmlns="" class="perl_Keyword">&lt;/authentication&gt;</span>
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">&lt;/security-domain&gt;</span>
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">&lt;security-domain</span><span xmlns="" class="perl_Others"> name=</span><span xmlns="" class="perl_String">"jboss-web-policy"</span><span xmlns="" class="perl_Others"> cache-type=</span><span xmlns="" class="perl_String">"default"</span><span xmlns="" class="perl_Keyword">&gt;</span>
<span xmlns="" class="line">​</span>            <span xmlns="" class="perl_Keyword">&lt;authorization&gt;</span>
<span xmlns="" class="line">​</span>                <span xmlns="" class="perl_Keyword">&lt;policy-module</span><span xmlns="" class="perl_Others"> code=</span><span xmlns="" class="perl_String">"Delegating"</span><span xmlns="" class="perl_Others"> flag=</span><span xmlns="" class="perl_String">"required"</span><span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span>            <span xmlns="" class="perl_Keyword">&lt;/authorization&gt;</span>
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">&lt;/security-domain&gt;</span>
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">&lt;security-domain</span><span xmlns="" class="perl_Others"> name=</span><span xmlns="" class="perl_String">"jboss-ejb-policy"</span><span xmlns="" class="perl_Others"> cache-type=</span><span xmlns="" class="perl_String">"default"</span><span xmlns="" class="perl_Keyword">&gt;</span>
<span xmlns="" class="line">​</span>            <span xmlns="" class="perl_Keyword">&lt;authorization&gt;</span>
<span xmlns="" class="line">​</span>                <span xmlns="" class="perl_Keyword">&lt;policy-module</span><span xmlns="" class="perl_Others"> code=</span><span xmlns="" class="perl_String">"Delegating"</span><span xmlns="" class="perl_Others"> flag=</span><span xmlns="" class="perl_String">"required"</span><span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span>            <span xmlns="" class="perl_Keyword">&lt;/authorization&gt;</span>
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">&lt;/security-domain&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;/security-domains&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;/subsystem&gt;</span></pre>

					</div><div class="para">
						You can configure additional security domains as needed using the Management Console or CLI.
					</div></li><li class="step"><p class="title"><strong>Enable the security domain in the application's descriptor file</strong></p><div class="para">
						The security domain is specified in the <code class="sgmltag-element">&lt;security-domain&gt;</code> child element of the <code class="sgmltag-element">&lt;jboss-web&gt;</code> element in the application's <code class="filename">WEB-INF/jboss-web.xml</code> file. The following example configures a security domain named <code class="literal">my-domain</code>. 
<pre class="programlisting XML"><span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;jboss-web&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;security-domain&gt;</span>my-domain<span xmlns="" class="perl_Keyword">&lt;/security-domain&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;/jboss-web&gt;</span></pre>

					</div><div class="para">
						This is only one of many settings which you can specify in the <code class="filename">WEB-INF/jboss-web.xml</code> descriptor.
					</div></li></ol></li><li class="step"><p class="title"><strong>Add the Required Annotation to the EJB</strong></p><div class="para">
				You configure security in the EJB using the <code class="literal">@SecurityDomain</code> and <code class="literal">@RolesAllowed</code> annotations. The following EJB code example limits access to the <code class="literal">other</code> security domain by users in the <code class="literal">guest</code> role.
			</div><pre class="programlisting JAVA"><span xmlns="" class="line">​</span>package example.<span xmlns="" class="perl_Function">ejb3</span>;
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">import java.security.Principal;</span>
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">import javax.annotation.Resource;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">import javax.annotation.security.RolesAllowed;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">import javax.ejb.SessionContext;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">import javax.ejb.Stateless;</span>
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">import org.jboss.ejb3.annotation.SecurityDomain;</span>
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">/**</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment"> * Simple secured EJB using EJB security annotations</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment"> * Allow access to "other" security domain by users in a "guest" role.</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment"> */</span>
<span xmlns="" class="line">​</span>@Stateless
<span xmlns="" class="line">​</span>@<span xmlns="" class="perl_Function">RolesAllowed</span>({ <span xmlns="" class="perl_String">"guest"</span> })
<span xmlns="" class="line">​</span>@<span xmlns="" class="perl_Function">SecurityDomain</span>(<span xmlns="" class="perl_String">"other"</span>)
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_Keyword">class</span> SecuredEJB {
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Comment">// Inject the Session Context</span>
<span xmlns="" class="line">​</span>   @Resource
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">private</span> SessionContext ctx;
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Comment">/**</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">    * Secured EJB method using security annotations</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">    */</span>
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">public</span> String <span xmlns="" class="perl_Function">getSecurityInfo</span>() {
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Comment">// Session context injected using the resource annotation</span>
<span xmlns="" class="line">​</span>      Principal principal = ctx.<span xmlns="" class="perl_Function">getCallerPrincipal</span>();
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">return</span> principal.<span xmlns="" class="perl_Function">toString</span>();
<span xmlns="" class="line">​</span>   }
<span xmlns="" class="line">​</span>}</pre><div class="para">
				For more code examples, see the <code class="literal">ejb-security</code> quickstart in the JBoss EAP 6 Quickstarts bundle, which is available from the Red Hat Customer Portal.
			</div></li></ol></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4765-715581+%5BLatest%5D&comment=Title%3A+Use+a+Security+Domain+in+Your+Application%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4765-715581+09+Oct+2014+03%3A55+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="Use_Role-Based_Security_In_Servlets">
      ⁠</a>16.2.9.&nbsp;Use Role-Based Security In Servlets</h3></div></div></div><div class="para">
		To add security to a servlet, you map each servlet to a URL pattern, and create security constraints on the URL patterns which need to be secured. The security constraints limit access to the URLs to roles. The authentication and authorization are handled by the security domain specified in the WAR's <code class="filename">jboss-web.xml</code>.
	</div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Prerequisites</div>
			Before you use role-based security in a servlet, the security domain used to authenticate and authorize access needs to be configured in the JBoss EAP 6 container.
		</div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idp6430336">
      ⁠</a><p class="title"><strong>Procedure&nbsp;16.2.&nbsp;Add Role-Based Security to Servlets</strong></p><ol class="1"><li class="step"><p class="title"><strong>Add mappings between servlets and URL patterns.</strong></p><div class="para">
				Use <code class="sgmltag-element">&lt;servlet-mapping&gt;</code> elements in the <code class="filename">web.xml</code> to map individual servlets to URL patterns. The following example maps the servlet called <code class="literal">DisplayOpResult</code> to the URL pattern <code class="literal">/DisplayOpResult</code>.
			</div><pre class="programlisting XML"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;servlet-mapping&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;servlet-name&gt;</span>DisplayOpResult<span xmlns="" class="perl_Keyword">&lt;/servlet-name&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;url-pattern&gt;</span>/DisplayOpResult<span xmlns="" class="perl_Keyword">&lt;/url-pattern&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;/servlet-mapping&gt;</span>		
<span xmlns="" class="line">​</span>			</pre></li><li class="step"><p class="title"><strong>Add security constraints to the URL patterns.</strong></p><div class="para">
				To map the URL pattern to a security constraint, use a <code class="sgmltag-element">&lt;security-constraint&gt;</code>. The following example constrains access from the URL pattern <code class="literal">/DisplayOpResult</code> to be accessed by principals with the role <code class="literal">eap_admin</code>. The role needs to be present in the security domain.
			</div><pre class="programlisting XML"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;security-constraint&gt;</span>
<span xmlns="" class="line">​</span>	<span xmlns="" class="perl_Keyword">&lt;display-name&gt;</span>Restrict access to role eap_admin<span xmlns="" class="perl_Keyword">&lt;/display-name&gt;</span>
<span xmlns="" class="line">​</span>	<span xmlns="" class="perl_Keyword">&lt;web-resource-collection&gt;</span>
<span xmlns="" class="line">​</span>		<span xmlns="" class="perl_Keyword">&lt;web-resource-name&gt;</span>Restrict access to role eap_admin<span xmlns="" class="perl_Keyword">&lt;/web-resource-name&gt;</span>
<span xmlns="" class="line">​</span>		<span xmlns="" class="perl_Keyword">&lt;url-pattern&gt;</span>/DisplayOpResult/*<span xmlns="" class="perl_Keyword">&lt;/url-pattern&gt;</span>
<span xmlns="" class="line">​</span>	<span xmlns="" class="perl_Keyword">&lt;/web-resource-collection&gt;</span>
<span xmlns="" class="line">​</span>	<span xmlns="" class="perl_Keyword">&lt;auth-constraint&gt;</span>
<span xmlns="" class="line">​</span>		<span xmlns="" class="perl_Keyword">&lt;role-name&gt;</span>eap_admin<span xmlns="" class="perl_Keyword">&lt;/role-name&gt;</span>
<span xmlns="" class="line">​</span>	<span xmlns="" class="perl_Keyword">&lt;/auth-constraint&gt;</span>	
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;/security-constraint&gt;</span>	
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;security-role&gt;</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">&lt;role-name&gt;</span>eap_admin<span xmlns="" class="perl_Keyword">&lt;/role-name&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;/security-role&gt;</span>
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;login-config&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;auth-method&gt;</span>BASIC<span xmlns="" class="perl_Keyword">&lt;/auth-method&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;/login-config&gt;</span>
<span xmlns="" class="line">​</span>			</pre><div class="para">
				You need to specify the authentication method, which can be any of the following: <code class="literal">BASIC, FORM, DIGEST, CLIENT-CERT, SPNEGO.</code> This example uses <code class="literal">BASIC</code> authentication.
			</div></li><li class="step"><p class="title"><strong>Specify the security domain in the WAR's <code class="filename">jboss-web.xml</code></strong></p><div class="para">
				Add the security domain to the WAR's <code class="filename">jboss-web.xml</code> in order to connect the servlets to the configured security domain, which knows how to authenticate and authorize principals against the security constraints. The following example uses the security domain called <code class="literal">acme_domain</code>.
			</div><pre class="programlisting XML"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;jboss-web&gt;</span>
<span xmlns="" class="line">​</span>	...
<span xmlns="" class="line">​</span>	<span xmlns="" class="perl_Keyword">&lt;security-domain&gt;</span>acme_domain<span xmlns="" class="perl_Keyword">&lt;/security-domain&gt;</span>
<span xmlns="" class="line">​</span>	...
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;/jboss-web&gt;</span>
<span xmlns="" class="line">​</span>			</pre></li></ol></div><div class="example"><a id="idp20700432">
      ⁠</a><p class="title"><strong>Example&nbsp;16.1.&nbsp;Example <code class="filename">web.xml</code> with Role-Based Security Configured</strong></p><div class="example-contents"><pre class="programlisting XML"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;web-app</span><span xmlns="" class="perl_Others"> xmlns=</span><span xmlns="" class="perl_String">"http://java.sun.com/xml/ns/javaee"</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Others">         xmlns:xsi=</span><span xmlns="" class="perl_String">"http://www.w3.org/2001/XMLSchema-instance"</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Others">         xsi:schemaLocation=</span><span xmlns="" class="perl_String">"http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd"</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Others">         version=</span><span xmlns="" class="perl_String">"3.0"</span><span xmlns="" class="perl_Keyword">&gt;</span>
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;display-name&gt;</span>Use Role-Based Security In Servlets<span xmlns="" class="perl_Keyword">&lt;/display-name&gt;</span>
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;welcome-file-list&gt;</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">&lt;welcome-file&gt;</span>/index.jsp<span xmlns="" class="perl_Keyword">&lt;/welcome-file&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;/welcome-file-list&gt;</span>
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;servlet-mapping&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;servlet-name&gt;</span>DisplayOpResult<span xmlns="" class="perl_Keyword">&lt;/servlet-name&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;url-pattern&gt;</span>/DisplayOpResult<span xmlns="" class="perl_Keyword">&lt;/url-pattern&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;/servlet-mapping&gt;</span>
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;security-constraint&gt;</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">&lt;display-name&gt;</span>Restrict access to role eap_admin<span xmlns="" class="perl_Keyword">&lt;/display-name&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;web-resource-collection&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;web-resource-name&gt;</span>Restrict access to role eap_admin<span xmlns="" class="perl_Keyword">&lt;/web-resource-name&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;url-pattern&gt;</span>/DisplayOpResult/*<span xmlns="" class="perl_Keyword">&lt;/url-pattern&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;/web-resource-collection&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;auth-constraint&gt;</span>
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">&lt;role-name&gt;</span>eap_admin<span xmlns="" class="perl_Keyword">&lt;/role-name&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;/auth-constraint&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;/security-constraint&gt;</span>
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;security-role&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;role-name&gt;</span>eap_admin<span xmlns="" class="perl_Keyword">&lt;/role-name&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;/security-role&gt;</span>
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;login-config&gt;</span>
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">&lt;auth-method&gt;</span>BASIC<span xmlns="" class="perl_Keyword">&lt;/auth-method&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;/login-config&gt;</span>
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;/web-app&gt;</span>
<span xmlns="" class="line">​</span>		</pre></div></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4927-591678+%5BLatest%5D&comment=Title%3A+Use+Role-Based+Security+In+Servlets%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4927-591678+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="Use_A_Third-Party_Authentication_System_In_Your_Application">
      ⁠</a>16.2.10.&nbsp;Use A Third-Party Authentication System In Your Application</h3></div></div></div><div class="para">
		You can integrate third-party security systems with JBoss EAP 6. These types of systems are usually token-based. The external system performs the authentication and passes a token back to the Web application through the request headers. This is often referred to as <em class="firstterm">perimeter authentication</em>. To configure perimeter authentication in your application, add a custom authentication valve. If you have a valve from a third-party provider, be sure it is in your classpath and follow the examples below, along with the documentation for your third-party authentication module.
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="note"><div class="admonition_header"><p><strong>Note</strong></p></div><div class="admonition"><div class="para">
			The location for configuring valves has changed in JBoss EAP 6. There is no longer a <code class="filename">context.xml</code> deployment descriptor. Valves are configured directly in the <code class="filename">jboss-web.xml</code> descriptor instead. The <code class="filename">context.xml</code> is now ignored.
		</div></div></div><div class="example"><a id="idp7127808">
      ⁠</a><p class="title"><strong>Example&nbsp;16.2.&nbsp;Basic Authentication Valve</strong></p><div class="example-contents"><pre class="programlisting XML"><span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;jboss-web&gt;</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">&lt;valve&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;class-name&gt;</span>org.jboss.security.negotiation.NegotiationAuthenticator<span xmlns="" class="perl_Keyword">&lt;/class-name&gt;</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">&lt;/valve&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;/jboss-web&gt;</span></pre><div class="para">
			This valve is used for Kerberos-based SSO. It also shows the most simple pattern for specifying a third-party authenticator for your Web application.
		</div></div></div><div class="example"><a id="idp30322736">
      ⁠</a><p class="title"><strong>Example&nbsp;16.3.&nbsp;Custom Valve With Header Attributes Set</strong></p><div class="example-contents"><pre class="programlisting XML"><span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;jboss-web&gt;</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">&lt;valve&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;class-name&gt;</span>org.jboss.web.tomcat.security.GenericHeaderAuthenticator<span xmlns="" class="perl_Keyword">&lt;/class-name&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;param&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;param-name&gt;</span>httpHeaderForSSOAuth<span xmlns="" class="perl_Keyword">&lt;/param-name&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;param-value&gt;</span>sm_ssoid,ct-remote-user,HTTP_OBLIX_UID<span xmlns="" class="perl_Keyword">&lt;/param-value&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;/param&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;param&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;param-name&gt;</span>sessionCookieForSSOAuth<span xmlns="" class="perl_Keyword">&lt;/param-name&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;param-value&gt;</span>SMSESSION,CTSESSION,ObSSOCookie<span xmlns="" class="perl_Keyword">&lt;/param-value&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;/param&gt;</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">&lt;/valve&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;/jboss-web&gt;</span></pre><div class="para">
			This example shows how to set custom attributes on your valve. The authenticator checks for the presence of the header ID and the session key, and passes them into the JAAS framework which drives the security layer, as the username and password value. You need a custom JAAS login module which can process the username and password and populate the subject with the correct roles. If no header values match the configured values, regular form-based authentication semantics apply.
		</div></div></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Writing a Custom Authenticator</div>
			Writing your own authenticator is out of scope of this document. However, the following Java code is provided as an example.
		</div><div class="example"><a id="idp24003600">
      ⁠</a><p class="title"><strong>Example&nbsp;16.4.&nbsp;GenericHeaderAuthenticator.java</strong></p><div class="example-contents"><pre class="programlisting JAVA"><span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">/*</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment"> * JBoss, Home of Professional Open Source.</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment"> * Copyright 2006, Red Hat Middleware LLC, and individual contributors</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment"> * as indicated by the @author tags. See the copyright.txt file in the</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment"> * distribution for a full listing of individual contributors.</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment"> *</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment"> * This is free software; you can redistribute it and/or modify it</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment"> * under the terms of the GNU Lesser General Public License as</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment"> * published by the Free Software Foundation; either version 2.1 of</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment"> * the License, or (at your option) any later version.</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment"> *</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment"> * This software is distributed in the hope that it will be useful,</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment"> * but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment"> * Lesser General Public License for more details.</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment"> *</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment"> * You should have received a copy of the GNU Lesser General Public</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment"> * License along with this software; if not, write to the Free</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment"> * Software Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment"> * 02110-1301 USA, or see the FSF site: http://www.fsf.org.</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment"> */</span>
<span xmlns="" class="line">​</span> 
<span xmlns="" class="line">​</span>package org.<span xmlns="" class="perl_Function">jboss</span>.<span xmlns="" class="perl_Function">web</span>.<span xmlns="" class="perl_Function">tomcat</span>.<span xmlns="" class="perl_Function">security</span>;
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">import java.io.IOException;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">import java.security.Principal;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">import java.util.StringTokenizer;</span>
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">import javax.management.JMException;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">import javax.management.ObjectName;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">import javax.servlet.http.Cookie;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">import javax.servlet.http.HttpServletRequest;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">import javax.servlet.http.HttpServletResponse;</span>
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">import org.apache.catalina.Realm;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">import org.apache.catalina.Session;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">import org.apache.catalina.authenticator.Constants;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">import org.apache.catalina.connector.Request;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">import org.apache.catalina.connector.Response;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">import org.apache.catalina.deploy.LoginConfig;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">import org.jboss.logging.Logger;</span>
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">import org.jboss.as.web.security.ExtendedFormAuthenticator;</span>
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">/**</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment"> * JBAS-2283: Provide custom header based authentication support</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment"> * </span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment"> * Header Authenticator that deals with userid from the request header Requires</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment"> * two attributes configured on the Tomcat Service - one for the http header</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment"> * denoting the authenticated identity and the other is the SESSION cookie</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment"> * </span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment"> * </span><span xmlns="" class="perl_Keyword">@author &lt;a</span><span xmlns="" class="perl_Others"> href=</span><span xmlns="" class="perl_String">"mailto:Anil.Saldhana@jboss.org"</span><span xmlns="" class="perl_Keyword">&gt;</span><span xmlns="" class="perl_Comment">Anil Saldhana</span><span xmlns="" class="perl_Keyword">&lt;/a&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment"> * </span><span xmlns="" class="perl_Keyword">@author &lt;a</span><span xmlns="" class="perl_Others"> href=</span><span xmlns="" class="perl_String">"mailto:sguilhen@redhat.com"</span><span xmlns="" class="perl_Keyword">&gt;</span><span xmlns="" class="perl_Comment">Stefan Guilhen</span><span xmlns="" class="perl_Keyword">&lt;/a&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment"> * </span><span xmlns="" class="perl_Keyword">@version </span><span xmlns="" class="perl_Comment">$Revision$</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment"> * </span><span xmlns="" class="perl_Keyword">@since </span><span xmlns="" class="perl_Comment">Sep 11, 2006</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment"> */</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_Keyword">class</span> GenericHeaderAuthenticator <span xmlns="" class="perl_Keyword">extends</span> ExtendedFormAuthenticator {
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">protected</span> <span xmlns="" class="perl_DataType">static</span> Logger log = Logger
<span xmlns="" class="line">​</span>      .<span xmlns="" class="perl_Function">getLogger</span>(GenericHeaderAuthenticator.<span xmlns="" class="perl_Function">class</span>);
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">protected</span> <span xmlns="" class="perl_DataType">boolean</span> trace = log.<span xmlns="" class="perl_Function">isTraceEnabled</span>();
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Comment">// JBAS-4804: GenericHeaderAuthenticator injection of ssoid and</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Comment">// sessioncookie name.</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">private</span> String httpHeaderForSSOAuth = <span xmlns="" class="perl_Keyword">null</span>;
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">private</span> String sessionCookieForSSOAuth = <span xmlns="" class="perl_Keyword">null</span>;
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Comment">/**</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">   * </span><span xmlns="" class="perl_Keyword">&lt;p&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">   * Obtain the value of the </span><span xmlns="" class="perl_Keyword">&lt;code&gt;</span><span xmlns="" class="perl_Comment">httpHeaderForSSOAuth</span><span xmlns="" class="perl_Keyword">&lt;/code&gt;</span><span xmlns="" class="perl_Comment"> attribute. This</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">   * attribute is used to indicate the request header ids that have to be</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">   * checked in order to retrieve the SSO identity set by a third party</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">   * security system.</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">   * </span><span xmlns="" class="perl_Keyword">&lt;/p&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">   * </span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">   * </span><span xmlns="" class="perl_Keyword">@return </span><span xmlns="" class="perl_Comment">a </span><span xmlns="" class="perl_Keyword">&lt;code&gt;</span><span xmlns="" class="perl_Comment">String</span><span xmlns="" class="perl_Keyword">&lt;/code&gt;</span><span xmlns="" class="perl_Comment"> containing the value of the</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">   *         </span><span xmlns="" class="perl_Keyword">&lt;code&gt;</span><span xmlns="" class="perl_Comment">httpHeaderForSSOAuth</span><span xmlns="" class="perl_Keyword">&lt;/code&gt;</span><span xmlns="" class="perl_Comment"> attribute.</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">   */</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">public</span> String <span xmlns="" class="perl_Function">getHttpHeaderForSSOAuth</span>() {
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">return</span> httpHeaderForSSOAuth;
<span xmlns="" class="line">​</span>  }
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Comment">/**</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">   * </span><span xmlns="" class="perl_Keyword">&lt;p&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">   * Set the value of the </span><span xmlns="" class="perl_Keyword">&lt;code&gt;</span><span xmlns="" class="perl_Comment">httpHeaderForSSOAuth</span><span xmlns="" class="perl_Keyword">&lt;/code&gt;</span><span xmlns="" class="perl_Comment"> attribute. This</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">   * attribute is used to indicate the request header ids that have to be</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">   * checked in order to retrieve the SSO identity set by a third party</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">   * security system.</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">   * </span><span xmlns="" class="perl_Keyword">&lt;/p&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">   * </span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">   * </span><span xmlns="" class="perl_Keyword">@param httpHeaderForSSOAuth</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">   *            a </span><span xmlns="" class="perl_Keyword">&lt;code&gt;</span><span xmlns="" class="perl_Comment">String</span><span xmlns="" class="perl_Keyword">&lt;/code&gt;</span><span xmlns="" class="perl_Comment"> containing the value of the</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">   *            </span><span xmlns="" class="perl_Keyword">&lt;code&gt;</span><span xmlns="" class="perl_Comment">httpHeaderForSSOAuth</span><span xmlns="" class="perl_Keyword">&lt;/code&gt;</span><span xmlns="" class="perl_Comment"> attribute.</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">   */</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_DataType">void</span> <span xmlns="" class="perl_Function">setHttpHeaderForSSOAuth</span>(String httpHeaderForSSOAuth) {
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">this</span>.<span xmlns="" class="perl_Function">httpHeaderForSSOAuth</span> = httpHeaderForSSOAuth;
<span xmlns="" class="line">​</span>  }
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Comment">/**</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">   * </span><span xmlns="" class="perl_Keyword">&lt;p&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">   * Obtain the value of the </span><span xmlns="" class="perl_Keyword">&lt;code&gt;</span><span xmlns="" class="perl_Comment">sessionCookieForSSOAuth</span><span xmlns="" class="perl_Keyword">&lt;/code&gt;</span><span xmlns="" class="perl_Comment"> attribute.</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">   * This attribute is used to indicate the names of the SSO cookies that may</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">   * be present in the request object.</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">   * </span><span xmlns="" class="perl_Keyword">&lt;/p&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">   * </span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">   * </span><span xmlns="" class="perl_Keyword">@return </span><span xmlns="" class="perl_Comment">a </span><span xmlns="" class="perl_Keyword">&lt;code&gt;</span><span xmlns="" class="perl_Comment">String</span><span xmlns="" class="perl_Keyword">&lt;/code&gt;</span><span xmlns="" class="perl_Comment"> containing the names (separated by a</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">   *         </span><span xmlns="" class="perl_Keyword">&lt;code&gt;</span><span xmlns="" class="perl_Comment">','</span><span xmlns="" class="perl_Keyword">&lt;/code&gt;</span><span xmlns="" class="perl_Comment">) of the SSO cookies that may have been set by a</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">   *         third party security system in the request.</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">   */</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">public</span> String <span xmlns="" class="perl_Function">getSessionCookieForSSOAuth</span>() {
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">return</span> sessionCookieForSSOAuth;
<span xmlns="" class="line">​</span>  }
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Comment">/**</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">   * </span><span xmlns="" class="perl_Keyword">&lt;p&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">   * Set the value of the </span><span xmlns="" class="perl_Keyword">&lt;code&gt;</span><span xmlns="" class="perl_Comment">sessionCookieForSSOAuth</span><span xmlns="" class="perl_Keyword">&lt;/code&gt;</span><span xmlns="" class="perl_Comment"> attribute. This</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">   * attribute is used to indicate the names of the SSO cookies that may be</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">   * present in the request object.</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">   * </span><span xmlns="" class="perl_Keyword">&lt;/p&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">   * </span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">   * </span><span xmlns="" class="perl_Keyword">@param sessionCookieForSSOAuth</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">   *            a </span><span xmlns="" class="perl_Keyword">&lt;code&gt;</span><span xmlns="" class="perl_Comment">String</span><span xmlns="" class="perl_Keyword">&lt;/code&gt;</span><span xmlns="" class="perl_Comment"> containing the names (separated by a</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">   *            </span><span xmlns="" class="perl_Keyword">&lt;code&gt;</span><span xmlns="" class="perl_Comment">','</span><span xmlns="" class="perl_Keyword">&lt;/code&gt;</span><span xmlns="" class="perl_Comment">) of the SSO cookies that may have been set by</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">   *            a third party security system in the request.</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">   */</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_DataType">void</span> <span xmlns="" class="perl_Function">setSessionCookieForSSOAuth</span>(String sessionCookieForSSOAuth) {
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">this</span>.<span xmlns="" class="perl_Function">sessionCookieForSSOAuth</span> = sessionCookieForSSOAuth;
<span xmlns="" class="line">​</span>  }
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Comment">/**</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">   * </span><span xmlns="" class="perl_Keyword">&lt;p&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">   * Creates an instance of </span><span xmlns="" class="perl_Keyword">&lt;code&gt;</span><span xmlns="" class="perl_Comment">GenericHeaderAuthenticator</span><span xmlns="" class="perl_Keyword">&lt;/code&gt;</span><span xmlns="" class="perl_Comment">.</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">   * </span><span xmlns="" class="perl_Keyword">&lt;/p&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">   */</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_Function">GenericHeaderAuthenticator</span>() {
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">super</span>();
<span xmlns="" class="line">​</span>  }
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_DataType">boolean</span> <span xmlns="" class="perl_Function">authenticate</span>(Request request, HttpServletResponse response,
<span xmlns="" class="line">​</span>      LoginConfig config) <span xmlns="" class="perl_Keyword">throws</span> IOException {
<span xmlns="" class="line">​</span>    log.<span xmlns="" class="perl_Function">trace</span>(<span xmlns="" class="perl_String">"Authenticating user"</span>);
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>    Principal principal = request.<span xmlns="" class="perl_Function">getUserPrincipal</span>();
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">if</span> (principal != <span xmlns="" class="perl_Keyword">null</span>) {
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">if</span> (trace)
<span xmlns="" class="line">​</span>        log.<span xmlns="" class="perl_Function">trace</span>(<span xmlns="" class="perl_String">"Already authenticated '"</span> + principal.<span xmlns="" class="perl_Function">getName</span>() + <span xmlns="" class="perl_String">"'"</span>);
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">return</span> <span xmlns="" class="perl_Keyword">true</span>;
<span xmlns="" class="line">​</span>    }
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>    Realm realm = context.<span xmlns="" class="perl_Function">getRealm</span>();
<span xmlns="" class="line">​</span>    Session session = request.<span xmlns="" class="perl_Function">getSessionInternal</span>(<span xmlns="" class="perl_Keyword">true</span>);
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>    String username = <span xmlns="" class="perl_Function">getUserId</span>(request);
<span xmlns="" class="line">​</span>    String password = <span xmlns="" class="perl_Function">getSessionCookie</span>(request);
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Comment">// Check if there is sso id as well as sessionkey</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">if</span> (username == <span xmlns="" class="perl_Keyword">null</span> || password == <span xmlns="" class="perl_Keyword">null</span>) {
<span xmlns="" class="line">​</span>      log.<span xmlns="" class="perl_Function">trace</span>(<span xmlns="" class="perl_String">"Username is null or password(sessionkey) is null:fallback to form auth"</span>);
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">return</span> <span xmlns="" class="perl_Keyword">super</span>.<span xmlns="" class="perl_Function">authenticate</span>(request, response, config);
<span xmlns="" class="line">​</span>    }
<span xmlns="" class="line">​</span>    principal = realm.<span xmlns="" class="perl_Function">authenticate</span>(username, password);
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">if</span> (principal == <span xmlns="" class="perl_Keyword">null</span>) {
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Function">forwardToErrorPage</span>(request, response, config);
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">return</span> <span xmlns="" class="perl_Keyword">false</span>;
<span xmlns="" class="line">​</span>    }
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>    session.<span xmlns="" class="perl_Function">setNote</span>(Constants.<span xmlns="" class="perl_Function">SESS_USERNAME_NOTE</span>, username);
<span xmlns="" class="line">​</span>    session.<span xmlns="" class="perl_Function">setNote</span>(Constants.<span xmlns="" class="perl_Function">SESS_PASSWORD_NOTE</span>, password);
<span xmlns="" class="line">​</span>    request.<span xmlns="" class="perl_Function">setUserPrincipal</span>(principal);
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Function">register</span>(request, response, principal, HttpServletRequest.<span xmlns="" class="perl_Function">FORM_AUTH</span>,
<span xmlns="" class="line">​</span>        username, password);
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">return</span> <span xmlns="" class="perl_Keyword">true</span>;
<span xmlns="" class="line">​</span>  }
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Comment">/**</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">   * Get the username from the request header</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">   * </span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">   * </span><span xmlns="" class="perl_Keyword">@param request</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">   * @return</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">   */</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">protected</span> String <span xmlns="" class="perl_Function">getUserId</span>(Request request) {
<span xmlns="" class="line">​</span>    String ssoid = <span xmlns="" class="perl_Keyword">null</span>;
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Comment">// We can have a comma-separated ids</span>
<span xmlns="" class="line">​</span>    String ids = <span xmlns="" class="perl_String">""</span>;
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">try</span> {
<span xmlns="" class="line">​</span>      ids = <span xmlns="" class="perl_Keyword">this</span>.<span xmlns="" class="perl_Function">getIdentityHeaderId</span>();
<span xmlns="" class="line">​</span>    } <span xmlns="" class="perl_Keyword">catch</span> (JMException e) {
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">if</span> (trace)
<span xmlns="" class="line">​</span>        log.<span xmlns="" class="perl_Function">trace</span>(<span xmlns="" class="perl_String">"getUserId exception"</span>, e);
<span xmlns="" class="line">​</span>    }
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">if</span> (ids == <span xmlns="" class="perl_Keyword">null</span> || ids.<span xmlns="" class="perl_Function">length</span>() == <span xmlns="" class="perl_Float">0</span>)
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">throw</span> <span xmlns="" class="perl_Keyword">new</span> IllegalStateException(
<span xmlns="" class="line">​</span>          <span xmlns="" class="perl_String">"Http headers configuration in tomcat service missing"</span>);
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>    StringTokenizer st = <span xmlns="" class="perl_Keyword">new</span> StringTokenizer(ids, <span xmlns="" class="perl_String">","</span>);
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">while</span> (st.<span xmlns="" class="perl_Function">hasMoreTokens</span>()) {
<span xmlns="" class="line">​</span>      ssoid = request.<span xmlns="" class="perl_Function">getHeader</span>(st.<span xmlns="" class="perl_Function">nextToken</span>());
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">if</span> (ssoid != <span xmlns="" class="perl_Keyword">null</span>)
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">break</span>;
<span xmlns="" class="line">​</span>    }
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">if</span> (trace)
<span xmlns="" class="line">​</span>      log.<span xmlns="" class="perl_Function">trace</span>(<span xmlns="" class="perl_String">"SSOID-"</span> + ssoid);
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">return</span> ssoid;
<span xmlns="" class="line">​</span>  }
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Comment">/**</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">   * Obtain the session cookie from the request</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">   * </span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">   * </span><span xmlns="" class="perl_Keyword">@param request</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">   * @return</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">   */</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">protected</span> String <span xmlns="" class="perl_Function">getSessionCookie</span>(Request request) {
<span xmlns="" class="line">​</span>    Cookie[] cookies = request.<span xmlns="" class="perl_Function">getCookies</span>();
<span xmlns="" class="line">​</span>    log.<span xmlns="" class="perl_Function">trace</span>(<span xmlns="" class="perl_String">"Cookies:"</span> + cookies);
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_DataType">int</span> numCookies = cookies != <span xmlns="" class="perl_Keyword">null</span> ? cookies.<span xmlns="" class="perl_Function">length</span> : <span xmlns="" class="perl_Float">0</span>;
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Comment">// We can have comma-separated ids</span>
<span xmlns="" class="line">​</span>    String ids = <span xmlns="" class="perl_String">""</span>;
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">try</span> {
<span xmlns="" class="line">​</span>      ids = <span xmlns="" class="perl_Keyword">this</span>.<span xmlns="" class="perl_Function">getSessionCookieId</span>();
<span xmlns="" class="line">​</span>      log.<span xmlns="" class="perl_Function">trace</span>(<span xmlns="" class="perl_String">"Session Cookie Ids="</span> + ids);
<span xmlns="" class="line">​</span>    } <span xmlns="" class="perl_Keyword">catch</span> (JMException e) {
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">if</span> (trace)
<span xmlns="" class="line">​</span>        log.<span xmlns="" class="perl_Function">trace</span>(<span xmlns="" class="perl_String">"checkSessionCookie exception"</span>, e);
<span xmlns="" class="line">​</span>    }
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">if</span> (ids == <span xmlns="" class="perl_Keyword">null</span> || ids.<span xmlns="" class="perl_Function">length</span>() == <span xmlns="" class="perl_Float">0</span>)
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">throw</span> <span xmlns="" class="perl_Keyword">new</span> IllegalStateException(
<span xmlns="" class="line">​</span>          <span xmlns="" class="perl_String">"Session cookies configuration in tomcat service missing"</span>);
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>    StringTokenizer st = <span xmlns="" class="perl_Keyword">new</span> StringTokenizer(ids, <span xmlns="" class="perl_String">","</span>);
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">while</span> (st.<span xmlns="" class="perl_Function">hasMoreTokens</span>()) {
<span xmlns="" class="line">​</span>      String cookieToken = st.<span xmlns="" class="perl_Function">nextToken</span>();
<span xmlns="" class="line">​</span>      String val = <span xmlns="" class="perl_Function">getCookieValue</span>(cookies, numCookies, cookieToken);
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">if</span> (val != <span xmlns="" class="perl_Keyword">null</span>)
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">return</span> val;
<span xmlns="" class="line">​</span>    }
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">if</span> (trace)
<span xmlns="" class="line">​</span>      log.<span xmlns="" class="perl_Function">trace</span>(<span xmlns="" class="perl_String">"Session Cookie not found"</span>);
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">return</span> <span xmlns="" class="perl_Keyword">null</span>;
<span xmlns="" class="line">​</span>  }
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Comment">/**</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">   * Get the configured header identity id in the tomcat service</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">   * </span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">   * @return</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">   * </span><span xmlns="" class="perl_Keyword">@throws JMException</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">   */</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">protected</span> String <span xmlns="" class="perl_Function">getIdentityHeaderId</span>() <span xmlns="" class="perl_Keyword">throws</span> JMException {
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">if</span> (<span xmlns="" class="perl_Keyword">this</span>.<span xmlns="" class="perl_Function">httpHeaderForSSOAuth</span> != <span xmlns="" class="perl_Keyword">null</span>)
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">return</span> <span xmlns="" class="perl_Keyword">this</span>.<span xmlns="" class="perl_Function">httpHeaderForSSOAuth</span>;
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">return</span> (String) mserver.<span xmlns="" class="perl_Function">getAttribute</span>(<span xmlns="" class="perl_Keyword">new</span> ObjectName(
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_String">"jboss.web:service=WebServer"</span>), <span xmlns="" class="perl_String">"HttpHeaderForSSOAuth"</span>);
<span xmlns="" class="line">​</span>  }
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Comment">/**</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">   * Get the configured session cookie id in the tomcat service</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">   * </span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">   * @return</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">   * </span><span xmlns="" class="perl_Keyword">@throws JMException</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">   */</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">protected</span> String <span xmlns="" class="perl_Function">getSessionCookieId</span>() <span xmlns="" class="perl_Keyword">throws</span> JMException {
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">if</span> (<span xmlns="" class="perl_Keyword">this</span>.<span xmlns="" class="perl_Function">sessionCookieForSSOAuth</span> != <span xmlns="" class="perl_Keyword">null</span>)
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">return</span> <span xmlns="" class="perl_Keyword">this</span>.<span xmlns="" class="perl_Function">sessionCookieForSSOAuth</span>;
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">return</span> (String) mserver.<span xmlns="" class="perl_Function">getAttribute</span>(<span xmlns="" class="perl_Keyword">new</span> ObjectName(
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_String">"jboss.web:service=WebServer"</span>), <span xmlns="" class="perl_String">"SessionCookieForSSOAuth"</span>);
<span xmlns="" class="line">​</span>  }
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Comment">/**</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">   * Get the value of a cookie if the name matches the token</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">   * </span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">   * </span><span xmlns="" class="perl_Keyword">@param cookies</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">   *            array of cookies</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">   * </span><span xmlns="" class="perl_Keyword">@param numCookies</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">   *            number of cookies in the array</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">   * </span><span xmlns="" class="perl_Keyword">@param </span><span xmlns="" class="perl_Comment">t</span><span xmlns="" class="perl_Keyword">oken</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">   *            Key</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">   * </span><span xmlns="" class="perl_Keyword">@return </span><span xmlns="" class="perl_Comment">value of cookie</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">   */</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">protected</span> String <span xmlns="" class="perl_Function">getCookieValue</span>(Cookie[] cookies, <span xmlns="" class="perl_DataType">int</span> numCookies,
<span xmlns="" class="line">​</span>      String token) {
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">for</span> (<span xmlns="" class="perl_DataType">int</span> i = <span xmlns="" class="perl_Float">0</span>; i &lt; numCookies; i++) {
<span xmlns="" class="line">​</span>      Cookie cookie = cookies[i];
<span xmlns="" class="line">​</span>      log.<span xmlns="" class="perl_Function">trace</span>(<span xmlns="" class="perl_String">"Matching cookieToken:"</span> + token + <span xmlns="" class="perl_String">" with cookie name="</span>
<span xmlns="" class="line">​</span>          + cookie.<span xmlns="" class="perl_Function">getName</span>());
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">if</span> (token.<span xmlns="" class="perl_Function">equals</span>(cookie.<span xmlns="" class="perl_Function">getName</span>())) {
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">if</span> (trace)
<span xmlns="" class="line">​</span>          log.<span xmlns="" class="perl_Function">trace</span>(<span xmlns="" class="perl_String">"Cookie-"</span> + token + <span xmlns="" class="perl_String">" value="</span> + cookie.<span xmlns="" class="perl_Function">getValue</span>());
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">return</span> cookie.<span xmlns="" class="perl_Function">getValue</span>();
<span xmlns="" class="line">​</span>      }
<span xmlns="" class="line">​</span>    }
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">return</span> <span xmlns="" class="perl_Keyword">null</span>;
<span xmlns="" class="line">​</span>  }
<span xmlns="" class="line">​</span>}</pre></div></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+7825-591808+%5BLatest%5D&comment=Title%3A+Use+A+Third-Party+Authentication+System+In+Your+Application%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=7825-591808+24+Feb+2014+07%3A55+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="sect-Security_Realms">
      ⁠</a>16.3.&nbsp;Security Realms</h2></div></div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="About_Security_Realms">
      ⁠</a>16.3.1.&nbsp;About Security Realms</h3></div></div></div><div class="para">
		A <em class="firstterm">security realm</em> is a series of mappings between users and passwords, and users and roles. Security realms are a mechanism for adding authentication and authorization to your EJB and Web applications. JBoss EAP 6 provides two security realms by default:
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
				<code class="literal">ManagementRealm</code> stores authentication information for the Management API, which provides the functionality for the Management CLI and web-based Management Console. It provides an authentication system for managing JBoss EAP 6 itself. You could also use the <code class="literal">ManagementRealm</code> if your application needed to authenticate with the same business rules you use for the Management API.
			</div></li><li class="listitem"><div class="para">
				<code class="literal">ApplicationRealm</code> stores user, password, and role information for Web Applications and EJBs.
			</div></li></ul></div><div class="para">
		Each realm is stored in a number of files on the filesystem:
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
				<code class="filename"><em class="replaceable">REALM</em>-users.properties</code> stores usernames and hashed passwords.
			</div></li><li class="listitem"><div class="para">
				<code class="filename"><em class="replaceable">REALM</em>-roles.properties</code> stores user-to-role mappings.
			</div></li><li class="listitem"><div class="para">
				<code class="filename">mgmt-groups.properties</code> stores user-to-group mapping file for <code class="literal">ManagementRealm</code>. Only used when Role-based Access Control (RBAC) is enabled.
			</div></li></ul></div><div class="para">
		The properties files are stored in the <code class="filename">domain/configuration/</code> and <code class="filename">standalone/configuration/</code> directories. The files are written simultaneously by the <code class="filename">add-user.sh</code> or <code class="filename">add-user.bat</code> command. When you run the command, the first decision you make is which realm to add your new user to.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+8269-685992+%5BLatest%5D&comment=Title%3A+About+Security+Realms%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=8269-685992+18+Jul+2014+20%3A48+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="Add_a_New_Security_Realm">
      ⁠</a>16.3.2.&nbsp;Add a New Security Realm</h3></div></div></div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><ol class="1"><li class="step"><p class="title"><strong>Run the Management CLI.</strong></p><div class="para">
				Start the <code class="filename">jboss-cli.sh</code> or <code class="filename">jboss-cli.bat</code> command and connect to the server.
			</div></li><li class="step"><p class="title"><strong>Create the new security realm itself.</strong></p><div class="para">
				Run the following command to create a new security realm named <code class="literal">MyDomainRealm</code> on a domain controller or a standalone server.
			</div><div class="para">
				For a domain instance, use this command:
			</div><pre class="screen">/host=master/core-service=management/security-realm=MyDomainRealm:add()</pre><div class="para">
				For a standalone instance, use this command:
			</div><pre class="screen">/core-service=management/security-realm=MyDomainRealm:add()</pre></li><li class="step"><p class="title"><strong>Create the references to the properties file which will store information about the new role.</strong></p><div class="para">
				Run the following command to create a pointer a file named <code class="filename">myfile.properties</code>, which will contain the properties pertaining to the new role.
			</div><div class="note"><div class="admonition_header"><p><strong>Note</strong></p></div><div class="admonition"><div class="para">
					The newly created properties file is not managed by the included <code class="filename">add-user.sh</code> and <code class="filename">add-user.bat</code> scripts. It must be managed externally.
				</div></div></div><div class="para">
				For a domain instance, use this command:
			</div><pre class="screen">/host=master/core-service=management/security-realm=MyDomainRealm/authentication=properties:add(path=myfile.properties)</pre><div class="para">
				For a standalone instance, use this command:
			</div><pre class="screen">/core-service=management/security-realm=MyDomainRealm/authentication=properties:add(path=myfile.properties)</pre></li></ol></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Result</div>
			Your new security realm is created. When you add users and roles to this new realm, the information will be stored in a separate file from the default security realms. You can manage this new file using your own applications or procedures.
		</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+8272-719583+%5BLatest%5D&comment=Title%3A+Add+a+New+Security+Realm%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=8272-719583+28+Oct+2014+11%3A56+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="Add_a_User_to_a_Security_Realm">
      ⁠</a>16.3.3.&nbsp;Add a User to a Security Realm</h3></div></div></div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><ol class="1"><li class="step"><p class="title"><strong>Run the <code class="filename">add-user.sh</code> or <code class="filename">add-user.bat</code> command.</strong></p><div class="para">
				Open a terminal and change directories to the <code class="filename"><em class="replaceable">EAP_HOME</em>/bin/</code> directory. If you run Red Hat Enterprise Linux or another UNIX-like operating system, run <code class="filename">add-user.sh</code>. If you run Microsoft Windows Server, run <code class="filename">add-user.bat</code>.
			</div></li><li class="step"><p class="title"><strong>Choose whether to add a Management User or Application User.</strong></p><div class="para">
				For this procedure, type <code class="literal">b</code> to add an Application User.
			</div></li><li class="step"><p class="title"><strong>Choose the realm the user will be added to.</strong></p><div class="para">
				By default, the only available realm is <code class="literal">ApplicationRealm</code>. If you have added a custom realm, you can type its name instead.
			</div></li><li class="step"><p class="title"><strong>Type the username, password, and roles, when prompted.</strong></p><div class="para">
				Type the desired username, password, and optional roles when prompted. Verify your choice by typing <code class="literal">yes</code>, or type <code class="literal">no</code> to cancel the changes. The changes are written to each of the properties files for the security realm.
			</div></li></ol></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+8271-591829+%5BLatest%5D&comment=Title%3A+Add+a+User+to+a+Security+Realm%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=8271-591829+24+Feb+2014+07%3A55+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="sect-EJB_Application_Security">
      ⁠</a>16.4.&nbsp;EJB Application Security</h2></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="sect-Security_Identity">
      ⁠</a>16.4.1.&nbsp;Security Identity</h3></div></div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="About_EJB_Security_Identity">
      ⁠</a>16.4.1.1.&nbsp;About EJB Security Identity</h4></div></div></div><div class="para">
		An EJB can specify an identity to use when invoking methods on other components. This is the EJB's <em class="firstterm">security identity</em> (also known as <em class="firstterm">invocation identity</em>).
	</div><div class="para">
		By default, the EJB uses its own caller identity. The identity can alternatively be set to a specific security role. Using specific security roles is useful when you want to construct a segmented security model - for example, restricting access to a set of components to internal EJBs only.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4713-685873+%5BLatest%5D&comment=Title%3A+About+EJB+Security+Identity%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4713-685873+18+Jul+2014+10%3A05+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="Set_the_Security_Identity_of_an_EJB">
      ⁠</a>16.4.1.2.&nbsp;Set the Security Identity of an EJB</h4></div></div></div><div class="para">
		The security identity of the EJB is specified through the <code class="sgmltag-element">&lt;security-identity&gt;</code> tag in the security configuration.
	</div><div class="para">
		By default - if no <code class="sgmltag-element">&lt;security-identity&gt;</code> tag is present - the EJB's own caller identity is used.
	</div><div class="example"><a id="idp18774688">
      ⁠</a><p class="title"><strong>Example&nbsp;16.5.&nbsp;Set the security identity of an EJB to be the same as its caller</strong></p><div class="example-contents"><div class="para">
			This example sets the security identity for method invocations made by an EJB to be the same as the current caller's identity. This behavior is the default if you do not specify a <code class="sgmltag-element">&lt;security-identity&gt;</code> element declaration.
		</div><pre class="programlisting XML"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;ejb-jar&gt;</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">&lt;enterprise-beans&gt;</span>
<span xmlns="" class="line">​</span>	 <span xmlns="" class="perl_Keyword">&lt;session&gt;</span>
<span xmlns="" class="line">​</span>		<span xmlns="" class="perl_Keyword">&lt;ejb-name&gt;</span>ASessionBean<span xmlns="" class="perl_Keyword">&lt;/ejb-name&gt;</span>
<span xmlns="" class="line">​</span>		<span xmlns="" class="perl_Comment">&lt;!-- ... --&gt;</span>
<span xmlns="" class="line">​</span>		<span xmlns="" class="perl_Keyword">&lt;security-identity&gt;</span>
<span xmlns="" class="line">​</span>		  <span xmlns="" class="perl_Keyword">&lt;use-caller-identity/&gt;</span>
<span xmlns="" class="line">​</span>		<span xmlns="" class="perl_Keyword">&lt;/security-identity&gt;</span>
<span xmlns="" class="line">​</span>	 <span xmlns="" class="perl_Keyword">&lt;/session&gt;</span>
<span xmlns="" class="line">​</span>	 <span xmlns="" class="perl_Comment">&lt;!-- ... --&gt;</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">&lt;/enterprise-beans&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;/ejb-jar&gt;</span>
<span xmlns="" class="line">​</span>		</pre></div></div><div class="example"><a id="idp6342368">
      ⁠</a><p class="title"><strong>Example&nbsp;16.6.&nbsp;Set the security identity of an EJB to a specific role</strong></p><div class="example-contents"><div class="para">
			To set the security identity to a specific role, use the <code class="sgmltag-element">&lt;run-as&gt;</code> and <code class="sgmltag-element">&lt;role-name&gt;</code> tags inside the <code class="sgmltag-element">&lt;security-identity&gt;</code> tag.
		</div><pre class="programlisting XML"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;ejb-jar&gt;</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">&lt;enterprise-beans&gt;</span>
<span xmlns="" class="line">​</span>	 <span xmlns="" class="perl_Keyword">&lt;session&gt;</span>
<span xmlns="" class="line">​</span>		<span xmlns="" class="perl_Keyword">&lt;ejb-name&gt;</span>RunAsBean<span xmlns="" class="perl_Keyword">&lt;/ejb-name&gt;</span>
<span xmlns="" class="line">​</span>		<span xmlns="" class="perl_Comment">&lt;!-- ... --&gt;</span>
<span xmlns="" class="line">​</span>		<span xmlns="" class="perl_Keyword">&lt;security-identity&gt;</span>
<span xmlns="" class="line">​</span>		  <span xmlns="" class="perl_Keyword">&lt;run-as&gt;</span>
<span xmlns="" class="line">​</span>			 <span xmlns="" class="perl_Keyword">&lt;description&gt;</span>A private internal role<span xmlns="" class="perl_Keyword">&lt;/description&gt;</span>
<span xmlns="" class="line">​</span>			 <span xmlns="" class="perl_Keyword">&lt;role-name&gt;</span>InternalRole<span xmlns="" class="perl_Keyword">&lt;/role-name&gt;</span>
<span xmlns="" class="line">​</span>		  <span xmlns="" class="perl_Keyword">&lt;/run-as&gt;</span>
<span xmlns="" class="line">​</span>		<span xmlns="" class="perl_Keyword">&lt;/security-identity&gt;</span>
<span xmlns="" class="line">​</span>	 <span xmlns="" class="perl_Keyword">&lt;/session&gt;</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">&lt;/enterprise-beans&gt;</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Comment">&lt;!-- ... --&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;/ejb-jar&gt;</span>
<span xmlns="" class="line">​</span>		</pre><div class="para">
			By default, when you use <code class="sgmltag-element">&lt;run-as&gt;</code>, a principal named <code class="literal">anonymous</code> is assigned to outgoing calls. To assign a different principal, uses the <code class="sgmltag-element">&lt;run-as-principal&gt;</code>.
		</div><pre class="programlisting XML"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;session&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;ejb-name&gt;</span>RunAsBean<span xmlns="" class="perl_Keyword">&lt;/ejb-name&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;security-identity&gt;</span>
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">&lt;run-as-principal&gt;</span>internal<span xmlns="" class="perl_Keyword">&lt;/run-as-principal&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;/security-identity&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;/session&gt;</span>
<span xmlns="" class="line">​</span>		</pre></div></div><div xmlns:d="http://docbook.org/ns/docbook" class="note"><div class="admonition_header"><p><strong>Specifying security identity in servlets</strong></p></div><div class="admonition"><div class="para">
			You can also use the <code class="sgmltag-element">&lt;run-as&gt;</code> and <code class="sgmltag-element">&lt;run-as-principal&gt;</code> elements inside a servlet element.
		</div></div></div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><p class="title"><strong>See also:</strong></p><ul><li class="listitem"><div class="para">
				<a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_EJB_Security_Identity">Section&nbsp;16.4.1.1, “About EJB Security Identity”</a>
			</div></li><li class="listitem"><div class="para">
				<a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#EJB_Security_Parameter_Reference">Section&nbsp;18.2, “EJB Security Parameter Reference”</a>
			</div></li></ul></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+5052-685874+%5BLatest%5D&comment=Title%3A+Set+the+Security+Identity+of+an+EJB%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=5052-685874+18+Jul+2014+10%3A05+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="sect-EJB_Method_Permissions">
      ⁠</a>16.4.2.&nbsp;EJB Method Permissions</h3></div></div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="About_EJB_Method_Permissions">
      ⁠</a>16.4.2.1.&nbsp;About EJB Method Permissions</h4></div></div></div><div class="para">
		EJBs can restrict access to their methods to specific security roles.
	</div><div class="para">
		The EJB <code class="sgmltag-element">&lt;method-permission&gt;</code> element declaration specifies the roles that can invoke the EJB's interface methods. You can specify permissions for the following combinations:
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
				All home and component interface methods of the named EJB
			</div></li><li class="listitem"><div class="para">
				A specified method of the home or component interface of the named EJB
			</div></li><li class="listitem"><div class="para">
				A specified method within a set of methods with an overloaded name
			</div></li></ul></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4767-685876+%5BLatest%5D&comment=Title%3A+About+EJB+Method+Permissions%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4767-685876+18+Jul+2014+10%3A06+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="Use_EJB_Method_Permissions">
      ⁠</a>16.4.2.2.&nbsp;Use EJB Method Permissions</h4></div></div></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Overview</div>
			The <code class="sgmltag-element">&lt;method-permission&gt;</code> element defines the logical roles that are allowed to access the EJB methods defined by <code class="sgmltag-element">&lt;method&gt;</code> elements. Several examples demonstrate the syntax of the XML. Multiple method permission statements may be present, and they have a cumulative effect. The <code class="sgmltag-element">&lt;method-permission&gt;</code> element is a child of the <code class="sgmltag-element">&lt;assembly-descriptor&gt;</code> element of the <code class="sgmltag-element">&lt;ejb-jar&gt;</code> descriptor.
		</div><div class="para">
		The XML syntax is an alternative to using annotations for EJB method permissions.
	</div><div class="example"><a id="idp31564096">
      ⁠</a><p class="title"><strong>Example&nbsp;16.7.&nbsp;Allow roles to access all methods of an EJB</strong></p><div class="example-contents"><pre class="programlisting XML"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;method-permission&gt;</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">&lt;description&gt;</span>The employee and temp-employee roles may access any method
<span xmlns="" class="line">​</span>  of the EmployeeService bean <span xmlns="" class="perl_Keyword">&lt;/description&gt;</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">&lt;role-name&gt;</span>employee<span xmlns="" class="perl_Keyword">&lt;/role-name&gt;</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">&lt;role-name&gt;</span>temp-employee<span xmlns="" class="perl_Keyword">&lt;/role-name&gt;</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">&lt;method&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;ejb-name&gt;</span>EmployeeService<span xmlns="" class="perl_Keyword">&lt;/ejb-name&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;method-name&gt;</span>*<span xmlns="" class="perl_Keyword">&lt;/method-name&gt;</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">&lt;/method&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;/method-permission&gt;</span>
<span xmlns="" class="line">​</span>	</pre></div></div><div class="example"><a id="idp29338800">
      ⁠</a><p class="title"><strong>Example&nbsp;16.8.&nbsp;Allow roles to access only specific methods of an EJB, and limiting which method parameters can be passed.</strong></p><div class="example-contents"><pre class="programlisting XML"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;method-permission&gt;</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">&lt;description&gt;</span>The employee role may access the findByPrimaryKey,
<span xmlns="" class="line">​</span>  getEmployeeInfo, and the updateEmployeeInfo(String) method of
<span xmlns="" class="line">​</span>  the AcmePayroll bean <span xmlns="" class="perl_Keyword">&lt;/description&gt;</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">&lt;role-name&gt;</span>employee<span xmlns="" class="perl_Keyword">&lt;/role-name&gt;</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">&lt;method&gt;</span>
<span xmlns="" class="line">​</span>	<span xmlns="" class="perl_Keyword">&lt;ejb-name&gt;</span>AcmePayroll<span xmlns="" class="perl_Keyword">&lt;/ejb-name&gt;</span>
<span xmlns="" class="line">​</span>	<span xmlns="" class="perl_Keyword">&lt;method-name&gt;</span>findByPrimaryKey<span xmlns="" class="perl_Keyword">&lt;/method-name&gt;</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">&lt;/method&gt;</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">&lt;method&gt;</span>
<span xmlns="" class="line">​</span>	<span xmlns="" class="perl_Keyword">&lt;ejb-name&gt;</span>AcmePayroll<span xmlns="" class="perl_Keyword">&lt;/ejb-name&gt;</span>
<span xmlns="" class="line">​</span>	<span xmlns="" class="perl_Keyword">&lt;method-name&gt;</span>getEmployeeInfo<span xmlns="" class="perl_Keyword">&lt;/method-name&gt;</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">&lt;/method&gt;</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">&lt;method&gt;</span>
<span xmlns="" class="line">​</span>	<span xmlns="" class="perl_Keyword">&lt;ejb-name&gt;</span>AcmePayroll<span xmlns="" class="perl_Keyword">&lt;/ejb-name&gt;</span>
<span xmlns="" class="line">​</span>	<span xmlns="" class="perl_Keyword">&lt;method-name&gt;</span>updateEmployeeInfo<span xmlns="" class="perl_Keyword">&lt;/method-name&gt;</span>
<span xmlns="" class="line">​</span>	<span xmlns="" class="perl_Keyword">&lt;method-params&gt;</span>
<span xmlns="" class="line">​</span>	  <span xmlns="" class="perl_Keyword">&lt;method-param&gt;</span>java.lang.String<span xmlns="" class="perl_Keyword">&lt;/method-param&gt;</span>
<span xmlns="" class="line">​</span>	<span xmlns="" class="perl_Keyword">&lt;/method-params&gt;</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">&lt;/method&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;/method-permission&gt;</span></pre></div></div><div class="example"><a id="idp13798064">
      ⁠</a><p class="title"><strong>Example&nbsp;16.9.&nbsp;Allow any authenticated user to access methods of EJBs</strong></p><div class="example-contents"><div class="para">
			Using the <code class="sgmltag-element">&lt;unchecked/&gt;</code> element allows any authenticated user to use the specified methods.
		</div><pre class="programlisting XML"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;method-permission&gt;</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">&lt;description&gt;</span>Any authenticated user may access any method of the
<span xmlns="" class="line">​</span>  EmployeeServiceHelp bean<span xmlns="" class="perl_Keyword">&lt;/description&gt;</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">&lt;unchecked/&gt;</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">&lt;method&gt;</span>
<span xmlns="" class="line">​</span>	<span xmlns="" class="perl_Keyword">&lt;ejb-name&gt;</span>EmployeeServiceHelp<span xmlns="" class="perl_Keyword">&lt;/ejb-name&gt;</span>
<span xmlns="" class="line">​</span>	<span xmlns="" class="perl_Keyword">&lt;method-name&gt;</span>*<span xmlns="" class="perl_Keyword">&lt;/method-name&gt;</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">&lt;/method&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;/method-permission&gt;</span></pre></div></div><div class="example"><a id="idp1050160">
      ⁠</a><p class="title"><strong>Example&nbsp;16.10.&nbsp;Completely exclude specific EJB methods from being used</strong></p><div class="example-contents"><pre class="programlisting XML"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;exclude-list&gt;</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">&lt;description&gt;</span>No fireTheCTO methods of the EmployeeFiring bean may be
<span xmlns="" class="line">​</span>  used in this deployment<span xmlns="" class="perl_Keyword">&lt;/description&gt;</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">&lt;method&gt;</span>
<span xmlns="" class="line">​</span>	<span xmlns="" class="perl_Keyword">&lt;ejb-name&gt;</span>EmployeeFiring<span xmlns="" class="perl_Keyword">&lt;/ejb-name&gt;</span>
<span xmlns="" class="line">​</span>	<span xmlns="" class="perl_Keyword">&lt;method-name&gt;</span>fireTheCTO<span xmlns="" class="perl_Keyword">&lt;/method-name&gt;</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">&lt;/method&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;/exclude-list&gt;</span></pre></div></div><div class="example"><a id="idm208432">
      ⁠</a><p class="title"><strong>Example&nbsp;16.11.&nbsp;A complete <code class="sgmltag-element">&lt;assembly-descriptor&gt;</code> containing several <code class="sgmltag-element">&lt;method-permission&gt;</code> blocks</strong></p><div class="example-contents"><pre class="programlisting XML"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;ejb-jar&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;assembly-descriptor&gt;</span>
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">&lt;method-permission&gt;</span>
<span xmlns="" class="line">​</span>            <span xmlns="" class="perl_Keyword">&lt;description&gt;</span>The employee and temp-employee roles may access any
<span xmlns="" class="line">​</span>                method of the EmployeeService bean <span xmlns="" class="perl_Keyword">&lt;/description&gt;</span>
<span xmlns="" class="line">​</span>            <span xmlns="" class="perl_Keyword">&lt;role-name&gt;</span>employee<span xmlns="" class="perl_Keyword">&lt;/role-name&gt;</span>
<span xmlns="" class="line">​</span>            <span xmlns="" class="perl_Keyword">&lt;role-name&gt;</span>temp-employee<span xmlns="" class="perl_Keyword">&lt;/role-name&gt;</span>
<span xmlns="" class="line">​</span>            <span xmlns="" class="perl_Keyword">&lt;method&gt;</span>
<span xmlns="" class="line">​</span>                <span xmlns="" class="perl_Keyword">&lt;ejb-name&gt;</span>EmployeeService<span xmlns="" class="perl_Keyword">&lt;/ejb-name&gt;</span>
<span xmlns="" class="line">​</span>                <span xmlns="" class="perl_Keyword">&lt;method-name&gt;</span>*<span xmlns="" class="perl_Keyword">&lt;/method-name&gt;</span>
<span xmlns="" class="line">​</span>            <span xmlns="" class="perl_Keyword">&lt;/method&gt;</span>
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">&lt;/method-permission&gt;</span>
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">&lt;method-permission&gt;</span>
<span xmlns="" class="line">​</span>            <span xmlns="" class="perl_Keyword">&lt;description&gt;</span>The employee role may access the findByPrimaryKey,
<span xmlns="" class="line">​</span>                getEmployeeInfo, and the updateEmployeeInfo(String) method of
<span xmlns="" class="line">​</span>                the AcmePayroll bean <span xmlns="" class="perl_Keyword">&lt;/description&gt;</span>
<span xmlns="" class="line">​</span>            <span xmlns="" class="perl_Keyword">&lt;role-name&gt;</span>employee<span xmlns="" class="perl_Keyword">&lt;/role-name&gt;</span>
<span xmlns="" class="line">​</span>            <span xmlns="" class="perl_Keyword">&lt;method&gt;</span>
<span xmlns="" class="line">​</span>                <span xmlns="" class="perl_Keyword">&lt;ejb-name&gt;</span>AcmePayroll<span xmlns="" class="perl_Keyword">&lt;/ejb-name&gt;</span>
<span xmlns="" class="line">​</span>                <span xmlns="" class="perl_Keyword">&lt;method-name&gt;</span>findByPrimaryKey<span xmlns="" class="perl_Keyword">&lt;/method-name&gt;</span>
<span xmlns="" class="line">​</span>            <span xmlns="" class="perl_Keyword">&lt;/method&gt;</span>
<span xmlns="" class="line">​</span>            <span xmlns="" class="perl_Keyword">&lt;method&gt;</span>
<span xmlns="" class="line">​</span>                <span xmlns="" class="perl_Keyword">&lt;ejb-name&gt;</span>AcmePayroll<span xmlns="" class="perl_Keyword">&lt;/ejb-name&gt;</span>
<span xmlns="" class="line">​</span>                <span xmlns="" class="perl_Keyword">&lt;method-name&gt;</span>getEmployeeInfo<span xmlns="" class="perl_Keyword">&lt;/method-name&gt;</span>
<span xmlns="" class="line">​</span>            <span xmlns="" class="perl_Keyword">&lt;/method&gt;</span>
<span xmlns="" class="line">​</span>            <span xmlns="" class="perl_Keyword">&lt;method&gt;</span>
<span xmlns="" class="line">​</span>                <span xmlns="" class="perl_Keyword">&lt;ejb-name&gt;</span>AcmePayroll<span xmlns="" class="perl_Keyword">&lt;/ejb-name&gt;</span>
<span xmlns="" class="line">​</span>                <span xmlns="" class="perl_Keyword">&lt;method-name&gt;</span>updateEmployeeInfo<span xmlns="" class="perl_Keyword">&lt;/method-name&gt;</span>
<span xmlns="" class="line">​</span>                <span xmlns="" class="perl_Keyword">&lt;method-params&gt;</span>
<span xmlns="" class="line">​</span>                    <span xmlns="" class="perl_Keyword">&lt;method-param&gt;</span>java.lang.String<span xmlns="" class="perl_Keyword">&lt;/method-param&gt;</span>
<span xmlns="" class="line">​</span>                <span xmlns="" class="perl_Keyword">&lt;/method-params&gt;</span>
<span xmlns="" class="line">​</span>            <span xmlns="" class="perl_Keyword">&lt;/method&gt;</span>
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">&lt;/method-permission&gt;</span>
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">&lt;method-permission&gt;</span>
<span xmlns="" class="line">​</span>            <span xmlns="" class="perl_Keyword">&lt;description&gt;</span>The admin role may access any method of the
<span xmlns="" class="line">​</span>                EmployeeServiceAdmin bean <span xmlns="" class="perl_Keyword">&lt;/description&gt;</span>
<span xmlns="" class="line">​</span>            <span xmlns="" class="perl_Keyword">&lt;role-name&gt;</span>admin<span xmlns="" class="perl_Keyword">&lt;/role-name&gt;</span>
<span xmlns="" class="line">​</span>            <span xmlns="" class="perl_Keyword">&lt;method&gt;</span>
<span xmlns="" class="line">​</span>                <span xmlns="" class="perl_Keyword">&lt;ejb-name&gt;</span>EmployeeServiceAdmin<span xmlns="" class="perl_Keyword">&lt;/ejb-name&gt;</span>
<span xmlns="" class="line">​</span>                <span xmlns="" class="perl_Keyword">&lt;method-name&gt;</span>*<span xmlns="" class="perl_Keyword">&lt;/method-name&gt;</span>
<span xmlns="" class="line">​</span>            <span xmlns="" class="perl_Keyword">&lt;/method&gt;</span>
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">&lt;/method-permission&gt;</span>
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">&lt;method-permission&gt;</span>
<span xmlns="" class="line">​</span>            <span xmlns="" class="perl_Keyword">&lt;description&gt;</span>Any authenticated user may access any method of the
<span xmlns="" class="line">​</span>                EmployeeServiceHelp bean<span xmlns="" class="perl_Keyword">&lt;/description&gt;</span>
<span xmlns="" class="line">​</span>            <span xmlns="" class="perl_Keyword">&lt;unchecked/&gt;</span>
<span xmlns="" class="line">​</span>            <span xmlns="" class="perl_Keyword">&lt;method&gt;</span>
<span xmlns="" class="line">​</span>                <span xmlns="" class="perl_Keyword">&lt;ejb-name&gt;</span>EmployeeServiceHelp<span xmlns="" class="perl_Keyword">&lt;/ejb-name&gt;</span>
<span xmlns="" class="line">​</span>                <span xmlns="" class="perl_Keyword">&lt;method-name&gt;</span>*<span xmlns="" class="perl_Keyword">&lt;/method-name&gt;</span>
<span xmlns="" class="line">​</span>            <span xmlns="" class="perl_Keyword">&lt;/method&gt;</span>
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">&lt;/method-permission&gt;</span>
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">&lt;exclude-list&gt;</span>
<span xmlns="" class="line">​</span>            <span xmlns="" class="perl_Keyword">&lt;description&gt;</span>No fireTheCTO methods of the EmployeeFiring bean may be
<span xmlns="" class="line">​</span>                used in this deployment<span xmlns="" class="perl_Keyword">&lt;/description&gt;</span>
<span xmlns="" class="line">​</span>            <span xmlns="" class="perl_Keyword">&lt;method&gt;</span>
<span xmlns="" class="line">​</span>                <span xmlns="" class="perl_Keyword">&lt;ejb-name&gt;</span>EmployeeFiring<span xmlns="" class="perl_Keyword">&lt;/ejb-name&gt;</span>
<span xmlns="" class="line">​</span>                <span xmlns="" class="perl_Keyword">&lt;method-name&gt;</span>fireTheCTO<span xmlns="" class="perl_Keyword">&lt;/method-name&gt;</span>
<span xmlns="" class="line">​</span>            <span xmlns="" class="perl_Keyword">&lt;/method&gt;</span>
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">&lt;/exclude-list&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;/assembly-descriptor&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;/ejb-jar&gt;</span></pre></div></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4794-591676+%5BLatest%5D&comment=Title%3A+Use+EJB+Method+Permissions%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4794-591676+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="sect-EJB_Security_Annotations">
      ⁠</a>16.4.3.&nbsp;EJB Security Annotations</h3></div></div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="About_EJB_Security_Annotations">
      ⁠</a>16.4.3.1.&nbsp;About EJB Security Annotations</h4></div></div></div><div class="para">
		EJB <code class="literal">javax.annotation.security</code> annotations are defined in JSR250.
	</div><div class="para">
		EJBs use security annotations to pass information about security to the deployer. These include:
	</div><div class="variablelist"><dl class="variablelist"><dt><span class="term">@DeclareRoles</span></dt><dd><div class="para">
					Declares which roles are available.
				</div></dd><dt><span class="term">@RunAs</span></dt><dd><div class="para">
					Configures the propagated security identity of a component.
				</div></dd></dl></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4768-685879+%5BLatest%5D&comment=Title%3A+About+EJB+Security+Annotations%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4768-685879+18+Jul+2014+10%3A19+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="Use_EJB_Security_Annotations">
      ⁠</a>16.4.3.2.&nbsp;Use EJB Security Annotations</h4></div></div></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Overview</div>
			You can use either XML descriptors or annotations to control which security roles are able to call methods in your Enterprise JavaBeans (EJBs). For information on using XML descriptors, refer to <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Use_EJB_Method_Permissions">Section&nbsp;16.4.2.2, “Use EJB Method Permissions”</a>.
		</div><div class="para">
		Any method values explicitly specified in the deployment descriptor override annotation values. If a method value is not specified in the deployment descriptor, those values set using annotations are used. The overriding granularity is on a per-method basis.
	</div><div class="variablelist"><p class="title"><strong>Annotations for Controlling Security Permissions of EJBs</strong></p><dl class="variablelist"><dt><span class="term">@DeclareRoles</span></dt><dd><div class="para">
					Use @DeclareRoles to define which security roles to check permissions against. If no @DeclareRoles is present, the list is built automatically from the @RolesAllowed annotation. For information about configuring roles, refer to the <em class="citetitle">Java EE 6 Tutorial</em> <a href="http://docs.oracle.com/javaee/6/tutorial/doc/bnbyl.html#gjgcq">Specifying Authorized Users by Declaring Security Roles</a>.
				</div></dd><dt><span class="term">@RolesAllowed, @PermitAll, @DenyAll</span></dt><dd><div class="para">
					Use <code class="code">@RolesAllowed</code> to list which roles are allowed to access a method or methods. Use <code class="code">@PermitAll</code> or <code class="code">@DenyAll</code> to either permit or deny all roles from using a method or methods. For information about configuring annotation method permissions, refer to the <em class="citetitle">Java EE 6 Tutorial</em> <a href="http://docs.oracle.com/javaee/6/tutorial/doc/bnbyl.html#gjgcq">Specifying Authorized Users by Declaring Security Roles</a>.
				</div></dd><dt><span class="term">@RunAs</span></dt><dd><div class="para">
					Use <code class="code">@RunAs</code> to specify a role a method uses when making calls from the annotated method. For information about configuring propagated security identities using annotations, refer to the <em class="citetitle">Java EE 6 Tutorial</em> <a href="http://docs.oracle.com/javaee/6/tutorial/doc/bnbyl.html#bnbyr">Propagating a Security Identity (Run-As)</a>.
				</div></dd></dl></div><div class="example"><a id="idp16755216">
      ⁠</a><p class="title"><strong>Example&nbsp;16.12.&nbsp;Security Annotations Example</strong></p><div class="example-contents"><pre class="programlisting JAVA"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>@Stateless
<span xmlns="" class="line">​</span>@<span xmlns="" class="perl_Function">RolesAllowed</span>({<span xmlns="" class="perl_String">"admin"</span>})
<span xmlns="" class="line">​</span>@<span xmlns="" class="perl_Function">SecurityDomain</span>(<span xmlns="" class="perl_String">"other"</span>)
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_Keyword">class</span> WelcomeEJB <span xmlns="" class="perl_Keyword">implements</span> Welcome {
<span xmlns="" class="line">​</span>	@PermitAll
<span xmlns="" class="line">​</span>	<span xmlns="" class="perl_Keyword">public</span> String <span xmlns="" class="perl_Function">WelcomeEveryone</span>(String msg) {
<span xmlns="" class="line">​</span>		<span xmlns="" class="perl_Keyword">return</span> <span xmlns="" class="perl_String">"Welcome to "</span> + msg;
<span xmlns="" class="line">​</span>	}
<span xmlns="" class="line">​</span>	@<span xmlns="" class="perl_Function">RunAs</span>(<span xmlns="" class="perl_String">"tempemployee"</span>)
<span xmlns="" class="line">​</span>	<span xmlns="" class="perl_Keyword">public</span> String <span xmlns="" class="perl_Function">GoodBye</span>(String msg) {
<span xmlns="" class="line">​</span>	    <span xmlns="" class="perl_Keyword">return</span> <span xmlns="" class="perl_String">"Goodbye, "</span> + msg;
<span xmlns="" class="line">​</span>	}
<span xmlns="" class="line">​</span>	<span xmlns="" class="perl_Keyword">public</span> String <span xmlns="" class="perl_Function">GoodbyeAdmin</span>(String msg) {
<span xmlns="" class="line">​</span>		<span xmlns="" class="perl_Keyword">return</span> <span xmlns="" class="perl_String">"See you later, "</span> + msg;
<span xmlns="" class="line">​</span>	}
<span xmlns="" class="line">​</span>}
</pre><div class="para">
			In this code, all roles can access method <code class="code">WelcomeEveryone</code>. The <code class="code">GoodBye</code> method uses the <code class="code">tempemployee</code> role when making calls. Only the <code class="code">admin</code> role can access method <code class="code">GoodbyeAdmin</code>, and any other methods with no security annotation.
		</div></div></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4795-687321+%5BLatest%5D&comment=Title%3A+Use+EJB+Security+Annotations%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4795-687321+23+Jul+2014+08%3A35+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="sect-Remote_Access_to_EJBs">
      ⁠</a>16.4.4.&nbsp;Remote Access to EJBs</h3></div></div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="About_Remoting">
      ⁠</a>16.4.4.1.&nbsp;About Remote Method Access</h4></div></div></div><div class="para">
		JBoss Remoting is the framework which provides remote access to EJBs, JMX MBeans, and other similar services. It works within the following transport types, with or without SSL:
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><p class="title"><strong>Supported Transport Types</strong></p><ul><li class="listitem"><div class="para">
				Socket / Secure Socket
			</div></li><li class="listitem"><div class="para">
				RMI / RMI over SSL
			</div></li><li class="listitem"><div class="para">
				HTTP / HTTPS
			</div></li><li class="listitem"><div class="para">
				Servlet / Secure Servlet
			</div></li><li class="listitem"><div class="para">
				Bisocket / Secure Bisocket
			</div></li></ul></div><div xmlns:d="http://docbook.org/ns/docbook" class="warning"><div class="admonition_header"><p><strong>Warning</strong></p></div><div class="admonition"><div class="para">
			Red&nbsp;Hat recommends that you explicitly disable SSL in favor of TLSv1.1 or TLSv1.2 in all affected packages.
		</div></div></div><div class="para">
		JBoss Remoting also provides automatic discovery via Multicast or JNDI.
	</div><div class="para">
		It is used by many of the subsystems within JBoss EAP 6, and also enables you to design, implement, and deploy services that can be remotely invoked by clients over several different transport mechanisms. It also allows you to access existing services in JBoss EAP 6.
	</div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Data Marshalling</div>
			The Remoting system also provides data marshalling and unmarshalling services. Data marshalling refers to the ability to safely move data across network and platform boundaries, so that a separate system can perform work on it. The work is then sent back to the original system and behaves as though it were handled locally.
		</div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Architecture Overview</div>
			When you design a client application which uses Remoting, you direct your application to communicate with the server by configuring it to use a special type of resource locator called an <code class="literal">InvokerLocator</code>, which is a simple String with a URL-type format. The server listens for requests for remote resources on a <code class="literal">connector</code>, which is configured as part of the <code class="literal">remoting</code> subsystem. The <code class="literal">connector</code> hands the request off to a configured <code class="literal">ServerInvocationHandler</code>. Each <code class="literal">ServerInvocationHandler</code> implements a method <code class="code">invoke(InvocationRequest)</code>, which knows how to handle the request.
		</div><div class="para">
		The JBoss Remoting framework contains three layers that mirror each other on the client and server side.
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><p class="title"><strong>JBoss Remoting Framework Layers</strong></p><ul><li class="listitem"><div class="para">
				The user interacts with the outer layer. On the client side, the outer layer is the <code class="code">Client</code> class, which sends invocation requests. On the server side, it is the InvocationHandler, which is implemented by the user and receives invocation requests.
			</div></li><li class="listitem"><div class="para">
				The transport is controlled by the invoker layer.
			</div></li><li class="listitem"><div class="para">
				The lowest layer contains the marshaller and unmarshaller, which convert data formats to wire formats.
			</div></li></ul></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+7882-724703+%5BLatest%5D&comment=Title%3A+About+Remote+Method+Access%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=7882-724703+10+Nov+2014+14%3A55+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="About_Remoting_Callbacks">
      ⁠</a>16.4.4.2.&nbsp;About Remoting Callbacks</h4></div></div></div><div class="para">
		When a Remoting client requests information from the server, it can block and wait for the server to reply, but this is often not the ideal behavior. To allow the client to listen for asynchronous events on the server, and continue doing other work while waiting for the server to finish the request, your application can ask the server to send a notification when it has finished. This is referred to as a callback. One client can add itself as a listener for asynchronous events generated on behalf of another client, as well. There are two different choices for how to receive callbacks: pull callbacks or push callbacks. Clients check for pull callbacks synchronously, but passively listen for push callbacks.
	</div><div class="para">
		In essence, a callback works by the server sending an <code class="code">InvocationRequest</code> to the client. Your server-side code works the same regardless of whether the callback is synchronous or asynchronous. Only the client needs to know the difference. The server's InvocationRequest sends a <code class="code">responseObject</code> to the client. This is the payload that the client has requested. This may be a direct response to a request or an event notification.
	</div><div class="para">
		Your server also tracks listeners using an <code class="code">m_listeners</code> object. It contains a list of all listeners that have been added to your server handler. The <code class="code">ServerInvocationHandler</code> interface includes methods that allow you to manage this list.
	</div><div class="para">
		The client handles pull and push callback in different ways. In either case, it must implement a callback handler. A callback handler is an implementation of interface <code class="code">org.jboss.remoting.InvokerCallbackHandler</code>, which processes the callback data. After implementing the callback handler, you either add yourself as a listener for a pull callback, or implement a callback server for a push callback.
	</div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Pull Callbacks</div>
			For a pull callback, your client adds itself to the server's list of listeners using the <code class="code">Client.addListener()</code> method. It then polls the server periodically for synchronous delivery of callback data. This poll is performed using the <code class="code">Client.getCallbacks()</code>.
		</div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Push Callback</div>
			A push callback requires your client application to run its own InvocationHandler. To do this, you need to run a Remoting service on the client itself. This is referred to as a <em class="firstterm">callback server</em>. The callback server accepts incoming requests asynchronously and processes them for the requester (in this case, the server). To register your client's callback server with the main server, pass the callback server's <code class="code">InvokerLocator</code> as the second argument to the <code class="code">addListener</code> method.
		</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+7883-591811+%5BLatest%5D&comment=Title%3A+About+Remoting+Callbacks%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=7883-591811+24+Feb+2014+07%3A55+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="About_Remoting_Server_Detection">
      ⁠</a>16.4.4.3.&nbsp;About Remoting Server Detection</h4></div></div></div><div class="para">
		Remoting servers and clients can automatically detect each other using JNDI or Multicast. A Remoting Detector is added to both the client and server, and a NetworkRegistry is added to the client.
	</div><div class="para">
		The Detector on the server side periodically scans the InvokerRegistry and pulls all server invokers it has created. It uses this information to publish a detection message which contains the locator and subsystems supported by each server invoker. It publishes this message via a multicast broadcast or a binding into a JNDI server.
	</div><div class="para">
		On the client side, the Detector receives the multicast message or periodically polls the JNDI server to retrieve detection messages. If the Detector notices that a detection message is for a newly-detected remoting server, it registers it into the NetworkRegistry. The Detector also updates the NetworkRegistry if it detects that a server is no longer available.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+7890-591811+%5BLatest%5D&comment=Title%3A+About+Remoting+Server+Detection%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=7890-591811+24+Feb+2014+07%3A55+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="Configure_the_Remoting_Subsystem">
      ⁠</a>16.4.4.4.&nbsp;Configure the Remoting Subsystem</h4></div></div></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Overview</div>
			JBoss Remoting has three top-level configurable elements: the worker thread pool, one or more connectors, and a series of local and remote connection URIs. This topic presents an explanation of each configurable item, example CLI commands for how to configure each item, and an XML example of a fully-configured subsystem. This configuration only applies to the server. Most people will not need to configure the Remoting subsystem at all, unless they use custom connectors for their own applications. Applications which act as Remoting clients, such as EJBs, need separate configuration to connect to a specific connector.
		</div><div xmlns:d="http://docbook.org/ns/docbook" class="note"><div class="admonition_header"><p><strong>Note</strong></p></div><div class="admonition"><div class="para">
			The Remoting subsystem configuration is not exposed to the web-based Management Console, but it is fully configurable from the command-line based Management CLI. Editing the XML by hand is not recommended.
		</div></div></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Adapting the CLI Commands</div>
			The CLI commands are formulated for a managed domain, when configuring the <code class="literal">default</code> profile. To configure a different profile, substitute its name. For a standalone server, omit the <code class="literal">/profile=default</code> part of the command.
		</div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Configuration Outside the Remoting Subsystem</div>
			There are a few configuration aspects which are outside of the <code class="literal">remoting</code> subsystem:
		</div><div class="variablelist"><dl class="variablelist"><dt><span class="term">Network Interface</span></dt><dd><div class="para">
					The network interface used by the <code class="literal">remoting</code> subsystem is the <code class="literal">unsecure</code> interface defined in the <code class="filename">domain/configuration/domain.xml</code> or <code class="filename">standalone/configuration/standalone.xml</code>.
				</div><pre class="programlisting XML"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;interfaces&gt;</span>
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">&lt;interface</span><span xmlns="" class="perl_Others"> name=</span><span xmlns="" class="perl_String">"management"</span><span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">&lt;interface</span><span xmlns="" class="perl_Others"> name=</span><span xmlns="" class="perl_String">"public"</span><span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">&lt;interface</span><span xmlns="" class="perl_Others"> name=</span><span xmlns="" class="perl_String">"unsecure"</span><span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;/interfaces&gt;</span>        
<span xmlns="" class="line">​</span>            </pre><div class="para">
					The per-host definition of the <code class="literal">unsecure</code> interface is defined in the <code class="filename">host.xml</code> in the same directory as the <code class="filename">domain.xml</code> or <code class="filename">standalone.xml</code>. This interface is also used by several other subsystems. Exercise caution when modifying it.
				</div><pre class="programlisting XML"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;interfaces&gt;</span>
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">&lt;interface</span><span xmlns="" class="perl_Others"> name=</span><span xmlns="" class="perl_String">"management"</span><span xmlns="" class="perl_Keyword">&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;inet-address</span><span xmlns="" class="perl_Others"> value=</span><span xmlns="" class="perl_String">"${jboss.bind.address.management:127.0.0.1}"</span><span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">&lt;/interface&gt;</span>
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">&lt;interface</span><span xmlns="" class="perl_Others"> name=</span><span xmlns="" class="perl_String">"public"</span><span xmlns="" class="perl_Keyword">&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;inet-address</span><span xmlns="" class="perl_Others"> value=</span><span xmlns="" class="perl_String">"${jboss.bind.address:127.0.0.1}"</span><span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">&lt;/interface&gt;</span>
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">&lt;interface</span><span xmlns="" class="perl_Others"> name=</span><span xmlns="" class="perl_String">"unsecure"</span><span xmlns="" class="perl_Keyword">&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Comment">&lt;!-- Used for IIOP sockets in the standard configuration.</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">         To secure JacORB you need to setup SSL --&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;inet-address</span><span xmlns="" class="perl_Others"> value=</span><span xmlns="" class="perl_String">"${jboss.bind.address.unsecure:127.0.0.1}"</span><span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">&lt;/interface&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;/interfaces&gt;</span>             
<span xmlns="" class="line">​</span>                 </pre></dd><dt><span class="term">socket-binding</span></dt><dd><div class="para">
					The default socket-binding used by the <code class="literal">remoting</code> subsystem binds to TCP port 4777. Refer to the documentation about socket bindings and socket binding groups for more information if you need to change this.
				</div></dd><dt><span class="term">Remoting Connector Reference for EJB</span></dt><dd><div class="para">
					The EJB subsystem contains a reference to the remoting connector for remote method invocations. The following is the default configuration:
				</div><pre class="programlisting XML"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;remote</span><span xmlns="" class="perl_Others"> connector-ref=</span><span xmlns="" class="perl_String">"remoting-connector"</span><span xmlns="" class="perl_Others"> thread-pool-name=</span><span xmlns="" class="perl_String">"default"</span><span xmlns="" class="perl_Keyword">/&gt;</span>            
<span xmlns="" class="line">​</span>            </pre></dd><dt><span class="term">Secure Transport Configuration</span></dt><dd><div class="para">
					Remoting transports use StartTLS to use a secure (HTTPS, Secure Servlet, etc) connection if the client requests it. The same socket binding (network port) is used for secured and unsecured connections, so no additional server-side configuration is necessary. The client requests the secure or unsecured transport, as its needs dictate. JBoss EAP 6 components which use Remoting, such as EJBs, the ORB, and the JMS provider, request secured interfaces by default.
				</div></dd></dl></div><div xmlns:d="http://docbook.org/ns/docbook" class="warning"><div class="admonition_header"><p><strong>Warning: StartTLS Security Considerations</strong></p></div><div class="admonition"><div class="para">
			StartTLS works by activating a secure connection if the client requests it, and otherwise defaulting to an unsecured connection. It is inherently susceptible to a <em class="firstterm">Man in the Middle</em> style exploit, wherein an attacker intercepts the client's request and modifies it to request an unsecured connection. Clients must be written to fail appropriately if they do not receive a secure connection, unless an unsecured connection actually is an appropriate fall-back.
		</div></div></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Worker Thread Pool</div>
			The worker thread pool is the group of threads which are available to process work which comes in through the Remoting connectors. It is a single element <code class="sgmltag-element">&lt;worker-thread-pool&gt;</code>, and takes several attributes. Tune these attributes if you get network timeouts, run out of threads, or need to limit memory usage. Specific recommendations depend on your specific situation. Contact Red Hat Global Support Services for more information.
		</div><div class="table"><a id="idp41684000">
      ⁠</a><p class="title"><strong>Table&nbsp;16.2.&nbsp;Worker Thread Pool Attributes</strong></p><div class="table-contents"><table xmlns:d="http://docbook.org/ns/docbook" class="lt-4-cols lt-7-rows" summary="Worker Thread Pool Attributes"><colgroup><col><col><col></colgroup><thead><tr><th> Attribute </th><th> Description </th><th> CLI Command </th></tr></thead><tbody><tr><td> read-threads </td><td> <div class="para">
						The number of read threads to create for the remoting worker. Defaults to <code class="literal">1</code>.
					</div>
					 </td><td> <div class="para">
						<code class="literal">/profile=default/subsystem=remoting/:write-attribute(name=worker-read-threads,value=1)</code>
					</div>
					 </td></tr><tr><td> write-threads </td><td> <div class="para">
						The number of write threads to create for the remoting worker. Defaults to <code class="literal">1</code>.
					</div>
					 </td><td> <div class="para">
						<code class="literal">/profile=default/subsystem=remoting/:write-attribute(name=worker-write-threads,value=1)</code>
					</div>
					 </td></tr><tr><td> task-keepalive </td><td> <div class="para">
						The number of milliseconds to keep non-core remoting worker task threads alive. Defaults to <code class="literal">60</code>.
					</div>
					 </td><td> <div class="para">
						<code class="literal">/profile=default/subsystem=remoting/:write-attribute(name=worker-task-keepalive,value=60)</code>
					</div>
					 </td></tr><tr><td> task-max-threads </td><td> <div class="para">
						The maximum number of threads for the remoting worker task thread pool. Defaults to <code class="literal">16</code>.
					</div>
					 </td><td> <div class="para">
						<code class="literal">/profile=default/subsystem=remoting/:write-attribute(name=worker-task-max-threads,value=16)</code>
					</div>
					 </td></tr><tr><td> task-core-threads </td><td> <div class="para">
						The number of core threads for the remoting worker task thread pool. Defaults to <code class="literal">4</code>.
					</div>
					 </td><td> <div class="para">
						<code class="literal">/profile=default/subsystem=remoting/:write-attribute(name=worker-task-core-threads,value=4)</code>
					</div>
					 </td></tr><tr><td> task-limit </td><td> <div class="para">
						The maximum number of remoting worker tasks to allow before rejecting. Defaults to <code class="literal">16384</code>.
					</div>
					 </td><td> <div class="para">
						<code class="literal">/profile=default/subsystem=remoting/:write-attribute(name=worker-task-limit,value=16384)</code>
					</div>
					 </td></tr></tbody></table></div></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Connector</div>
			The connector is the main Remoting configuration element. Multiple connectors are allowed. Each consists of a element <code class="sgmltag-element">&lt;connector&gt;</code> element with several sub-elements, as well as a few possible attributes. The default connector is used by several subsystems of JBoss EAP 6. Specific settings for the elements and attributes of your custom connectors depend on your applications, so contact Red Hat Global Support Services for more information.
		</div><div class="table"><a id="idp27041232">
      ⁠</a><p class="title"><strong>Table&nbsp;16.3.&nbsp;Connector Attributes</strong></p><div class="table-contents"><table xmlns:d="http://docbook.org/ns/docbook" class="lt-4-cols lt-7-rows" summary="Connector Attributes"><colgroup><col><col><col></colgroup><thead><tr><th> Attribute </th><th> Description </th><th> CLI Command </th></tr></thead><tbody><tr><td> socket-binding </td><td> The name of the socket binding to use for this connector. </td><td> <div class="para">
						<code class="literal">/profile=default/subsystem=remoting/connector=remoting-connector/:write-attribute(name=socket-binding,value=remoting)</code>
					</div>
					 </td></tr><tr><td> authentication-provider </td><td> <div class="para">
						The Java Authentication Service Provider Interface for Containers (JASPIC) module to use with this connector. The module must be in the classpath.
					</div>
					 </td><td> <div class="para">
						<code class="literal">/profile=default/subsystem=remoting/connector=remoting-connector/:write-attribute(name=authentication-provider,value=myProvider)</code>
					</div>
					 </td></tr><tr><td> security-realm </td><td> <div class="para">
						Optional. The security realm which contains your application's users, passwords, and roles. An EJB or Web Application can authenticate against a security realm. <code class="literal">ApplicationRealm</code> is available in a default JBoss EAP 6 installation.
					</div>
					 </td><td> <div class="para">
						<code class="literal">/profile=default/subsystem=remoting/connector=remoting-connector/:write-attribute(name=security-realm,value=ApplicationRealm)</code>
					</div>
					 </td></tr></tbody></table></div></div><div class="table"><a id="idp14475664">
      ⁠</a><p class="title"><strong>Table&nbsp;16.4.&nbsp;Connector Elements</strong></p><div class="table-contents"><table xmlns:d="http://docbook.org/ns/docbook" class="lt-4-cols lt-7-rows" summary="Connector Elements"><colgroup><col><col><col></colgroup><thead><tr><th> Attribute </th><th> Description </th><th> CLI Command </th></tr></thead><tbody><tr><td> sasl </td><td> <div class="para">
						Enclosing element for Simple Authentication and Security Layer (SASL) authentication mechanisms
					</div>
					 </td><td> <div class="para">
						<code class="literal">N/A</code>
					</div>
					 </td></tr><tr><td> properties </td><td> <div class="para">
						Contains one or more <code class="sgmltag-element">&lt;property&gt;</code> elements, each with a <code class="literal">name</code> attribute and an optional <code class="literal">value</code> attribute.
					</div>
					 </td><td> <div class="para">
						<code class="literal">/profile=default/subsystem=remoting/connector=remoting-connector/property=myProp/:add(value=myPropValue)</code>
					</div>
					 </td></tr></tbody></table></div></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Outbound Connections</div>
			You can specify three different types of outbound connection:
		</div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
				Outbound connection to a URI.
			</div></li><li class="listitem"><div class="para">
				Local outbound connection – connects to a local resource such as a socket.
			</div></li><li class="listitem"><div class="para">
				Remote outbound connection – connects to a remote resource and authenticates using a security realm.
			</div></li></ul></div><div class="para">
		All of the outbound connections are enclosed in an <code class="sgmltag-element">&lt;outbound-connections&gt;</code> element. Each of these connection types takes an <code class="literal">outbound-socket-binding-ref</code> attribute. The outbound-connection takes a <code class="literal">uri</code> attribute. The remote outbound connection takes optional <code class="literal">username</code> and <code class="literal">security-realm</code> attributes to use for authorization.
	</div><div class="table"><a id="idp38301744">
      ⁠</a><p class="title"><strong>Table&nbsp;16.5.&nbsp;Outbound Connection Elements</strong></p><div class="table-contents"><table xmlns:d="http://docbook.org/ns/docbook" class="lt-4-cols lt-7-rows" summary="Outbound Connection Elements"><colgroup><col><col><col></colgroup><thead><tr><th> Attribute </th><th> Description </th><th> CLI Command </th></tr></thead><tbody><tr><td> outbound-connection </td><td> Generic outbound connection. </td><td> <div class="para">
						<code class="literal">/profile=default/subsystem=remoting/outbound-connection=my-connection/:add(uri=http://my-connection)</code>
					</div>
					 </td></tr><tr><td> local-outbound-connection </td><td> Outbound connection with a implicit local:// URI scheme. </td><td> <div class="para">
						<code class="literal">/profile=default/subsystem=remoting/local-outbound-connection=my-connection/:add(outbound-socket-binding-ref=remoting2)</code>
					</div>
					 </td></tr><tr><td> remote-outbound-connection </td><td> <div class="para">
						Outbound connections for remote:// URI scheme, using basic/digest authentication with a security realm.
					</div>
					 </td><td> <div class="para">
						<code class="literal">/profile=default/subsystem=remoting/remote-outbound-connection=my-connection/:add(outbound-socket-binding-ref=remoting,username=myUser,security-realm=ApplicationRealm)</code>
					</div>
					 </td></tr></tbody></table></div></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">SASL Elements</div>
			Before defining the SASL child elements, you need to create the initial SASL element. Use the following command:
		</div><pre class="screen">/profile=default/subsystem=remoting/connector=remoting-connector/security=sasl:add</pre><div class="para">
		The child elements of the SASL element are described in the table below.
	</div><div class="informaltable"><table xmlns:d="http://docbook.org/ns/docbook" class="lt-4-cols gt-7-rows"><colgroup><col><col><col></colgroup><thead><tr><th> Attribute </th><th> Description </th><th> CLI Command </th></tr></thead><tbody><tr><td> include-mechanisms </td><td> <div class="para">
						Contains a <code class="literal">value</code> attribute, which is a space-separated list of SASL mechanisms.
					</div>
					 </td><td>
<pre class="screen">/profile=default/subsystem=remoting/connector=remoting-connector/security=sasl:write-attribute(name=include-mechanisms,value=["DIGEST","PLAIN","GSSAPI"])</pre>
					 </td></tr><tr><td> qop </td><td> <div class="para">
						Contains a <code class="literal">value</code> attribute, which is a space-separated list of SASL Quality of protection values, in decreasing order of preference.
					</div>
					 </td><td>
<pre class="screen">/profile=default/subsystem=remoting/connector=remoting-connector/security=sasl:write-attribute(name=qop,value=["auth"])</pre>
					 </td></tr><tr><td> strength </td><td> <div class="para">
						Contains a <code class="literal">value</code> attribute, which is a space-separated list of SASL cipher strength values, in decreasing order of preference.
					</div>
					 </td><td>
<pre class="screen">/profile=default/subsystem=remoting/connector=remoting-connector/security=sasl:write-attribute(name=strength,value=["medium"])</pre>
					 </td></tr><tr><td> reuse-session </td><td> <div class="para">
						Contains a <code class="literal">value</code> attribute which is a boolean value. If true, attempt to reuse sessions.
					</div>
					 </td><td>
<pre class="screen">/profile=default/subsystem=remoting/connector=remoting-connector/security=sasl:write-attribute(name=reuse-session,value=false)</pre>
					 </td></tr><tr><td> server-auth </td><td> <div class="para">
						Contains a <code class="literal">value</code> attribute which is a boolean value. If true, the server authenticates to the client.
					</div>
					 </td><td>
<pre class="screen">/profile=default/subsystem=remoting/connector=remoting-connector/security=sasl:write-attribute(name=server-auth,value=false)</pre>
					 </td></tr><tr><td> policy </td><td> <div class="para">
						An enclosing element which contains zero or more of the following elements, which each take a single <code class="literal">value</code>.
					</div>
					 <div class="itemizedlist"><ul><li class="listitem"><div class="para">
								forward-secrecy – whether mechanisms are required to implement forward secrecy (breaking into one session will not automatically provide information for breaking into future sessions)
							</div></li><li class="listitem"><div class="para">
								no-active – whether mechanisms susceptible to non-dictionary attacks are permitted. A value of <code class="literal">false</code> permits, and <code class="literal">true</code> denies.
							</div></li><li class="listitem"><div class="para">
								no-anonymous – whether mechanisms that accept anonymous login are permitted. A value of <code class="literal">false</code> permits, and <code class="literal">true</code> denies.
							</div></li><li class="listitem"><div class="para">
								no-dictionary – whether mechanisms susceptible to passive dictionary attacks are allowed. A value of <code class="literal">false</code> permits, and <code class="literal">true</code> denies.
							</div></li><li class="listitem"><div class="para">
								no-plain-text – whether mechanisms which are susceptible to simple plain passive attacks are allowed. A value of <code class="literal">false</code> permits, and <code class="literal">true</code> denies.
							</div></li><li class="listitem"><div class="para">
								pass-credentials – whether mechanisms which pass client credentials are allowed.
							</div></li></ul></div>
					 </td><td>
<pre class="screen">/profile=default/subsystem=remoting/connector=remoting-connector/security=sasl/sasl-policy=policy:add</pre>
					 
<pre class="screen">/profile=default/subsystem=remoting/connector=remoting-connector/security=sasl/sasl-policy=policy:write-attribute(name=forward-secrecy,value=true)</pre>
					 
<pre class="screen">/profile=default/subsystem=remoting/connector=remoting-connector/security=sasl/sasl-policy=policy:write-attribute(name=no-active,value=false)</pre>
					 
<pre class="screen">/profile=default/subsystem=remoting/connector=remoting-connector/security=sasl/sasl-policy=policy:write-attribute(name=no-anonymous,value=false)</pre>
					 
<pre class="screen">/profile=default/subsystem=remoting/connector=remoting-connector/security=sasl/sasl-policy=policy:write-attribute(name=no-dictionary,value=true)</pre>
					 
<pre class="screen">/profile=default/subsystem=remoting/connector=remoting-connector/security=sasl/sasl-policy=policy:write-attribute(name=no-plain-text,value=false)</pre>
					 
<pre class="screen">/profile=default/subsystem=remoting/connector=remoting-connector/security=sasl/sasl-policy=policy:write-attribute(name=pass-credentials,value=true)</pre>
					 </td></tr><tr><td> properties </td><td> <div class="para">
						Contains one or more <code class="sgmltag-element">&lt;property&gt;</code> elements, each with a <code class="literal">name</code> attribute and an optional <code class="literal">value</code> attribute.
					</div>
					 </td><td>
<pre class="screen">/profile=default/subsystem=remoting/connector=remoting-connector/security=sasl/property=myprop:add(value=1)</pre>
					 
<pre class="screen">/profile=default/subsystem=remoting/connector=remoting-connector/security=sasl/property=myprop2:add(value=2)</pre>
					 </td></tr></tbody></table></div><div class="example"><a id="idm2878736">
      ⁠</a><p class="title"><strong>Example&nbsp;16.13.&nbsp;Example Configurations</strong></p><div class="example-contents"><div class="para">
			This example shows the default remoting subsystem that ships with JBoss EAP 6.
		</div><pre class="programlisting XML"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;subsystem</span><span xmlns="" class="perl_Others"> xmlns=</span><span xmlns="" class="perl_String">"urn:jboss:domain:remoting:1.1"</span><span xmlns="" class="perl_Keyword">&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;connector</span><span xmlns="" class="perl_Others"> name=</span><span xmlns="" class="perl_String">"remoting-connector"</span><span xmlns="" class="perl_Others"> socket-binding=</span><span xmlns="" class="perl_String">"remoting"</span><span xmlns="" class="perl_Others"> security-realm=</span><span xmlns="" class="perl_String">"ApplicationRealm"</span><span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;/subsystem&gt;</span>    
<span xmlns="" class="line">​</span>    </pre><div class="para">
			This example contains many hypothetical values, and is presented to put the elements and attributes discussed previously into context.
		</div><pre class="programlisting XML"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;subsystem</span><span xmlns="" class="perl_Others"> xmlns=</span><span xmlns="" class="perl_String">"urn:jboss:domain:remoting:1.1"</span><span xmlns="" class="perl_Keyword">&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;worker-thread-pool</span><span xmlns="" class="perl_Others"> read-threads=</span><span xmlns="" class="perl_String">"1"</span><span xmlns="" class="perl_Others"> task-keepalive=</span><span xmlns="" class="perl_String">"60"</span><span xmlns="" class="perl_Others"> task-max-threads=</span><span xmlns="" class="perl_String">"16"</span><span xmlns="" class="perl_Others"> task-core-thread=</span><span xmlns="" class="perl_String">"4"</span><span xmlns="" class="perl_Others"> task-limit=</span><span xmlns="" class="perl_String">"16384"</span><span xmlns="" class="perl_Others"> write-threads=</span><span xmlns="" class="perl_String">"1"</span> <span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;connector</span><span xmlns="" class="perl_Others"> name=</span><span xmlns="" class="perl_String">"remoting-connector"</span><span xmlns="" class="perl_Others"> socket-binding=</span><span xmlns="" class="perl_String">"remoting"</span><span xmlns="" class="perl_Others"> security-realm=</span><span xmlns="" class="perl_String">"ApplicationRealm"</span><span xmlns="" class="perl_Keyword">&gt;</span>
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">&lt;sasl&gt;</span>
<span xmlns="" class="line">​</span>            <span xmlns="" class="perl_Keyword">&lt;include-mechanisms</span><span xmlns="" class="perl_Others"> value=</span><span xmlns="" class="perl_String">"GSSAPI PLAIN DIGEST-MD5"</span> <span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span>            <span xmlns="" class="perl_Keyword">&lt;qop</span><span xmlns="" class="perl_Others"> value=</span><span xmlns="" class="perl_String">"auth"</span> <span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span>            <span xmlns="" class="perl_Keyword">&lt;strength</span><span xmlns="" class="perl_Others"> value=</span><span xmlns="" class="perl_String">"medium"</span> <span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span>            <span xmlns="" class="perl_Keyword">&lt;reuse-session</span><span xmlns="" class="perl_Others"> value=</span><span xmlns="" class="perl_String">"false"</span> <span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span>            <span xmlns="" class="perl_Keyword">&lt;server-auth</span><span xmlns="" class="perl_Others"> value=</span><span xmlns="" class="perl_String">"false"</span> <span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span>            <span xmlns="" class="perl_Keyword">&lt;policy&gt;</span>
<span xmlns="" class="line">​</span>                <span xmlns="" class="perl_Keyword">&lt;forward-secrecy</span><span xmlns="" class="perl_Others"> value=</span><span xmlns="" class="perl_String">"true"</span> <span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span>                <span xmlns="" class="perl_Keyword">&lt;no-active</span><span xmlns="" class="perl_Others"> value=</span><span xmlns="" class="perl_String">"false"</span> <span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span>                <span xmlns="" class="perl_Keyword">&lt;no-anonymous</span><span xmlns="" class="perl_Others"> value=</span><span xmlns="" class="perl_String">"false"</span> <span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span>                <span xmlns="" class="perl_Keyword">&lt;no-dictionary</span><span xmlns="" class="perl_Others"> value=</span><span xmlns="" class="perl_String">"true"</span> <span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span>                <span xmlns="" class="perl_Keyword">&lt;no-plain-text</span><span xmlns="" class="perl_Others"> value=</span><span xmlns="" class="perl_String">"false"</span> <span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span>                <span xmlns="" class="perl_Keyword">&lt;pass-credentials</span><span xmlns="" class="perl_Others"> value=</span><span xmlns="" class="perl_String">"true"</span> <span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span>            <span xmlns="" class="perl_Keyword">&lt;/policy&gt;</span>
<span xmlns="" class="line">​</span>            <span xmlns="" class="perl_Keyword">&lt;properties&gt;</span>
<span xmlns="" class="line">​</span>                <span xmlns="" class="perl_Keyword">&lt;property</span><span xmlns="" class="perl_Others"> name=</span><span xmlns="" class="perl_String">"myprop1"</span><span xmlns="" class="perl_Others"> value=</span><span xmlns="" class="perl_String">"1"</span> <span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span>                <span xmlns="" class="perl_Keyword">&lt;property</span><span xmlns="" class="perl_Others"> name=</span><span xmlns="" class="perl_String">"myprop2"</span><span xmlns="" class="perl_Others"> value=</span><span xmlns="" class="perl_String">"2"</span> <span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span>            <span xmlns="" class="perl_Keyword">&lt;/properties&gt;</span>
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">&lt;/sasl&gt;</span>
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">&lt;authentication-provider</span><span xmlns="" class="perl_Others"> name=</span><span xmlns="" class="perl_String">"myprovider"</span> <span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">&lt;properties&gt;</span>
<span xmlns="" class="line">​</span>            <span xmlns="" class="perl_Keyword">&lt;property</span><span xmlns="" class="perl_Others"> name=</span><span xmlns="" class="perl_String">"myprop3"</span><span xmlns="" class="perl_Others"> value=</span><span xmlns="" class="perl_String">"propValue"</span> <span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">&lt;/properties&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;/connector&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;outbound-connections&gt;</span>
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">&lt;outbound-connection</span><span xmlns="" class="perl_Others"> name=</span><span xmlns="" class="perl_String">"my-outbound-connection"</span><span xmlns="" class="perl_Others"> uri=</span><span xmlns="" class="perl_String">"http://myhost:7777/"</span><span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">&lt;remote-outbound-connection</span><span xmlns="" class="perl_Others"> name=</span><span xmlns="" class="perl_String">"my-remote-connection"</span><span xmlns="" class="perl_Others"> outbound-socket-binding-ref=</span><span xmlns="" class="perl_String">"my-remote-socket"</span><span xmlns="" class="perl_Others"> username=</span><span xmlns="" class="perl_String">"myUser"</span><span xmlns="" class="perl_Others"> security-realm=</span><span xmlns="" class="perl_String">"ApplicationRealm"</span><span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">&lt;local-outbound-connection</span><span xmlns="" class="perl_Others"> name=</span><span xmlns="" class="perl_String">"myLocalConnection"</span><span xmlns="" class="perl_Others"> outbound-socket-binding-ref=</span><span xmlns="" class="perl_String">"my-outbound-socket"</span><span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;/outbound-connections&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;/subsystem&gt;</span>    
<span xmlns="" class="line">​</span>    </pre></div></div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><p class="title"><strong>Configuration Aspects Not Yet Documented</strong></p><ul><li class="listitem"><div class="para">
				JNDI and Multicast Automatic Detection
			</div></li></ul></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+7884-679212+%5BLatest%5D&comment=Title%3A+Configure+the+Remoting+Subsystem%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=7884-679212+26+Jun+2014+01%3A18+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="Use_Security_Realms_with_Remote_EJB_Clients">
      ⁠</a>16.4.4.5.&nbsp;Use Security Realms with Remote EJB Clients</h4></div></div></div><div class="para">
		One way to add security to clients which invoke EJBs remotely is to use security realms. A security realm is a simple database of username/password pairs and username/role pairs. The terminology is also used in the context of web containers, with a slightly different meaning.
	</div><div class="para">
		To authenticate a specific username/password pair that exists in a security realm against an EJB, follow these steps:
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
				Add a new security realm to the domain controller or standalone server.
			</div></li><li class="listitem"><div class="para">
				Add the following parameters to the <code class="filename">jboss-ejb-client.properties</code> file, which is in the classpath of the application. This example assumes the connection is referred to as <code class="literal">default</code> by the other parameters in the file.
			</div><pre class="programlisting">remote.connection.default.username=appuser
remote.connection.default.password=apppassword
</pre></li><li class="listitem"><div class="para">
				Create a custom Remoting connector on the domain or standalone server, which uses your new security realm.
			</div></li><li class="listitem"><div class="para">
				Deploy your EJB to the server group which is configured to use the profile with the custom Remoting connector, or to your standalone server if you are not using a managed domain.
			</div></li></ul></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+8270-680304+%5BLatest%5D&comment=Title%3A+Use+Security+Realms+with+Remote+EJB+Clients%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=8270-680304+30+Jun+2014+22%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="Add_a_New_Security_Realm1">
      ⁠</a>16.4.4.6.&nbsp;Add a New Security Realm</h4></div></div></div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><ol class="1"><li class="step"><p class="title"><strong>Run the Management CLI.</strong></p><div class="para">
				Start the <code class="filename">jboss-cli.sh</code> or <code class="filename">jboss-cli.bat</code> command and connect to the server.
			</div></li><li class="step"><p class="title"><strong>Create the new security realm itself.</strong></p><div class="para">
				Run the following command to create a new security realm named <code class="literal">MyDomainRealm</code> on a domain controller or a standalone server.
			</div><div class="para">
				For a domain instance, use this command:
			</div><pre class="screen">/host=master/core-service=management/security-realm=MyDomainRealm:add()</pre><div class="para">
				For a standalone instance, use this command:
			</div><pre class="screen">/core-service=management/security-realm=MyDomainRealm:add()</pre></li><li class="step"><p class="title"><strong>Create the references to the properties file which will store information about the new role.</strong></p><div class="para">
				Run the following command to create a pointer a file named <code class="filename">myfile.properties</code>, which will contain the properties pertaining to the new role.
			</div><div class="note"><div class="admonition_header"><p><strong>Note</strong></p></div><div class="admonition"><div class="para">
					The newly created properties file is not managed by the included <code class="filename">add-user.sh</code> and <code class="filename">add-user.bat</code> scripts. It must be managed externally.
				</div></div></div><div class="para">
				For a domain instance, use this command:
			</div><pre class="screen">/host=master/core-service=management/security-realm=MyDomainRealm/authentication=properties:add(path=myfile.properties)</pre><div class="para">
				For a standalone instance, use this command:
			</div><pre class="screen">/core-service=management/security-realm=MyDomainRealm/authentication=properties:add(path=myfile.properties)</pre></li></ol></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Result</div>
			Your new security realm is created. When you add users and roles to this new realm, the information will be stored in a separate file from the default security realms. You can manage this new file using your own applications or procedures.
		</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+8272-719583+%5BLatest%5D&comment=Title%3A+Add+a+New+Security+Realm%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=8272-719583+28+Oct+2014+11%3A56+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="Add_a_User_to_a_Security_Realm1">
      ⁠</a>16.4.4.7.&nbsp;Add a User to a Security Realm</h4></div></div></div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><ol class="1"><li class="step"><p class="title"><strong>Run the <code class="filename">add-user.sh</code> or <code class="filename">add-user.bat</code> command.</strong></p><div class="para">
				Open a terminal and change directories to the <code class="filename"><em class="replaceable">EAP_HOME</em>/bin/</code> directory. If you run Red Hat Enterprise Linux or another UNIX-like operating system, run <code class="filename">add-user.sh</code>. If you run Microsoft Windows Server, run <code class="filename">add-user.bat</code>.
			</div></li><li class="step"><p class="title"><strong>Choose whether to add a Management User or Application User.</strong></p><div class="para">
				For this procedure, type <code class="literal">b</code> to add an Application User.
			</div></li><li class="step"><p class="title"><strong>Choose the realm the user will be added to.</strong></p><div class="para">
				By default, the only available realm is <code class="literal">ApplicationRealm</code>. If you have added a custom realm, you can type its name instead.
			</div></li><li class="step"><p class="title"><strong>Type the username, password, and roles, when prompted.</strong></p><div class="para">
				Type the desired username, password, and optional roles when prompted. Verify your choice by typing <code class="literal">yes</code>, or type <code class="literal">no</code> to cancel the changes. The changes are written to each of the properties files for the security realm.
			</div></li></ol></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+8271-591829+%5BLatest%5D&comment=Title%3A+Add+a+User+to+a+Security+Realm%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=8271-591829+24+Feb+2014+07%3A55+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="About_Remote_EJB_Access_Using_SSL_Encryption">
      ⁠</a>16.4.4.8.&nbsp;About Remote EJB Access Using SSL Encryption</h4></div></div></div><div class="para">
		By default, the network traffic for Remote Method Invocation (RMI) of EJB2 and EJB3 Beans is not encrypted. In instances where encryption is required, Secure Sockets Layer (SSL) can be utilized so that the connection between the client and server is encrypted. Using SSL also has the added benefit of allowing the network traffic to traverse some firewalls, depending on the firewall configuration.
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="warning"><div class="admonition_header"><p><strong>Warning</strong></p></div><div class="admonition"><div class="para">
			Red&nbsp;Hat recommends that you explicitly disable SSL in favor of TLSv1.1 or TLSv1.2 in all affected packages.
		</div></div></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4786-724704+%5BLatest%5D&comment=Title%3A+About+Remote+EJB+Access+Using+SSL+Encryption%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4786-724704+10+Nov+2014+14%3A56+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="sect-JAX-RS_Application_Security">
      ⁠</a>16.5.&nbsp;JAX-RS Application Security</h2></div></div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="Enable_Role-Based_Security_for_a_RESTEasy_JAX-RS_Web_Service">
      ⁠</a>16.5.1.&nbsp;Enable Role-Based Security for a RESTEasy JAX-RS Web Service</h3></div></div></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Summary</div>
			RESTEasy supports the @RolesAllowed, @PermitAll, and @DenyAll annotations on JAX-RS methods. However, it does not recognize these annotations by default. Follow these steps to configure the <code class="filename">web.xml</code> file and enable role-based security.
		</div><div xmlns:d="http://docbook.org/ns/docbook" class="warning"><div class="admonition_header"><p><strong>Warning</strong></p></div><div class="admonition"><div class="para">
			Do not activate role-based security if the application uses EJBs. The EJB container will provide the functionality, instead of RESTEasy.
		</div></div></div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idp8260656">
      ⁠</a><p class="title"><strong>Procedure&nbsp;16.3.&nbsp;Enable Role-Based Security for a RESTEasy JAX-RS Web Service</strong></p><ol class="1"><li class="step"><div class="para">
				Open the <code class="filename">web.xml</code> file for the application in a text editor.
			</div></li><li class="step"><div class="para">
				Add the following &lt;context-param&gt; to the file, within the <code class="code">web-app</code> tags:
			</div><pre class="screen">&lt;context-param&gt;
    &lt;param-name&gt;resteasy.role.based.security&lt;/param-name&gt;
    &lt;param-value&gt;true&lt;/param-value&gt;
&lt;/context-param&gt;</pre></li><li class="step"><div class="para">
				Declare all roles used within the RESTEasy JAX-RS WAR file, using the &lt;security-role&gt; tags:
			</div><pre class="screen">&lt;security-role&gt;
    &lt;role-name&gt;<em class="replaceable">ROLE_NAME</em>&lt;/role-name&gt;
&lt;/security-role&gt;
&lt;security-role&gt;
    &lt;role-name&gt;<em class="replaceable">ROLE_NAME</em>&lt;/role-name&gt;
&lt;/security-role&gt;</pre></li><li class="step"><div class="para">
				Authorize access to all URLs handled by the JAX-RS runtime for all roles:
			</div><pre class="screen">&lt;security-constraint&gt;
    &lt;web-resource-collection&gt;
	&lt;web-resource-name&gt;Resteasy&lt;/web-resource-name&gt;
	&lt;url-pattern&gt;/<em class="replaceable">PATH</em>&lt;/url-pattern&gt;
    &lt;/web-resource-collection&gt;
    &lt;auth-constraint&gt;
	&lt;role-name&gt;<em class="replaceable">ROLE_NAME</em>&lt;/role-name&gt;
	&lt;role-name&gt;<em class="replaceable">ROLE_NAME</em>&lt;/role-name&gt;
    &lt;/auth-constraint&gt;
&lt;/security-constraint&gt;</pre></li></ol></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Result</div>
			Role-based security has been enabled within the application, with a set of defined roles.
		</div><div class="example"><a id="idp40094880">
      ⁠</a><p class="title"><strong>Example&nbsp;16.14.&nbsp;Example Role-Based Security Configuration</strong></p><div class="example-contents"><pre class="programlisting">&lt;web-app&gt;

    &lt;context-param&gt;
	&lt;param-name&gt;resteasy.role.based.security&lt;/param-name&gt;
	&lt;param-value&gt;true&lt;/param-value&gt;
    &lt;/context-param&gt;

    &lt;servlet-mapping&gt;
	&lt;servlet-name&gt;Resteasy&lt;/servlet-name&gt;
	&lt;url-pattern&gt;/*&lt;/url-pattern&gt;
    &lt;/servlet-mapping&gt;

    &lt;security-constraint&gt;
	&lt;web-resource-collection&gt;
	    &lt;web-resource-name&gt;Resteasy&lt;/web-resource-name&gt;
	    &lt;url-pattern&gt;/security&lt;/url-pattern&gt;
	&lt;/web-resource-collection&gt;
	&lt;auth-constraint&gt;
	    &lt;role-name&gt;admin&lt;/role-name&gt;
	    &lt;role-name&gt;user&lt;/role-name&gt;
	&lt;/auth-constraint&gt;
    &lt;/security-constraint&gt;

    &lt;security-role&gt;
	&lt;role-name&gt;admin&lt;/role-name&gt;
    &lt;/security-role&gt;
    &lt;security-role&gt;
	&lt;role-name&gt;user&lt;/role-name&gt;
    &lt;/security-role&gt;
    
&lt;/web-app&gt;</pre></div></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+5945-591719+%5BLatest%5D&comment=Title%3A+Enable+Role-Based+Security+for+a+RESTEasy+JAX-RS+Web+Service%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=5945-591719+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="Secure_a_JAX-RS_Web_Service_using_Annotations">
      ⁠</a>16.5.2.&nbsp;Secure a JAX-RS Web Service using Annotations</h3></div></div></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Summary</div>
			This topic covers the steps to secure a JAX-RS web service using the supported security annotations
		</div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idp93706528">
      ⁠</a><p class="title"><strong>Procedure&nbsp;16.4.&nbsp;Secure a JAX-RS Web Service using Supported Security Annotations</strong></p><ol class="1"><li class="step"><div class="para">
				Enable role-based security. For more information, refer to: <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Enable_Role-Based_Security_for_a_RESTEasy_JAX-RS_Web_Service">Section&nbsp;16.5.1, “Enable Role-Based Security for a RESTEasy JAX-RS Web Service”</a>
			</div></li><li class="step"><div class="para">
				Add security annotations to the JAX-RS web service. RESTEasy supports the following annotations:
			</div><div class="variablelist"><dl class="variablelist"><dt><span class="term">@RolesAllowed</span></dt><dd><div class="para">
							Defines which roles can access the method. All roles should be defined in the <code class="filename">web.xml</code> file.
						</div></dd><dt><span class="term">@PermitAll</span></dt><dd><div class="para">
							Allows all roles defined in the <code class="filename">web.xml</code> file to access the method.
						</div></dd><dt><span class="term">@DenyAll</span></dt><dd><div class="para">
							Denies all access to the method.
						</div></dd></dl></div></li></ol></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+6095-591722+%5BLatest%5D&comment=Title%3A+Secure+a+JAX-RS+Web+Service+using+Annotations%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=6095-591722+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="sect-Secure_Remote_Password_Protocol">
      ⁠</a>16.6.&nbsp;Secure Remote Password Protocol</h2></div></div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="About_Secure_Remote_Password_Protocol_SRP">
      ⁠</a>16.6.1.&nbsp;About Secure Remote Password Protocol (SRP)</h3></div></div></div><div class="para">
		The Secure Remote Password (SRP) protocol is an implementation of a public key exchange handshake described in the Internet Standards Working Group Request For Comments 2945 (RFC2945). The RFC2945 abstract states:
	</div><div class="blockquote"><blockquote class="blockquote"><div class="para">
			This document describes a cryptographically strong network authentication mechanism known as the Secure Remote Password (SRP) protocol. This mechanism is suitable for negotiating secure connections using a user-supplied password, while eliminating the security problems traditionally associated with reusable passwords. This system also performs a secure key exchange in the process of authentication, allowing security layers (privacy and/or integrity protection) to be enabled during the session. Trusted key servers and certificate infrastructures are not required, and clients are not required to store or manage any long-term keys. SRP offers both security and deployment advantages over existing challenge-response techniques, making it an ideal drop-in replacement where secure password authentication is needed.
		</div></blockquote></div><div class="para">
		The complete RFC2945 specification can be obtained from http://www.rfc-editor.org/rfc.html. Additional information on the SRP algorithm and its history can be found at http://srp.stanford.edu/.
	</div><div class="para">
		Algorithms like Diffie-Hellman and RSA are known as public key exchange algorithms. The concept of public key algorithms is that you have two keys, one public that is available to everyone, and one that is private and known only to you. When someone wants to send encrypted information to you, they encrypt the information using your public key. Only you are able to decrypt the information using your private key. Contrast this with the more traditional shared password based encryption schemes that require the sender and receiver to know the shared password. Public key algorithms eliminate the need to share passwords.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4776-591672+%5BLatest%5D&comment=Title%3A+About+Secure+Remote+Password+Protocol+%28SRP%29%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4776-591672+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="Configure_Secure_Remote_Password_ISRP_Protocol">
      ⁠</a>16.6.2.&nbsp;Configure Secure Remote Password (SRP) Protocol</h3></div></div></div><div class="para">
		To use Secure Remote Password (SRP) Protocol in your application, you first create an MBean which implements the <code class="code">SRPVerifierStore</code> interface. Information about the implementation is provided in <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#SRPVerifierStore_Interface">The SRPVerifierStore Implementation</a>.
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idp36182640">
      ⁠</a><p class="title"><strong>Procedure&nbsp;16.5.&nbsp;Integrate the Existing Password Store</strong></p><ol class="1"><li class="step"><p class="title"><strong>Create the hashed password information store.</strong></p><div class="para">
				If your passwords are already stored in an irreversible hashed form, you need to do this on a per-user basis.
			</div><div class="para">
				You can implement <code class="code">setUserVerifier(String, VerifierInfo)</code> as a noOp method, or a method that throws an exception stating that the store is read-only.
			</div></li><li class="step"><p class="title"><strong>Create the SRPVerifierStore interface.</strong></p><div class="para">
				Create a custom <code class="code">SRPVerifierStore</code> interface implementation that can obtain the <code class="code">VerifierInfo</code> from the store you created.
			</div><div class="para">
				The <code class="code">verifyUserChallenge(String, Object)</code> can be used to integrate existing hardware token based schemes like SafeWord or Radius into the SRP algorithm. This interface method is called only when the client SRPLoginModule configuration specifies the hasAuxChallenge option.
			</div></li><li class="step"><p class="title"><strong>Create the JNDI MBean.</strong></p><div class="para">
				Create a MBean that exposes the <code class="code">SRPVerifierStore</code> interface available to JNDI, and exposes any configurable parameters required.
			</div><div class="para">
				The default <code class="code">org.jboss.security.srp.SRPVerifierStoreService</code> allows you to implement this. You can also implement the MBean using a Java properties file implementation of <code class="code">SRPVerifierStore</code>.
			</div></li></ol></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">The SRPVerifierStore Implementation</div>
			The default implementation of the <code class="code">SRPVerifierStore</code> interface is not recommended for production systems, because it requires all password hash information to be available as a file of serialized objects.
		</div><div class="para">
		The <code class="code">SRPVerifierStore</code> implementation provides access to the <code class="code">SRPVerifierStore.VerifierInfo</code> object for a given username. The <code class="code">getUserVerifier(String)</code> method is called by the SRPService at the start of a user SRP session to obtain the parameters needed by the SRP algorithm.
	</div><div class="variablelist"><p class="title"><strong>Elements of a VerifierInfo Object</strong></p><dl class="variablelist"><dt><span class="term">username</span></dt><dd><div class="para">
					The username or user ID used to authenticate
				</div></dd><dt><span class="term">verifier</span></dt><dd><div class="para">
					A one-way hash of the password the user enters as proof of identity. The <code class="classname">org.jboss.security.Util</code> class includes a <code class="code">calculateVerifier</code> method which performs the password hashing algorithm. The output password takes the form <code class="literal">H(salt | H(username | ':' | password))</code>, where <code class="literal">H</code> is the SHA secure hash function as defined by RFC2945. The username is converted from a string to a byte[] using UTF-8 encoding.
				</div></dd><dt><span class="term">salt</span></dt><dd><div class="para">
					A random number used to increase the difficulty of a brute force dictionary attack on the verifier password database in the event that the database is compromised. The value should be generated from a cryptographically strong random number algorithm when the user's existing clear-text password is hashed.
				</div></dd><dt><span class="term">g</span></dt><dd><div class="para">
					The SRP algorithm primitive generator. This can be a well known fixed parameter rather than a per-user setting. The <code class="code">org.jboss.security.srp.SRPConf</code> utility class provides several settings for <code class="code">g</code>, including a suitable default obtained via <code class="code">SRPConf.getDefaultParams().g()</code>.
				</div></dd><dt><span class="term">N</span></dt><dd><div class="para">
					The SRP algorithm safe-prime modulus. This can be a well-known fixed parameter rather than a per-user setting. The <code class="code">org.jboss.security.srp.SRPConf</code> utility class provides several settings for N including a good default obtained via <code class="code">SRPConf.getDefaultParams().N()</code>.
				</div></dd></dl></div><div class="example"><a id="idp19806752">
      ⁠</a><p class="title"><strong>Example&nbsp;16.15.&nbsp;The SRPVerifierStore Interface</strong></p><div class="example-contents"><pre class="programlisting JAVA"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>package org.<span xmlns="" class="perl_Function">jboss</span>.<span xmlns="" class="perl_Function">security</span>.<span xmlns="" class="perl_Function">srp</span>;
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">import java.io.IOException;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">import java.io.Serializable;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">import java.security.KeyException;</span>
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_Keyword">interface</span> SRPVerifierStore
<span xmlns="" class="line">​</span>{
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_DataType">static</span> <span xmlns="" class="perl_Keyword">class</span> VerifierInfo <span xmlns="" class="perl_Keyword">implements</span> Serializable
<span xmlns="" class="line">​</span>    {
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">public</span> String username;
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_DataType">byte</span>[] salt;
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_DataType">byte</span>[] g;
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_DataType">byte</span>[] N;
<span xmlns="" class="line">​</span>    }
<span xmlns="" class="line">​</span>    
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">public</span> VerifierInfo <span xmlns="" class="perl_Function">getUserVerifier</span>(String username)
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">throws</span> KeyException, IOException;
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_DataType">void</span> <span xmlns="" class="perl_Function">setUserVerifier</span>(String username, VerifierInfo info)
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">throws</span> IOException;
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>     <span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_DataType">void</span> <span xmlns="" class="perl_Function">verifyUserChallenge</span>(String username, Object auxChallenge)
<span xmlns="" class="line">​</span>         <span xmlns="" class="perl_Keyword">throws</span> SecurityException;
<span xmlns="" class="line">​</span>}
</pre></div></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4777-591672+%5BLatest%5D&comment=Title%3A+Configure+Secure+Remote+Password+%28SRP%29+Protocol%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4777-591672+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="sect-Password_Vaults_for_Sensitive_Strings">
      ⁠</a>16.7.&nbsp;Password Vaults for Sensitive Strings</h2></div></div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="About_Securing_Sensitive_Strings_in_Clear-Text_Files1">
      ⁠</a>16.7.1.&nbsp;Password Vault System</h3></div></div></div><div class="para">
		JBoss EAP 6 has a Password Vault to encrypt sensitive strings, store them in an encrypted keystore, and decrypt them for applications and verification systems.
	</div><div class="para">
		Plain-text configuration files, such as XML deployment descriptors, need to specify passwords and other sensitive information.
	</div><div class="para">
		Use the JBoss EAP Password Vault to securely store sensitive strings in plain-text files.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+9001-687387+%5BSpecified%5D&comment=Title%3A+Password+Vault+System%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=9001-687387+23+Jul+2014+13%3A43+en-US+%5BSpecified%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="Create_a_Java_Keystore_to_Store_Sensitive_Strings">
      ⁠</a>16.7.2.&nbsp;Create a Java Keystore to Store Sensitive Strings</h3></div></div></div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul><li class="listitem"><div class="para">
				The <code class="command">keytool</code> command must be available to use. It is provided by the Java Runtime Environment (JRE). Locate the path for the file. In Red Hat Enterprise Linux, it is installed to <code class="filename">/usr/bin/keytool</code>.
			</div></li></ul></div><div xmlns:d="http://docbook.org/ns/docbook" class="warning"><div class="admonition_header"><p><strong>Warning</strong></p></div><div class="admonition"><div class="para">
			The JCEKS keystore implementations differ between Java vendors. You must generate the <code class="filename">vault.keystore</code> using the <code class="command">keytool</code> from the same vendor as the JDK you use.
		</div><div class="para">
			Using a vault generated by the <code class="command">keytool</code> from one vendor's JDK in an EAP instance running on a JDK from a different vendor results in the following exception:
		</div><pre class="screen">java.io.IOException: com.sun.crypto.provider.SealedObjectForKeyProtector</pre></div></div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idp27736928">
      ⁠</a><p class="title"><strong>Procedure&nbsp;16.6.&nbsp;Setup a Java Keystore</strong></p><ol class="1"><li class="step"><p class="title"><strong>Create a directory to store your keystore and other encrypted information.</strong></p><div class="para">
				Create a directory to hold your keystore and other important information. The rest of this procedure assumes that the directory is <code class="filename"><em class="replaceable">EAP_HOME</em>/vault/</code>. Since this directory will contain sensitive information it should be accessible to only limited users. At a minimum the user account under which JBoss EAP is running requires read-write access.
			</div></li><li class="step"><p class="title"><strong>Determine the parameters to use with <code class="command">keytool</code>.</strong></p><div class="para">
				Determine the following parameters:
			</div><div class="variablelist"><dl class="variablelist"><dt><span class="term">alias</span></dt><dd><div class="para">
							The alias is a unique identifier for the vault or other data stored in the keystore. The alias in the example command at the end of this procedure is <code class="literal">vault</code>. Aliases are case-insensitive.
						</div></dd><dt><span class="term">keyalg</span></dt><dd><div class="para">
							The algorithm to use for encryption. The example in this procedure uses <code class="literal">AES</code>. Use the documentation for your JRE and operating system to see which other choices may be available to you.
						</div></dd><dt><span class="term">keysize</span></dt><dd><div class="para">
							The size of an encryption key impacts how difficult it is to decrypt through brute force. The example in this procedure uses <code class="literal">128</code>. For information on appropriate values, see the documentation distributed with the <code class="command">keytool</code>.
						</div></dd><dt><span class="term">keystore</span></dt><dd><div class="para">
							The keystore is a database which holds encrypted information and the information about how to decrypt it. If you do not specify a keystore, the default keystore to use is a file called <code class="filename">.keystore</code> in your home directory. The first time you add data to a keystore, it is created. The example in this procedure uses the <code class="literal">vault.keystore</code> keystore.
						</div></dd></dl></div><div class="para">
				The <code class="command">keytool</code> command has many other options. See the documentation for your JRE or your operating system for more details.
			</div></li><li class="step"><p class="title"><strong>Determine the answers to questions the <code class="command">keystore</code> command will ask.</strong></p><div class="para">
				The <code class="command">keystore</code> needs the following information in order to populate the keystore entry:
			</div><div class="variablelist"><dl class="variablelist"><dt><span class="term">Keystore password</span></dt><dd><div class="para">
							When you create a keystore, you must set a password. In order to work with the keystore in the future, you need to provide the password. Create a strong password that you will remember. The keystore is only as secure as its password and the security of the file system and operating system where it resides.
						</div></dd><dt><span class="term">Key password (optional)</span></dt><dd><div class="para">
							In addition to the keystore password, you can specify a password for each key it holds. In order to use such a key, the password needs to be given each time it is used. Usually, this facility is not used.
						</div></dd><dt><span class="term">First name (given name) and last name (surname)</span></dt><dd><div class="para">
							This, and the rest of the information in the list, helps to uniquely identify the key and place it into a hierarchy of other keys. It does not necessarily need to be a name at all, but it should be two words, and must be unique to the key. The example in this procedure uses <code class="literal">Accounting Administrator</code>. In directory terms, this becomes the <em class="firstterm">common name</em> of the certificate.
						</div></dd><dt><span class="term">Organizational unit</span></dt><dd><div class="para">
							This is a single word that identifies who uses the certificate. It may be the application or the business unit. The example in this procedure uses <code class="literal">AccountingServices</code>. Typically, all keystores used by a group or application use the same organizational unit.
						</div></dd><dt><span class="term">Organization</span></dt><dd><div class="para">
							This is usually a single-word representation of your organization's name. This typically remains the same across all certificates used by an organization. This example uses <code class="literal">MyOrganization</code>.
						</div></dd><dt><span class="term">City or municipality</span></dt><dd><div class="para">
							Your city.
						</div></dd><dt><span class="term">State or province</span></dt><dd><div class="para">
							Your state or province, or the equivalent for your locality.
						</div></dd><dt><span class="term">Country</span></dt><dd><div class="para">
							The two-letter code for your country.
						</div></dd></dl></div><div class="para">
				All of this information together will create a hierarchy for your keystores and certificates, ensuring that they use a consistent naming structure but are unique.
			</div></li><li class="step"><p class="title"><strong>Run the <code class="command">keytool</code> command, supplying the information that you gathered.</strong></p><div class="example"><a id="idp8012848">
      ⁠</a><p class="title"><strong>Example&nbsp;16.16.&nbsp;Example input and output of <code class="command">keystore</code> command</strong></p><div class="example-contents"><pre class="screen">$ keytool -genseckey -alias vault -storetype jceks -keyalg AES -keysize 128 -storepass vault22 -keypass vault22 -validity 730 -keystore <code class="filename"><em class="replaceable">EAP_HOME</em>/vault/</code>vault.keystore
Enter keystore password: vault22 
Re-enter new password:vault22 
What is your first and last name?
  [Unknown]:  <code class="command">Accounting Administrator</code>
What is the name of your organizational unit?
  [Unknown]:  <code class="command">AccountingServices</code>
What is the name of your organization?
  [Unknown]:  <code class="command">MyOrganization</code>
What is the name of your City or Locality?
  [Unknown]:  <code class="command">Raleigh</code>
What is the name of your State or Province?
  [Unknown]:  <code class="command">NC</code>
What is the two-letter country code for this unit?
  [Unknown]:  <code class="command">US</code>
Is CN=Accounting Administrator, OU=AccountingServices, O=MyOrganization, L=Raleigh, ST=NC, C=US correct?
  [no]:  <code class="command">yes</code>

Enter key password for &lt;vault&gt;
        (RETURN if same as keystore password):
</pre></div></div></li></ol></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Result</div>
			A file named <code class="filename">vault.keystore</code> is created in the <code class="filename"><em class="replaceable">EAP_HOME</em>/vault/</code> directory. It stores a single key, called <code class="literal">vault</code>, which will be used to store encrypted strings, such as passwords, for JBoss EAP 6.
		</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+5353-690848+%5BSpecified%5D&comment=Title%3A+Create+a+Java+Keystore+to+Store+Sensitive+Strings%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=5353-690848+06+Aug+2014+14%3A22+en-US+%5BSpecified%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="Mask_the_Keystore_Password_and_Initialize_the_Password_Vault.">
      ⁠</a>16.7.3.&nbsp;Mask the Keystore Password and Initialize the Password Vault</h3></div></div></div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul><li class="listitem"><div class="para">
				<a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Create_a_Java_Keystore_to_Store_Sensitive_Strings">Section&nbsp;16.7.2, “Create a Java Keystore to Store Sensitive Strings”</a>
			</div></li></ul></div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><ol class="1"><li class="step"><p class="title"><strong>Run the <code class="command">vault.sh</code> command.</strong></p><div class="para">
				Run <code class="filename"><em class="replaceable">EAP_HOME</em>/bin/vault.sh</code>. Start a new interactive session by typing <code class="literal">0</code>.
			</div></li><li class="step"><p class="title"><strong>Enter the directory where encrypted files will be stored.</strong></p><div class="para">
				This directory should be accessible to only limited users. At a minimum the user account under which JBoss EAP is running requires read-write access. If you followed <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Create_a_Java_Keystore_to_Store_Sensitive_Strings">Section&nbsp;16.7.2, “Create a Java Keystore to Store Sensitive Strings”</a>, your keystore is in a directory called <code class="filename"><em class="replaceable">EAP_HOME</em>/vault/</code>.
			</div><div class="note"><div class="admonition_header"><p><strong>Include the trailing slash on the directory name.</strong></p></div><div class="admonition"><div class="para">
					Do not forget to include the trailing slash on the directory name. Either use <code class="literal">/</code> or <code class="literal">\</code>, depending on your operating system.
				</div></div></div></li><li class="step"><p class="title"><strong>Enter the path to the keystore.</strong></p><div class="para">
				Enter the full path to the keystore file. This example uses <code class="filename"><em class="replaceable">EAP_HOME</em>/vault/vault.keystore</code>.
			</div></li><li class="step"><p class="title"><strong>Encrypt the keystore password.</strong></p><div class="para">
				The following steps encrypt the keystore password, so that you can use it in configuration files and applications securely.
			</div><ol class="substeps a"><li class="step"><p class="title"><strong>Enter the keystore password.</strong></p><div class="para">
						When prompted, enter the keystore password.
					</div></li><li class="step"><p class="title"><strong>Enter a salt value.</strong></p><div class="para">
						Enter an 8-character salt value. The salt value, together with the iteration count (below), are used to create the hash value.
					</div></li><li class="step"><p class="title"><strong>Enter the iteration count.</strong></p><div class="para">
						Enter a number for the iteration count.
					</div></li><li class="step"><p class="title"><strong>Make a note of the masked password information.</strong></p><div class="para">
						The masked password, the salt, and the iteration count are printed to standard output. Make a note of them in a secure location. An attacker could use them to decrypt the password.
					</div></li><li class="step"><p class="title"><strong>Enter the alias of the vault.</strong></p><div class="para">
						When prompted, enter the alias of the vault. If you followed <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Create_a_Java_Keystore_to_Store_Sensitive_Strings">Section&nbsp;16.7.2, “Create a Java Keystore to Store Sensitive Strings”</a> to create your vault, the alias is <code class="literal">vault</code>.
					</div></li></ol></li><li class="step"><p class="title"><strong>Exit the interactive console.</strong></p><div class="para">
				Type <code class="literal">2</code> to exit the interactive console.
			</div></li></ol></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Result</div>
			Your keystore password has been masked for use in configuration files and deployments. In addition, your vault is fully configured and ready to use.
		</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+5357-680065+%5BSpecified%5D&comment=Title%3A+Mask+the+Keystore+Password+and+Initialize+the+Password+Vault%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=5357-680065+30+Jun+2014+10%3A31+en-US+%5BSpecified%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="Configure_the_Enterprise_Application_Platform_to_Use_the_Password_Vault1">
      ⁠</a>16.7.4.&nbsp;Configure JBoss EAP 6 to Use the Password Vault</h3></div></div></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Overview</div>
			Before you can mask passwords and other sensitive attributes in configuration files, you need to make JBoss EAP 6 aware of the password vault which stores and decrypts them. Follow this procedure to enable this functionality.
		</div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul><li class="listitem"><div class="para">
				<a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Create_a_Java_Keystore_to_Store_Sensitive_Strings">Section&nbsp;16.7.2, “Create a Java Keystore to Store Sensitive Strings”</a>
			</div></li><li class="listitem"><div class="para">
				<a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Mask_the_Keystore_Password_and_Initialize_the_Password_Vault.">Section&nbsp;16.7.3, “Mask the Keystore Password and Initialize the Password Vault”</a>
			</div></li></ul></div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idp4551488">
      ⁠</a><p class="title"><strong>Procedure&nbsp;16.7.&nbsp;Setup a Password Vault</strong></p><ol class="1"><li class="step"><p class="title"><strong>Determine the correct values for the command.</strong></p><div class="para">
				Determine the values for the following parameters, which are determined by the commands used to create the keystore itself. For information on creating a keystore, refer the following topics: <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Create_a_Java_Keystore_to_Store_Sensitive_Strings">Section&nbsp;16.7.2, “Create a Java Keystore to Store Sensitive Strings”</a> and <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Mask_the_Keystore_Password_and_Initialize_the_Password_Vault.">Section&nbsp;16.7.3, “Mask the Keystore Password and Initialize the Password Vault”</a>.
			</div><div class="informaltable"><table class="lt-4-cols gt-7-rows"><colgroup><col><col></colgroup><thead><tr><th> Parameter </th><th> Description </th></tr></thead><tbody><tr><td> KEYSTORE_URL </td><td> <div class="para">
								The file system path or URI of the keystore file, usually called something like <code class="literal">vault.keystore</code>
							</div>
							 </td></tr><tr><td> KEYSTORE_PASSWORD </td><td> <div class="para">
								The password used to access the keystore. This value should be masked.
							</div>
							 </td></tr><tr><td> KEYSTORE_ALIAS </td><td> <div class="para">
								The name of the keystore alias.
							</div>
							 </td></tr><tr><td> SALT </td><td> <div class="para">
								The salt used to encrypt and decrypt keystore values.
							</div>
							 </td></tr><tr><td> ITERATION_COUNT </td><td> <div class="para">
								The number of times the encryption algorithm is run.
							</div>
							 </td></tr><tr><td> ENC_FILE_DIR </td><td> <div class="para">
								The path to the directory from which the keystore commands are run. Typically the directory containing the password vault.
							</div>
							 </td></tr><tr><td> host (managed domain only) </td><td> <div class="para">
								The name of the host you are configuring
							</div>
							 </td></tr></tbody></table></div></li><li class="step"><p class="title"><strong>Use the Management CLI to enable the password vault.</strong></p><div class="para">
				Run one of the following commands, depending on whether you use a managed domain or standalone server configuration. Substitute the values in the command with the ones from the first step of this procedure.
			</div><div class="note"><div class="admonition_header"><p><strong>Note</strong></p></div><div class="admonition"><div class="para">
					If you use Microsoft Windows Server, in the CLI command, escape each <code class="literal">\</code> character in a directory path with an additional <code class="literal">\</code> character. For example, <code class="literal">C:\\data\\vault\\vault.keystore</code>. This is because single <code class="literal">\</code> character is used for character escaping.
				</div></div></div><ul class="stepalternatives">
				<li class="step"><p class="title"><strong>Managed Domain</strong></p><pre class="screen">/host=<em class="replaceable">YOUR_HOST</em>/core-service=vault:add(vault-options=[("KEYSTORE_URL" =&gt; "<em class="replaceable">PATH_TO_KEYSTORE</em>"), ("KEYSTORE_PASSWORD" =&gt; "<em class="replaceable">MASKED_PASSWORD</em>"), ("KEYSTORE_ALIAS" =&gt; "<em class="replaceable">ALIAS</em>"), ("SALT" =&gt; "<em class="replaceable">SALT</em>"),("ITERATION_COUNT" =&gt; "<em class="replaceable">ITERATION_COUNT</em>"), ("ENC_FILE_DIR" =&gt; "<em class="replaceable">ENC_FILE_DIR</em>")])
</pre></li>
				 <li class="step"><p class="title"><strong>Standalone Server</strong></p><pre class="screen">/core-service=vault:add(vault-options=[("KEYSTORE_URL" =&gt; "<em class="replaceable">PATH_TO_KEYSTORE</em>"), ("KEYSTORE_PASSWORD" =&gt; "<em class="replaceable">MASKED_PASSWORD</em>"), ("KEYSTORE_ALIAS" =&gt; "<em class="replaceable">ALIAS</em>"), ("SALT" =&gt; "<em class="replaceable">SALT</em>"),("ITERATION_COUNT" =&gt; "<em class="replaceable">ITERATION_COUNT</em>"), ("ENC_FILE_DIR" =&gt; "<em class="replaceable">ENC_FILE_DIR</em>")])
</pre></li>

			</ul><div class="para">
				The following is an example of the command with hypothetical values:
			</div><pre class="screen">/core-service=vault:add(vault-options=[("KEYSTORE_URL" =&gt; "/home/user/vault/vault.keystore"), ("KEYSTORE_PASSWORD" =&gt; "MASK-3y28rCZlcKR"), ("KEYSTORE_ALIAS" =&gt; "vault"), ("SALT" =&gt; "12438567"),("ITERATION_COUNT" =&gt; "50"), ("ENC_FILE_DIR" =&gt; "/home/user/vault/")])
</pre></li></ol></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Result</div>
			JBoss EAP 6 is configured to decrypt masked strings using the password vault. To add strings to the vault and use them in your configuration, refer to the following topic: <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Store_and_Retrieve_Encrypted_Sensitive_Strings_in_the_Java_Keystore">Section&nbsp;16.7.6, “Store and Retrieve Encrypted Sensitive Strings in the Java Keystore”</a>.
		</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+5358-690844+%5BSpecified%5D&comment=Title%3A+Configure+JBoss+EAP+6+to+Use+the+Password+Vault%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=5358-690844+06+Aug+2014+14%3A11+en-US+%5BSpecified%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="Configure_JBoss_EAP_6_to_Use_a_Custom_Implementation_of_the_Password_Vault">
      ⁠</a>16.7.5.&nbsp;Configure JBoss EAP 6 to Use a Custom Implementation of the Password Vault</h3></div></div></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Summary</div>
			You can use your own implementation of <code class="code">SecurityVault</code> to mask passwords and other sensitive attributes in configuration files.
		</div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idp10291280">
      ⁠</a><p class="title"><strong>Procedure&nbsp;16.8.&nbsp;Use a Custom Implementation of the Password Vault</strong></p><ol class="1"><li class="step"><div class="para">
				Create a class that implements the interface <code class="code">SecurityVault</code>.
			</div></li><li class="step"><div class="para">
				Create a module containing the class from the previous step, and specify a dependency on <code class="code">org.picketbox</code> where the interface is <code class="code">SecurityVault</code>.
			</div></li><li class="step"><div class="para">
				Enable the custom Password Vault in the JBoss EAP server configuration by adding the vault element with the following attributes:
			</div><div class="variablelist"><dl class="variablelist"><dt><span class="term"> code </span></dt><dd><div class="para">
							The fully qualified name of class that implements <code class="code">SecurityVault</code>.
						</div></dd><dt><span class="term"> module </span></dt><dd><div class="para">
							The name of the module that contains the custom class.
						</div></dd></dl></div><div class="para">
				Optionally, you can use <code class="code">vault-options</code> parameters to initialize the custom class for a Password Vault. For example:
			</div><pre class="screen">/core-service=vault:add(code="<em class="replaceable">custom.vault.implementation.CustomSecurityVault</em>", module="<em class="replaceable">custom.vault.module</em>", vault-options=[("KEYSTORE_URL" =&gt; "<em class="replaceable">PATH_TO_KEYSTORE</em>"), ("KEYSTORE_PASSWORD" =&gt; "<em class="replaceable">MASKED_PASSWORD</em>"), ("KEYSTORE_ALIAS" =&gt; "<em class="replaceable">ALIAS</em>"), ("SALT" =&gt; "<em class="replaceable">SALT</em>"),("ITERATION_COUNT" =&gt; "<em class="replaceable">ITERATION_COUNT</em>"), ("ENC_FILE_DIR" =&gt; "<em class="replaceable">ENC_FILE_DIR</em>")])</pre></li></ol></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Result</div>
			JBoss EAP 6 is configured to decrypt masked strings using a custom implementation of the password vault.
		</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+30621-635768+%5BSpecified%5D&comment=Title%3A+Configure+JBoss+EAP+6+to+Use+a+Custom+Implementation+of+the+Password+Vault%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=30621-635768+01+May+2014+11%3A28+en-US+%5BSpecified%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="Store_and_Retrieve_Encrypted_Sensitive_Strings_in_the_Java_Keystore">
      ⁠</a>16.7.6.&nbsp;Store and Retrieve Encrypted Sensitive Strings in the Java Keystore</h3></div></div></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Summary</div>
			Including passwords and other sensitive strings in plain-text configuration files is insecure. JBoss EAP 6 includes the ability to store and mask these sensitive strings in an encrypted keystore, and use masked values in configuration files.
		</div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul><li class="listitem"><div class="para">
				<a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Create_a_Java_Keystore_to_Store_Sensitive_Strings">Section&nbsp;16.7.2, “Create a Java Keystore to Store Sensitive Strings”</a>
			</div></li><li class="listitem"><div class="para">
				<a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Mask_the_Keystore_Password_and_Initialize_the_Password_Vault.">Section&nbsp;16.7.3, “Mask the Keystore Password and Initialize the Password Vault”</a>
			</div></li><li class="listitem"><div class="para">
				<a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Configure_the_Enterprise_Application_Platform_to_Use_the_Password_Vault1">Section&nbsp;16.7.4, “Configure JBoss EAP 6 to Use the Password Vault”</a>
			</div></li><li class="listitem"><div class="para">
				The <code class="filename"><em class="replaceable">EAP_HOME</em>/bin/vault.sh</code> application must be accessible via a command-line interface.
			</div></li></ul></div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idp14457888">
      ⁠</a><p class="title"><strong>Procedure&nbsp;16.9.&nbsp;Setup the Java Keystore</strong></p><ol class="1"><li class="step"><p class="title"><strong>Run the <code class="command">vault.sh</code> command.</strong></p><div class="para">
				Run <code class="filename"><em class="replaceable">EAP_HOME</em>/bin/vault.sh</code>. Start a new interactive session by typing <code class="literal">0</code>.
			</div></li><li class="step"><p class="title"><strong>Enter the directory where encrypted files will be stored.</strong></p><div class="para">
				If you followed <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Create_a_Java_Keystore_to_Store_Sensitive_Strings">Section&nbsp;16.7.2, “Create a Java Keystore to Store Sensitive Strings”</a>, your keystore is in the directory <code class="filename"><em class="replaceable">EAP_HOME</em>/vault</code>. In most cases, it makes sense to store all of your encrypted information in the same place as the key store. Since this directory will contain sensitive information it should be accessible to only limited users. At a minimum the user account under which JBoss EAP is running requires read-write access.
			</div><div class="note"><div class="admonition_header"><p><strong>Note</strong></p></div><div class="admonition"><div class="para">
					Do not forget to include the trailing slash on the directory name. Either use <code class="literal">/</code> or <code class="literal">\</code>, depending on your operating system.
				</div></div></div></li><li class="step"><p class="title"><strong>Enter the path to the keystore.</strong></p><div class="para">
				Enter the full path to the keystore file. This example uses <code class="filename"><em class="replaceable">EAP_HOME</em>/vault/vault.keystore</code>.
			</div></li><li class="step"><p class="title"><strong>Enter the keystore password, vault name, salt, and iteration count.</strong></p><div class="para">
				When prompted, enter the keystore password, vault name, salt, and iteration count. A handshake is performed.
			</div></li><li class="step"><p class="title"><strong>Select the option to store a password.</strong></p><div class="para">
				Select option <code class="literal">0</code> to store a password or other sensitive string.
			</div></li><li class="step"><p class="title"><strong>Enter the value.</strong></p><div class="para">
				When prompted, enter the value twice. If the values do not match, you are prompted to try again.
			</div></li><li class="step"><p class="title"><strong>Enter the vault block.</strong></p><div class="para">
				Enter the vault block, which is a container for attributes which pertain to the same resource. An example of an attribute name would be <code class="literal">ds_ExampleDS</code>. This will form part of the reference to the encrypted string, in your datasource or other service definition.
			</div></li><li class="step"><p class="title"><strong>Enter the attribute name.</strong></p><div class="para">
				Enter the name of the attribute you are storing. An example attribute name would be <code class="literal">password</code>.
			</div><div class="para"><div class="title">Result</div>
					A message such as the one below shows that the attribute has been saved.
				</div><pre class="screen">Secured attribute value has been stored in vault.</pre></li><li class="step"><p class="title"><strong>Make note of the information about the encrypted string.</strong></p><div class="para">
				A message prints to standard output, showing the vault block, attribute name, shared key, and advice about using the string in your configuration. Make note of this information in a secure location. Example output is shown below.
			</div><pre class="screen">********************************************
Vault Block:ds_ExampleDS
Attribute Name:password
Configuration should be done as follows:
VAULT::ds_ExampleDS::password::1
********************************************
</pre></li><li class="step"><p class="title"><strong>Use the encrypted string in your configuration.</strong></p><div class="para">
				Use the string from the previous step in your configuration, in place of a plain-text string. A datasource using the encrypted password above is shown below.
			</div><pre class="screen">...
  &lt;subsystem xmlns="urn:jboss:domain:datasources:1.0"&gt;
    &lt;datasources&gt;
      &lt;datasource jndi-name="java:jboss/datasources/ExampleDS" enabled="true" use-java-context="true" pool-name="H2DS"&gt;
        &lt;connection-url&gt;jdbc:h2:mem:test;DB_CLOSE_DELAY=-1&lt;/connection-url&gt;
        &lt;driver&gt;h2&lt;/driver&gt;
        &lt;pool&gt;&lt;/pool&gt;
        &lt;security&gt;
          &lt;user-name&gt;sa&lt;/user-name&gt;
          &lt;password&gt;${VAULT::ds_ExampleDS::password::1}&lt;/password&gt;
        &lt;/security&gt;
      &lt;/datasource&gt;
      &lt;drivers&gt;
         &lt;driver name="h2" module="com.h2database.h2"&gt;
            &lt;xa-datasource-class&gt;org.h2.jdbcx.JdbcDataSource&lt;/xa-datasource-class&gt;
         &lt;/driver&gt;
      &lt;/drivers&gt;
    &lt;/datasources&gt;
  &lt;/subsystem&gt;
...
		</pre><div class="para">
				You can use an encrypted string anywhere in your domain or standalone configuration file where expressions are allowed.
			</div><div class="note"><div class="admonition_header"><p><strong>Note</strong></p></div><div class="admonition"><div class="para">
					To check if expressions are allowed within a particular subsystem, run the following CLI command against that subsystem:
				</div><pre class="programlisting">/host=master/core-service=management/security-realm=TestRealm:read-resource-description(recursive=true)</pre><div class="para">
					From the output of running this command, look for the value for the <code class="literal">expressions-allowed</code> parameter. If this is true, then you can use expressions within the configuration of this particular subsystem.
				</div></div></div><div class="para">
				After you store your string in the keystore, use the following syntax to replace any clear-text string with an encrypted one.
			</div><pre class="screen">${VAULT::<em class="replaceable">VAULT_BLOCK</em>::<em class="replaceable">ATTRIBUTE_NAME</em>::<em class="replaceable">ENCRYPTED_VALUE</em>}</pre><div class="para">
				Here is a sample real-world value, where the vault block is <code class="literal">ds_ExampleDS</code> and the attribute is <code class="literal">password</code>.
			</div><pre class="screen">&lt;password&gt;${VAULT::ds_ExampleDS::password::1}&lt;/password&gt; </pre></li></ol></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+5359-715222+%5BSpecified%5D&comment=Title%3A+Store+and+Retrieve+Encrypted+Sensitive+Strings+in+the+Java+Keystore%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=5359-715222+07+Oct+2014+10%3A37+en-US+%5BSpecified%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="Store_and_Resolve_Sensitive_Strings_In_Your_Applications1">
      ⁠</a>16.7.7.&nbsp;Store and Resolve Sensitive Strings In Your Applications</h3></div></div></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Overview</div>
			Configuration elements of JBoss EAP 6 support the ability to resolve encrypted strings against values stored in a Java Keystore, via the Security Vault mechanism. You can add support for this feature to your own applications.
		</div><div class="para">
		First, add the password to the vault. Second, replace the clear-text password with the one stored in the vault. You can use this method to obscure any sensitive string in your application.
	</div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Prerequisites</div>
			Before performing this procedure, make sure that the directory for storing your vault files exists. It does not matter where you place them, as long as the user who executes JBoss EAP 6 has permission to read and write the files. This example places the <code class="filename">vault/</code> directory into the <code class="filename">/home/<em class="replaceable">USER</em>/vault/</code> directory. The vault itself is a file called <code class="filename">vault.keystore</code> inside the <code class="filename">vault/</code> directory.
		</div><div class="example"><a id="idp20911328">
      ⁠</a><p class="title"><strong>Example&nbsp;16.17.&nbsp;Adding the Password String to the Vault</strong></p><div class="example-contents"><div class="para">
			Add the string to the vault using the <code class="filename"><em class="replaceable">EAP_HOME</em>/bin/vault.sh</code> command. The full series of commands and responses is included in the following screen output. Values entered by the user are emphasized. Some output is removed for formatting. In Microsoft Windows, the name of the command is <code class="filename">vault.bat</code>. Note that in Microsoft Windows, file paths use the <code class="literal">\</code> character as a directory separator, rather than the <code class="literal">/</code> character.
		</div><pre class="screen">[user@host bin]$ ./vault.sh 
**********************************
****  JBoss Vault ********
**********************************
Please enter a Digit::   0: Start Interactive Session  1: Remove Interactive Session  2: Exit
<strong class="userinput"><code>0</code></strong>
Starting an interactive session
Enter directory to store encrypted files:<strong class="userinput"><code>/home/user/vault/</code></strong>
Enter Keystore URL:<strong class="userinput"><code>/home/user/vault/vault.keystore</code></strong>
Enter Keystore password: <strong class="userinput"><code>...</code></strong>
Enter Keystore password again: <strong class="userinput"><code>...</code></strong>
Values match
Enter 8 character salt:<strong class="userinput"><code>12345678</code></strong>
Enter iteration count as a number (Eg: 44):<strong class="userinput"><code>25</code></strong>

Enter Keystore Alias:<strong class="userinput"><code>vault</code></strong>
Vault is initialized and ready for use
Handshake with Vault complete
Please enter a Digit::   0: Store a password  1: Check whether password exists  2: Exit
<strong class="userinput"><code>0</code></strong>
Task:  Store a password
Please enter attribute value: <strong class="userinput"><code>sa</code></strong>
Please enter attribute value again: <strong class="userinput"><code>sa</code></strong>
Values match
Enter Vault Block:<strong class="userinput"><code>DS</code></strong>
Enter Attribute Name:<strong class="userinput"><code>thePass</code></strong>
Secured attribute value has been stored in vault.

Please make note of the following:
********************************************
Vault Block:DS
Attribute Name:thePass
Configuration should be done as follows:
VAULT::DS::thePass::1
********************************************

Please enter a Digit::   0: Store a password  1: Check whether password exists  2: Exit
<strong class="userinput"><code>2</code></strong></pre><div class="para">
			The string that will be added to the Java code is the last value of the output, the line beginning with <code class="literal">VAULT</code>.
		</div></div></div><div class="para">
		The following servlet uses the vaulted string instead of a clear-text password. The clear-text version is commented out so that you can see the difference.
	</div><div class="example"><a id="idp40230192">
      ⁠</a><p class="title"><strong>Example&nbsp;16.18.&nbsp;Servlet Using a Vaulted Password</strong></p><div class="example-contents"><pre class="programlisting JAVA"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>package vaulterror.<span xmlns="" class="perl_Function">web</span>;
<span xmlns="" class="line">​</span> 
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">import java.io.IOException;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">import java.io.Writer;</span>
<span xmlns="" class="line">​</span> 
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">import javax.annotation.Resource;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">import javax.annotation.sql.DataSourceDefinition;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">import javax.servlet.ServletException;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">import javax.servlet.annotation.WebServlet;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">import javax.servlet.http.HttpServlet;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">import javax.servlet.http.HttpServletRequest;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">import javax.servlet.http.HttpServletResponse;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">import javax.sql.DataSource;</span>
<span xmlns="" class="line">​</span> 
<span xmlns="" class="line">​</span> 
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">/*@DataSourceDefinition(</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">        name = "java:jboss/datasources/LoginDS",</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">        user = "sa",</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">        password = "sa",</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">        className = "org.h2.jdbcx.JdbcDataSource",</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">        url = "jdbc:h2:tcp://localhost/mem:test"</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Comment">)*/</span>
<span xmlns="" class="line">​</span>@<span xmlns="" class="perl_Function">DataSourceDefinition</span>(
<span xmlns="" class="line">​</span>        name = <span xmlns="" class="perl_String">"java:jboss/datasources/LoginDS"</span>,
<span xmlns="" class="line">​</span>        user = <span xmlns="" class="perl_String">"sa"</span>,
<span xmlns="" class="line">​</span>        password = <span xmlns="" class="perl_String">"VAULT::DS::thePass::1"</span>,
<span xmlns="" class="line">​</span>        className = <span xmlns="" class="perl_String">"org.h2.jdbcx.JdbcDataSource"</span>,
<span xmlns="" class="line">​</span>        url = <span xmlns="" class="perl_String">"jdbc:h2:tcp://localhost/mem:test"</span>
<span xmlns="" class="line">​</span>)
<span xmlns="" class="line">​</span>@<span xmlns="" class="perl_Function">WebServlet</span>(name = <span xmlns="" class="perl_String">"MyTestServlet"</span>, urlPatterns = { <span xmlns="" class="perl_String">"/my/"</span> }, loadOnStartup = <span xmlns="" class="perl_Float">1</span>)
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">public</span> <span xmlns="" class="perl_Keyword">class</span> MyTestServlet  <span xmlns="" class="perl_Keyword">extends</span> HttpServlet {
<span xmlns="" class="line">​</span> 
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">private</span> <span xmlns="" class="perl_DataType">static</span> <span xmlns="" class="perl_DataType">final</span> <span xmlns="" class="perl_DataType">long</span> serialVersionUID = <span xmlns="" class="perl_Float">1</span>L;
<span xmlns="" class="line">​</span> 
<span xmlns="" class="line">​</span> 
<span xmlns="" class="line">​</span>    @<span xmlns="" class="perl_Function">Resource</span>(lookup = <span xmlns="" class="perl_String">"java:jboss/datasources/LoginDS"</span>)
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">private</span> DataSource ds;
<span xmlns="" class="line">​</span> 
<span xmlns="" class="line">​</span>    @Override
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">protected</span> <span xmlns="" class="perl_DataType">void</span> <span xmlns="" class="perl_Function">doGet</span>(HttpServletRequest req, HttpServletResponse resp) <span xmlns="" class="perl_Keyword">throws</span> ServletException, IOException {
<span xmlns="" class="line">​</span>        Writer writer = resp.<span xmlns="" class="perl_Function">getWriter</span>();
<span xmlns="" class="line">​</span>        writer.<span xmlns="" class="perl_Function">write</span>((ds != <span xmlns="" class="perl_Keyword">null</span>) + <span xmlns="" class="perl_String">""</span>);
<span xmlns="" class="line">​</span>    }
<span xmlns="" class="line">​</span>}
</pre></div></div><div class="para">
		Your servlet is now able to resolve the vaulted string.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4930-679201+%5BSpecified%5D&comment=Title%3A+Store+and+Resolve+Sensitive+Strings+In+Your+Applications%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4930-679201+26+Jun+2014+00%3A44+en-US+%5BSpecified%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="sect-Java_Authorization_Contract_for_Containers_JACC">
      ⁠</a>16.8.&nbsp;Java Authorization Contract for Containers (JACC)</h2></div></div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="About_Java_Authorization_Contract_for_Containers_JACC">
      ⁠</a>16.8.1.&nbsp;About Java Authorization Contract for Containers (JACC)</h3></div></div></div><div class="para">
		Java Authorization Contract for Containers (JACC) is a standard which defines a contract between containers and authorization service providers, which results in the implementation of providers for use by containers. It was defined in JSR-115, which can be found on the Java Community Process website at <a href="http://jcp.org/en/jsr/detail?id=115">http://jcp.org/en/jsr/detail?id=115</a>. It has been part of the core Java Enterprise Edition (Java EE) specification since Java EE version 1.3.
	</div><div class="para">
		JBoss EAP 6 implements support for JACC within the security functionality of the security subsystem.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+7687-591801+%5BLatest%5D&comment=Title%3A+About+Java+Authorization+Contract+for+Containers+%28JACC%29%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=7687-591801+24+Feb+2014+07%3A55+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="Configure_Java_Authorization_Contract_for_Containers_JACC_Security">
      ⁠</a>16.8.2.&nbsp;Configure Java Authorization Contract for Containers (JACC) Security</h3></div></div></div><div class="para">
		To configure Java Authorization Contract for Containers (JACC), you need to configure your security domain with the correct module, and then modify your <code class="filename">jboss-web.xml</code> to include the correct parameters.
	</div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Add JACC Support to the Security Domain</div>
			To add JACC support to the security domain, add the <code class="literal">JACC</code> authorization policy to the authorization stack of the security domain, with the <code class="literal">required</code> flag set. The following is an example of a security domain with JACC support. However, the security domain is configured in the Management Console or Management CLI, rather than directly in the XML.
		</div><pre class="programlisting XML"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;security-domain</span><span xmlns="" class="perl_Others"> name=</span><span xmlns="" class="perl_String">"jacc"</span><span xmlns="" class="perl_Others"> cache-type=</span><span xmlns="" class="perl_String">"default"</span><span xmlns="" class="perl_Keyword">&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;authentication&gt;</span>
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">&lt;login-module</span><span xmlns="" class="perl_Others"> code=</span><span xmlns="" class="perl_String">"UsersRoles"</span><span xmlns="" class="perl_Others"> flag=</span><span xmlns="" class="perl_String">"required"</span><span xmlns="" class="perl_Keyword">&gt;</span>
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">&lt;/login-module&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;/authentication&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;authorization&gt;</span>
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">&lt;policy-module</span><span xmlns="" class="perl_Others"> code=</span><span xmlns="" class="perl_String">"JACC"</span><span xmlns="" class="perl_Others"> flag=</span><span xmlns="" class="perl_String">"required"</span><span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;/authorization&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;/security-domain&gt;</span>
</pre><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Configure a Web Application to Use JACC</div>
			The <code class="filename">jboss-web.xml</code> is located in the <code class="filename">WEB-INF/</code> directory of your deployment, and contains overrides and additional JBoss-specific configuration for the web container. To use your JACC-enabled security domain, you need to include the <code class="sgmltag-element">&lt;security-domain&gt;</code> element, and also set the <code class="sgmltag-element">&lt;use-jboss-authorization&gt;</code> element to <code class="literal">true</code>. The following application is properly configured to use the JACC security domain above.
		</div><pre class="programlisting XML"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;jboss-web&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;security-domain&gt;</span>jacc<span xmlns="" class="perl_Keyword">&lt;/security-domain&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;use-jboss-authorization&gt;</span>true<span xmlns="" class="perl_Keyword">&lt;/use-jboss-authorization&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;/jboss-web&gt;</span>
</pre><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Configure an EJB Application to Use JACC</div>
			Configuring EJBs to use a security domain and to use JACC differs from Web Applications. For an EJB, you can declare <em class="firstterm">method permissions</em> on a method or group of methods, in the <code class="filename">ejb-jar.xml</code> descriptor. Within the <code class="sgmltag-element">&lt;ejb-jar&gt;</code> element, any child <code class="sgmltag-element">&lt;method-permission&gt;</code> elements contain information about JACC roles. Refer to the example configuration for more details. The <code class="code">EJBMethodPermission</code> class is part of the Java Enterprise Edition 6 API, and is documented at <a href="http://docs.oracle.com/javaee/6/api/javax/security/jacc/EJBMethodPermission.html">http://docs.oracle.com/javaee/6/api/javax/security/jacc/EJBMethodPermission.html</a>.
		</div><div class="example"><a id="idp14596224">
      ⁠</a><p class="title"><strong>Example&nbsp;16.19.&nbsp;Example JACC Method Permissions in an EJB</strong></p><div class="example-contents"><pre class="programlisting XML"><span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;ejb-jar&gt;</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">&lt;assembly-descriptor&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;method-permission&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;description&gt;</span>The employee and temp-employee roles may access any method of the EmployeeService bean <span xmlns="" class="perl_Keyword">&lt;/description&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;role-name&gt;</span>employee<span xmlns="" class="perl_Keyword">&lt;/role-name&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;role-name&gt;</span>temp-employee<span xmlns="" class="perl_Keyword">&lt;/role-name&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;method&gt;</span>
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">&lt;ejb-name&gt;</span>EmployeeService<span xmlns="" class="perl_Keyword">&lt;/ejb-name&gt;</span>
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">&lt;method-name&gt;</span>*<span xmlns="" class="perl_Keyword">&lt;/method-name&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;/method&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;/method-permission&gt;</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">&lt;/assembly-descriptor&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;/ejb-jar&gt;</span></pre></div></div><div class="para">
		You can also constrain the authentication and authorization mechanisms for an EJB by using a security domain, just as you can do for a web application. Security domains are declared in the <code class="filename">jboss-ejb3.xml</code> descriptor, in the <code class="sgmltag-element">&lt;security&gt;</code> child element. In addition to the security domain, you can also specify the <em class="firstterm">run-as principal</em>, which changes the principal the EJB runs as.
	</div><div class="example"><a id="idp22062880">
      ⁠</a><p class="title"><strong>Example&nbsp;16.20.&nbsp;Example Security Domain Declaration in an EJB</strong></p><div class="example-contents"><pre class="programlisting XML"><span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;ejb-jar&gt;</span> 
<span xmlns="" class="line">​</span>	<span xmlns="" class="perl_Keyword">&lt;assembly-descriptor&gt;</span>
<span xmlns="" class="line">​</span>		<span xmlns="" class="perl_Keyword">&lt;security&gt;</span>
<span xmlns="" class="line">​</span>  		<span xmlns="" class="perl_Keyword">&lt;ejb-name&gt;</span>*<span xmlns="" class="perl_Keyword">&lt;/ejb-name&gt;</span>
<span xmlns="" class="line">​</span>  		<span xmlns="" class="perl_Keyword">&lt;security-domain&gt;</span>myDomain<span xmlns="" class="perl_Keyword">&lt;/security-domain&gt;</span>
<span xmlns="" class="line">​</span>  		<span xmlns="" class="perl_Keyword">&lt;run-as-principal&gt;</span>myPrincipal<span xmlns="" class="perl_Keyword">&lt;/run-as-principal&gt;</span>
<span xmlns="" class="line">​</span>		<span xmlns="" class="perl_Keyword">&lt;/security&gt;</span>
<span xmlns="" class="line">​</span> 	<span xmlns="" class="perl_Keyword">&lt;/assembly-descriptor&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;/ejb-jar&gt;</span></pre></div></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4933-685464+%5BLatest%5D&comment=Title%3A+Configure+Java+Authorization+Contract+for+Containers+%28JACC%29+Security%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4933-685464+16+Jul+2014+14%3A32+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="sect-Java_Authentication_SPI_for_Containers_JASPI">
      ⁠</a>16.9.&nbsp;Java Authentication SPI for Containers (JASPI)</h2></div></div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="About_Java_Authentication_SPI_for_Containers_JASPI_Security1">
      ⁠</a>16.9.1.&nbsp;About Java Authentication SPI for Containers (JASPI) Security</h3></div></div></div><div class="para">
		Java Authentication SPI for Containers (JASPI or JASPIC) is a pluggable interface for Java applications. It is defined in JSR-196 of the Java Community Process. Refer to <a href="http://www.jcp.org/en/jsr/detail?id=196">http://www.jcp.org/en/jsr/detail?id=196</a> for details about the specification.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+7199-687581+%5BLatest%5D&comment=Title%3A+About+Java+Authentication+SPI+for+Containers+%28JASPI%29+Security%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=7199-687581+23+Jul+2014+22%3A45+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="Configure_Java_Authentication_SPI_for_Containers_JASPI_Security1">
      ⁠</a>16.9.2.&nbsp;Configure Java Authentication SPI for Containers (JASPI) Security</h3></div></div></div><div class="para">
		To authenticate against a JASPI provider, add a <code class="sgmltag-element">&lt;authentication-jaspi&gt;</code> element to your security domain. The configuration is similar to a standard authentication module, but login module elements are enclosed in a <code class="sgmltag-element">&lt;login-module-stack&gt;</code> element. The structure of the configuration is:
	</div><div class="example"><a id="idp23273632">
      ⁠</a><p class="title"><strong>Example&nbsp;16.21.&nbsp;Structure of the <code class="literal">authentication-jaspi</code> element</strong></p><div class="example-contents"><pre class="programlisting JAVA"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span>&lt;authentication-jaspi&gt;
<span xmlns="" class="line">​</span>	&lt;login-module-stack name=<span xmlns="" class="perl_String">"..."</span>&gt;
<span xmlns="" class="line">​</span>	  &lt;login-module code=<span xmlns="" class="perl_String">"..."</span> flag=<span xmlns="" class="perl_String">"..."</span>&gt;
<span xmlns="" class="line">​</span>	    &lt;module-option name=<span xmlns="" class="perl_String">"..."</span> value=<span xmlns="" class="perl_String">"..."</span>/&gt;
<span xmlns="" class="line">​</span>	  &lt;/login-module&gt;
<span xmlns="" class="line">​</span>	&lt;/login-module-stack&gt;
<span xmlns="" class="line">​</span>	&lt;auth-module code=<span xmlns="" class="perl_String">"..."</span> login-module-stack-ref=<span xmlns="" class="perl_String">"..."</span>&gt;
<span xmlns="" class="line">​</span>	  &lt;module-option name=<span xmlns="" class="perl_String">"..."</span> value=<span xmlns="" class="perl_String">"..."</span>/&gt;
<span xmlns="" class="line">​</span>	&lt;/auth-module&gt;
<span xmlns="" class="line">​</span>&lt;/authentication-jaspi&gt;
</pre></div></div><div class="para">
		The login module itself is configured in exactly the same way as a standard authentication module.
	</div><div class="para">
		Because the web-based management console does not expose the configuration of JASPI authentication modules, you need to stop JBoss EAP 6 completely before adding the configuration directly to <code class="filename"><em class="replaceable">EAP_HOME</em>/domain/configuration/domain.xml</code> or <code class="filename"><em class="replaceable">EAP_HOME</em>/standalone/configuration/standalone.xml</code>.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4934-591678+%5BLatest%5D&comment=Title%3A+Configure+Java+Authentication+SPI+for+Containers+%28JASPI%29+Security%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4934-591678+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div></div></div><div xml:lang="en-US" class="chapter" lang="en-US"><div class="titlepage"><div><div><h1 class="title"><a id="chap-Single_Sign_On_SSO">
      ⁠</a>Chapter&nbsp;17.&nbsp;Single Sign On (SSO)</h1></div></div></div><div class="toc"><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Single_Sign_On_SSO_for_Web_Applications">17.1. About Single Sign On (SSO) for Web Applications</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Clustered_Single_Sign_On_SSO_for_Web_Applications">17.2. About Clustered Single Sign On (SSO) for Web Applications</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Choose_the_Right_SSO_Implementation">17.3. Choose the Right SSO Implementation</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Use_Single_Sign_On_SSO_In_A_Web_Application">17.4. Use Single Sign On (SSO) In A Web Application</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Kerberos">17.5. About Kerberos</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_SPNEGO">17.6. About SPNEGO</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#About_Microsoft_Active_Directory">17.7. About Microsoft Active Directory</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Configure_Kerberos_or_Microsoft_Active_Directory_Desktop_SSO_for_Web_Applications">17.8. Configure Kerberos or Microsoft Active Directory Desktop SSO for Web Applications</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Configure_SPNEGO_Fall_Back_to_Form_Authentication">17.9. Configure SPNEGO Fall Back to Form Authentication</a></span></dt></dl></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="About_Single_Sign_On_SSO_for_Web_Applications">
      ⁠</a>17.1.&nbsp;About Single Sign On (SSO) for Web Applications</h2></div></div></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Overview</div>
			<em class="firstterm">Single Sign On (SSO)</em> allows authentication to one resource to implicitly authorize access to other resources.
		</div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Clustered and Non-Clustered SSO</div>
			Non-clustered SSO limits the sharing of authorization information to applications on the same virtual host. In addition, there is no resiliency in the event of a host failure. Clustered SSO data can be shared between applications in multiple virtual hosts, and is resilient to failover. In addition, clustered SSO is able to receive requests from a load balancer.
		</div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">How SSO Works</div>
			If a resource is unprotected, a user is not challenged to authenticate at all. If a user accesses a protected resource, the user is required to authenticate.
		</div><div class="para">
		Upon successful authentication, the roles associated with the user are stored and used for authorization of all other associated resources.
	</div><div class="para">
		If the user logs out of an application, or an application invalidates the session programmatically, all persisted authorization data is removed, and the process starts over.
	</div><div class="para">
		A session timeout does not invalidate the SSO session if other sessions are still valid.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4694-675498+%5BLatest%5D&comment=Title%3A+About+Single+Sign+On+%28SSO%29+for+Web+Applications%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4694-675498+24+Jun+2014+05%3A09+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="About_Clustered_Single_Sign_On_SSO_for_Web_Applications">
      ⁠</a>17.2.&nbsp;About Clustered Single Sign On (SSO) for Web Applications</h2></div></div></div><div class="para">
		Single Sign On (SSO) is the ability for users to authenticate to a single web application, and by means of a successful authentication, will successfully authenticate to multiple other applications without needing to be prompted at each one. Clustered SSO stores the authentication and authorization information in a clustered cache. This allows for applications on multiple different servers to share the information, and also makes the information resilient to a failure of one of the hosts.
	</div><div class="para">
		A SSO configuration is called a valve. A valve is connected to a security domain, which is configured at the level of the server or server group. Each application which should share the same cached authentication information is configured to use the same valve. This configuration is done in the application's <code class="filename">jboss-web.xml</code>.
	</div><div class="para">
		Some common SSO valves supported by the web subsystem of JBoss EAP 6 include:
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
				Apache Tomcat ClusteredSingleSignOn
			</div></li><li class="listitem"><div class="para">
				Apache Tomcat IDPWebBrowserSSOValve
			</div></li><li class="listitem"><div class="para">
				SPNEGO-based SSO provided by PicketLink
			</div></li></ul></div><div class="para">
		Depending on the specific type of valve, you may need to do some additional configuration in your security domain, in order for your valve to work properly.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4696-719851+%5BLatest%5D&comment=Title%3A+About+Clustered+Single+Sign+On+%28SSO%29+for+Web+Applications%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4696-719851+29+Oct+2014+15%3A05+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="Choose_the_Right_SSO_Implementation">
      ⁠</a>17.3.&nbsp;Choose the Right SSO Implementation</h2></div></div></div><div class="para">
		JBoss EAP 6 runs Java Enterprise Edition (EE) applications, which may be web applications, EJB applications, web services, or other types. Single Sign On (SSO) allows you to propagate security context and identity information between these applications. Several SSO solutions are available but choosing the right solution depends on your requirements.
	</div><div class="para">
		Note that there is a distinct difference between a clustered web application and clustered SSO. A clustered web application is one which is distributed across the nodes of a cluster to spread the load of hosting that application. If marked as distributable, all new sessions, and changes to existing sessions are replicated to other members of the cluster. An application is marked as able to be distributed across cluster nodes with the &lt;distributable/&gt; tag in the <code class="filename">web.xml</code> deployment descriptor. Clustered SSO allows for replication of security context and identity information, regardless of whether or not the applications are themselves clustered. Although these technologies may be used together they are separate concepts.
	</div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Kerberos-Based Desktop SSO</div>
			If your organization already uses a Kerberos-based authentication and authorization system, such as Microsoft Active Directory, you can use the same systems to transparently authenticate to your enterprise applications running on JBoss EAP 6.
		</div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Non-Clustered Web Application SSO</div>
			If you are running multiple applications on a single instance and need to enable SSO session replication for those applications, non-clustered SSO will meet your requirements.
		</div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Clustered Web Application SSO</div>
			If you are running either a single application, or multiple applications, across a cluster and need to enable SSO session replication for those applications, clustered SSO will meet your requirements.
		</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+7502-679639+%5BLatest%5D&comment=Title%3A+Choose+the+Right+SSO+Implementation%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=7502-679639+27+Jun+2014+10%3A00+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="Use_Single_Sign_On_SSO_In_A_Web_Application">
      ⁠</a>17.4.&nbsp;Use Single Sign On (SSO) In A Web Application</h2></div></div></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Overview</div>
			Single Sign On (SSO) capabilities are provided by the web and Infinispan subsystems. Use this procedure to configure SSO in web applications.
		</div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul><li class="listitem"><div class="para">
				A configured security domain which handles authentication and authorization.
			</div></li><li class="listitem"><div class="para">
				The <code class="code">infinispan</code> subsystem. It is present in the <code class="code">full-ha</code> profile for a managed domain, or by using the <code class="code">standalone-full-ha.xml</code> configuration in a standalone server.
			</div></li><li class="listitem"><div class="para">
				The <code class="code">web</code> <code class="code">cache-container</code> and SSO replicated-cache. The initial configuration files already contain the <code class="code">web</code> cache-container, and some of the configurations already contain the SSO replicated-cache as well. Use the following commands to check for and enable the SSO replicated-cache. Note that these commands modify the <code class="code">ha</code> profile of a managed domain. You can change the commands to use a different profile, or remove the <code class="literal">/profile=ha</code> portion of the command, for a standalone server.
			</div><div class="example"><a id="idp25346416">
      ⁠</a><p class="title"><strong>Example&nbsp;17.1.&nbsp;Check for the <code class="code">web</code> cache-container</strong></p><div class="example-contents"><div class="para">
					The profiles and configurations mentioned above include the <code class="code">web</code> cache-container by default. Use the following command to verify its presence. If you use a different profile, substitute its name instead of <code class="literal">ha</code>.
				</div><pre class="screen">/profile=ha/subsystem=infinispan/cache-container=web/:read-resource(recursive=false,proxies=false,include-runtime=false,include-defaults=true)</pre><div class="para">
					If the result is <code class="literal">success</code> the subsystem is present. Otherwise, you need to add it.
				</div></div></div><div class="example"><a id="idp35786320">
      ⁠</a><p class="title"><strong>Example&nbsp;17.2.&nbsp;Add the <code class="code">web</code> cache-container</strong></p><div class="example-contents"><div class="para">
					Use the following three commands to enable the <code class="code">web</code> cache-container to your configuration. Modify the name of the profile as appropriate, as well as the other parameters. The parameters here are the ones used in a default configuration.
				</div><pre class="screen">/profile=ha/subsystem=infinispan/cache-container=web:add(aliases=["standard-session-cache"],default-cache="repl",module="org.jboss.as.clustering.web.infinispan")</pre><pre class="screen">/profile=ha/subsystem=infinispan/cache-container=web/transport=TRANSPORT:add(lock-timeout=60000)</pre><pre class="screen">/profile=ha/subsystem=infinispan/cache-container=web/replicated-cache=repl:add(mode="ASYNC",batching=true)</pre></div></div><div class="example"><a id="idm4757728">
      ⁠</a><p class="title"><strong>Example&nbsp;17.3.&nbsp;Check for the <code class="code">SSO</code> replicated-cache</strong></p><div class="example-contents"><div class="para">
					Run the following Management CLI command:
				</div><pre class="screen">/profile=ha/subsystem=infinispan/cache-container=web/:read-resource(recursive=true,proxies=false,include-runtime=false,include-defaults=true)</pre><div class="para">
					Look for output like the following: <code class="code">"sso" =&gt; {</code>
				</div><div class="para">
					If you do not find it, the SSO replicated-cache is not present in your configuration.
				</div></div></div><div class="example"><a id="idp98720224">
      ⁠</a><p class="title"><strong>Example&nbsp;17.4.&nbsp;Add the <code class="code">SSO</code> replicated-cache</strong></p><div class="example-contents"><pre class="screen">/profile=ha/subsystem=infinispan/cache-container=web/replicated-cache=sso:add(mode="SYNC", batching=true)</pre></div></div></li><li class="listitem"><div class="para">
				The <code class="code">web</code> subsystem needs to be configured to use SSO. The following command enables SSO on the virtual server called <code class="literal">default-host</code>, and the cookie domain <code class="literal">domain.com</code>. The cache name is <code class="literal">sso</code>, and reauthentication is disabled.
			</div><pre class="screen">/profile=ha/subsystem=web/virtual-server=<em class="replaceable">default-host</em>/sso=configuration:add(cache-container="web",cache-name=<em class="replaceable">"sso"</em>,reauthenticate=<em class="replaceable">"false"</em>,domain=<em class="replaceable">"domain.com"</em>)</pre></li><li class="listitem"><div class="para">
				Each application which will share the SSO information must be configured to use the same &lt;security-domain&gt; in its <code class="filename">jboss-web.xml</code> deployment descriptor and the same Realm in its <code class="filename">web.xml</code> configuration file.
			</div></li></ul></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Configure Clustered or Non-Clustered SSO</div>
			Configure <code class="code">sso</code> under the web subsystem in the server profile. The <code class="code">ClusteredSingleSignOn</code> version is used when attribute <code class="code">cache-container</code> is present, otherwise standard <code class="code">SingleSignOn</code> class is used.
		</div><div class="example"><a id="idp11877392">
      ⁠</a><p class="title"><strong>Example&nbsp;17.5.&nbsp;Example Clustered SSO Configuration</strong></p><div class="example-contents"><pre class="screen">/subsystem=web/virtual-server=<em class="replaceable">default-host</em>/sso=configuration:add(cache-container="web",cache-name="sso",reauthenticate="<em class="replaceable">false</em>",domain="<em class="replaceable">domain.com</em>")</pre></div></div><div class="example"><a id="idp27727680">
      ⁠</a><p class="title"><strong>Example&nbsp;17.6.&nbsp;Example Non-Clustered SSO Configuration</strong></p><div class="example-contents"><pre class="screen">/subsystem=web/virtual-server=<em class="replaceable">default-host</em>/sso=configuration:add(reauthenticate="<em class="replaceable">false</em>")</pre></div></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Invalidate a Session</div>
			An application can programmatically invalidate a session by invoking method <code class="code">javax.servlet.http.HttpSession.invalidate()</code>.
		</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4695-719856+%5BLatest%5D&comment=Title%3A+Use+Single+Sign+On+%28SSO%29+In+A+Web+Application%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4695-719856+29+Oct+2014+15%3A40+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="About_Kerberos">
      ⁠</a>17.5.&nbsp;About Kerberos</h2></div></div></div><div class="para">
		Kerberos is a network authentication protocol for client/server applications. It allows authentication across a non-secure network in a secure way, using secret-key symmetric cryptography.
	</div><div class="para">
		Kerberos uses security tokens called tickets. To use a secured service, you need to obtain a ticket from the Ticket Granting Service (TGS), which is a service running on a server on your network. After obtaining the ticket, you request a Service Ticket (ST) from an Authentication Service (AS), which is another service running on your network. You then use the ST to authenticate to the service you want to use. The TGS and the AS both run inside an enclosing service called the Key Distribution Center (KDC).
	</div><div class="para">
		Kerberos is designed to be used in a client-server environment, and is rarely used in Web applications or thin client environments. However, many organizations already use a Kerberos system for desktop authentication, and prefer to reuse their existing system rather than create a second one for their Web Applications. Kerberos is an integral part of Microsoft Active Directory, and is also used in many Red Hat Enterprise Linux environments.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+7816-591807+%5BLatest%5D&comment=Title%3A+About+Kerberos%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=7816-591807+24+Feb+2014+07%3A55+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="About_SPNEGO">
      ⁠</a>17.6.&nbsp;About SPNEGO</h2></div></div></div><div class="para">
		Simple and Protected GSS_API Negotiation Mechanism (SPNEGO) provides a mechanism for extending a Kerberos-based Single Sign On (SSO) environment for use in Web applications.
	</div><div class="para">
		When an application on a client computer, such as a web browser, attempts to access a protect page on the web server, the server responds that authorization is required. The application then requests a service ticket from the Kerberos Key Distribution Center (KDC). After the ticket is obtained, the application wraps it in a request formatted for SPNEGO, and sends it back to the Web application, via the browser. The web container running the deployed Web application unpacks the request and authenticates the ticket. Upon successful authentication, access is granted.
	</div><div class="para">
		SPNEGO works with all types of Kerberos providers, including the Kerberos service included in Red Hat Enterprise Linux and the Kerberos server which is an integral part of Microsoft Active Directory.
	</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+7817-591807+%5BLatest%5D&comment=Title%3A+About+SPNEGO%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=7817-591807+24+Feb+2014+07%3A55+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="About_Microsoft_Active_Directory">
      ⁠</a>17.7.&nbsp;About Microsoft Active Directory</h2></div></div></div><div class="para">
		Microsoft Active Directory is a directory service developed by Microsoft to authenticate users and computers in a Microsoft Windows domain. It is included as part of Microsoft Windows Server. The computer in the Microsoft Windows Server is referred to as the domain controller. Red Hat Enterprise Linux servers running the Samba service can also act as the domain controller in this type of network.
	</div><div class="para">
		Active Directory relies on three core technologies which work together:
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
				Lightweight Directory Access Protocol (LDAP), for storing information about users, computers, passwords, and other resources.
			</div></li><li class="listitem"><div class="para">
				Kerberos, for providing secure authentication over the network.
			</div></li><li class="listitem"><div class="para">
				Domain Name Service (DNS) for providing mappings between IP addresses and host names of computers and other devices on the network.
			</div></li></ul></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+7818-591807+%5BLatest%5D&comment=Title%3A+About+Microsoft+Active+Directory%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=7818-591807+24+Feb+2014+07%3A55+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="Configure_Kerberos_or_Microsoft_Active_Directory_Desktop_SSO_for_Web_Applications">
      ⁠</a>17.8.&nbsp;Configure Kerberos or Microsoft Active Directory Desktop SSO for Web Applications</h2></div></div></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Introduction</div>
			To authenticate your web or EJB applications using your organization's existing Kerberos-based authentication and authorization infrastructure, such as Microsoft Active Directory, you can use the JBoss Negotiation capabilities built into JBoss EAP 6. If you configure your web application properly, a successful desktop or network login is sufficient to transparently authenticate against your web application, so no additional login prompt is required.
		</div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Difference from Previous Versions of the Platform</div>
			There are a few noticeable differences between JBoss EAP 6 and earlier versions:
		</div><div xmlns:d="http://docbook.org/ns/docbook" class="itemizedlist"><ul><li class="listitem"><div class="para">
				Security domains are configured for each profile of a managed domain, or for each standalone server. They are not part of the deployment itself. The security domain a deployment should use is named in the deployment's <code class="filename">jboss-web.xml</code> or <code class="filename">jboss-ejb3.xml</code> file.
			</div></li><li class="listitem"><div class="para">
				Security properties are configured as part of a security domain. They are not part of the deployment.
			</div></li><li class="listitem"><div class="para">
				You can no longer override the authenticators as part of your deployment. However, you can add a NegotiationAuthenticator valve to your <code class="filename">jboss-web.xml</code> descriptor to achieve the same effect. The valve still requires the <code class="sgmltag-element">&lt;security-constraint&gt;</code> and <code class="sgmltag-element">&lt;login-config&gt;</code> elements to be defined in the <code class="filename">web.xml</code>. These are used to decide which resources are secured. However, the chosen auth-method will be overridden by the NegotiationAuthenticator valve in the <code class="filename">jboss-web.xml</code>.
			</div></li><li class="listitem"><div class="para">
				The <code class="literal">CODE</code> attributes in security domains now use a simple name instead of a fully-qualified class name. The following table shows the mappings between the classes used for JBoss Negotiation, and their classes.
			</div></li></ul></div><div class="table"><a id="idp26564704">
      ⁠</a><p class="title"><strong>Table&nbsp;17.1.&nbsp;Login Module Codes and Class Names</strong></p><div class="table-contents"><table xmlns:d="http://docbook.org/ns/docbook" class="lt-4-cols lt-7-rows" summary="Login Module Codes and Class Names"><colgroup><col width="20%" align="left" class="c1"><col width="40%" align="left" class="c2"><col width="40%" align="left" class="c3"></colgroup><thead><tr><th align="left"> Simple Name </th><th align="left"> Class Name </th><th align="left"> Purpose </th></tr></thead><tbody><tr><td align="left"> Kerberos </td><td align="left"> <div class="para">
						com.sun.security.auth.module.Krb5LoginModule
					</div>
					 <div class="para">

					</div>
					 <div class="para">
						com.ibm.security.auth.module.Krb5LoginModule
					</div>
					 </td><td align="left"> <div class="para">
						Kerberos login module when using the Oracle JDK
					</div>
					 <div class="para">

					</div>
					 <div class="para">
						Kerberos login module when using the IBM JDK
					</div>
					 </td></tr><tr><td align="left"> SPNEGO </td><td align="left"> org.jboss.security.negotiation.spnego.SPNEGOLoginModule </td><td align="left"> The mechanism which enables your Web applications to authenticate to your Kerberos authentication server. </td></tr><tr><td align="left"> AdvancedLdap </td><td align="left"> org.jboss.security.negotiation.AdvancedLdapLoginModule </td><td align="left"> Used with LDAP servers other than Microsoft Active Directory. </td></tr><tr><td align="left"> AdvancedAdLdap </td><td align="left"> org.jboss.security.negotiation.AdvancedADLoginModule </td><td align="left"> Used with Microsoft Active Directory LDAP servers. </td></tr></tbody></table></div></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">JBoss Negotiation Toolkit</div>
			The <code class="filename">JBoss Negotiation Toolkit</code> is a debugging tool which is available for download from <a href="https://community.jboss.org/servlet/JiveServlet/download/16876-2-34629/jboss-negotiation-toolkit.war">https://community.jboss.org/servlet/JiveServlet/download/16876-2-34629/jboss-negotiation-toolkit.war</a>. It is provided as an extra tool to help you to debug and test the authentication mechanisms before introducing your application into production. It is an unsupported tool, but is considered to be very helpful, as SPNEGO can be difficult to configure for web applications.
		</div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idp12139248">
      ⁠</a><p class="title"><strong>Procedure&nbsp;17.1.&nbsp;Setup SSO Authentication for your Web or EJB Applications</strong></p><ol class="1"><li class="step"><p class="title"><strong>Configure one security domain to represent the identity of the server. Set system properties if necessary.</strong></p><div class="para">
				The first security domain authenticates the container itself to the directory service. It needs to use a login module which accepts some type of static login mechanism, because a real user is not involved. This example uses a static principal and references a keytab file which contains the credential.
			</div><div class="para">
				The XML code is given here for clarity, but you should use the Management Console or Management CLI to configure your security domains.
			</div><pre class="programlisting XML"><span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;security-domain</span><span xmlns="" class="perl_Others"> name=</span><span xmlns="" class="perl_String">"host"</span><span xmlns="" class="perl_Others"> cache-type=</span><span xmlns="" class="perl_String">"default"</span><span xmlns="" class="perl_Keyword">&gt;</span>
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">&lt;authentication&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;login-module</span><span xmlns="" class="perl_Others"> code=</span><span xmlns="" class="perl_String">"Kerberos"</span><span xmlns="" class="perl_Others"> flag=</span><span xmlns="" class="perl_String">"required"</span><span xmlns="" class="perl_Keyword">&gt;</span>
<span xmlns="" class="line">​</span>         <span xmlns="" class="perl_Keyword">&lt;module-option</span><span xmlns="" class="perl_Others"> name=</span><span xmlns="" class="perl_String">"storeKey"</span><span xmlns="" class="perl_Others"> value=</span><span xmlns="" class="perl_String">"true"</span><span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span>         <span xmlns="" class="perl_Keyword">&lt;module-option</span><span xmlns="" class="perl_Others"> name=</span><span xmlns="" class="perl_String">"useKeyTab"</span><span xmlns="" class="perl_Others"> value=</span><span xmlns="" class="perl_String">"true"</span><span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span>         <span xmlns="" class="perl_Keyword">&lt;module-option</span><span xmlns="" class="perl_Others"> name=</span><span xmlns="" class="perl_String">"principal"</span><span xmlns="" class="perl_Others"> value=</span><span xmlns="" class="perl_String">"host/testserver@MY_REALM"</span><span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span>         <span xmlns="" class="perl_Keyword">&lt;module-option</span><span xmlns="" class="perl_Others"> name=</span><span xmlns="" class="perl_String">"keyTab"</span><span xmlns="" class="perl_Others"> value=</span><span xmlns="" class="perl_String">"/home/username/service.keytab"</span><span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span>         <span xmlns="" class="perl_Keyword">&lt;module-option</span><span xmlns="" class="perl_Others"> name=</span><span xmlns="" class="perl_String">"doNotPrompt"</span><span xmlns="" class="perl_Others"> value=</span><span xmlns="" class="perl_String">"true"</span><span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span>         <span xmlns="" class="perl_Keyword">&lt;module-option</span><span xmlns="" class="perl_Others"> name=</span><span xmlns="" class="perl_String">"debug"</span><span xmlns="" class="perl_Others"> value=</span><span xmlns="" class="perl_String">"false"</span><span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;/login-module&gt;</span>
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">&lt;/authentication&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;/security-domain&gt;</span></pre></li><li class="step"><p class="title"><strong>Configure a second security domain to secure the web application or applications. Set system properties if necessary.</strong></p><div class="para">
				The second security domain is used to authenticate the individual user to the Kerberos or SPNEGO authentication server. You need at least one login module to authenticate the user, and another to search for the roles to apply to the user. The following XML code shows an example SPNEGO security domain. It includes an authorization module to map roles to individual users. You can also use a module which searches for the roles on the authentication server itself.
			</div><pre class="programlisting XML"><span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;security-domain</span><span xmlns="" class="perl_Others"> name=</span><span xmlns="" class="perl_String">"SPNEGO"</span><span xmlns="" class="perl_Others"> cache-type=</span><span xmlns="" class="perl_String">"default"</span><span xmlns="" class="perl_Keyword">&gt;</span>
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">&lt;authentication&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Comment">&lt;!-- Check the username and password --&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;login-module</span><span xmlns="" class="perl_Others"> code=</span><span xmlns="" class="perl_String">"SPNEGO"</span><span xmlns="" class="perl_Others">  flag=</span><span xmlns="" class="perl_String">"requisite"</span><span xmlns="" class="perl_Keyword">&gt;</span>
<span xmlns="" class="line">​</span>         <span xmlns="" class="perl_Keyword">&lt;module-option</span><span xmlns="" class="perl_Others"> name=</span><span xmlns="" class="perl_String">"password-stacking"</span><span xmlns="" class="perl_Others"> value=</span><span xmlns="" class="perl_String">"useFirstPass"</span><span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span>         <span xmlns="" class="perl_Keyword">&lt;module-option</span><span xmlns="" class="perl_Others"> name=</span><span xmlns="" class="perl_String">"serverSecurityDomain"</span><span xmlns="" class="perl_Others"> value=</span><span xmlns="" class="perl_String">"host"</span><span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;/login-module&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Comment">&lt;!-- Search for roles --&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;login-module</span><span xmlns="" class="perl_Others"> code=</span><span xmlns="" class="perl_String">"UsersRoles"</span><span xmlns="" class="perl_Others"> flag=</span><span xmlns="" class="perl_String">"required"</span><span xmlns="" class="perl_Keyword">&gt;</span>
<span xmlns="" class="line">​</span>         <span xmlns="" class="perl_Keyword">&lt;module-option</span><span xmlns="" class="perl_Others"> name=</span><span xmlns="" class="perl_String">"password-stacking"</span><span xmlns="" class="perl_Others"> value=</span><span xmlns="" class="perl_String">"useFirstPass"</span> <span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span>         <span xmlns="" class="perl_Keyword">&lt;module-option</span><span xmlns="" class="perl_Others"> name=</span><span xmlns="" class="perl_String">"usersProperties"</span><span xmlns="" class="perl_Others"> value=</span><span xmlns="" class="perl_String">"spnego-users.properties"</span> <span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span>         <span xmlns="" class="perl_Keyword">&lt;module-option</span><span xmlns="" class="perl_Others"> name=</span><span xmlns="" class="perl_String">"rolesProperties"</span><span xmlns="" class="perl_Others"> value=</span><span xmlns="" class="perl_String">"spnego-roles.properties"</span> <span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;/login-module&gt;</span> 
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">&lt;/authentication&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;/security-domain&gt;</span></pre></li><li class="step"><p class="title"><strong>Specify the security-constraint and login-config in the <code class="filename">web.xml</code></strong></p><div class="para">
				The <code class="filename">web.xml</code> descriptor contain information about security constraints and login configuration. The following are example values for each.
			</div><pre class="programlisting XML"><span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;security-constraint&gt;</span>
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">&lt;display-name&gt;</span>Security Constraint on Conversation<span xmlns="" class="perl_Keyword">&lt;/display-name&gt;</span>
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">&lt;web-resource-collection&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;web-resource-name&gt;</span>examplesWebApp<span xmlns="" class="perl_Keyword">&lt;/web-resource-name&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;url-pattern&gt;</span>/*<span xmlns="" class="perl_Keyword">&lt;/url-pattern&gt;</span>
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">&lt;/web-resource-collection&gt;</span>
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">&lt;auth-constraint&gt;</span>
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">&lt;role-name&gt;</span>RequiredRole<span xmlns="" class="perl_Keyword">&lt;/role-name&gt;</span>
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">&lt;/auth-constraint&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;/security-constraint&gt;</span>
<span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;login-config&gt;</span>
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">&lt;auth-method&gt;</span>SPNEGO<span xmlns="" class="perl_Keyword">&lt;/auth-method&gt;</span>
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">&lt;realm-name&gt;</span>SPNEGO<span xmlns="" class="perl_Keyword">&lt;/realm-name&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;/login-config&gt;</span>
<span xmlns="" class="line">​</span> 
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;security-role&gt;</span>
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">&lt;description&gt;</span> role required to log in to the Application<span xmlns="" class="perl_Keyword">&lt;/description&gt;</span>
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">&lt;role-name&gt;</span>RequiredRole<span xmlns="" class="perl_Keyword">&lt;/role-name&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;/security-role&gt;</span></pre></li><li class="step"><p class="title"><strong>Specify the security domain and other settings in the <code class="filename">jboss-web.xml</code> descriptor.</strong></p><div class="para">
				Specify the name of the client-side security domain (the second one in this example) in the <code class="filename">jboss-web.xml</code> descriptor of your deployment, to direct your application to use this security domain.
			</div><div class="para">
				You can no longer override authenticators directly. Instead, you can add the NegotiationAuthenticator as a valve to your <code class="filename">jboss-web.xml</code> descriptor, if you need to. The <code class="sgmltag-element">&lt;jacc-star-role-allow&gt;</code> allows you to use the asterisk (*) character to match multiple role names, and is optional.
			</div><pre class="programlisting XML"><span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;jboss-web&gt;</span>
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">&lt;security-domain&gt;</span>SPNEGO<span xmlns="" class="perl_Keyword">&lt;/security-domain&gt;</span>
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">&lt;valve&gt;</span>
<span xmlns="" class="line">​</span>      <span xmlns="" class="perl_Keyword">&lt;class-name&gt;</span>org.jboss.security.negotiation.NegotiationAuthenticator<span xmlns="" class="perl_Keyword">&lt;/class-name&gt;</span>
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">&lt;/valve&gt;</span>
<span xmlns="" class="line">​</span>   <span xmlns="" class="perl_Keyword">&lt;jacc-star-role-allow&gt;</span>true<span xmlns="" class="perl_Keyword">&lt;/jacc-star-role-allow&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;/jboss-web&gt;</span></pre></li><li class="step"><p class="title"><strong>Add a dependency to your application's <code class="filename">MANIFEST.MF</code>, to locate the Negotiation classes.</strong></p><div class="para">
				The web application needs a dependency on class <code class="code">org.jboss.security.negotiation</code> to be added to the deployment's <code class="filename">META-INF/MANIFEST.MF</code> manifest, in order to locate the JBoss Negotiation classes. The following shows a properly-formatted entry.
			</div><pre class="programlisting">Manifest-Version: 1.0
Build-Jdk: 1.6.0_24
Dependencies: org.jboss.security.negotiation</pre><ul class="stepalternatives">
				<li class="step"><div class="para">
						As an alternative, add a dependency to your application by editing the <code class="filename">META-INF/jboss-deployment-structure.xml</code> file:
					</div><pre class="programlisting XML"><span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;?xml</span> version="1.0" encoding="UTF-8"<span xmlns="" class="perl_Keyword">?&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;jboss-deployment-structure&gt;</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">&lt;deployment&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;dependencies&gt;</span>
<span xmlns="" class="line">​</span>	<span xmlns="" class="perl_Keyword">&lt;module</span><span xmlns="" class="perl_Others"> name=</span><span xmlns="" class="perl_String">'org.jboss.security.negotiation'</span><span xmlns="" class="perl_Keyword">/&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;/dependencies&gt;</span>
<span xmlns="" class="line">​</span>  <span xmlns="" class="perl_Keyword">&lt;/deployment&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;/jboss-deployment-structure&gt;</span></pre></li>

			</ul></li></ol></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Result</div>
			Your web application accepts and authenticates credentials against your Kerberos, Microsoft Active Directory, or other SPNEGO-compatible directory service. If the user runs the application from a system which is already logged into the directory service, and where the required roles are already applied to the user, the web application does not prompt for authentication, and SSO capabilities are achieved.
		</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4937-706229+%5BLatest%5D&comment=Title%3A+Configure+Kerberos+or+Microsoft+Active+Directory+Desktop+SSO+for+Web+Applications%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4937-706229+04+Sep+2014+11%3A40+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="Configure_SPNEGO_Fall_Back_to_Form_Authentication">
      ⁠</a>17.9.&nbsp;Configure SPNEGO Fall Back to Form Authentication</h2></div></div></div><div class="para">
		Follow the procedure below to setup a SPNEGO fall back to form authentication. ⁠
	</div><div xmlns:d="http://docbook.org/ns/docbook" class="procedure"><a id="idp8375104">
      ⁠</a><p class="title"><strong>Procedure&nbsp;17.2.&nbsp;SPNEGO security with fall back to form authentication</strong></p><ol class="1"><li class="step"><p class="title"><strong>Set up SPNEGO</strong></p><div class="para">
				Refer the procedure described in <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Configure_Kerberos_or_Microsoft_Active_Directory_Desktop_SSO_for_Web_Applications">Section&nbsp;17.8, “Configure Kerberos or Microsoft Active Directory Desktop SSO for Web Applications”</a>
			</div></li><li class="step"><p class="title"><strong>Modify <code class="filename">web.xml</code></strong></p><div class="para">
				Add a <code class="literal">login-config</code> element to your application and setup the login and error pages in web.xml: 
<pre class="programlisting">&lt;login-config&gt;
    &lt;auth-method&gt;SPNEGO&lt;/auth-method&gt;
    &lt;realm-name&gt;SPNEGO&lt;/realm-name&gt;
        &lt;form-login-config&gt;
            &lt;form-login-page&gt;/login.jsp&lt;/form-login-page&gt;
            &lt;form-error-page&gt;/error.jsp&lt;/form-error-page&gt;
        &lt;/form-login-config&gt;
   &lt;/login-config&gt;
</pre>

			</div></li><li class="step"><p class="title"><strong>Add web content</strong></p><div class="para">
				Add references of <code class="filename">login.html</code> and <code class="filename">error.html</code> to <code class="filename">web.xml</code>. These files are added to web application archive to the place specified in <code class="filename">form-login-config</code> configuration. For more information refer <em class="citetitle">Enable Form-based Authentication</em> section in the <em class="citetitle">Security Guide</em> for JBoss EAP 6. A typical <code class="filename">login.html</code> looks like this: 
<pre class="programlisting">&lt;html&gt;
    &lt;head&gt;
        &lt;title&gt;Vault Form Authentication&lt;/title&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;h1&gt;Vault Login Page&lt;/h1&gt;
        &lt;p&gt;   
        &lt;form method="post" action="j_security_check"&gt;
        &lt;table&gt;
            &lt;tr&gt;
                &lt;td&gt;Username&lt;/td&gt;&lt;td&gt;-&lt;/td&gt;
                &lt;td&gt;&lt;input type="text" name="j_username"&gt;&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                &lt;td&gt;Password&lt;/td&gt;&lt;td&gt;-&lt;/td&gt;
                &lt;td&gt;&lt;input type="password" name="j_password"&gt;&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                &lt;td colspan="2"&gt;&lt;input type="submit"&gt;&lt;/td&gt;
            &lt;/tr&gt;              
        &lt;/table&gt;
        &lt;/form&gt;
        &lt;/p&gt; 
        &lt;hr&gt;
    &lt;/body&gt;
&lt;/html&gt;
</pre>

			</div></li></ol></div><div xmlns:d="http://docbook.org/ns/docbook" class="note"><div class="admonition_header"><p><strong>Note</strong></p></div><div class="admonition"><div class="para">
			The fallback to FORM logic is only available in the case when no SPNEGO (or NTLM) tokens are present. As a result, a login form is not presented to the browser if the browser sends an NTLM token.
		</div></div></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+35796-681166+%5BLatest%5D&comment=Title%3A+Configure+SPNEGO+Fall+Back+to+Form+Authentication%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=35796-681166+03+Jul+2014+19%3A39+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div></div><div xml:lang="en-US" class="chapter" lang="en-US"><div class="titlepage"><div><div><h1 class="title"><a id="chap-Development_Security_References">
      ⁠</a>Chapter&nbsp;18.&nbsp;Development Security References</h1></div></div></div><div class="toc"><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#jboss-webxml_Configuration_Reference">18.1. jboss-web.xml Configuration Reference</a></span></dt><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#EJB_Security_Parameter_Reference">18.2. EJB Security Parameter Reference</a></span></dt></dl></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="jboss-webxml_Configuration_Reference">
      ⁠</a>18.1.&nbsp;jboss-web.xml Configuration Reference</h2></div></div></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Introduction</div>
			The <code class="filename">jboss-web.xml</code> is a file within your deployment's <code class="filename">WEB-INF</code> directory. It contains configuration information about features the JBoss Web container adds to the Servlet 3.0 specification. Settings specific to the Servlet 3.0 specification are placed into <code class="filename">web.xml</code> in the same directory.
		</div><div class="para">
		The top-level element in the <code class="filename">jboss-web.xml</code> file is the <code class="sgmltag-element">&lt;jboss-web&gt;</code> element.
	</div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">Mapping Global Resources to WAR Requirements</div>
			Many of the available settings map requirements set in the application's <code class="filename">web.xml</code> to local resources. The explanations of the <code class="filename">web.xml</code> settings can be found at <a href="http://docs.oracle.com/cd/E13222_01/wls/docs81/webapp/web_xml.html">http://docs.oracle.com/cd/E13222_01/wls/docs81/webapp/web_xml.html</a>.
		</div><div class="para">
		For instance, if the <code class="filename">web.xml</code> requires <code class="literal">jdbc/MyDataSource</code>, the <code class="filename">jboss-web.xml</code> may map the global datasource <code class="literal">java:/DefaultDS</code> to fulfill this need. The WAR uses the global datasource to fill its need for <code class="literal">jdbc/MyDataSource</code>.
	</div><div class="table"><a id="idp26437392">
      ⁠</a><p class="title"><strong>Table&nbsp;18.1.&nbsp;Common Top-Level Attributes</strong></p><div class="table-contents"><table xmlns:d="http://docbook.org/ns/docbook" class="lt-4-cols gt-14-rows" summary="Common Top-Level Attributes"><colgroup><col width="50%" align="left" class="c1"><col width="50%" align="left" class="c2"></colgroup><thead><tr><th align="left"> Attribute </th><th align="left"> Description </th></tr></thead><tbody><tr><td align="left"> env-entry </td><td align="left"> <div class="para">
						A mapping to an <code class="literal">env-entry</code> required by the <code class="filename">web.xml</code>.
					</div>
					 </td></tr><tr><td align="left"> ejb-ref </td><td align="left"> <div class="para">
						A mapping to an <code class="literal">ejb-ref</code> required by the <code class="filename">web.xml</code>.
					</div>
					 </td></tr><tr><td align="left"> ejb-local-ref </td><td align="left"> <div class="para">
						A mapping to an <code class="literal">ejb-local-ref</code> required by the <code class="filename">web.xml</code>.
					</div>
					 </td></tr><tr><td align="left"> service-ref </td><td align="left"> <div class="para">
						A mapping to a <code class="literal">service-ref</code> required by the <code class="filename">web.xml</code>.
					</div>
					 </td></tr><tr><td align="left"> resource-ref </td><td align="left"> <div class="para">
						A mapping to a <code class="literal">resource-ref</code> required by the <code class="filename">web.xml</code>.
					</div>
					 </td></tr><tr><td align="left"> resource-env-ref </td><td align="left"> <div class="para">
						A mapping to a <code class="literal">resource-env-ref</code> required by the <code class="filename">web.xml</code>.
					</div>
					 </td></tr><tr><td align="left"> message-destination-ref </td><td align="left"> <div class="para">
						A mapping to a <code class="literal">message-destination-ref</code> required by the <code class="filename">web.xml</code>.
					</div>
					 </td></tr><tr><td align="left"> persistence-context-ref </td><td align="left"> <div class="para">
						A mapping to a <code class="literal">persistence-context-ref</code> required by the <code class="filename">web.xml</code>.
					</div>
					 </td></tr><tr><td align="left"> persistence-unit-ref </td><td align="left"> <div class="para">
						A mapping to a <code class="literal">persistence-unit-ref</code> required by the <code class="filename">web.xml</code>.
					</div>
					 </td></tr><tr><td align="left"> post-construct </td><td align="left"> <div class="para">
						A mapping to a <code class="literal">post-context</code> required by the <code class="filename">web.xml</code>.
					</div>
					 </td></tr><tr><td align="left"> pre-destroy </td><td align="left"> <div class="para">
						A mapping to a <code class="literal">pre-destroy</code> required by the <code class="filename">web.xml</code>.
					</div>
					 </td></tr><tr><td align="left"> data-source </td><td align="left"> <div class="para">
						A mapping to a <code class="literal">data-source</code> required by the <code class="filename">web.xml</code>.
					</div>
					 </td></tr><tr><td align="left"> context-root </td><td align="left"> The root context of the application. The default value is the name of the deployment without the <code class="filename">.war</code> suffix. </td></tr><tr><td align="left"> virtual-host </td><td align="left"> The name of the HTTP virtual-host the application accepts requests from. It refers to the contents of the HTTP <code class="literal">Host</code> header. </td></tr><tr><td align="left"> annotation </td><td align="left"> Describes an annotation used by the application. Refer to <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#jboss-web-xml-annotation">&lt;annotation&gt;</a> for more information. </td></tr><tr><td align="left"> listener </td><td align="left"> Describes a listener used by the application. Refer to <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#jboss-web-xml-listener">&lt;listener&gt;</a> for more information. </td></tr><tr><td align="left"> session-config </td><td align="left"> This element fills the same function as the <code class="sgmltag-element">&lt;session-config&gt;</code> element of the <code class="filename">web.xml</code> and is included for compatibility only. </td></tr><tr><td align="left"> valve </td><td align="left"> Describes a valve used by the application. Refer to <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#jboss-web-xml-valve">&lt;valve&gt;</a> for more information. </td></tr><tr><td align="left"> overlay </td><td align="left"> The name of an overlay to add to the application. </td></tr><tr><td align="left"> security-domain </td><td align="left"> The name of the security domain used by the application. The security domain itself is configured in the web-based management console or the management CLI. </td></tr><tr><td align="left"> security-role </td><td align="left"> This element fills the same function as the <code class="sgmltag-element">&lt;security-role&gt;</code> element of the <code class="filename">web.xml</code> and is included for compatibility only. </td></tr><tr><td align="left"> use-jboss-authorization </td><td align="left"> If this element is present and contains the case insensitive value "true", the JBoss web authorization stack is used. If it is not present or contains any value that is not "true", then only the authorization mechanisms specified in the Java Enterprise Edition specifications are used. This element is new to JBoss EAP 6. </td></tr><tr><td align="left"> disable-audit </td><td align="left"> Set this boolean element to <code class="literal">false</code> to enable and <code class="literal">true</code> to disable web auditing. Web security auditing is not part of the Java EE specification. This element is new to JBoss EAP 6. </td></tr><tr><td align="left"> disable-cross-context </td><td align="left"> If <code class="literal">false</code>, the application is able to call another application context. Defaults to <code class="literal">true</code>. </td></tr></tbody></table></div></div><div class="para">
		The following elements each have child elements.
	</div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">&lt;annotation&gt;</div>
			Describes an annotation used by the application. The following table lists the child elements of an <code class="sgmltag-element">&lt;annotation&gt;</code>.
		</div><div class="table"><a id="idp25021616">
      ⁠</a><p class="title"><strong>Table&nbsp;18.2.&nbsp;Annotation Configuration Elements</strong></p><div class="table-contents"><table xmlns:d="http://docbook.org/ns/docbook" class="lt-4-cols lt-7-rows" summary="Annotation Configuration Elements"><colgroup><col width="50%" align="left" class="c1"><col width="50%" align="left" class="c2"></colgroup><thead><tr><th align="left"> Attribute </th><th align="left"> Description </th></tr></thead><tbody><tr><td align="left"> class-name </td><td align="left"> <div class="para">
						Name of the class of the annotation
					</div>
					 </td></tr><tr><td align="left"> servlet-security </td><td align="left"> <div class="para">
						The element, such as <code class="literal">@ServletSecurity</code>, which represents servlet security.
					</div>
					 </td></tr><tr><td align="left"> run-as </td><td align="left"> <div class="para">
						The element, such as <code class="literal">@RunAs</code>, which represents the run-as information.
					</div>
					 </td></tr><tr><td align="left"> multipart-config </td><td align="left"> <div class="para">
						The element, such as <code class="literal">@MultiPart</code>, which represents the multipart-config information.
					</div>
					 </td></tr></tbody></table></div></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">&lt;listener&gt;</div>
			Describes a listener. The following table lists the child elements of a <code class="sgmltag-element">&lt;listener&gt;</code>.
		</div><div class="table"><a id="idp12645840">
      ⁠</a><p class="title"><strong>Table&nbsp;18.3.&nbsp;Listener Configuration Elements</strong></p><div class="table-contents"><table xmlns:d="http://docbook.org/ns/docbook" class="lt-4-cols lt-7-rows" summary="Listener Configuration Elements"><colgroup><col width="50%" align="left" class="c1"><col width="50%" align="left" class="c2"></colgroup><thead><tr><th align="left"> Attribute </th><th align="left"> Description </th></tr></thead><tbody><tr><td align="left"> class-name </td><td align="left"> <div class="para">
						Name of the class of the listener
					</div>
					 </td></tr><tr><td align="left"> listener-type </td><td align="left"> <div class="para">
						List of <code class="literal">condition</code> elements, which indicate what kind of listener to add to the Context of the application. Valid choices are:
					</div>
					 <div class="variablelist"><dl class="variablelist"><dt><span class="term">CONTAINER</span></dt><dd><div class="para">
									Adds a ContainerListener to the Context.
								</div></dd><dt><span class="term">LIFECYCLE</span></dt><dd><div class="para">
									Adds a LifecycleListener to the Context.
								</div></dd><dt><span class="term">SERVLET_INSTANCE</span></dt><dd><div class="para">
									Adds an InstanceListener to the Context.
								</div></dd><dt><span class="term">SERVLET_CONTAINER</span></dt><dd><div class="para">
									Adds a WrapperListener to the Context.
								</div></dd><dt><span class="term">SERVLET_LIFECYCLE</span></dt><dd><div class="para">
									Adds a WrapperLifecycle to the Context.
								</div></dd></dl></div>
					 </td></tr><tr><td align="left"> module </td><td align="left"> <div class="para">
						The name of the module containing the listener class.
					</div>
					 </td></tr><tr><td align="left"> param </td><td align="left"> <div class="para">
						A parameter. Contains two child elements, <code class="sgmltag-element">&lt;param-name&gt;</code> and <code class="sgmltag-element">&lt;param-value&gt;</code>.
					</div>
					 </td></tr></tbody></table></div></div><div class="para"><div xmlns:d="http://docbook.org/ns/docbook" class="title">&lt;valve&gt;</div>
			Describes a valve of the application. Similar to the <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#jboss-web-xml-listener">&lt;listener&gt;</a>, has class-name, module and param elements.
		</div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4928-685358+%5BLatest%5D&comment=Title%3A+jboss-web.xml+Configuration+Reference%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4928-685358+15+Jul+2014+21%3A08+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="EJB_Security_Parameter_Reference">
      ⁠</a>18.2.&nbsp;EJB Security Parameter Reference</h2></div></div></div><div class="table"><a id="table-security-identity">
      ⁠</a><p class="title"><strong>Table&nbsp;18.4.&nbsp;EJB security parameter elements</strong></p><div class="table-contents"><table xmlns:d="http://docbook.org/ns/docbook" class="lt-4-cols lt-7-rows" summary="EJB security parameter elements"><colgroup><col width="50%" align="left" class="c1"><col width="50%" align="left" class="c2"></colgroup><thead><tr><th align="left"> Element </th><th align="left"> Description </th></tr></thead><tbody><tr><td align="left"> <div class="para">
						<code class="sgmltag-element">&lt;security-identity&gt;</code>
					</div>
					 </td><td align="left"> <div class="para">
						Contains child elements pertaining to the security identity of an EJB.
					</div>
					 </td></tr><tr><td align="left"> <div class="para">
						<code class="sgmltag-element">&lt;use-caller-identity /&gt;</code>
					</div>
					 </td><td align="left"> <div class="para">
						Indicates that the EJB uses the same security identity as the caller.
					</div>
					 </td></tr><tr><td align="left"> <div class="para">
						<code class="sgmltag-element">&lt;run-as&gt;</code>
					</div>
					 </td><td align="left"> <div class="para">
						Contains a <code class="sgmltag-element">&lt;role-name&gt;</code> element.
					</div>
					 </td></tr><tr><td align="left"> <div class="para">
						<code class="sgmltag-element">&lt;run-as-principal&gt;</code>
					</div>
					 </td><td align="left"> <div class="para">
						If present, indicates the principal assigned to outgoing calls. If not present, outgoing calls are assigned to a principal named <code class="literal">anonymous</code>.
					</div>
					 </td></tr><tr><td align="left"> <div class="para">
						<code class="sgmltag-element">&lt;role-name&gt;</code>
					</div>
					 </td><td align="left"> <div class="para">
						Specifies the role the EJB should run as.
					</div>
					 </td></tr><tr><td align="left"> <div class="para">
						<code class="sgmltag-element">&lt;description&gt;</code>
					</div>
					 </td><td align="left"> <div class="para">
						Describes the role named in <code class="sgmltag-element">&lt;role-name&gt;</code>
					</div>
					 . </td></tr></tbody></table></div></div><div class="example"><a id="idp16863792">
      ⁠</a><p class="title"><strong>Example&nbsp;18.1.&nbsp;Security identity examples</strong></p><div class="example-contents"><div class="para">
			This example shows each tag described in <a class="xref" href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#table-security-identity">Table&nbsp;18.4, “EJB security parameter elements”</a>. They can also be used inside a <code class="sgmltag-element">&lt;session&gt;</code>.
		</div><pre class="programlisting XML"><span xmlns="" class="line">​</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;ejb-jar&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;enterprise-beans&gt;</span>
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">&lt;session&gt;</span>
<span xmlns="" class="line">​</span>            <span xmlns="" class="perl_Keyword">&lt;ejb-name&gt;</span>ASessionBean<span xmlns="" class="perl_Keyword">&lt;/ejb-name&gt;</span>
<span xmlns="" class="line">​</span>            <span xmlns="" class="perl_Keyword">&lt;security-identity&gt;</span>
<span xmlns="" class="line">​</span>                <span xmlns="" class="perl_Keyword">&lt;use-caller-identity/&gt;</span>
<span xmlns="" class="line">​</span>            <span xmlns="" class="perl_Keyword">&lt;/security-identity&gt;</span>
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">&lt;/session&gt;</span>
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">&lt;session&gt;</span>
<span xmlns="" class="line">​</span>            <span xmlns="" class="perl_Keyword">&lt;ejb-name&gt;</span>RunAsBean<span xmlns="" class="perl_Keyword">&lt;/ejb-name&gt;</span>
<span xmlns="" class="line">​</span>            <span xmlns="" class="perl_Keyword">&lt;security-identity&gt;</span>
<span xmlns="" class="line">​</span>                <span xmlns="" class="perl_Keyword">&lt;run-as&gt;</span>
<span xmlns="" class="line">​</span>                    <span xmlns="" class="perl_Keyword">&lt;description&gt;</span>A private internal role<span xmlns="" class="perl_Keyword">&lt;/description&gt;</span>
<span xmlns="" class="line">​</span>                    <span xmlns="" class="perl_Keyword">&lt;role-name&gt;</span>InternalRole<span xmlns="" class="perl_Keyword">&lt;/role-name&gt;</span>
<span xmlns="" class="line">​</span>                <span xmlns="" class="perl_Keyword">&lt;/run-as&gt;</span>
<span xmlns="" class="line">​</span>            <span xmlns="" class="perl_Keyword">&lt;/security-identity&gt;</span>
<span xmlns="" class="line">​</span>        <span xmlns="" class="perl_Keyword">&lt;/session&gt;</span>
<span xmlns="" class="line">​</span>		  <span xmlns="" class="perl_Keyword">&lt;session&gt;</span>
<span xmlns="" class="line">​</span>			 <span xmlns="" class="perl_Keyword">&lt;ejb-name&gt;</span>RunAsBean<span xmlns="" class="perl_Keyword">&lt;/ejb-name&gt;</span>
<span xmlns="" class="line">​</span>			 <span xmlns="" class="perl_Keyword">&lt;security-identity&gt;</span>
<span xmlns="" class="line">​</span>				<span xmlns="" class="perl_Keyword">&lt;run-as-principal&gt;</span>internal<span xmlns="" class="perl_Keyword">&lt;/run-as-principal&gt;</span>
<span xmlns="" class="line">​</span>			 <span xmlns="" class="perl_Keyword">&lt;/security-identity&gt;</span>
<span xmlns="" class="line">​</span>		  <span xmlns="" class="perl_Keyword">&lt;/session&gt;</span>
<span xmlns="" class="line">​</span>    <span xmlns="" class="perl_Keyword">&lt;/enterprise-beans&gt;</span>
<span xmlns="" class="line">​</span><span xmlns="" class="perl_Keyword">&lt;/ejb-jar&gt;</span>
<span xmlns="" class="line">​</span>		</pre></div></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+5053-591682+%5BLatest%5D&comment=Title%3A+EJB+Security+Parameter+Reference%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=5053-591682+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div></div><div xml:lang="en-US" class="chapter" lang="en-US"><div class="titlepage"><div><div><h1 class="title"><a id="chap-Supplemental_References">
      ⁠</a>Chapter&nbsp;19.&nbsp;Supplemental References</h1></div></div></div><div class="toc"><dl><dt><span class="section"><a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.3/html-single/Development_Guide/#Types_of_Java_Archives">19.1. Types of Java Archives</a></span></dt></dl></div><div xml:lang="en-US" class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="Types_of_Java_Archives">
      ⁠</a>19.1.&nbsp;Types of Java Archives</h2></div></div></div><div class="para">
		JBoss EAP 6 recognizes several different types of archive files. Archive files are used to package deployable services and applications.
	</div><div class="para">
		In general, archive files are Zip archives, with specific file extensions and specific directory structures. If the Zip archive is extracted before being deployed on the application server, it is referred to as an exploded archive. In that case, the directory name still contains the file extension, and the directory structure requirements still apply.
	</div><div class="table"><a id="idp96019376">
      ⁠</a><p class="title"><strong>Table&nbsp;19.1.&nbsp;</strong></p><div class="table-contents"><table xmlns:d="http://docbook.org/ns/docbook" class="gt-4-cols lt-7-rows" summary=""><colgroup><col width="17%" align="left" class="c1"><col width="17%" align="left" class="c2"><col width="33%" align="left" class="c3"><col width="33%" align="left" class="c4"></colgroup><thead><tr><th align="left"> Archive Type </th><th align="left"> Extension </th><th align="left"> Purpose </th><th align="left"> Directory structure requirements </th></tr></thead><tbody><tr><td align="left"> Java Archive </td><td align="left"> .jar </td><td align="left"> Contains Java class libraries. </td><td align="left"> <div class="para">
						<code class="filename">META-INF/MANIFEST.MF</code> file (optional), which specifies information such as which class is the <code class="literal">main</code> class.
					</div>
					 </td></tr><tr><td align="left"> Web Archive </td><td align="left"> .war </td><td align="left"> <div class="para">
						Contains Java Server Pages (JSP) files, servlets, and XML files, in addition to Java classes and libraries. The Web Archive's contents are also referred to as a Web Application.
					</div>
					 </td><td align="left"> <div class="para">
						<code class="filename">WEB-INF/web.xml</code> file, which contains information about the structure of the web application. Other files may also be present in <code class="filename">WEB-INF/</code>.
					</div>
					 </td></tr><tr><td align="left"> Resource Adapter Archive </td><td align="left"> .rar </td><td align="left"> <div class="para">
						The directory structure is specified by the JCA specification.
					</div>
					 </td><td align="left"> <div class="para">
						Contains a Java Connector Architecture (JCA) resource adapter. Also called a connector.
					</div>
					 </td></tr><tr><td rowspan="2" align="left"> Enterprise Archive </td><td rowspan="2" align="left"> .ear </td><td rowspan="2" align="left"> <div class="para">
						Used by Java Enterprise Edition (EE) to package one or more modules into a single archive, so that the modules can be deployed onto the application server simultaneously. Maven and Ant are the most common tools used to build EAR archives.
					</div>
					 </td><td align="left"> <div class="para">
						<code class="filename">META-INF/</code> directory, which contains one or more XML deployment descriptor files.
					</div>
					 </td></tr><tr><td align="left"> <div class="itemizedlist"><div class="para">
							Any of the following types of modules.
						</div><ul><li class="listitem"><div class="para">
								A Web Archive (WAR).
							</div></li><li class="listitem"><div class="para">
								One or more Java Archives (JARs) containing Plain Old Java Objects (POJOs).
							</div></li><li class="listitem"><div class="para">
								One or more Enterprise JavaBean (EJB) modules, containing its own <code class="filename">META-INF/</code> directory. This directory includes descriptors for the persistent classes which are deployed.
							</div></li><li class="listitem"><div class="para">
								One or more Resource Archives (RARs).
							</div></li></ul></div>
					 </td></tr><tr><td align="left"> Service Archive </td><td align="left"> .sar </td><td align="left"> <div class="para">
						Similar to an Enterprise Archive, but specific to the JBoss EAP.
					</div>
					 </td><td align="left"> <div class="para">
						<code class="filename">META-INF/</code> directory containing <code class="filename">jboss-service.xml</code> or <code class="filename">jboss-beans.xml</code> file.
					</div>
					 </td></tr></tbody></table></div></div><div class="para RoleCreateBugPara">
		<a href="https://bugzilla.redhat.com/enter_bug.cgi?cf_environment=Build+Name%3A+22816%2C+Development+Guide-6.3-1%0ABuild+Date%3A+18-11-2014+15%3A56%3A42%0ATopic+ID%3A+4577-591669+%5BLatest%5D&comment=Title%3A+Types+of+Java+Archives%0A%0ADescribe+the+issue%3A%0A%0A%0ASuggestions+for+improvement%3A%0A%0A%0AAdditional+information%3A&cf_build_id=4577-591669+24+Feb+2014+07%3A54+en-US+%5BLatest%5D&product=JBoss+Enterprise+Application+Platform+6&component=Documentation&version=6.3.0">Report a bug</a>
	</div></div></div><div xml:lang="en-US" class="appendix" lang="en-US"><div class="titlepage"><div><div><h1 class="title"><a id="appe-Revision_History"></a>Revision History</h1></div></div></div><div xmlns:d="http://docbook.org/ns/docbook" class="para"><p></p>
		<div class="revhistory"><table summary="Revision History"><tbody><tr><th align="left" valign="top" colspan="3"><strong>Revision History</strong></th></tr><tr><td align="left">Revision 6.3.0-50</td><td align="left">Tuesday November 18 2014</td><td align="left"><span class="author"><span class="firstname">Russell</span> <span class="surname">Dickenson</span></span></td></tr><tr><td align="left" colspan="3">
					<table border="0" summary="Simple list" class="simplelist"><tbody><tr><td> Red Hat JBoss Enterprise Application Platform 6.3.0 Continuous Release </td></tr></tbody></table>

				</td></tr><tr><td align="left">Revision 6.3.0-29</td><td align="left">Friday August 8 2014</td><td align="left"><span class="author"><span class="firstname">Lucas</span> <span class="surname">Costi</span></span></td></tr><tr><td align="left" colspan="3">
					<table border="0" summary="Simple list" class="simplelist"><tbody><tr><td> Red Hat JBoss Enterprise Application Platform 6.3.0 Continuous Release </td></tr></tbody></table>

				</td></tr><tr><td align="left">Revision 6.3.0-28</td><td align="left">Friday July 25 2014</td><td align="left"><span class="author"><span class="firstname">Lucas</span> <span class="surname">Costi</span></span></td></tr><tr><td align="left" colspan="3">
					<table border="0" summary="Simple list" class="simplelist"><tbody><tr><td> Red Hat JBoss Enterprise Application Platform 6.3.0.GA </td></tr></tbody></table>

				</td></tr></tbody></table></div>

	</div></div></div></div></div></div></div></div></div>

						</div>
            		</main>
        		</div>
	<!--googleoff: all-->
	<footer class="footer-main">
		<div class="container footer-top">
			<div class="row">

				<div class="col-sm-2 brand">
					<img src="./JBoss_6_3_files/l_redhat-reverse.png" alt="Red Hat">
				</div><menu class="col-sm-2">
					<h3>Quick Links</h3>
					<ul>
						<li><a class="download-software" href="https://access.redhat.com/downloads/">Downloads</a></li>
						<li><a class="manage-subscriptions" href="https://access.redhat.com/management/subscriptions/#active">Subscriptions</a></li>
						<li><a class="support-cases" href="https://access.redhat.com/support">Support Cases</a></li>
					</ul>
				</menu>

				<menu class="col-sm-2">
					<h3>Help</h3>
					<ul>
						<li><a class="contact-us" href="https://access.redhat.com/support/contact/">Contact Us</a></li>
						<li><a class="login-problems" href="https://access.redhat.com/help/login_assistance">Log-in Assistance</a></li>
						<li><a class="accessibility" href="https://access.redhat.com/help/accessibility/">Accessibility</a></li>
						<li><a class="browser-support-policy" href="https://access.redhat.com/help/browsers/">Browser Support Policy</a></li>
					</ul>
				</menu>

				<menu class="col-sm-2">
					<h3>Site Info</h3>
					<ul>
						<li><a class="recognition" href="https://access.redhat.com/recognition/">Awards and Recognition</a></li>
						<li><a class="colophon" href="https://access.redhat.com/help/colophon/">Colophon</a></li>
						<li><a class="cp-faqs" href="https://access.redhat.com/articles/33844">Customer Portal FAQ</a></li>
					</ul>
				</menu>

				<menu class="col-sm-2">
					<h3>About</h3>
					<ul>
						<li><a href="https://access.redhat.com/subscription-value" class="subscription-value">Red Hat Subscription Value</a></li>
						<li><a href="https://www.redhat.com/about/" class="about-red-hat">About Red Hat</a></li>
					</ul>
				</menu>

				<menu class="col-sm-2">
					<h3>Related Sites</h3>
					<ul>
						<li><a href="https://www.redhat.com/" class="red-hat-com">RedHat.com</a></li>
						<li><a href="https://www.jboss.org/" class="jboss-org">JBoss.org</a></li>
						<li><a href="https://www.openshift.com/" class="openshift-com">OpenShift.com</a></li>
						<li><a href="https://partnercenter.force.com/" class="partner-connect">Red Hat Partner Connect</a></li>
					</ul>
				</menu>

			</div>
		</div>

		<div class="anchor">
			<div class="container">
				<div class="row">
					<div class="col-sm-4 social">
						<a target="_blank" href="http://www.redhat.com/summit/" class="summit"><img src="./JBoss_6_3_files/l_summit.png" alt="Red Hat Summit"></a>
						<a target="_blank" href="https://twitter.com/RedHatSupport" class="sm-icon twitter"><span class="nicon-twitter"></span><span class="offscreen">Twitter</span></a>
						<a target="_blank" href="https://www.facebook.com/RedHatSupport" class="sm-icon facebook"><span class="nicon-facebook"></span><span class="offscreen">Facebook</span></a>
						<a target="_blank" href="https://plus.google.com/100456039940694908045/posts" class="sm-icon googleplus"><span class="nicon-googleplus"></span><span class="offscreen">Google+</span></a>
					</div>
					<div class="col-sm-8 legal">
						<menu class="legal-nav">
							<ul>
								<li><a href="http://www.redhat.com/en/about/privacy-policy" class="privacy-policy">Privacy Policy</a></li>
								<li><a href="https://access.redhat.com/help/terms/" class="terms-of-use">Customer Portal Terms of Use</a></li>
								<li><a href="http://www.redhat.com/en/about/all-policies-guidelines" class="all-policies">All Policies and Guidelines</a></li>
							</ul>
						</menu>							
						<small class="copyright">Copyright © 2015 Red Hat, Inc.
						</small>
					</div>
				</div>
			</div>
		</div>

		
	</footer>
	<!--googleon: all-->
			</div>

	<!--googleoff: all-->
	<!-- SiteCatalyst code version: H.1 Copyright 1997-2009 Omniture, Inc. More info available at http://www.omniture.com -->
	<noscript>
		&lt;a href="http://www.omniture.com" title="Web Analytics"&gt;&lt;img src="https://smtrcs.redhat.com/b/ss/redhatcustomerportal,redhatglobal/1/H.2--NS/0" height="1" width="1" border="0" alt="Omniture" /&gt;&lt;/a&gt;
	</noscript>
	<!--/DO NOT REMOVE/-->
	<!-- End SiteCatalyst code version: H.1 -->
	<!--googleon: all-->
			<script src="./JBoss_6_3_files/respond.min.js" type="text/javascript"></script></body></html>